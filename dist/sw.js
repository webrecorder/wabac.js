/*! sw.js is part of Webrecorder project. Copyright (C) 2020-2021, Webrecorder Software. Licensed under the Affero General Public License v3. */(()=>{var e={1131:(e,t,r)=>{"use strict";t.sc=ue;var s=r(5135);const i=[new Uint8Array([1])],n="0123456789";class a{constructor(e={}){this.blockLength=(0,s.getParametersValue)(e,"blockLength",0),this.error=(0,s.getParametersValue)(e,"error",""),this.warnings=(0,s.getParametersValue)(e,"warnings",[]),this.valueBeforeDecode="valueBeforeDecode"in e?e.valueBeforeDecode.slice(0):new ArrayBuffer(0)}static blockName(){return"baseBlock"}toJSON(){return{blockName:this.constructor.blockName(),blockLength:this.blockLength,error:this.error,warnings:this.warnings,valueBeforeDecode:(0,s.bufferToHexCodes)(this.valueBeforeDecode,0,this.valueBeforeDecode.byteLength)}}}const o=e=>class extends e{constructor(e={}){super(e),this.isHexOnly=(0,s.getParametersValue)(e,"isHexOnly",!1),this.valueHex="valueHex"in e?e.valueHex.slice(0):new ArrayBuffer(0)}static blockName(){return"hexBlock"}fromBER(e,t,r){if(!1===(0,s.checkBufferParams)(this,e,t,r))return-1;return 0===new Uint8Array(e,t,r).length?(this.warnings.push("Zero buffer length"),t):(this.valueHex=e.slice(t,t+r),this.blockLength=r,t+r)}toBER(e=!1){return!0!==this.isHexOnly?(this.error='Flag "isHexOnly" is not set, abort',new ArrayBuffer(0)):!0===e?new ArrayBuffer(this.valueHex.byteLength):this.valueHex.slice(0)}toJSON(){let e={};try{e=super.toJSON()}catch(e){}return e.blockName=this.constructor.blockName(),e.isHexOnly=this.isHexOnly,e.valueHex=(0,s.bufferToHexCodes)(this.valueHex,0,this.valueHex.byteLength),e}};class l extends(o(a)){constructor(e={}){super(),"idBlock"in e?(this.isHexOnly=(0,s.getParametersValue)(e.idBlock,"isHexOnly",!1),this.valueHex=(0,s.getParametersValue)(e.idBlock,"valueHex",new ArrayBuffer(0)),this.tagClass=(0,s.getParametersValue)(e.idBlock,"tagClass",-1),this.tagNumber=(0,s.getParametersValue)(e.idBlock,"tagNumber",-1),this.isConstructed=(0,s.getParametersValue)(e.idBlock,"isConstructed",!1)):(this.tagClass=-1,this.tagNumber=-1,this.isConstructed=!1)}static blockName(){return"identificationBlock"}toBER(e=!1){let t,r,i=0;switch(this.tagClass){case 1:i|=0;break;case 2:i|=64;break;case 3:i|=128;break;case 4:i|=192;break;default:return this.error="Unknown tag class",new ArrayBuffer(0)}if(this.isConstructed&&(i|=32),this.tagNumber<31&&!this.isHexOnly){if(t=new ArrayBuffer(1),r=new Uint8Array(t),!e){let e=this.tagNumber;e&=31,i|=e,r[0]=i}return t}if(!1===this.isHexOnly){const n=(0,s.utilToBase)(this.tagNumber,7),a=new Uint8Array(n),o=n.byteLength;if(t=new ArrayBuffer(o+1),r=new Uint8Array(t),r[0]=31|i,!e){for(let e=0;e<o-1;e++)r[e+1]=128|a[e];r[o]=a[o-1]}return t}if(t=new ArrayBuffer(this.valueHex.byteLength+1),r=new Uint8Array(t),r[0]=31|i,!1===e){const e=new Uint8Array(this.valueHex);for(let t=0;t<e.length-1;t++)r[t+1]=128|e[t];r[this.valueHex.byteLength]=e[e.length-1]}return t}fromBER(e,t,r){if(!1===(0,s.checkBufferParams)(this,e,t,r))return-1;const i=new Uint8Array(e,t,r);if(0===i.length)return this.error="Zero buffer length",-1;switch(192&i[0]){case 0:this.tagClass=1;break;case 64:this.tagClass=2;break;case 128:this.tagClass=3;break;case 192:this.tagClass=4;break;default:return this.error="Unknown tag class",-1}this.isConstructed=32==(32&i[0]),this.isHexOnly=!1;const n=31&i[0];if(31!==n)this.tagNumber=n,this.blockLength=1;else{let e=1;this.valueHex=new ArrayBuffer(255);let t=255,r=new Uint8Array(this.valueHex);for(;128&i[e];){if(r[e-1]=127&i[e],e++,e>=i.length)return this.error="End of input reached before message was fully decoded",-1;if(e===t){t+=255;const e=new ArrayBuffer(t),s=new Uint8Array(e);for(let e=0;e<r.length;e++)s[e]=r[e];this.valueHex=new ArrayBuffer(t),r=new Uint8Array(this.valueHex)}}this.blockLength=e+1,r[e-1]=127&i[e];const n=new ArrayBuffer(e),a=new Uint8Array(n);for(let t=0;t<e;t++)a[t]=r[t];this.valueHex=new ArrayBuffer(e),r=new Uint8Array(this.valueHex),r.set(a),this.blockLength<=9?this.tagNumber=(0,s.utilFromBase)(r,7):(this.isHexOnly=!0,this.warnings.push("Tag too long, represented as hex-coded"))}if(1===this.tagClass&&this.isConstructed)switch(this.tagNumber){case 1:case 2:case 5:case 6:case 9:case 13:case 14:case 23:case 24:case 31:case 32:case 33:case 34:return this.error="Constructed encoding used for primitive type",-1}return t+this.blockLength}toJSON(){let e={};try{e=super.toJSON()}catch(e){}return e.blockName=this.constructor.blockName(),e.tagClass=this.tagClass,e.tagNumber=this.tagNumber,e.isConstructed=this.isConstructed,e}}class c extends a{constructor(e={}){super(),"lenBlock"in e?(this.isIndefiniteForm=(0,s.getParametersValue)(e.lenBlock,"isIndefiniteForm",!1),this.longFormUsed=(0,s.getParametersValue)(e.lenBlock,"longFormUsed",!1),this.length=(0,s.getParametersValue)(e.lenBlock,"length",0)):(this.isIndefiniteForm=!1,this.longFormUsed=!1,this.length=0)}static blockName(){return"lengthBlock"}fromBER(e,t,r){if(!1===(0,s.checkBufferParams)(this,e,t,r))return-1;const i=new Uint8Array(e,t,r);if(0===i.length)return this.error="Zero buffer length",-1;if(255===i[0])return this.error="Length block 0xFF is reserved by standard",-1;if(this.isIndefiniteForm=128===i[0],!0===this.isIndefiniteForm)return this.blockLength=1,t+this.blockLength;if(this.longFormUsed=!!(128&i[0]),!1===this.longFormUsed)return this.length=i[0],this.blockLength=1,t+this.blockLength;const n=127&i[0];if(n>8)return this.error="Too big integer",-1;if(n+1>i.length)return this.error="End of input reached before message was fully decoded",-1;const a=new Uint8Array(n);for(let e=0;e<n;e++)a[e]=i[e+1];return 0===a[n-1]&&this.warnings.push("Needlessly long encoded length"),this.length=(0,s.utilFromBase)(a,8),this.longFormUsed&&this.length<=127&&this.warnings.push("Unneccesary usage of long length form"),this.blockLength=n+1,t+this.blockLength}toBER(e=!1){let t,r;if(this.length>127&&(this.longFormUsed=!0),this.isIndefiniteForm)return t=new ArrayBuffer(1),!1===e&&(r=new Uint8Array(t),r[0]=128),t;if(!0===this.longFormUsed){const i=(0,s.utilToBase)(this.length,8);if(i.byteLength>127)return this.error="Too big length",new ArrayBuffer(0);if(t=new ArrayBuffer(i.byteLength+1),!0===e)return t;const n=new Uint8Array(i);r=new Uint8Array(t),r[0]=128|i.byteLength;for(let e=0;e<i.byteLength;e++)r[e+1]=n[e];return t}return t=new ArrayBuffer(1),!1===e&&(r=new Uint8Array(t),r[0]=this.length),t}toJSON(){let e={};try{e=super.toJSON()}catch(e){}return e.blockName=this.constructor.blockName(),e.isIndefiniteForm=this.isIndefiniteForm,e.longFormUsed=this.longFormUsed,e.length=this.length,e}}class u extends a{constructor(e={}){super(e)}static blockName(){return"valueBlock"}fromBER(e,t,r){throw TypeError('User need to make a specific function in a class which extends "ValueBlock"')}toBER(e=!1){throw TypeError('User need to make a specific function in a class which extends "ValueBlock"')}}class h extends a{constructor(e={},t=u){super(e),"name"in e&&(this.name=e.name),"optional"in e&&(this.optional=e.optional),"primitiveSchema"in e&&(this.primitiveSchema=e.primitiveSchema),this.idBlock=new l(e),this.lenBlock=new c(e),this.valueBlock=new t(e)}static blockName(){return"BaseBlock"}fromBER(e,t,r){const s=this.valueBlock.fromBER(e,t,!0===this.lenBlock.isIndefiniteForm?r:this.lenBlock.length);return-1===s?(this.error=this.valueBlock.error,s):(0===this.idBlock.error.length&&(this.blockLength+=this.idBlock.blockLength),0===this.lenBlock.error.length&&(this.blockLength+=this.lenBlock.blockLength),0===this.valueBlock.error.length&&(this.blockLength+=this.valueBlock.blockLength),s)}toBER(e=!1){let t;const r=this.idBlock.toBER(e),i=this.valueBlock.toBER(!0);this.lenBlock.length=i.byteLength;const n=this.lenBlock.toBER(e);let a;if(t=(0,s.utilConcatBuf)(r,n),a=!1===e?this.valueBlock.toBER(e):new ArrayBuffer(this.lenBlock.length),t=(0,s.utilConcatBuf)(t,a),!0===this.lenBlock.isIndefiniteForm){const r=new ArrayBuffer(2);if(!1===e){const e=new Uint8Array(r);e[0]=0,e[1]=0}t=(0,s.utilConcatBuf)(t,r)}return t}toJSON(){let e={};try{e=super.toJSON()}catch(e){}return e.idBlock=this.idBlock.toJSON(),e.lenBlock=this.lenBlock.toJSON(),e.valueBlock=this.valueBlock.toJSON(),"name"in this&&(e.name=this.name),"optional"in this&&(e.optional=this.optional),"primitiveSchema"in this&&(e.primitiveSchema=this.primitiveSchema.toJSON()),e}}class f extends u{constructor(e={}){super(e),this.valueHex="valueHex"in e?e.valueHex.slice(0):new ArrayBuffer(0),this.isHexOnly=(0,s.getParametersValue)(e,"isHexOnly",!0)}fromBER(e,t,r){if(!1===(0,s.checkBufferParams)(this,e,t,r))return-1;const i=new Uint8Array(e,t,r);if(0===i.length)return this.warnings.push("Zero buffer length"),t;this.valueHex=new ArrayBuffer(i.length);const n=new Uint8Array(this.valueHex);for(let e=0;e<i.length;e++)n[e]=i[e];return this.blockLength=r,t+r}toBER(e=!1){return this.valueHex.slice(0)}static blockName(){return"PrimitiveValueBlock"}toJSON(){let e={};try{e=super.toJSON()}catch(e){}return e.valueHex=(0,s.bufferToHexCodes)(this.valueHex,0,this.valueHex.byteLength),e.isHexOnly=this.isHexOnly,e}}class d extends h{constructor(e={}){super(e,f),this.idBlock.isConstructed=!1}static blockName(){return"PRIMITIVE"}}class m extends u{constructor(e={}){super(e),this.value=(0,s.getParametersValue)(e,"value",[]),this.isIndefiniteForm=(0,s.getParametersValue)(e,"isIndefiniteForm",!1)}fromBER(e,t,r){const i=t,n=r;if(!1===(0,s.checkBufferParams)(this,e,t,r))return-1;if(0===new Uint8Array(e,t,r).length)return this.warnings.push("Zero buffer length"),t;let a=t;for(;o=this.isIndefiniteForm,l=r,(!0===o?1:l)>0;){const t=ce(e,a,r);if(-1===t.offset)return this.error=t.result.error,this.warnings.concat(t.result.warnings),-1;if(a=t.offset,this.blockLength+=t.result.blockLength,r-=t.result.blockLength,this.value.push(t.result),!0===this.isIndefiniteForm&&t.result.constructor.blockName()===w.blockName())break}var o,l;return!0===this.isIndefiniteForm&&(this.value[this.value.length-1].constructor.blockName()===w.blockName()?this.value.pop():this.warnings.push("No EndOfContent block encoded")),this.valueBeforeDecode=e.slice(i,i+n),a}toBER(e=!1){let t=new ArrayBuffer(0);for(let r=0;r<this.value.length;r++){const i=this.value[r].toBER(e);t=(0,s.utilConcatBuf)(t,i)}return t}static blockName(){return"ConstructedValueBlock"}toJSON(){let e={};try{e=super.toJSON()}catch(e){}e.isIndefiniteForm=this.isIndefiniteForm,e.value=[];for(let t=0;t<this.value.length;t++)e.value.push(this.value[t].toJSON());return e}}class p extends h{constructor(e={}){super(e,m),this.idBlock.isConstructed=!0}static blockName(){return"CONSTRUCTED"}fromBER(e,t,r){this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm;const s=this.valueBlock.fromBER(e,t,!0===this.lenBlock.isIndefiniteForm?r:this.lenBlock.length);return-1===s?(this.error=this.valueBlock.error,s):(0===this.idBlock.error.length&&(this.blockLength+=this.idBlock.blockLength),0===this.lenBlock.error.length&&(this.blockLength+=this.lenBlock.blockLength),0===this.valueBlock.error.length&&(this.blockLength+=this.valueBlock.blockLength),s)}}class g extends u{constructor(e={}){super(e)}fromBER(e,t,r){return t}toBER(e=!1){return new ArrayBuffer(0)}static blockName(){return"EndOfContentValueBlock"}}class w extends h{constructor(e={}){super(e,g),this.idBlock.tagClass=1,this.idBlock.tagNumber=0}static blockName(){return"EndOfContent"}}class y extends u{constructor(e={}){if(super(e),this.value=(0,s.getParametersValue)(e,"value",!1),this.isHexOnly=(0,s.getParametersValue)(e,"isHexOnly",!1),"valueHex"in e)this.valueHex=e.valueHex.slice(0);else if(this.valueHex=new ArrayBuffer(1),!0===this.value){new Uint8Array(this.valueHex)[0]=255}}fromBER(e,t,r){if(!1===(0,s.checkBufferParams)(this,e,t,r))return-1;const i=new Uint8Array(e,t,r);r>1&&this.warnings.push("Boolean value encoded in more then 1 octet"),this.isHexOnly=!0,this.valueHex=new ArrayBuffer(i.length);const n=new Uint8Array(this.valueHex);for(let e=0;e<i.length;e++)n[e]=i[e];return 0!==s.utilDecodeTC.call(this)?this.value=!0:this.value=!1,this.blockLength=r,t+r}toBER(e=!1){return this.valueHex}static blockName(){return"BooleanValueBlock"}toJSON(){let e={};try{e=super.toJSON()}catch(e){}return e.value=this.value,e.isHexOnly=this.isHexOnly,e.valueHex=(0,s.bufferToHexCodes)(this.valueHex,0,this.valueHex.byteLength),e}}class b extends h{constructor(e={}){super(e,y),this.idBlock.tagClass=1,this.idBlock.tagNumber=1}static blockName(){return"Boolean"}}class v extends p{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=16}static blockName(){return"Sequence"}}class A extends p{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=17}static blockName(){return"Set"}}class k extends h{constructor(e={}){super(e,a),this.idBlock.tagClass=1,this.idBlock.tagNumber=5}static blockName(){return"Null"}fromBER(e,t,r){return this.lenBlock.length>0&&this.warnings.push("Non-zero length of value block for Null type"),0===this.idBlock.error.length&&(this.blockLength+=this.idBlock.blockLength),0===this.lenBlock.error.length&&(this.blockLength+=this.lenBlock.blockLength),this.blockLength+=r,t+r>e.byteLength?(this.error="End of input reached before message was fully decoded (inconsistent offset and length values)",-1):t+r}toBER(e=!1){const t=new ArrayBuffer(2);if(!0===e)return t;const r=new Uint8Array(t);return r[0]=5,r[1]=0,t}}class _ extends(o(m)){constructor(e={}){super(e),this.isConstructed=(0,s.getParametersValue)(e,"isConstructed",!1)}fromBER(e,t,r){let s=0;if(!0===this.isConstructed){if(this.isHexOnly=!1,s=m.prototype.fromBER.call(this,e,t,r),-1===s)return s;for(let e=0;e<this.value.length;e++){const t=this.value[e].constructor.blockName();if(t===w.blockName()){if(!0===this.isIndefiniteForm)break;return this.error="EndOfContent is unexpected, OCTET STRING may consists of OCTET STRINGs only",-1}if(t!==S.blockName())return this.error="OCTET STRING may consists of OCTET STRINGs only",-1}}else this.isHexOnly=!0,s=super.fromBER(e,t,r),this.blockLength=r;return s}toBER(e=!1){if(!0===this.isConstructed)return m.prototype.toBER.call(this,e);let t=new ArrayBuffer(this.valueHex.byteLength);return!0===e||0===this.valueHex.byteLength||(t=this.valueHex.slice(0)),t}static blockName(){return"OctetStringValueBlock"}toJSON(){let e={};try{e=super.toJSON()}catch(e){}return e.isConstructed=this.isConstructed,e.isHexOnly=this.isHexOnly,e.valueHex=(0,s.bufferToHexCodes)(this.valueHex,0,this.valueHex.byteLength),e}}class S extends h{constructor(e={}){super(e,_),this.idBlock.tagClass=1,this.idBlock.tagNumber=4}fromBER(e,t,r){return this.valueBlock.isConstructed=this.idBlock.isConstructed,this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm,0===r?(0===this.idBlock.error.length&&(this.blockLength+=this.idBlock.blockLength),0===this.lenBlock.error.length&&(this.blockLength+=this.lenBlock.blockLength),t):super.fromBER(e,t,r)}static blockName(){return"OctetString"}isEqual(e){return e instanceof S!=!1&&JSON.stringify(this)===JSON.stringify(e)}}class E extends(o(m)){constructor(e={}){super(e),this.unusedBits=(0,s.getParametersValue)(e,"unusedBits",0),this.isConstructed=(0,s.getParametersValue)(e,"isConstructed",!1),this.blockLength=this.valueHex.byteLength}fromBER(e,t,r){if(0===r)return t;let i=-1;if(!0===this.isConstructed){if(i=m.prototype.fromBER.call(this,e,t,r),-1===i)return i;for(let e=0;e<this.value.length;e++){const t=this.value[e].constructor.blockName();if(t===w.blockName()){if(!0===this.isIndefiniteForm)break;return this.error="EndOfContent is unexpected, BIT STRING may consists of BIT STRINGs only",-1}if(t!==C.blockName())return this.error="BIT STRING may consists of BIT STRINGs only",-1;if(this.unusedBits>0&&this.value[e].valueBlock.unusedBits>0)return this.error='Usign of "unused bits" inside constructive BIT STRING allowed for least one only',-1;if(this.unusedBits=this.value[e].valueBlock.unusedBits,this.unusedBits>7)return this.error="Unused bits for BitString must be in range 0-7",-1}return i}if(!1===(0,s.checkBufferParams)(this,e,t,r))return-1;const n=new Uint8Array(e,t,r);if(this.unusedBits=n[0],this.unusedBits>7)return this.error="Unused bits for BitString must be in range 0-7",-1;this.valueHex=new ArrayBuffer(n.length-1);const a=new Uint8Array(this.valueHex);for(let e=0;e<r-1;e++)a[e]=n[e+1];return this.blockLength=n.length,t+r}toBER(e=!1){if(!0===this.isConstructed)return m.prototype.toBER.call(this,e);if(!0===e)return new ArrayBuffer(this.valueHex.byteLength+1);if(0===this.valueHex.byteLength)return new ArrayBuffer(0);const t=new Uint8Array(this.valueHex),r=new ArrayBuffer(this.valueHex.byteLength+1),s=new Uint8Array(r);s[0]=this.unusedBits;for(let e=0;e<this.valueHex.byteLength;e++)s[e+1]=t[e];return r}static blockName(){return"BitStringValueBlock"}toJSON(){let e={};try{e=super.toJSON()}catch(e){}return e.unusedBits=this.unusedBits,e.isConstructed=this.isConstructed,e.isHexOnly=this.isHexOnly,e.valueHex=(0,s.bufferToHexCodes)(this.valueHex,0,this.valueHex.byteLength),e}}class C extends h{constructor(e={}){super(e,E),this.idBlock.tagClass=1,this.idBlock.tagNumber=3}static blockName(){return"BitString"}fromBER(e,t,r){return 0===r?t:(this.valueBlock.isConstructed=this.idBlock.isConstructed,this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm,super.fromBER(e,t,r))}isEqual(e){return e instanceof C!=!1&&JSON.stringify(this)===JSON.stringify(e)}}class N extends(o(u)){constructor(e={}){super(e),"value"in e&&(this.valueDec=e.value)}set valueHex(e){this._valueHex=e.slice(0),e.byteLength>=4?(this.warnings.push("Too big Integer for decoding, hex only"),this.isHexOnly=!0,this._valueDec=0):(this.isHexOnly=!1,e.byteLength>0&&(this._valueDec=s.utilDecodeTC.call(this)))}get valueHex(){return this._valueHex}set valueDec(e){this._valueDec=e,this.isHexOnly=!1,this._valueHex=(0,s.utilEncodeTC)(e)}get valueDec(){return this._valueDec}fromDER(e,t,r,s=0){const i=this.fromBER(e,t,r);if(-1===i)return i;const n=new Uint8Array(this._valueHex);if(0===n[0]&&0!=(128&n[1])){const e=new ArrayBuffer(this._valueHex.byteLength-1);new Uint8Array(e).set(new Uint8Array(this._valueHex,1,this._valueHex.byteLength-1)),this._valueHex=e.slice(0)}else if(0!==s&&this._valueHex.byteLength<s){s-this._valueHex.byteLength>1&&(s=this._valueHex.byteLength+1);const e=new ArrayBuffer(s);new Uint8Array(e).set(n,s-this._valueHex.byteLength),this._valueHex=e.slice(0)}return i}toDER(e=!1){const t=new Uint8Array(this._valueHex);switch(!0){case 0!=(128&t[0]):{const e=new ArrayBuffer(this._valueHex.byteLength+1),r=new Uint8Array(e);r[0]=0,r.set(t,1),this._valueHex=e.slice(0)}break;case 0===t[0]&&0==(128&t[1]):{const e=new ArrayBuffer(this._valueHex.byteLength-1);new Uint8Array(e).set(new Uint8Array(this._valueHex,1,this._valueHex.byteLength-1)),this._valueHex=e.slice(0)}}return this.toBER(e)}fromBER(e,t,r){const s=super.fromBER(e,t,r);return-1===s?s:(this.blockLength=r,t+r)}toBER(e=!1){return this.valueHex.slice(0)}static blockName(){return"IntegerValueBlock"}toJSON(){let e={};try{e=super.toJSON()}catch(e){}return e.valueDec=this.valueDec,e}toString(){function e(e,t){const r=new Uint8Array([0]);let i=new Uint8Array(e),n=new Uint8Array(t),a=i.slice(0);const o=a.length-1;let l=n.slice(0);const c=l.length-1;let u=0;let h=0;for(let e=c<o?o:c;e>=0;e--,h++){if(!0==h<l.length)u=a[o-h]+l[c-h]+r[0];else u=a[o-h]+r[0];if(r[0]=u/10,!0==h>=a.length)a=(0,s.utilConcatView)(new Uint8Array([u%10]),a);else a[o-h]=u%10}return r[0]>0&&(a=(0,s.utilConcatView)(r,a)),a.slice(0)}function t(e){if(e>=i.length)for(let t=i.length;t<=e;t++){const e=new Uint8Array([0]);let r=i[t-1].slice(0);for(let t=r.length-1;t>=0;t--){const s=new Uint8Array([(r[t]<<1)+e[0]]);e[0]=s[0]/10,r[t]=s[0]%10}e[0]>0&&(r=(0,s.utilConcatView)(e,r)),i.push(r)}return i[e]}function r(e,t){let r=0,s=new Uint8Array(e),i=new Uint8Array(t),n=s.slice(0);const a=n.length-1;let o=i.slice(0);const l=o.length-1;let c,u=0;for(let e=l;e>=0;e--,u++)if(c=n[a-u]-o[l-u]-r,!0==c<0)r=1,n[a-u]=c+10;else r=0,n[a-u]=c;if(r>0)for(let e=a-l+1;e>=0;e--,u++){if(c=n[a-u]-r,!(c<0)){r=0,n[a-u]=c;break}r=1,n[a-u]=c+10}return n.slice()}const a=8*this._valueHex.byteLength-1;let o,l=new Uint8Array(8*this._valueHex.byteLength/3),c=0;const u=new Uint8Array(this._valueHex);let h="",f=!1;for(let s=this._valueHex.byteLength-1;s>=0;s--){o=u[s];for(let s=0;s<8;s++){if(1==(1&o))if(c===a)l=r(t(c),l),h="-";else l=e(l,t(c));c++,o>>=1}}for(let e=0;e<l.length;e++)l[e]&&(f=!0),f&&(h+=n.charAt(l[e]));return!1===f&&(h+=n.charAt(0)),h}}class B extends h{constructor(e={}){super(e,N),this.idBlock.tagClass=1,this.idBlock.tagNumber=2}static blockName(){return"Integer"}isEqual(e){return e instanceof B?this.valueBlock.isHexOnly&&e.valueBlock.isHexOnly?(0,s.isEqualBuffer)(this.valueBlock.valueHex,e.valueBlock.valueHex):this.valueBlock.isHexOnly===e.valueBlock.isHexOnly&&this.valueBlock.valueDec===e.valueBlock.valueDec:e instanceof ArrayBuffer&&(0,s.isEqualBuffer)(this.valueBlock.valueHex,e)}convertToDER(){const e=new B({valueHex:this.valueBlock.valueHex});return e.valueBlock.toDER(),e}convertFromDER(){const e=this.valueBlock.valueHex.byteLength%2?this.valueBlock.valueHex.byteLength+1:this.valueBlock.valueHex.byteLength,t=new B({valueHex:this.valueBlock.valueHex});return t.valueBlock.fromDER(t.valueBlock.valueHex,0,t.valueBlock.valueHex.byteLength,e),t}}class I extends B{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=10}static blockName(){return"Enumerated"}}class x extends(o(a)){constructor(e={}){super(e),this.valueDec=(0,s.getParametersValue)(e,"valueDec",-1),this.isFirstSid=(0,s.getParametersValue)(e,"isFirstSid",!1)}static blockName(){return"sidBlock"}fromBER(e,t,r){if(0===r)return t;if(!1===(0,s.checkBufferParams)(this,e,t,r))return-1;const i=new Uint8Array(e,t,r);this.valueHex=new ArrayBuffer(r);let n=new Uint8Array(this.valueHex);for(let e=0;e<r&&(n[e]=127&i[e],this.blockLength++,0!=(128&i[e]));e++);const a=new ArrayBuffer(this.blockLength),o=new Uint8Array(a);for(let e=0;e<this.blockLength;e++)o[e]=n[e];return this.valueHex=a.slice(0),n=new Uint8Array(this.valueHex),0!=(128&i[this.blockLength-1])?(this.error="End of input reached before message was fully decoded",-1):(0===n[0]&&this.warnings.push("Needlessly long format of SID encoding"),this.blockLength<=8?this.valueDec=(0,s.utilFromBase)(n,7):(this.isHexOnly=!0,this.warnings.push("Too big SID for decoding, hex only")),t+this.blockLength)}toBER(e=!1){let t,r;if(this.isHexOnly){if(!0===e)return new ArrayBuffer(this.valueHex.byteLength);const s=new Uint8Array(this.valueHex);t=new ArrayBuffer(this.blockLength),r=new Uint8Array(t);for(let e=0;e<this.blockLength-1;e++)r[e]=128|s[e];return r[this.blockLength-1]=s[this.blockLength-1],t}const i=(0,s.utilToBase)(this.valueDec,7);if(0===i.byteLength)return this.error="Error during encoding SID value",new ArrayBuffer(0);if(t=new ArrayBuffer(i.byteLength),!1===e){const e=new Uint8Array(i);r=new Uint8Array(t);for(let t=0;t<i.byteLength-1;t++)r[t]=128|e[t];r[i.byteLength-1]=e[i.byteLength-1]}return t}toString(){let e="";if(!0===this.isHexOnly)e=(0,s.bufferToHexCodes)(this.valueHex,0,this.valueHex.byteLength);else if(this.isFirstSid){let t=this.valueDec;this.valueDec<=39?e="0.":this.valueDec<=79?(e="1.",t-=40):(e="2.",t-=80),e+=t.toString()}else e=this.valueDec.toString();return e}toJSON(){let e={};try{e=super.toJSON()}catch(e){}return e.valueDec=this.valueDec,e.isFirstSid=this.isFirstSid,e}}class T extends u{constructor(e={}){super(e),this.fromString((0,s.getParametersValue)(e,"value",""))}fromBER(e,t,r){let s=t;for(;r>0;){const t=new x;if(s=t.fromBER(e,s,r),-1===s)return this.blockLength=0,this.error=t.error,s;0===this.value.length&&(t.isFirstSid=!0),this.blockLength+=t.blockLength,r-=t.blockLength,this.value.push(t)}return s}toBER(e=!1){let t=new ArrayBuffer(0);for(let r=0;r<this.value.length;r++){const i=this.value[r].toBER(e);if(0===i.byteLength)return this.error=this.value[r].error,new ArrayBuffer(0);t=(0,s.utilConcatBuf)(t,i)}return t}fromString(e){this.value=[];let t=0,r=0,s="",i=!1;do{if(r=e.indexOf(".",t),s=-1===r?e.substr(t):e.substr(t,r-t),t=r+1,i){const e=this.value[0];let t=0;switch(e.valueDec){case 0:break;case 1:t=40;break;case 2:t=80;break;default:return this.value=[],!1}const r=parseInt(s,10);if(isNaN(r))return!0;e.valueDec=r+t,i=!1}else{const e=new x;if(e.valueDec=parseInt(s,10),isNaN(e.valueDec))return!0;0===this.value.length&&(e.isFirstSid=!0,i=!0),this.value.push(e)}}while(-1!==r);return!0}toString(){let e="",t=!1;for(let r=0;r<this.value.length;r++){t=this.value[r].isHexOnly;let s=this.value[r].toString();0!==r&&(e=`${e}.`),t?(s=`{${s}}`,this.value[r].isFirstSid?e=`2.{${s} - 80}`:e+=s):e+=s}return e}static blockName(){return"ObjectIdentifierValueBlock"}toJSON(){let e={};try{e=super.toJSON()}catch(e){}e.value=this.toString(),e.sidArray=[];for(let t=0;t<this.value.length;t++)e.sidArray.push(this.value[t].toJSON());return e}}class R extends h{constructor(e={}){super(e,T),this.idBlock.tagClass=1,this.idBlock.tagNumber=6}static blockName(){return"ObjectIdentifier"}}class O extends(o(a)){constructor(e={}){super(e),this.isHexOnly=!0,this.value=""}static blockName(){return"Utf8StringValueBlock"}toJSON(){let e={};try{e=super.toJSON()}catch(e){}return e.value=this.value,e}}class P extends h{constructor(e={}){super(e,O),"value"in e&&this.fromString(e.value),this.idBlock.tagClass=1,this.idBlock.tagNumber=12}static blockName(){return"Utf8String"}fromBER(e,t,r){const s=this.valueBlock.fromBER(e,t,!0===this.lenBlock.isIndefiniteForm?r:this.lenBlock.length);return-1===s?(this.error=this.valueBlock.error,s):(this.fromBuffer(this.valueBlock.valueHex),0===this.idBlock.error.length&&(this.blockLength+=this.idBlock.blockLength),0===this.lenBlock.error.length&&(this.blockLength+=this.lenBlock.blockLength),0===this.valueBlock.error.length&&(this.blockLength+=this.valueBlock.blockLength),s)}fromBuffer(e){this.valueBlock.value=String.fromCharCode.apply(null,new Uint8Array(e));try{this.valueBlock.value=decodeURIComponent(escape(this.valueBlock.value))}catch(e){this.warnings.push(`Error during "decodeURIComponent": ${e}, using raw string`)}}fromString(e){const t=unescape(encodeURIComponent(e)),r=t.length;this.valueBlock.valueHex=new ArrayBuffer(r);const s=new Uint8Array(this.valueBlock.valueHex);for(let e=0;e<r;e++)s[e]=t.charCodeAt(e);this.valueBlock.value=e}}class D extends(o(a)){constructor(e={}){super(e),this.valueDec=(0,s.getParametersValue)(e,"valueDec",-1)}static blockName(){return"relativeSidBlock"}fromBER(e,t,r){if(0===r)return t;if(!1===(0,s.checkBufferParams)(this,e,t,r))return-1;const i=new Uint8Array(e,t,r);this.valueHex=new ArrayBuffer(r);let n=new Uint8Array(this.valueHex);for(let e=0;e<r&&(n[e]=127&i[e],this.blockLength++,0!=(128&i[e]));e++);const a=new ArrayBuffer(this.blockLength),o=new Uint8Array(a);for(let e=0;e<this.blockLength;e++)o[e]=n[e];return this.valueHex=a.slice(0),n=new Uint8Array(this.valueHex),0!=(128&i[this.blockLength-1])?(this.error="End of input reached before message was fully decoded",-1):(0===n[0]&&this.warnings.push("Needlessly long format of SID encoding"),this.blockLength<=8?this.valueDec=(0,s.utilFromBase)(n,7):(this.isHexOnly=!0,this.warnings.push("Too big SID for decoding, hex only")),t+this.blockLength)}toBER(e=!1){let t,r;if(this.isHexOnly){if(!0===e)return new ArrayBuffer(this.valueHex.byteLength);const s=new Uint8Array(this.valueHex);t=new ArrayBuffer(this.blockLength),r=new Uint8Array(t);for(let e=0;e<this.blockLength-1;e++)r[e]=128|s[e];return r[this.blockLength-1]=s[this.blockLength-1],t}const i=(0,s.utilToBase)(this.valueDec,7);if(0===i.byteLength)return this.error="Error during encoding SID value",new ArrayBuffer(0);if(t=new ArrayBuffer(i.byteLength),!1===e){const e=new Uint8Array(i);r=new Uint8Array(t);for(let t=0;t<i.byteLength-1;t++)r[t]=128|e[t];r[i.byteLength-1]=e[i.byteLength-1]}return t}toString(){let e="";return e=!0===this.isHexOnly?(0,s.bufferToHexCodes)(this.valueHex,0,this.valueHex.byteLength):this.valueDec.toString(),e}toJSON(){let e={};try{e=super.toJSON()}catch(e){}return e.valueDec=this.valueDec,e}}class L extends u{constructor(e={}){super(e),this.fromString((0,s.getParametersValue)(e,"value",""))}fromBER(e,t,r){let s=t;for(;r>0;){const t=new D;if(s=t.fromBER(e,s,r),-1===s)return this.blockLength=0,this.error=t.error,s;this.blockLength+=t.blockLength,r-=t.blockLength,this.value.push(t)}return s}toBER(e=!1){let t=new ArrayBuffer(0);for(let r=0;r<this.value.length;r++){const i=this.value[r].toBER(e);if(0===i.byteLength)return this.error=this.value[r].error,new ArrayBuffer(0);t=(0,s.utilConcatBuf)(t,i)}return t}fromString(e){this.value=[];let t=0,r=0,s="";do{r=e.indexOf(".",t),s=-1===r?e.substr(t):e.substr(t,r-t),t=r+1;const i=new D;if(i.valueDec=parseInt(s,10),isNaN(i.valueDec))return!0;this.value.push(i)}while(-1!==r);return!0}toString(){let e="",t=!1;for(let r=0;r<this.value.length;r++){t=this.value[r].isHexOnly;let s=this.value[r].toString();0!==r&&(e=`${e}.`),t?(s=`{${s}}`,e+=s):e+=s}return e}static blockName(){return"RelativeObjectIdentifierValueBlock"}toJSON(){let e={};try{e=super.toJSON()}catch(e){}e.value=this.toString(),e.sidArray=[];for(let t=0;t<this.value.length;t++)e.sidArray.push(this.value[t].toJSON());return e}}class U extends h{constructor(e={}){super(e,L),this.idBlock.tagClass=1,this.idBlock.tagNumber=13}static blockName(){return"RelativeObjectIdentifier"}}class V extends(o(a)){constructor(e={}){super(e),this.isHexOnly=!0,this.value=""}static blockName(){return"BmpStringValueBlock"}toJSON(){let e={};try{e=super.toJSON()}catch(e){}return e.value=this.value,e}}class H extends h{constructor(e={}){super(e,V),"value"in e&&this.fromString(e.value),this.idBlock.tagClass=1,this.idBlock.tagNumber=30}static blockName(){return"BmpString"}fromBER(e,t,r){const s=this.valueBlock.fromBER(e,t,!0===this.lenBlock.isIndefiniteForm?r:this.lenBlock.length);return-1===s?(this.error=this.valueBlock.error,s):(this.fromBuffer(this.valueBlock.valueHex),0===this.idBlock.error.length&&(this.blockLength+=this.idBlock.blockLength),0===this.lenBlock.error.length&&(this.blockLength+=this.lenBlock.blockLength),0===this.valueBlock.error.length&&(this.blockLength+=this.valueBlock.blockLength),s)}fromBuffer(e){const t=e.slice(0),r=new Uint8Array(t);for(let e=0;e<r.length;e+=2){const t=r[e];r[e]=r[e+1],r[e+1]=t}this.valueBlock.value=String.fromCharCode.apply(null,new Uint16Array(t))}fromString(e){const t=e.length;this.valueBlock.valueHex=new ArrayBuffer(2*t);const r=new Uint8Array(this.valueBlock.valueHex);for(let i=0;i<t;i++){const t=(0,s.utilToBase)(e.charCodeAt(i),8),n=new Uint8Array(t);if(n.length>2)continue;const a=2-n.length;for(let e=n.length-1;e>=0;e--)r[2*i+e+a]=n[e]}this.valueBlock.value=e}}class M extends(o(a)){constructor(e={}){super(e),this.isHexOnly=!0,this.value=""}static blockName(){return"UniversalStringValueBlock"}toJSON(){let e={};try{e=super.toJSON()}catch(e){}return e.value=this.value,e}}class F extends h{constructor(e={}){super(e,M),"value"in e&&this.fromString(e.value),this.idBlock.tagClass=1,this.idBlock.tagNumber=28}static blockName(){return"UniversalString"}fromBER(e,t,r){const s=this.valueBlock.fromBER(e,t,!0===this.lenBlock.isIndefiniteForm?r:this.lenBlock.length);return-1===s?(this.error=this.valueBlock.error,s):(this.fromBuffer(this.valueBlock.valueHex),0===this.idBlock.error.length&&(this.blockLength+=this.idBlock.blockLength),0===this.lenBlock.error.length&&(this.blockLength+=this.lenBlock.blockLength),0===this.valueBlock.error.length&&(this.blockLength+=this.valueBlock.blockLength),s)}fromBuffer(e){const t=e.slice(0),r=new Uint8Array(t);for(let e=0;e<r.length;e+=4)r[e]=r[e+3],r[e+1]=r[e+2],r[e+2]=0,r[e+3]=0;this.valueBlock.value=String.fromCharCode.apply(null,new Uint32Array(t))}fromString(e){const t=e.length;this.valueBlock.valueHex=new ArrayBuffer(4*t);const r=new Uint8Array(this.valueBlock.valueHex);for(let i=0;i<t;i++){const t=(0,s.utilToBase)(e.charCodeAt(i),8),n=new Uint8Array(t);if(n.length>4)continue;const a=4-n.length;for(let e=n.length-1;e>=0;e--)r[4*i+e+a]=n[e]}this.valueBlock.value=e}}class W extends(o(a)){constructor(e={}){super(e),this.value="",this.isHexOnly=!0}static blockName(){return"SimpleStringValueBlock"}toJSON(){let e={};try{e=super.toJSON()}catch(e){}return e.value=this.value,e}}class j extends h{constructor(e={}){super(e,W),"value"in e&&this.fromString(e.value)}static blockName(){return"SIMPLESTRING"}fromBER(e,t,r){const s=this.valueBlock.fromBER(e,t,!0===this.lenBlock.isIndefiniteForm?r:this.lenBlock.length);return-1===s?(this.error=this.valueBlock.error,s):(this.fromBuffer(this.valueBlock.valueHex),0===this.idBlock.error.length&&(this.blockLength+=this.idBlock.blockLength),0===this.lenBlock.error.length&&(this.blockLength+=this.lenBlock.blockLength),0===this.valueBlock.error.length&&(this.blockLength+=this.valueBlock.blockLength),s)}fromBuffer(e){this.valueBlock.value=String.fromCharCode.apply(null,new Uint8Array(e))}fromString(e){const t=e.length;this.valueBlock.valueHex=new ArrayBuffer(t);const r=new Uint8Array(this.valueBlock.valueHex);for(let s=0;s<t;s++)r[s]=e.charCodeAt(s);this.valueBlock.value=e}}class q extends j{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=18}static blockName(){return"NumericString"}}class z extends j{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=19}static blockName(){return"PrintableString"}}class K extends j{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=20}static blockName(){return"TeletexString"}}class Q extends j{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=21}static blockName(){return"VideotexString"}}class J extends j{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=22}static blockName(){return"IA5String"}}class G extends j{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=25}static blockName(){return"GraphicString"}}class Z extends j{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=26}static blockName(){return"VisibleString"}}class X extends j{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=27}static blockName(){return"GeneralString"}}class Y extends j{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=29}static blockName(){return"CharacterString"}}class $ extends Z{constructor(e={}){if(super(e),this.year=0,this.month=0,this.day=0,this.hour=0,this.minute=0,this.second=0,"value"in e){this.fromString(e.value),this.valueBlock.valueHex=new ArrayBuffer(e.value.length);const t=new Uint8Array(this.valueBlock.valueHex);for(let r=0;r<e.value.length;r++)t[r]=e.value.charCodeAt(r)}"valueDate"in e&&(this.fromDate(e.valueDate),this.valueBlock.valueHex=this.toBuffer()),this.idBlock.tagClass=1,this.idBlock.tagNumber=23}fromBER(e,t,r){const s=this.valueBlock.fromBER(e,t,!0===this.lenBlock.isIndefiniteForm?r:this.lenBlock.length);return-1===s?(this.error=this.valueBlock.error,s):(this.fromBuffer(this.valueBlock.valueHex),0===this.idBlock.error.length&&(this.blockLength+=this.idBlock.blockLength),0===this.lenBlock.error.length&&(this.blockLength+=this.lenBlock.blockLength),0===this.valueBlock.error.length&&(this.blockLength+=this.valueBlock.blockLength),s)}fromBuffer(e){this.fromString(String.fromCharCode.apply(null,new Uint8Array(e)))}toBuffer(){const e=this.toString(),t=new ArrayBuffer(e.length),r=new Uint8Array(t);for(let t=0;t<e.length;t++)r[t]=e.charCodeAt(t);return t}fromDate(e){this.year=e.getUTCFullYear(),this.month=e.getUTCMonth()+1,this.day=e.getUTCDate(),this.hour=e.getUTCHours(),this.minute=e.getUTCMinutes(),this.second=e.getUTCSeconds()}toDate(){return new Date(Date.UTC(this.year,this.month-1,this.day,this.hour,this.minute,this.second))}fromString(e){const t=/(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})Z/gi.exec(e);if(null===t)return void(this.error="Wrong input string for convertion");const r=parseInt(t[1],10);this.year=r>=50?1900+r:2e3+r,this.month=parseInt(t[2],10),this.day=parseInt(t[3],10),this.hour=parseInt(t[4],10),this.minute=parseInt(t[5],10),this.second=parseInt(t[6],10)}toString(){const e=new Array(7);return e[0]=(0,s.padNumber)(this.year<2e3?this.year-1900:this.year-2e3,2),e[1]=(0,s.padNumber)(this.month,2),e[2]=(0,s.padNumber)(this.day,2),e[3]=(0,s.padNumber)(this.hour,2),e[4]=(0,s.padNumber)(this.minute,2),e[5]=(0,s.padNumber)(this.second,2),e[6]="Z",e.join("")}static blockName(){return"UTCTime"}toJSON(){let e={};try{e=super.toJSON()}catch(e){}return e.year=this.year,e.month=this.month,e.day=this.day,e.hour=this.hour,e.minute=this.minute,e.second=this.second,e}}class ee extends Z{constructor(e={}){if(super(e),this.year=0,this.month=0,this.day=0,this.hour=0,this.minute=0,this.second=0,this.millisecond=0,"value"in e){this.fromString(e.value),this.valueBlock.valueHex=new ArrayBuffer(e.value.length);const t=new Uint8Array(this.valueBlock.valueHex);for(let r=0;r<e.value.length;r++)t[r]=e.value.charCodeAt(r)}"valueDate"in e&&(this.fromDate(e.valueDate),this.valueBlock.valueHex=this.toBuffer()),this.idBlock.tagClass=1,this.idBlock.tagNumber=24}fromBER(e,t,r){const s=this.valueBlock.fromBER(e,t,!0===this.lenBlock.isIndefiniteForm?r:this.lenBlock.length);return-1===s?(this.error=this.valueBlock.error,s):(this.fromBuffer(this.valueBlock.valueHex),0===this.idBlock.error.length&&(this.blockLength+=this.idBlock.blockLength),0===this.lenBlock.error.length&&(this.blockLength+=this.lenBlock.blockLength),0===this.valueBlock.error.length&&(this.blockLength+=this.valueBlock.blockLength),s)}fromBuffer(e){this.fromString(String.fromCharCode.apply(null,new Uint8Array(e)))}toBuffer(){const e=this.toString(),t=new ArrayBuffer(e.length),r=new Uint8Array(t);for(let t=0;t<e.length;t++)r[t]=e.charCodeAt(t);return t}fromDate(e){this.year=e.getUTCFullYear(),this.month=e.getUTCMonth()+1,this.day=e.getUTCDate(),this.hour=e.getUTCHours(),this.minute=e.getUTCMinutes(),this.second=e.getUTCSeconds(),this.millisecond=e.getUTCMilliseconds()}toDate(){return new Date(Date.UTC(this.year,this.month-1,this.day,this.hour,this.minute,this.second,this.millisecond))}fromString(e){let t,r=!1,s="",i="",n=0,a=0,o=0;if("Z"===e[e.length-1])s=e.substr(0,e.length-1),r=!0;else{const t=new Number(e[e.length-1]);if(isNaN(t.valueOf()))throw new Error("Wrong input string for convertion");s=e}if(r){if(-1!==s.indexOf("+"))throw new Error("Wrong input string for convertion");if(-1!==s.indexOf("-"))throw new Error("Wrong input string for convertion")}else{let e=1,t=s.indexOf("+"),r="";if(-1===t&&(t=s.indexOf("-"),e=-1),-1!==t){if(r=s.substr(t+1),s=s.substr(0,t),2!==r.length&&4!==r.length)throw new Error("Wrong input string for convertion");let i=new Number(r.substr(0,2));if(isNaN(i.valueOf()))throw new Error("Wrong input string for convertion");if(a=e*i,4===r.length){if(i=new Number(r.substr(2,2)),isNaN(i.valueOf()))throw new Error("Wrong input string for convertion");o=e*i}}}let l=s.indexOf(".");if(-1===l&&(l=s.indexOf(",")),-1!==l){const e=new Number(`0${s.substr(l)}`);if(isNaN(e.valueOf()))throw new Error("Wrong input string for convertion");n=e.valueOf(),i=s.substr(0,l)}else i=s;switch(!0){case 8===i.length:if(t=/(\d{4})(\d{2})(\d{2})/gi,-1!==l)throw new Error("Wrong input string for convertion");break;case 10===i.length:if(t=/(\d{4})(\d{2})(\d{2})(\d{2})/gi,-1!==l){let e=60*n;this.minute=Math.floor(e),e=60*(e-this.minute),this.second=Math.floor(e),e=1e3*(e-this.second),this.millisecond=Math.floor(e)}break;case 12===i.length:if(t=/(\d{4})(\d{2})(\d{2})(\d{2})(\d{2})/gi,-1!==l){let e=60*n;this.second=Math.floor(e),e=1e3*(e-this.second),this.millisecond=Math.floor(e)}break;case 14===i.length:if(t=/(\d{4})(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})/gi,-1!==l){const e=1e3*n;this.millisecond=Math.floor(e)}break;default:throw new Error("Wrong input string for convertion")}const c=t.exec(i);if(null===c)throw new Error("Wrong input string for convertion");for(let e=1;e<c.length;e++)switch(e){case 1:this.year=parseInt(c[e],10);break;case 2:this.month=parseInt(c[e],10);break;case 3:this.day=parseInt(c[e],10);break;case 4:this.hour=parseInt(c[e],10)+a;break;case 5:this.minute=parseInt(c[e],10)+o;break;case 6:this.second=parseInt(c[e],10);break;default:throw new Error("Wrong input string for convertion")}if(!1===r){const e=new Date(this.year,this.month,this.day,this.hour,this.minute,this.second,this.millisecond);this.year=e.getUTCFullYear(),this.month=e.getUTCMonth(),this.day=e.getUTCDay(),this.hour=e.getUTCHours(),this.minute=e.getUTCMinutes(),this.second=e.getUTCSeconds(),this.millisecond=e.getUTCMilliseconds()}}toString(){const e=[];return e.push((0,s.padNumber)(this.year,4)),e.push((0,s.padNumber)(this.month,2)),e.push((0,s.padNumber)(this.day,2)),e.push((0,s.padNumber)(this.hour,2)),e.push((0,s.padNumber)(this.minute,2)),e.push((0,s.padNumber)(this.second,2)),0!==this.millisecond&&(e.push("."),e.push((0,s.padNumber)(this.millisecond,3))),e.push("Z"),e.join("")}static blockName(){return"GeneralizedTime"}toJSON(){let e={};try{e=super.toJSON()}catch(e){}return e.year=this.year,e.month=this.month,e.day=this.day,e.hour=this.hour,e.minute=this.minute,e.second=this.second,e.millisecond=this.millisecond,e}}class te extends P{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=31}static blockName(){return"DATE"}}class re extends P{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=32}static blockName(){return"TimeOfDay"}}class se extends P{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=33}static blockName(){return"DateTime"}}class ie extends P{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=34}static blockName(){return"Duration"}}class ne extends P{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=14}static blockName(){return"TIME"}}class ae{constructor(e={}){this.value=(0,s.getParametersValue)(e,"value",[]),this.optional=(0,s.getParametersValue)(e,"optional",!1)}}class oe{constructor(e={}){this.name=(0,s.getParametersValue)(e,"name",""),this.optional=(0,s.getParametersValue)(e,"optional",!1)}}class le{constructor(e={}){this.name=(0,s.getParametersValue)(e,"name",""),this.optional=(0,s.getParametersValue)(e,"optional",!1),this.value=(0,s.getParametersValue)(e,"value",new oe),this.local=(0,s.getParametersValue)(e,"local",!1)}}function ce(e,t,r){const i=t;let n=new h({},Object);const o=new a;if(!1===(0,s.checkBufferParams)(o,e,t,r))return n.error=o.error,{offset:-1,result:n};if(0===new Uint8Array(e,t,r).length)return this.error="Zero buffer length",{offset:-1,result:n};let l=n.idBlock.fromBER(e,t,r);if(n.warnings.concat(n.idBlock.warnings),-1===l)return n.error=n.idBlock.error,{offset:-1,result:n};if(t=l,r-=n.idBlock.blockLength,l=n.lenBlock.fromBER(e,t,r),n.warnings.concat(n.lenBlock.warnings),-1===l)return n.error=n.lenBlock.error,{offset:-1,result:n};if(t=l,r-=n.lenBlock.blockLength,!1===n.idBlock.isConstructed&&!0===n.lenBlock.isIndefiniteForm)return n.error="Indefinite length form used for primitive encoding form",{offset:-1,result:n};let c=h;if(1===n.idBlock.tagClass){if(n.idBlock.tagNumber>=37&&!1===n.idBlock.isHexOnly)return n.error="UNIVERSAL 37 and upper tags are reserved by ASN.1 standard",{offset:-1,result:n};switch(n.idBlock.tagNumber){case 0:if(!0===n.idBlock.isConstructed&&n.lenBlock.length>0)return n.error="Type [UNIVERSAL 0] is reserved",{offset:-1,result:n};c=w;break;case 1:c=b;break;case 2:c=B;break;case 3:c=C;break;case 4:c=S;break;case 5:c=k;break;case 6:c=R;break;case 10:c=I;break;case 12:c=P;break;case 13:c=U;break;case 14:c=ne;break;case 15:return n.error="[UNIVERSAL 15] is reserved by ASN.1 standard",{offset:-1,result:n};case 16:c=v;break;case 17:c=A;break;case 18:c=q;break;case 19:c=z;break;case 20:c=K;break;case 21:c=Q;break;case 22:c=J;break;case 23:c=$;break;case 24:c=ee;break;case 25:c=G;break;case 26:c=Z;break;case 27:c=X;break;case 28:c=F;break;case 29:c=Y;break;case 30:c=H;break;case 31:c=te;break;case 32:c=re;break;case 33:c=se;break;case 34:c=ie;break;default:{let s;s=!0===n.idBlock.isConstructed?new p:new d,s.idBlock=n.idBlock,s.lenBlock=n.lenBlock,s.warnings=n.warnings,n=s,l=n.fromBER(e,t,r)}}}else c=!0===n.idBlock.isConstructed?p:d;return n=function(e,t){if(e instanceof t)return e;const r=new t;return r.idBlock=e.idBlock,r.lenBlock=e.lenBlock,r.warnings=e.warnings,r.valueBeforeDecode=e.valueBeforeDecode.slice(0),r}(n,c),l=n.fromBER(e,t,!0===n.lenBlock.isIndefiniteForm?r:n.lenBlock.length),n.valueBeforeDecode=e.slice(i,i+n.blockLength),{offset:l,result:n}}function ue(e){if(0===e.byteLength){const e=new h({},Object);return e.error="Input buffer has zero length",{offset:-1,result:e}}return ce(e,0,e.byteLength)}function he(e,t,r){if(r instanceof ae){const s=!1;for(let s=0;s<r.value.length;s++){if(!0===he(e,t,r.value[s]).verified)return{verified:!0,result:e}}if(!1===s){const e={verified:!1,result:{error:"Wrong values for Choice type"}};return r.hasOwnProperty("name")&&(e.name=r.name),e}}if(r instanceof oe)return r.hasOwnProperty("name")&&(e[r.name]=t),{verified:!0,result:e};if(e instanceof Object==!1)return{verified:!1,result:{error:"Wrong root object"}};if(t instanceof Object==!1)return{verified:!1,result:{error:"Wrong ASN.1 data"}};if(r instanceof Object==!1)return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if("idBlock"in r==!1)return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if("fromBER"in r.idBlock==!1)return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if("toBER"in r.idBlock==!1)return{verified:!1,result:{error:"Wrong ASN.1 schema"}};const s=r.idBlock.toBER(!1);if(0===s.byteLength)return{verified:!1,result:{error:"Error encoding idBlock for ASN.1 schema"}};if(-1===r.idBlock.fromBER(s,0,s.byteLength))return{verified:!1,result:{error:"Error decoding idBlock for ASN.1 schema"}};if(!1===r.idBlock.hasOwnProperty("tagClass"))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(r.idBlock.tagClass!==t.idBlock.tagClass)return{verified:!1,result:e};if(!1===r.idBlock.hasOwnProperty("tagNumber"))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(r.idBlock.tagNumber!==t.idBlock.tagNumber)return{verified:!1,result:e};if(!1===r.idBlock.hasOwnProperty("isConstructed"))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(r.idBlock.isConstructed!==t.idBlock.isConstructed)return{verified:!1,result:e};if("isHexOnly"in r.idBlock==!1)return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(r.idBlock.isHexOnly!==t.idBlock.isHexOnly)return{verified:!1,result:e};if(!0===r.idBlock.isHexOnly){if("valueHex"in r.idBlock==!1)return{verified:!1,result:{error:"Wrong ASN.1 schema"}};const s=new Uint8Array(r.idBlock.valueHex),i=new Uint8Array(t.idBlock.valueHex);if(s.length!==i.length)return{verified:!1,result:e};for(let t=0;t<s.length;t++)if(s[t]!==i[1])return{verified:!1,result:e}}if(r.hasOwnProperty("name")&&(r.name=r.name.replace(/^\s+|\s+$/g,""),""!==r.name&&(e[r.name]=t)),!0===r.idBlock.isConstructed){let s=0,i={verified:!1},n=r.valueBlock.value.length;if(n>0&&r.valueBlock.value[0]instanceof le&&(n=t.valueBlock.value.length),0===n)return{verified:!0,result:e};if(0===t.valueBlock.value.length&&0!==r.valueBlock.value.length){let t=!0;for(let e=0;e<r.valueBlock.value.length;e++)t=t&&(r.valueBlock.value[e].optional||!1);return!0===t?{verified:!0,result:e}:(r.hasOwnProperty("name")&&(r.name=r.name.replace(/^\s+|\s+$/g,""),""!==r.name&&delete e[r.name]),e.error="Inconsistent object length",{verified:!1,result:e})}for(let a=0;a<n;a++)if(a-s>=t.valueBlock.value.length){if(!1===r.valueBlock.value[a].optional){const t={verified:!1,result:e};return e.error="Inconsistent length between ASN.1 data and schema",r.hasOwnProperty("name")&&(r.name=r.name.replace(/^\s+|\s+$/g,""),""!==r.name&&(delete e[r.name],t.name=r.name)),t}}else if(r.valueBlock.value[0]instanceof le){if(i=he(e,t.valueBlock.value[a],r.valueBlock.value[0].value),!1===i.verified){if(!0!==r.valueBlock.value[0].optional)return r.hasOwnProperty("name")&&(r.name=r.name.replace(/^\s+|\s+$/g,""),""!==r.name&&delete e[r.name]),i;s++}if("name"in r.valueBlock.value[0]&&r.valueBlock.value[0].name.length>0){let s={};s="local"in r.valueBlock.value[0]&&!0===r.valueBlock.value[0].local?t:e,void 0===s[r.valueBlock.value[0].name]&&(s[r.valueBlock.value[0].name]=[]),s[r.valueBlock.value[0].name].push(t.valueBlock.value[a])}}else if(i=he(e,t.valueBlock.value[a-s],r.valueBlock.value[a]),!1===i.verified){if(!0!==r.valueBlock.value[a].optional)return r.hasOwnProperty("name")&&(r.name=r.name.replace(/^\s+|\s+$/g,""),""!==r.name&&delete e[r.name]),i;s++}if(!1===i.verified){const t={verified:!1,result:e};return r.hasOwnProperty("name")&&(r.name=r.name.replace(/^\s+|\s+$/g,""),""!==r.name&&(delete e[r.name],t.name=r.name)),t}return{verified:!0,result:e}}if("primitiveSchema"in r&&"valueHex"in t.valueBlock){const s=ue(t.valueBlock.valueHex);if(-1===s.offset){const t={verified:!1,result:s.result};return r.hasOwnProperty("name")&&(r.name=r.name.replace(/^\s+|\s+$/g,""),""!==r.name&&(delete e[r.name],t.name=r.name)),t}return he(e,s.result,r.primitiveSchema)}return{verified:!0,result:e}}},5135:(e,t,r)=>{"use strict";function s(e){return new Date(e.getTime()+6e4*e.getTimezoneOffset())}function i(e,t,r){return e instanceof Object==!1?r:t in e?e[t]:r}function n(e,t=0,r=e.byteLength-t,s=!1){let i="";for(const n of new Uint8Array(e,t,r)){const e=n.toString(16).toUpperCase();1===e.length&&(i+="0"),i+=e,s&&(i+=" ")}return i.trim()}function a(e,t,r,s){return t instanceof ArrayBuffer==!1?(e.error='Wrong parameter: inputBuffer must be "ArrayBuffer"',!1):0===t.byteLength?(e.error="Wrong parameter: inputBuffer has zero length",!1):r<0?(e.error="Wrong parameter: inputOffset less than zero",!1):s<0?(e.error="Wrong parameter: inputLength less than zero",!1):!(t.byteLength-r-s<0)||(e.error="End of input reached before message was fully decoded (inconsistent offset and length values)",!1)}function o(e,t){let r=0;if(1===e.length)return e[0];for(let s=e.length-1;s>=0;s--)r+=e[e.length-1-s]*Math.pow(2,t*s);return r}function l(e,t,r=-1){const s=r;let i=e,n=0,a=Math.pow(2,t);for(let r=1;r<8;r++){if(e<a){let e;if(s<0)e=new ArrayBuffer(r),n=r;else{if(s<r)return new ArrayBuffer(0);e=new ArrayBuffer(s),n=s}const a=new Uint8Array(e);for(let e=r-1;e>=0;e--){const r=Math.pow(2,e*t);a[n-e-1]=Math.floor(i/r),i-=a[n-e-1]*r}return e}a*=Math.pow(2,t)}return new ArrayBuffer(0)}function c(...e){let t=0,r=0;for(const r of e)t+=r.byteLength;const s=new ArrayBuffer(t),i=new Uint8Array(s);for(const t of e)i.set(new Uint8Array(t),r),r+=t.byteLength;return s}function u(...e){let t=0,r=0;for(const r of e)t+=r.length;const s=new ArrayBuffer(t),i=new Uint8Array(s);for(const t of e)i.set(t,r),r+=t.length;return i}function h(){const e=new Uint8Array(this.valueHex);if(this.valueHex.byteLength>=2){const t=255===e[0]&&128&e[1],r=0===e[0]&&0==(128&e[1]);(t||r)&&this.warnings.push("Needlessly long format")}const t=new ArrayBuffer(this.valueHex.byteLength),r=new Uint8Array(t);for(let e=0;e<this.valueHex.byteLength;e++)r[e]=0;r[0]=128&e[0];const s=o(r,8),i=new ArrayBuffer(this.valueHex.byteLength),n=new Uint8Array(i);for(let t=0;t<this.valueHex.byteLength;t++)n[t]=e[t];n[0]&=127;return o(n,8)-s}function f(e){const t=e<0?-1*e:e;let r=128;for(let s=1;s<8;s++){if(t<=r){if(e<0){const e=l(r-t,8,s);return new Uint8Array(e)[0]|=128,e}let i=l(t,8,s),n=new Uint8Array(i);if(128&n[0]){const e=i.slice(0),t=new Uint8Array(e);i=new ArrayBuffer(i.byteLength+1),n=new Uint8Array(i);for(let r=0;r<e.byteLength;r++)n[r+1]=t[r];n[0]=0}return i}r*=Math.pow(2,8)}return new ArrayBuffer(0)}function d(e,t){if(e.byteLength!==t.byteLength)return!1;const r=new Uint8Array(e),s=new Uint8Array(t);for(let e=0;e<r.length;e++)if(r[e]!==s[e])return!1;return!0}function m(e,t){const r=e.toString(10);if(t<r.length)return"";const s=t-r.length,i=new Array(s);for(let e=0;e<s;e++)i[e]="0";return i.join("").concat(r)}r.r(t),r.d(t,{arrayBufferToString:()=>b,bufferToHexCodes:()=>n,checkBufferParams:()=>a,clearProps:()=>_,fromBase64:()=>y,getParametersValue:()=>i,getUTCDate:()=>s,isEqualBuffer:()=>d,nearestPowerOf2:()=>k,padNumber:()=>m,stringToArrayBuffer:()=>v,toBase64:()=>w,utilConcatBuf:()=>c,utilConcatView:()=>u,utilDecodeTC:()=>h,utilEncodeTC:()=>f,utilFromBase:()=>o,utilToBase:()=>l});const p="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=";function w(e,t=!1,r=!1,s=!1){let i=0,n=0,a=0,o="";const l=t?g:p;if(s){let t=0;for(let r=0;r<e.length;r++)if(0!==e.charCodeAt(r)){t=r;break}e=e.slice(t)}for(;i<e.length;){const t=e.charCodeAt(i++);i>=e.length&&(n=1);const s=e.charCodeAt(i++);i>=e.length&&(a=1);const c=e.charCodeAt(i++),u=t>>2,h=(3&t)<<4|s>>4;let f=(15&s)<<2|c>>6,d=63&c;1===n?f=d=64:1===a&&(d=64),o+=r?64===f?`${l.charAt(u)}${l.charAt(h)}`:64===d?`${l.charAt(u)}${l.charAt(h)}${l.charAt(f)}`:`${l.charAt(u)}${l.charAt(h)}${l.charAt(f)}${l.charAt(d)}`:`${l.charAt(u)}${l.charAt(h)}${l.charAt(f)}${l.charAt(d)}`}return o}function y(e,t=!1,r=!1){const s=t?g:p;function i(e){for(let t=0;t<64;t++)if(s.charAt(t)===e)return t;return 64}function n(e){return 64===e?0:e}let a=0,o="";for(;a<e.length;){const t=i(e.charAt(a++)),r=a>=e.length?0:i(e.charAt(a++)),s=a>=e.length?0:i(e.charAt(a++)),l=a>=e.length?0:i(e.charAt(a++)),c=n(t)<<2|n(r)>>4,u=(15&n(r))<<4|n(s)>>2,h=(3&n(s))<<6|n(l);o+=String.fromCharCode(c),64!==s&&(o+=String.fromCharCode(u)),64!==l&&(o+=String.fromCharCode(h))}if(r){let e=-1;for(let t=o.length-1;t>=0;t--)if(0!==o.charCodeAt(t)){e=t;break}o=-1!==e?o.slice(0,e+1):""}return o}function b(e){let t="";const r=new Uint8Array(e);for(const e of r)t+=String.fromCharCode(e);return t}function v(e){const t=e.length,r=new ArrayBuffer(t),s=new Uint8Array(r);for(let r=0;r<t;r++)s[r]=e.charCodeAt(r);return r}const A=Math.log(2);function k(e){const t=Math.log(e)/A,r=Math.floor(t),s=Math.round(t);return r===s?r:s}function _(e,t){for(const r of t)delete e[r]}},9742:(e,t)=>{"use strict";t.byteLength=function(e){var t=l(e),r=t[0],s=t[1];return 3*(r+s)/4-s},t.toByteArray=function(e){var t,r,n=l(e),a=n[0],o=n[1],c=new i(function(e,t,r){return 3*(t+r)/4-r}(0,a,o)),u=0,h=o>0?a-4:a;for(r=0;r<h;r+=4)t=s[e.charCodeAt(r)]<<18|s[e.charCodeAt(r+1)]<<12|s[e.charCodeAt(r+2)]<<6|s[e.charCodeAt(r+3)],c[u++]=t>>16&255,c[u++]=t>>8&255,c[u++]=255&t;2===o&&(t=s[e.charCodeAt(r)]<<2|s[e.charCodeAt(r+1)]>>4,c[u++]=255&t);1===o&&(t=s[e.charCodeAt(r)]<<10|s[e.charCodeAt(r+1)]<<4|s[e.charCodeAt(r+2)]>>2,c[u++]=t>>8&255,c[u++]=255&t);return c},t.fromByteArray=function(e){for(var t,s=e.length,i=s%3,n=[],a=16383,o=0,l=s-i;o<l;o+=a)n.push(c(e,o,o+a>l?l:o+a));1===i?(t=e[s-1],n.push(r[t>>2]+r[t<<4&63]+"==")):2===i&&(t=(e[s-2]<<8)+e[s-1],n.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"="));return n.join("")};for(var r=[],s=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,o=n.length;a<o;++a)r[a]=n[a],s[n.charCodeAt(a)]=a;function l(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function c(e,t,s){for(var i,n,a=[],o=t;o<s;o+=3)i=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(255&e[o+2]),a.push(r[(n=i)>>18&63]+r[n>>12&63]+r[n>>6&63]+r[63&n]);return a.join("")}s["-".charCodeAt(0)]=62,s["_".charCodeAt(0)]=63},4181:e=>{var t=4096,r=new Uint32Array([0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215]);function s(e){this.buf_=new Uint8Array(8224),this.input_=e,this.reset()}s.READ_SIZE=t,s.IBUF_MASK=8191,s.prototype.reset=function(){this.buf_ptr_=0,this.val_=0,this.pos_=0,this.bit_pos_=0,this.bit_end_pos_=0,this.eos_=0,this.readMoreInput();for(var e=0;e<4;e++)this.val_|=this.buf_[this.pos_]<<8*e,++this.pos_;return this.bit_end_pos_>0},s.prototype.readMoreInput=function(){if(!(this.bit_end_pos_>256))if(this.eos_){if(this.bit_pos_>this.bit_end_pos_)throw new Error("Unexpected end of input "+this.bit_pos_+" "+this.bit_end_pos_)}else{var e=this.buf_ptr_,r=this.input_.read(this.buf_,e,t);if(r<0)throw new Error("Unexpected end of input");if(r<t){this.eos_=1;for(var s=0;s<32;s++)this.buf_[e+r+s]=0}if(0===e){for(s=0;s<32;s++)this.buf_[8192+s]=this.buf_[s];this.buf_ptr_=t}else this.buf_ptr_=0;this.bit_end_pos_+=r<<3}},s.prototype.fillBitWindow=function(){for(;this.bit_pos_>=8;)this.val_>>>=8,this.val_|=this.buf_[8191&this.pos_]<<24,++this.pos_,this.bit_pos_=this.bit_pos_-8>>>0,this.bit_end_pos_=this.bit_end_pos_-8>>>0},s.prototype.readBits=function(e){32-this.bit_pos_<e&&this.fillBitWindow();var t=this.val_>>>this.bit_pos_&r[e];return this.bit_pos_+=e,t},e.exports=s},7080:(e,t)=>{t.lookup=new Uint8Array([0,0,0,0,0,0,0,0,0,4,4,0,0,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8,12,16,12,12,20,12,16,24,28,12,12,32,12,36,12,44,44,44,44,44,44,44,44,44,44,32,32,24,40,28,12,12,48,52,52,52,48,52,52,52,48,52,52,52,52,52,48,52,52,52,52,52,48,52,52,52,52,52,24,12,28,12,12,12,56,60,60,60,56,60,60,60,56,60,60,60,60,60,56,60,60,60,60,60,56,60,60,60,60,60,24,12,28,12,0,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,1,1,1,1,1,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,0,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,56,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,6,6,6,6,7,7,7,7,8,8,8,8,9,9,9,9,10,10,10,10,11,11,11,11,12,12,12,12,13,13,13,13,14,14,14,14,15,15,15,15,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,22,22,22,22,23,23,23,23,24,24,24,24,25,25,25,25,26,26,26,26,27,27,27,27,28,28,28,28,29,29,29,29,30,30,30,30,31,31,31,31,32,32,32,32,33,33,33,33,34,34,34,34,35,35,35,35,36,36,36,36,37,37,37,37,38,38,38,38,39,39,39,39,40,40,40,40,41,41,41,41,42,42,42,42,43,43,43,43,44,44,44,44,45,45,45,45,46,46,46,46,47,47,47,47,48,48,48,48,49,49,49,49,50,50,50,50,51,51,51,51,52,52,52,52,53,53,53,53,54,54,54,54,55,55,55,55,56,56,56,56,57,57,57,57,58,58,58,58,59,59,59,59,60,60,60,60,61,61,61,61,62,62,62,62,63,63,63,63,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),t.lookupOffsets=new Uint16Array([1024,1536,1280,1536,0,256,768,512])},6450:(e,t,r)=>{var s=r(6154).g,i=r(6154).j,n=r(4181),a=r(5139),o=r(966).h,l=r(966).g,c=r(7080),u=r(8435),h=r(2973),f=1080,d=new Uint8Array([1,2,3,4,0,5,17,6,16,7,8,9,10,11,12,13,14,15]),m=new Uint8Array([3,2,1,0,3,3,3,3,3,3,2,2,2,2,2,2]),p=new Int8Array([0,0,0,0,-1,1,-2,2,-3,3,-1,1,-2,2,-3,3]),g=new Uint16Array([256,402,436,468,500,534,566,598,630,662,694,726,758,790,822,854,886,920,952,984,1016,1048,1080]);function w(e){var t;return 0===e.readBits(1)?16:(t=e.readBits(3))>0?17+t:(t=e.readBits(3))>0?8+t:17}function y(e){if(e.readBits(1)){var t=e.readBits(3);return 0===t?1:e.readBits(t)+(1<<t)}return 0}function b(){this.meta_block_length=0,this.input_end=0,this.is_uncompressed=0,this.is_metadata=!1}function v(e){var t,r,s,i=new b;if(i.input_end=e.readBits(1),i.input_end&&e.readBits(1))return i;if(7===(t=e.readBits(2)+4)){if(i.is_metadata=!0,0!==e.readBits(1))throw new Error("Invalid reserved bit");if(0===(r=e.readBits(2)))return i;for(s=0;s<r;s++){var n=e.readBits(8);if(s+1===r&&r>1&&0===n)throw new Error("Invalid size byte");i.meta_block_length|=n<<8*s}}else for(s=0;s<t;++s){var a=e.readBits(4);if(s+1===t&&t>4&&0===a)throw new Error("Invalid size nibble");i.meta_block_length|=a<<4*s}return++i.meta_block_length,i.input_end||i.is_metadata||(i.is_uncompressed=e.readBits(1)),i}function A(e,t,r){var s;return r.fillBitWindow(),(s=e[t+=r.val_>>>r.bit_pos_&255].bits-8)>0&&(r.bit_pos_+=8,t+=e[t].value,t+=r.val_>>>r.bit_pos_&(1<<s)-1),r.bit_pos_+=e[t].bits,e[t].value}function k(e,t,r,s){var i,n,a=new Uint8Array(e);if(s.readMoreInput(),1===(n=s.readBits(2))){for(var c=e-1,u=0,h=new Int32Array(4),f=s.readBits(2)+1;c;)c>>=1,++u;for(m=0;m<f;++m)h[m]=s.readBits(u)%e,a[h[m]]=2;switch(a[h[0]]=1,f){case 1:break;case 3:if(h[0]===h[1]||h[0]===h[2]||h[1]===h[2])throw new Error("[ReadHuffmanCode] invalid symbols");break;case 2:if(h[0]===h[1])throw new Error("[ReadHuffmanCode] invalid symbols");a[h[1]]=1;break;case 4:if(h[0]===h[1]||h[0]===h[2]||h[0]===h[3]||h[1]===h[2]||h[1]===h[3]||h[2]===h[3])throw new Error("[ReadHuffmanCode] invalid symbols");s.readBits(1)?(a[h[2]]=3,a[h[3]]=3):a[h[0]]=2}}else{var m,p=new Uint8Array(18),g=32,w=0,y=[new o(2,0),new o(2,4),new o(2,3),new o(3,2),new o(2,0),new o(2,4),new o(2,3),new o(4,1),new o(2,0),new o(2,4),new o(2,3),new o(3,2),new o(2,0),new o(2,4),new o(2,3),new o(4,5)];for(m=n;m<18&&g>0;++m){var b,v=d[m],A=0;s.fillBitWindow(),A+=s.val_>>>s.bit_pos_&15,s.bit_pos_+=y[A].bits,b=y[A].value,p[v]=b,0!==b&&(g-=32>>b,++w)}if(1!==w&&0!==g)throw new Error("[ReadHuffmanCode] invalid num_codes or space");!function(e,t,r,s){for(var i=0,n=8,a=0,c=0,u=32768,h=[],f=0;f<32;f++)h.push(new o(0,0));for(l(h,0,5,e,18);i<t&&u>0;){var d,m=0;if(s.readMoreInput(),s.fillBitWindow(),m+=s.val_>>>s.bit_pos_&31,s.bit_pos_+=h[m].bits,(d=255&h[m].value)<16)a=0,r[i++]=d,0!==d&&(n=d,u-=32768>>d);else{var p,g,w=d-14,y=0;if(16===d&&(y=n),c!==y&&(a=0,c=y),p=a,a>0&&(a-=2,a<<=w),i+(g=(a+=s.readBits(w)+3)-p)>t)throw new Error("[ReadHuffmanCodeLengths] symbol + repeat_delta > num_symbols");for(var b=0;b<g;b++)r[i+b]=c;i+=g,0!==c&&(u-=g<<15-c)}}if(0!==u)throw new Error("[ReadHuffmanCodeLengths] space = "+u);for(;i<t;i++)r[i]=0}(p,e,a,s)}if(0===(i=l(t,r,8,a,e)))throw new Error("[ReadHuffmanCode] BuildHuffmanTable failed: ");return i}function _(e,t,r){var s,i;return s=A(e,t,r),i=u.kBlockLengthPrefixCode[s].nbits,u.kBlockLengthPrefixCode[s].offset+r.readBits(i)}function S(e,t,r){var s;return e<16?(r+=m[e],s=t[r&=3]+p[e]):s=e-16+1,s}function E(e,t){for(var r=e[t],s=t;s;--s)e[s]=e[s-1];e[0]=r}function C(e,t){this.alphabet_size=e,this.num_htrees=t,this.codes=new Array(t+t*g[e+31>>>5]),this.htrees=new Uint32Array(t)}function N(e,t){var r,s,i={num_htrees:null,context_map:null},n=0;t.readMoreInput();var a=i.num_htrees=y(t)+1,l=i.context_map=new Uint8Array(e);if(a<=1)return i;for(t.readBits(1)&&(n=t.readBits(4)+1),r=[],s=0;s<f;s++)r[s]=new o(0,0);for(k(a+n,r,0,t),s=0;s<e;){var c;if(t.readMoreInput(),0===(c=A(r,0,t)))l[s]=0,++s;else if(c<=n)for(var u=1+(1<<c)+t.readBits(c);--u;){if(s>=e)throw new Error("[DecodeContextMap] i >= context_map_size");l[s]=0,++s}else l[s]=c-n,++s}return t.readBits(1)&&function(e,t){var r,s=new Uint8Array(256);for(r=0;r<256;++r)s[r]=r;for(r=0;r<t;++r){var i=e[r];e[r]=s[i],i&&E(s,i)}}(l,e),i}function B(e,t,r,s,i,n,a){var o,l=2*r,c=r,u=A(t,r*f,a);(o=0===u?i[l+(1&n[c])]:1===u?i[l+(n[c]-1&1)]+1:u-2)>=e&&(o-=e),s[r]=o,i[l+(1&n[c])]=o,++n[c]}function I(e,t,r,s,i,a){var o,l=i+1,c=r&i,u=a.pos_&n.IBUF_MASK;if(t<8||a.bit_pos_+(t<<3)<a.bit_end_pos_)for(;t-- >0;)a.readMoreInput(),s[c++]=a.readBits(8),c===l&&(e.write(s,l),c=0);else{if(a.bit_end_pos_<32)throw new Error("[CopyUncompressedBlockToOutput] br.bit_end_pos_ < 32");for(;a.bit_pos_<32;)s[c]=a.val_>>>a.bit_pos_,a.bit_pos_+=8,++c,--t;if(u+(o=a.bit_end_pos_-a.bit_pos_>>3)>n.IBUF_MASK){for(var h=n.IBUF_MASK+1-u,f=0;f<h;f++)s[c+f]=a.buf_[u+f];o-=h,c+=h,t-=h,u=0}for(f=0;f<o;f++)s[c+f]=a.buf_[u+f];if(t-=o,(c+=o)>=l){e.write(s,l),c-=l;for(f=0;f<c;f++)s[f]=s[l+f]}for(;c+t>=l;){if(o=l-c,a.input_.read(s,c,o)<o)throw new Error("[CopyUncompressedBlockToOutput] not enough bytes");e.write(s,l),t-=o,c=0}if(a.input_.read(s,c,t)<t)throw new Error("[CopyUncompressedBlockToOutput] not enough bytes");a.reset()}}function x(e){var t=e.bit_pos_+7&-8;return 0==e.readBits(t-e.bit_pos_)}function T(e){var t=new s(e),r=new n(t);return w(r),v(r).meta_block_length}function R(e,t){var r,s,i,l,d,m,p,g,b,E,T=0,R=0,O=0,P=[16,15,11,4],D=0,L=0,U=0,V=[new C(0,0),new C(0,0),new C(0,0)],H=128+n.READ_SIZE;i=(1<<(s=w(E=new n(e))))-16,d=(l=1<<s)-1,m=new Uint8Array(l+H+a.maxDictionaryWordLength),p=l,g=[],b=[];for(var M=0;M<3240;M++)g[M]=new o(0,0),b[M]=new o(0,0);for(;!R;){var F,W,j,q,z,K,Q,J,G,Z,X,Y=0,$=[1<<28,1<<28,1<<28],ee=[0],te=[1,1,1],re=[0,1,0,1,0,1],se=[0],ie=null,ne=null,ae=0,oe=null,le=0,ce=0,ue=0;for(r=0;r<3;++r)V[r].codes=null,V[r].htrees=null;E.readMoreInput();var he=v(E);if(T+(Y=he.meta_block_length)>t.buffer.length){var fe=new Uint8Array(T+Y);fe.set(t.buffer),t.buffer=fe}if(R=he.input_end,F=he.is_uncompressed,he.is_metadata)for(x(E);Y>0;--Y)E.readMoreInput(),E.readBits(8);else if(0!==Y)if(F)E.bit_pos_=E.bit_pos_+7&-8,I(t,Y,T,m,d,E),T+=Y;else{for(r=0;r<3;++r)te[r]=y(E)+1,te[r]>=2&&(k(te[r]+2,g,r*f,E),k(26,b,r*f,E),$[r]=_(b,r*f,E),se[r]=1);for(E.readMoreInput(),q=(1<<(W=E.readBits(2)))-1,z=(j=16+(E.readBits(4)<<W))+(48<<W),ie=new Uint8Array(te[0]),r=0;r<te[0];++r)E.readMoreInput(),ie[r]=E.readBits(2)<<1;var de=N(te[0]<<6,E);Q=de.num_htrees,K=de.context_map;var me=N(te[2]<<2,E);for(G=me.num_htrees,J=me.context_map,V[0]=new C(256,Q),V[1]=new C(704,te[1]),V[2]=new C(z,G),r=0;r<3;++r)V[r].decode(E);for(ne=0,oe=0,Z=ie[ee[0]],ce=c.lookupOffsets[Z],ue=c.lookupOffsets[Z+1],X=V[1].htrees[0];Y>0;){var pe,ge,we,ye,be,ve,Ae,ke,_e,Se,Ee,Ce;for(E.readMoreInput(),0===$[1]&&(B(te[1],g,1,ee,re,se,E),$[1]=_(b,f,E),X=V[1].htrees[ee[1]]),--$[1],(ge=(pe=A(V[1].codes,X,E))>>6)>=2?(ge-=2,Ae=-1):Ae=0,we=u.kInsertRangeLut[ge]+(pe>>3&7),ye=u.kCopyRangeLut[ge]+(7&pe),be=u.kInsertLengthPrefixCode[we].offset+E.readBits(u.kInsertLengthPrefixCode[we].nbits),ve=u.kCopyLengthPrefixCode[ye].offset+E.readBits(u.kCopyLengthPrefixCode[ye].nbits),L=m[T-1&d],U=m[T-2&d],_e=0;_e<be;++_e)E.readMoreInput(),0===$[0]&&(B(te[0],g,0,ee,re,se,E),$[0]=_(b,0,E),ne=ee[0]<<6,Z=ie[ee[0]],ce=c.lookupOffsets[Z],ue=c.lookupOffsets[Z+1]),ae=K[ne+(c.lookup[ce+L]|c.lookup[ue+U])],--$[0],U=L,L=A(V[0].codes,V[0].htrees[ae],E),m[T&d]=L,(T&d)===d&&t.write(m,l),++T;if((Y-=be)<=0)break;if(Ae<0)if(E.readMoreInput(),0===$[2]&&(B(te[2],g,2,ee,re,se,E),$[2]=_(b,2160,E),oe=ee[2]<<2),--$[2],le=J[oe+(255&(ve>4?3:ve-2))],(Ae=A(V[2].codes,V[2].htrees[le],E))>=j)Ce=(Ae-=j)&q,Ae=j+((Ne=(2+(1&(Ae>>=W))<<(Ee=1+(Ae>>1)))-4)+E.readBits(Ee)<<W)+Ce;if((ke=S(Ae,P,D))<0)throw new Error("[BrotliDecompress] invalid distance");if(Se=T&d,ke>(O=T<i&&O!==i?T:i)){if(!(ve>=a.minDictionaryWordLength&&ve<=a.maxDictionaryWordLength))throw new Error("Invalid backward reference. pos: "+T+" distance: "+ke+" len: "+ve+" bytes left: "+Y);var Ne=a.offsetsByLength[ve],Be=ke-O-1,Ie=a.sizeBitsByLength[ve],xe=Be>>Ie;if(Ne+=(Be&(1<<Ie)-1)*ve,!(xe<h.kNumTransforms))throw new Error("Invalid backward reference. pos: "+T+" distance: "+ke+" len: "+ve+" bytes left: "+Y);var Te=h.transformDictionaryWord(m,Se,Ne,ve,xe);if(T+=Te,Y-=Te,(Se+=Te)>=p){t.write(m,l);for(var Re=0;Re<Se-p;Re++)m[Re]=m[p+Re]}}else{if(Ae>0&&(P[3&D]=ke,++D),ve>Y)throw new Error("Invalid backward reference. pos: "+T+" distance: "+ke+" len: "+ve+" bytes left: "+Y);for(_e=0;_e<ve;++_e)m[T&d]=m[T-ke&d],(T&d)===d&&t.write(m,l),++T,--Y}L=m[T-1&d],U=m[T-2&d]}T&=1073741823}}t.write(m,T&d)}C.prototype.decode=function(e){var t,r=0;for(t=0;t<this.num_htrees;++t)this.htrees[t]=r,r+=k(this.alphabet_size,this.codes,r,e)},t.BrotliDecompressBuffer=function(e,t){var r=new s(e);null==t&&(t=T(e));var n=new Uint8Array(t),a=new i(n);return R(r,a),a.pos<a.buffer.length&&(a.buffer=a.buffer.subarray(0,a.pos)),a.buffer},a.init()},5340:(e,t,r)=>{var s=r(4789);t.init=function(){return(0,r(6450).BrotliDecompressBuffer)(s.toByteArray(r(2722)))}},2722:e=>{e.exports="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"},5139:(e,t,r)=>{var s=r(5340);t.init=function(){t.dictionary=s.init()},t.offsetsByLength=new Uint32Array([0,0,0,0,0,4096,9216,21504,35840,44032,53248,63488,74752,87040,93696,100864,104704,106752,108928,113536,115968,118528,119872,121280,122016]),t.sizeBitsByLength=new Uint8Array([0,0,0,0,10,10,11,11,10,10,10,10,10,9,9,8,7,7,8,7,7,6,6,5,5]),t.minDictionaryWordLength=4,t.maxDictionaryWordLength=24},966:(e,t)=>{function r(e,t){this.bits=e,this.value=t}t.h=r;var s=15;function i(e,t){for(var r=1<<t-1;e&r;)r>>=1;return(e&r-1)+r}function n(e,t,s,i,n){do{e[t+(i-=s)]=new r(n.bits,n.value)}while(i>0)}function a(e,t,r){for(var i=1<<t-r;t<s&&!((i-=e[t])<=0);)++t,i<<=1;return t-r}t.g=function(e,t,o,l,c){var u,h,f,d,m,p,g,w,y,b,v=t,A=new Int32Array(16),k=new Int32Array(16);for(b=new Int32Array(c),h=0;h<c;h++)A[l[h]]++;for(k[1]=0,u=1;u<s;u++)k[u+1]=k[u]+A[u];for(h=0;h<c;h++)0!==l[h]&&(b[k[l[h]]++]=h);if(y=w=1<<(g=o),1===k[15]){for(f=0;f<y;++f)e[t+f]=new r(0,65535&b[0]);return y}for(f=0,h=0,u=1,d=2;u<=o;++u,d<<=1)for(;A[u]>0;--A[u])n(e,t+f,d,w,new r(255&u,65535&b[h++])),f=i(f,u);for(p=y-1,m=-1,u=o+1,d=2;u<=s;++u,d<<=1)for(;A[u]>0;--A[u])(f&p)!==m&&(t+=w,y+=w=1<<(g=a(A,u,o)),e[v+(m=f&p)]=new r(g+o&255,t-v-m&65535)),n(e,t+(f>>o),d,w,new r(u-o&255,65535&b[h++])),f=i(f,u);return y}},8435:(e,t)=>{function r(e,t){this.offset=e,this.nbits=t}t.kBlockLengthPrefixCode=[new r(1,2),new r(5,2),new r(9,2),new r(13,2),new r(17,3),new r(25,3),new r(33,3),new r(41,3),new r(49,4),new r(65,4),new r(81,4),new r(97,4),new r(113,5),new r(145,5),new r(177,5),new r(209,5),new r(241,6),new r(305,6),new r(369,7),new r(497,8),new r(753,9),new r(1265,10),new r(2289,11),new r(4337,12),new r(8433,13),new r(16625,24)],t.kInsertLengthPrefixCode=[new r(0,0),new r(1,0),new r(2,0),new r(3,0),new r(4,0),new r(5,0),new r(6,1),new r(8,1),new r(10,2),new r(14,2),new r(18,3),new r(26,3),new r(34,4),new r(50,4),new r(66,5),new r(98,5),new r(130,6),new r(194,7),new r(322,8),new r(578,9),new r(1090,10),new r(2114,12),new r(6210,14),new r(22594,24)],t.kCopyLengthPrefixCode=[new r(2,0),new r(3,0),new r(4,0),new r(5,0),new r(6,0),new r(7,0),new r(8,0),new r(9,0),new r(10,1),new r(12,1),new r(14,2),new r(18,2),new r(22,3),new r(30,3),new r(38,4),new r(54,4),new r(70,5),new r(102,5),new r(134,6),new r(198,7),new r(326,8),new r(582,9),new r(1094,10),new r(2118,24)],t.kInsertRangeLut=[0,0,8,8,0,16,8,16,16],t.kCopyRangeLut=[0,8,0,8,16,0,16,8,16]},6154:(e,t)=>{function r(e){this.buffer=e,this.pos=0}function s(e){this.buffer=e,this.pos=0}r.prototype.read=function(e,t,r){this.pos+r>this.buffer.length&&(r=this.buffer.length-this.pos);for(var s=0;s<r;s++)e[t+s]=this.buffer[this.pos+s];return this.pos+=r,r},t.g=r,s.prototype.write=function(e,t){if(this.pos+t>this.buffer.length)throw new Error("Output buffer is not large enough");return this.buffer.set(e.subarray(0,t),this.pos),this.pos+=t,t},t.j=s},2973:(e,t,r)=>{var s=r(5139),i=10,n=11;function a(e,t,r){this.prefix=new Uint8Array(e.length),this.transform=t,this.suffix=new Uint8Array(r.length);for(var s=0;s<e.length;s++)this.prefix[s]=e.charCodeAt(s);for(s=0;s<r.length;s++)this.suffix[s]=r.charCodeAt(s)}var o=[new a("",0,""),new a("",0," "),new a(" ",0," "),new a("",12,""),new a("",i," "),new a("",0," the "),new a(" ",0,""),new a("s ",0," "),new a("",0," of "),new a("",i,""),new a("",0," and "),new a("",13,""),new a("",1,""),new a(", ",0," "),new a("",0,", "),new a(" ",i," "),new a("",0," in "),new a("",0," to "),new a("e ",0," "),new a("",0,'"'),new a("",0,"."),new a("",0,'">'),new a("",0,"\n"),new a("",3,""),new a("",0,"]"),new a("",0," for "),new a("",14,""),new a("",2,""),new a("",0," a "),new a("",0," that "),new a(" ",i,""),new a("",0,". "),new a(".",0,""),new a(" ",0,", "),new a("",15,""),new a("",0," with "),new a("",0,"'"),new a("",0," from "),new a("",0," by "),new a("",16,""),new a("",17,""),new a(" the ",0,""),new a("",4,""),new a("",0,". The "),new a("",n,""),new a("",0," on "),new a("",0," as "),new a("",0," is "),new a("",7,""),new a("",1,"ing "),new a("",0,"\n\t"),new a("",0,":"),new a(" ",0,". "),new a("",0,"ed "),new a("",20,""),new a("",18,""),new a("",6,""),new a("",0,"("),new a("",i,", "),new a("",8,""),new a("",0," at "),new a("",0,"ly "),new a(" the ",0," of "),new a("",5,""),new a("",9,""),new a(" ",i,", "),new a("",i,'"'),new a(".",0,"("),new a("",n," "),new a("",i,'">'),new a("",0,'="'),new a(" ",0,"."),new a(".com/",0,""),new a(" the ",0," of the "),new a("",i,"'"),new a("",0,". This "),new a("",0,","),new a(".",0," "),new a("",i,"("),new a("",i,"."),new a("",0," not "),new a(" ",0,'="'),new a("",0,"er "),new a(" ",n," "),new a("",0,"al "),new a(" ",n,""),new a("",0,"='"),new a("",n,'"'),new a("",i,". "),new a(" ",0,"("),new a("",0,"ful "),new a(" ",i,". "),new a("",0,"ive "),new a("",0,"less "),new a("",n,"'"),new a("",0,"est "),new a(" ",i,"."),new a("",n,'">'),new a(" ",0,"='"),new a("",i,","),new a("",0,"ize "),new a("",n,"."),new a("",0,""),new a(" ",0,","),new a("",i,'="'),new a("",n,'="'),new a("",0,"ous "),new a("",n,", "),new a("",i,"='"),new a(" ",i,","),new a(" ",n,'="'),new a(" ",n,", "),new a("",n,","),new a("",n,"("),new a("",n,". "),new a(" ",n,"."),new a("",n,"='"),new a(" ",n,". "),new a(" ",i,'="'),new a(" ",n,"='"),new a(" ",i,"='")];function l(e,t){return e[t]<192?(e[t]>=97&&e[t]<=122&&(e[t]^=32),1):e[t]<224?(e[t+1]^=32,2):(e[t+2]^=5,3)}t.kTransforms=o,t.kNumTransforms=o.length,t.transformDictionaryWord=function(e,t,r,a,c){var u,h=o[c].prefix,f=o[c].suffix,d=o[c].transform,m=d<12?0:d-11,p=0,g=t;m>a&&(m=a);for(var w=0;w<h.length;)e[t++]=h[w++];for(r+=m,a-=m,d<=9&&(a-=d),p=0;p<a;p++)e[t++]=s.dictionary[r+p];if(u=t-a,d===i)l(e,u);else if(d===n)for(;a>0;){var y=l(e,u);u+=y,a-=y}for(var b=0;b<f.length;)e[t++]=f[b++];return t-g}},7709:(e,t,r)=>{e.exports=r(6450).BrotliDecompressBuffer},4789:(e,t)=>{"use strict";t.byteLength=function(e){var t=l(e),r=t[0],s=t[1];return 3*(r+s)/4-s},t.toByteArray=function(e){for(var t,r=l(e),n=r[0],a=r[1],o=new i(function(e,t,r){return 3*(t+r)/4-r}(0,n,a)),c=0,u=a>0?n-4:n,h=0;h<u;h+=4)t=s[e.charCodeAt(h)]<<18|s[e.charCodeAt(h+1)]<<12|s[e.charCodeAt(h+2)]<<6|s[e.charCodeAt(h+3)],o[c++]=t>>16&255,o[c++]=t>>8&255,o[c++]=255&t;2===a&&(t=s[e.charCodeAt(h)]<<2|s[e.charCodeAt(h+1)]>>4,o[c++]=255&t);1===a&&(t=s[e.charCodeAt(h)]<<10|s[e.charCodeAt(h+1)]<<4|s[e.charCodeAt(h+2)]>>2,o[c++]=t>>8&255,o[c++]=255&t);return o},t.fromByteArray=function(e){for(var t,s=e.length,i=s%3,n=[],a=16383,o=0,l=s-i;o<l;o+=a)n.push(c(e,o,o+a>l?l:o+a));1===i?(t=e[s-1],n.push(r[t>>2]+r[t<<4&63]+"==")):2===i&&(t=(e[s-2]<<8)+e[s-1],n.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"="));return n.join("")};for(var r=[],s=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,o=n.length;a<o;++a)r[a]=n[a],s[n.charCodeAt(a)]=a;function l(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function c(e,t,s){for(var i,n,a=[],o=t;o<s;o+=3)i=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(255&e[o+2]),a.push(r[(n=i)>>18&63]+r[n>>12&63]+r[n>>6&63]+r[63&n]);return a.join("")}s["-".charCodeAt(0)]=62,s["_".charCodeAt(0)]=63},8764:(e,t,r)=>{"use strict";
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */const s=r(9742),i=r(645),n="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=l,t.SlowBuffer=function(e){+e!=e&&(e=0);return l.alloc(+e)},t.INSPECT_MAX_BYTES=50;const a=2147483647;function o(e){if(e>a)throw new RangeError('The value "'+e+'" is invalid for option "size"');const t=new Uint8Array(e);return Object.setPrototypeOf(t,l.prototype),t}function l(e,t,r){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return h(e)}return c(e,t,r)}function c(e,t,r){if("string"==typeof e)return function(e,t){"string"==typeof t&&""!==t||(t="utf8");if(!l.isEncoding(t))throw new TypeError("Unknown encoding: "+t);const r=0|p(e,t);let s=o(r);const i=s.write(e,t);i!==r&&(s=s.slice(0,i));return s}(e,t);if(ArrayBuffer.isView(e))return function(e){if(G(e,Uint8Array)){const t=new Uint8Array(e);return d(t.buffer,t.byteOffset,t.byteLength)}return f(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(G(e,ArrayBuffer)||e&&G(e.buffer,ArrayBuffer))return d(e,t,r);if("undefined"!=typeof SharedArrayBuffer&&(G(e,SharedArrayBuffer)||e&&G(e.buffer,SharedArrayBuffer)))return d(e,t,r);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');const s=e.valueOf&&e.valueOf();if(null!=s&&s!==e)return l.from(s,t,r);const i=function(e){if(l.isBuffer(e)){const t=0|m(e.length),r=o(t);return 0===r.length||e.copy(r,0,0,t),r}if(void 0!==e.length)return"number"!=typeof e.length||Z(e.length)?o(0):f(e);if("Buffer"===e.type&&Array.isArray(e.data))return f(e.data)}(e);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return l.from(e[Symbol.toPrimitive]("string"),t,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function u(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function h(e){return u(e),o(e<0?0:0|m(e))}function f(e){const t=e.length<0?0:0|m(e.length),r=o(t);for(let s=0;s<t;s+=1)r[s]=255&e[s];return r}function d(e,t,r){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw new RangeError('"length" is outside of buffer bounds');let s;return s=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),Object.setPrototypeOf(s,l.prototype),s}function m(e){if(e>=a)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a.toString(16)+" bytes");return 0|e}function p(e,t){if(l.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||G(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);const r=e.length,s=arguments.length>2&&!0===arguments[2];if(!s&&0===r)return 0;let i=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return K(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return Q(e).length;default:if(i)return s?-1:K(e).length;t=(""+t).toLowerCase(),i=!0}}function g(e,t,r){let s=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return x(this,t,r);case"utf8":case"utf-8":return C(this,t,r);case"ascii":return B(this,t,r);case"latin1":case"binary":return I(this,t,r);case"base64":return E(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,t,r);default:if(s)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),s=!0}}function w(e,t,r){const s=e[t];e[t]=e[r],e[r]=s}function y(e,t,r,s,i){if(0===e.length)return-1;if("string"==typeof r?(s=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),Z(r=+r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof t&&(t=l.from(t,s)),l.isBuffer(t))return 0===t.length?-1:b(e,t,r,s,i);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):b(e,[t],r,s,i);throw new TypeError("val must be string, number or Buffer")}function b(e,t,r,s,i){let n,a=1,o=e.length,l=t.length;if(void 0!==s&&("ucs2"===(s=String(s).toLowerCase())||"ucs-2"===s||"utf16le"===s||"utf-16le"===s)){if(e.length<2||t.length<2)return-1;a=2,o/=2,l/=2,r/=2}function c(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){let s=-1;for(n=r;n<o;n++)if(c(e,n)===c(t,-1===s?0:n-s)){if(-1===s&&(s=n),n-s+1===l)return s*a}else-1!==s&&(n-=n-s),s=-1}else for(r+l>o&&(r=o-l),n=r;n>=0;n--){let r=!0;for(let s=0;s<l;s++)if(c(e,n+s)!==c(t,s)){r=!1;break}if(r)return n}return-1}function v(e,t,r,s){r=Number(r)||0;const i=e.length-r;s?(s=Number(s))>i&&(s=i):s=i;const n=t.length;let a;for(s>n/2&&(s=n/2),a=0;a<s;++a){const s=parseInt(t.substr(2*a,2),16);if(Z(s))return a;e[r+a]=s}return a}function A(e,t,r,s){return J(K(t,e.length-r),e,r,s)}function k(e,t,r,s){return J(function(e){const t=[];for(let r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,s)}function _(e,t,r,s){return J(Q(t),e,r,s)}function S(e,t,r,s){return J(function(e,t){let r,s,i;const n=[];for(let a=0;a<e.length&&!((t-=2)<0);++a)r=e.charCodeAt(a),s=r>>8,i=r%256,n.push(i),n.push(s);return n}(t,e.length-r),e,r,s)}function E(e,t,r){return 0===t&&r===e.length?s.fromByteArray(e):s.fromByteArray(e.slice(t,r))}function C(e,t,r){r=Math.min(e.length,r);const s=[];let i=t;for(;i<r;){const t=e[i];let n=null,a=t>239?4:t>223?3:t>191?2:1;if(i+a<=r){let r,s,o,l;switch(a){case 1:t<128&&(n=t);break;case 2:r=e[i+1],128==(192&r)&&(l=(31&t)<<6|63&r,l>127&&(n=l));break;case 3:r=e[i+1],s=e[i+2],128==(192&r)&&128==(192&s)&&(l=(15&t)<<12|(63&r)<<6|63&s,l>2047&&(l<55296||l>57343)&&(n=l));break;case 4:r=e[i+1],s=e[i+2],o=e[i+3],128==(192&r)&&128==(192&s)&&128==(192&o)&&(l=(15&t)<<18|(63&r)<<12|(63&s)<<6|63&o,l>65535&&l<1114112&&(n=l))}}null===n?(n=65533,a=1):n>65535&&(n-=65536,s.push(n>>>10&1023|55296),n=56320|1023&n),s.push(n),i+=a}return function(e){const t=e.length;if(t<=N)return String.fromCharCode.apply(String,e);let r="",s=0;for(;s<t;)r+=String.fromCharCode.apply(String,e.slice(s,s+=N));return r}(s)}t.kMaxLength=a,l.TYPED_ARRAY_SUPPORT=function(){try{const e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),l.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(l.prototype,"parent",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.buffer}}),Object.defineProperty(l.prototype,"offset",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.byteOffset}}),l.poolSize=8192,l.from=function(e,t,r){return c(e,t,r)},Object.setPrototypeOf(l.prototype,Uint8Array.prototype),Object.setPrototypeOf(l,Uint8Array),l.alloc=function(e,t,r){return function(e,t,r){return u(e),e<=0?o(e):void 0!==t?"string"==typeof r?o(e).fill(t,r):o(e).fill(t):o(e)}(e,t,r)},l.allocUnsafe=function(e){return h(e)},l.allocUnsafeSlow=function(e){return h(e)},l.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==l.prototype},l.compare=function(e,t){if(G(e,Uint8Array)&&(e=l.from(e,e.offset,e.byteLength)),G(t,Uint8Array)&&(t=l.from(t,t.offset,t.byteLength)),!l.isBuffer(e)||!l.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let r=e.length,s=t.length;for(let i=0,n=Math.min(r,s);i<n;++i)if(e[i]!==t[i]){r=e[i],s=t[i];break}return r<s?-1:s<r?1:0},l.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return l.alloc(0);let r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;const s=l.allocUnsafe(t);let i=0;for(r=0;r<e.length;++r){let t=e[r];if(G(t,Uint8Array))i+t.length>s.length?(l.isBuffer(t)||(t=l.from(t)),t.copy(s,i)):Uint8Array.prototype.set.call(s,t,i);else{if(!l.isBuffer(t))throw new TypeError('"list" argument must be an Array of Buffers');t.copy(s,i)}i+=t.length}return s},l.byteLength=p,l.prototype._isBuffer=!0,l.prototype.swap16=function(){const e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)w(this,t,t+1);return this},l.prototype.swap32=function(){const e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)w(this,t,t+3),w(this,t+1,t+2);return this},l.prototype.swap64=function(){const e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)w(this,t,t+7),w(this,t+1,t+6),w(this,t+2,t+5),w(this,t+3,t+4);return this},l.prototype.toString=function(){const e=this.length;return 0===e?"":0===arguments.length?C(this,0,e):g.apply(this,arguments)},l.prototype.toLocaleString=l.prototype.toString,l.prototype.equals=function(e){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===l.compare(this,e)},l.prototype.inspect=function(){let e="";const r=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"},n&&(l.prototype[n]=l.prototype.inspect),l.prototype.compare=function(e,t,r,s,i){if(G(e,Uint8Array)&&(e=l.from(e,e.offset,e.byteLength)),!l.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===s&&(s=0),void 0===i&&(i=this.length),t<0||r>e.length||s<0||i>this.length)throw new RangeError("out of range index");if(s>=i&&t>=r)return 0;if(s>=i)return-1;if(t>=r)return 1;if(this===e)return 0;let n=(i>>>=0)-(s>>>=0),a=(r>>>=0)-(t>>>=0);const o=Math.min(n,a),c=this.slice(s,i),u=e.slice(t,r);for(let e=0;e<o;++e)if(c[e]!==u[e]){n=c[e],a=u[e];break}return n<a?-1:a<n?1:0},l.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},l.prototype.indexOf=function(e,t,r){return y(this,e,t,r,!0)},l.prototype.lastIndexOf=function(e,t,r){return y(this,e,t,r,!1)},l.prototype.write=function(e,t,r,s){if(void 0===t)s="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)s=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(r)?(r>>>=0,void 0===s&&(s="utf8")):(s=r,r=void 0)}const i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");s||(s="utf8");let n=!1;for(;;)switch(s){case"hex":return v(this,e,t,r);case"utf8":case"utf-8":return A(this,e,t,r);case"ascii":case"latin1":case"binary":return k(this,e,t,r);case"base64":return _(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,e,t,r);default:if(n)throw new TypeError("Unknown encoding: "+s);s=(""+s).toLowerCase(),n=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const N=4096;function B(e,t,r){let s="";r=Math.min(e.length,r);for(let i=t;i<r;++i)s+=String.fromCharCode(127&e[i]);return s}function I(e,t,r){let s="";r=Math.min(e.length,r);for(let i=t;i<r;++i)s+=String.fromCharCode(e[i]);return s}function x(e,t,r){const s=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>s)&&(r=s);let i="";for(let s=t;s<r;++s)i+=X[e[s]];return i}function T(e,t,r){const s=e.slice(t,r);let i="";for(let e=0;e<s.length-1;e+=2)i+=String.fromCharCode(s[e]+256*s[e+1]);return i}function R(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function O(e,t,r,s,i,n){if(!l.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<n)throw new RangeError('"value" argument is out of bounds');if(r+s>e.length)throw new RangeError("Index out of range")}function P(e,t,r,s,i){W(t,s,i,e,r,7);let n=Number(t&BigInt(4294967295));e[r++]=n,n>>=8,e[r++]=n,n>>=8,e[r++]=n,n>>=8,e[r++]=n;let a=Number(t>>BigInt(32)&BigInt(4294967295));return e[r++]=a,a>>=8,e[r++]=a,a>>=8,e[r++]=a,a>>=8,e[r++]=a,r}function D(e,t,r,s,i){W(t,s,i,e,r,7);let n=Number(t&BigInt(4294967295));e[r+7]=n,n>>=8,e[r+6]=n,n>>=8,e[r+5]=n,n>>=8,e[r+4]=n;let a=Number(t>>BigInt(32)&BigInt(4294967295));return e[r+3]=a,a>>=8,e[r+2]=a,a>>=8,e[r+1]=a,a>>=8,e[r]=a,r+8}function L(e,t,r,s,i,n){if(r+s>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function U(e,t,r,s,n){return t=+t,r>>>=0,n||L(e,0,r,4),i.write(e,t,r,s,23,4),r+4}function V(e,t,r,s,n){return t=+t,r>>>=0,n||L(e,0,r,8),i.write(e,t,r,s,52,8),r+8}l.prototype.slice=function(e,t){const r=this.length;(e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);const s=this.subarray(e,t);return Object.setPrototypeOf(s,l.prototype),s},l.prototype.readUintLE=l.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||R(e,t,this.length);let s=this[e],i=1,n=0;for(;++n<t&&(i*=256);)s+=this[e+n]*i;return s},l.prototype.readUintBE=l.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||R(e,t,this.length);let s=this[e+--t],i=1;for(;t>0&&(i*=256);)s+=this[e+--t]*i;return s},l.prototype.readUint8=l.prototype.readUInt8=function(e,t){return e>>>=0,t||R(e,1,this.length),this[e]},l.prototype.readUint16LE=l.prototype.readUInt16LE=function(e,t){return e>>>=0,t||R(e,2,this.length),this[e]|this[e+1]<<8},l.prototype.readUint16BE=l.prototype.readUInt16BE=function(e,t){return e>>>=0,t||R(e,2,this.length),this[e]<<8|this[e+1]},l.prototype.readUint32LE=l.prototype.readUInt32LE=function(e,t){return e>>>=0,t||R(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},l.prototype.readUint32BE=l.prototype.readUInt32BE=function(e,t){return e>>>=0,t||R(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},l.prototype.readBigUInt64LE=Y((function(e){j(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||q(e,this.length-8);const s=t+256*this[++e]+65536*this[++e]+this[++e]*2**24,i=this[++e]+256*this[++e]+65536*this[++e]+r*2**24;return BigInt(s)+(BigInt(i)<<BigInt(32))})),l.prototype.readBigUInt64BE=Y((function(e){j(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||q(e,this.length-8);const s=t*2**24+65536*this[++e]+256*this[++e]+this[++e],i=this[++e]*2**24+65536*this[++e]+256*this[++e]+r;return(BigInt(s)<<BigInt(32))+BigInt(i)})),l.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||R(e,t,this.length);let s=this[e],i=1,n=0;for(;++n<t&&(i*=256);)s+=this[e+n]*i;return i*=128,s>=i&&(s-=Math.pow(2,8*t)),s},l.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||R(e,t,this.length);let s=t,i=1,n=this[e+--s];for(;s>0&&(i*=256);)n+=this[e+--s]*i;return i*=128,n>=i&&(n-=Math.pow(2,8*t)),n},l.prototype.readInt8=function(e,t){return e>>>=0,t||R(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},l.prototype.readInt16LE=function(e,t){e>>>=0,t||R(e,2,this.length);const r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},l.prototype.readInt16BE=function(e,t){e>>>=0,t||R(e,2,this.length);const r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},l.prototype.readInt32LE=function(e,t){return e>>>=0,t||R(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},l.prototype.readInt32BE=function(e,t){return e>>>=0,t||R(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},l.prototype.readBigInt64LE=Y((function(e){j(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||q(e,this.length-8);const s=this[e+4]+256*this[e+5]+65536*this[e+6]+(r<<24);return(BigInt(s)<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+this[++e]*2**24)})),l.prototype.readBigInt64BE=Y((function(e){j(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||q(e,this.length-8);const s=(t<<24)+65536*this[++e]+256*this[++e]+this[++e];return(BigInt(s)<<BigInt(32))+BigInt(this[++e]*2**24+65536*this[++e]+256*this[++e]+r)})),l.prototype.readFloatLE=function(e,t){return e>>>=0,t||R(e,4,this.length),i.read(this,e,!0,23,4)},l.prototype.readFloatBE=function(e,t){return e>>>=0,t||R(e,4,this.length),i.read(this,e,!1,23,4)},l.prototype.readDoubleLE=function(e,t){return e>>>=0,t||R(e,8,this.length),i.read(this,e,!0,52,8)},l.prototype.readDoubleBE=function(e,t){return e>>>=0,t||R(e,8,this.length),i.read(this,e,!1,52,8)},l.prototype.writeUintLE=l.prototype.writeUIntLE=function(e,t,r,s){if(e=+e,t>>>=0,r>>>=0,!s){O(this,e,t,r,Math.pow(2,8*r)-1,0)}let i=1,n=0;for(this[t]=255&e;++n<r&&(i*=256);)this[t+n]=e/i&255;return t+r},l.prototype.writeUintBE=l.prototype.writeUIntBE=function(e,t,r,s){if(e=+e,t>>>=0,r>>>=0,!s){O(this,e,t,r,Math.pow(2,8*r)-1,0)}let i=r-1,n=1;for(this[t+i]=255&e;--i>=0&&(n*=256);)this[t+i]=e/n&255;return t+r},l.prototype.writeUint8=l.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||O(this,e,t,1,255,0),this[t]=255&e,t+1},l.prototype.writeUint16LE=l.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||O(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},l.prototype.writeUint16BE=l.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||O(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},l.prototype.writeUint32LE=l.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||O(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},l.prototype.writeUint32BE=l.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||O(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},l.prototype.writeBigUInt64LE=Y((function(e,t=0){return P(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),l.prototype.writeBigUInt64BE=Y((function(e,t=0){return D(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),l.prototype.writeIntLE=function(e,t,r,s){if(e=+e,t>>>=0,!s){const s=Math.pow(2,8*r-1);O(this,e,t,r,s-1,-s)}let i=0,n=1,a=0;for(this[t]=255&e;++i<r&&(n*=256);)e<0&&0===a&&0!==this[t+i-1]&&(a=1),this[t+i]=(e/n>>0)-a&255;return t+r},l.prototype.writeIntBE=function(e,t,r,s){if(e=+e,t>>>=0,!s){const s=Math.pow(2,8*r-1);O(this,e,t,r,s-1,-s)}let i=r-1,n=1,a=0;for(this[t+i]=255&e;--i>=0&&(n*=256);)e<0&&0===a&&0!==this[t+i+1]&&(a=1),this[t+i]=(e/n>>0)-a&255;return t+r},l.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||O(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},l.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||O(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},l.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||O(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},l.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||O(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},l.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||O(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},l.prototype.writeBigInt64LE=Y((function(e,t=0){return P(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),l.prototype.writeBigInt64BE=Y((function(e,t=0){return D(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),l.prototype.writeFloatLE=function(e,t,r){return U(this,e,t,!0,r)},l.prototype.writeFloatBE=function(e,t,r){return U(this,e,t,!1,r)},l.prototype.writeDoubleLE=function(e,t,r){return V(this,e,t,!0,r)},l.prototype.writeDoubleBE=function(e,t,r){return V(this,e,t,!1,r)},l.prototype.copy=function(e,t,r,s){if(!l.isBuffer(e))throw new TypeError("argument should be a Buffer");if(r||(r=0),s||0===s||(s=this.length),t>=e.length&&(t=e.length),t||(t=0),s>0&&s<r&&(s=r),s===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(s<0)throw new RangeError("sourceEnd out of bounds");s>this.length&&(s=this.length),e.length-t<s-r&&(s=e.length-t+r);const i=s-r;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,r,s):Uint8Array.prototype.set.call(e,this.subarray(r,s),t),i},l.prototype.fill=function(e,t,r,s){if("string"==typeof e){if("string"==typeof t?(s=t,t=0,r=this.length):"string"==typeof r&&(s=r,r=this.length),void 0!==s&&"string"!=typeof s)throw new TypeError("encoding must be a string");if("string"==typeof s&&!l.isEncoding(s))throw new TypeError("Unknown encoding: "+s);if(1===e.length){const t=e.charCodeAt(0);("utf8"===s&&t<128||"latin1"===s)&&(e=t)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;let i;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(i=t;i<r;++i)this[i]=e;else{const n=l.isBuffer(e)?e:l.from(e,s),a=n.length;if(0===a)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<r-t;++i)this[i+t]=n[i%a]}return this};const H={};function M(e,t,r){H[e]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function F(e){let t="",r=e.length;const s="-"===e[0]?1:0;for(;r>=s+4;r-=3)t=`_${e.slice(r-3,r)}${t}`;return`${e.slice(0,r)}${t}`}function W(e,t,r,s,i,n){if(e>r||e<t){const s="bigint"==typeof t?"n":"";let i;throw i=n>3?0===t||t===BigInt(0)?`>= 0${s} and < 2${s} ** ${8*(n+1)}${s}`:`>= -(2${s} ** ${8*(n+1)-1}${s}) and < 2 ** ${8*(n+1)-1}${s}`:`>= ${t}${s} and <= ${r}${s}`,new H.ERR_OUT_OF_RANGE("value",i,e)}!function(e,t,r){j(t,"offset"),void 0!==e[t]&&void 0!==e[t+r]||q(t,e.length-(r+1))}(s,i,n)}function j(e,t){if("number"!=typeof e)throw new H.ERR_INVALID_ARG_TYPE(t,"number",e)}function q(e,t,r){if(Math.floor(e)!==e)throw j(e,r),new H.ERR_OUT_OF_RANGE(r||"offset","an integer",e);if(t<0)throw new H.ERR_BUFFER_OUT_OF_BOUNDS;throw new H.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${t}`,e)}M("ERR_BUFFER_OUT_OF_BOUNDS",(function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),M("ERR_INVALID_ARG_TYPE",(function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`}),TypeError),M("ERR_OUT_OF_RANGE",(function(e,t,r){let s=`The value of "${e}" is out of range.`,i=r;return Number.isInteger(r)&&Math.abs(r)>2**32?i=F(String(r)):"bigint"==typeof r&&(i=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(i=F(i)),i+="n"),s+=` It must be ${t}. Received ${i}`,s}),RangeError);const z=/[^+/0-9A-Za-z-_]/g;function K(e,t){let r;t=t||1/0;const s=e.length;let i=null;const n=[];for(let a=0;a<s;++a){if(r=e.charCodeAt(a),r>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&n.push(239,191,189);continue}if(a+1===s){(t-=3)>-1&&n.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&n.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&n.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;n.push(r)}else if(r<2048){if((t-=2)<0)break;n.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;n.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;n.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return n}function Q(e){return s.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(z,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function J(e,t,r,s){let i;for(i=0;i<s&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}function G(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function Z(e){return e!=e}const X=function(){const e="0123456789abcdef",t=new Array(256);for(let r=0;r<16;++r){const s=16*r;for(let i=0;i<16;++i)t[s+i]=e[r]+e[i]}return t}();function Y(e){return"undefined"==typeof BigInt?$:e}function $(){throw new Error("BigInt not supported")}},7187:e=>{"use strict";var t,r="object"==typeof Reflect?Reflect:null,s=r&&"function"==typeof r.apply?r.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)};t=r&&"function"==typeof r.ownKeys?r.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var i=Number.isNaN||function(e){return e!=e};function n(){n.init.call(this)}e.exports=n,e.exports.once=function(e,t){return new Promise((function(r,s){function i(r){e.removeListener(t,n),s(r)}function n(){"function"==typeof e.removeListener&&e.removeListener("error",i),r([].slice.call(arguments))}p(e,t,n,{once:!0}),"error"!==t&&function(e,t,r){"function"==typeof e.on&&p(e,"error",t,r)}(e,i,{once:!0})}))},n.EventEmitter=n,n.prototype._events=void 0,n.prototype._eventsCount=0,n.prototype._maxListeners=void 0;var a=10;function o(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function l(e){return void 0===e._maxListeners?n.defaultMaxListeners:e._maxListeners}function c(e,t,r,s){var i,n,a,c;if(o(r),void 0===(n=e._events)?(n=e._events=Object.create(null),e._eventsCount=0):(void 0!==n.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),n=e._events),a=n[t]),void 0===a)a=n[t]=r,++e._eventsCount;else if("function"==typeof a?a=n[t]=s?[r,a]:[a,r]:s?a.unshift(r):a.push(r),(i=l(e))>0&&a.length>i&&!a.warned){a.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=e,u.type=t,u.count=a.length,c=u,console&&console.warn&&console.warn(c)}return e}function u(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function h(e,t,r){var s={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},i=u.bind(s);return i.listener=r,s.wrapFn=i,i}function f(e,t,r){var s=e._events;if(void 0===s)return[];var i=s[t];return void 0===i?[]:"function"==typeof i?r?[i.listener||i]:[i]:r?function(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}(i):m(i,i.length)}function d(e){var t=this._events;if(void 0!==t){var r=t[e];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function m(e,t){for(var r=new Array(t),s=0;s<t;++s)r[s]=e[s];return r}function p(e,t,r,s){if("function"==typeof e.on)s.once?e.once(t,r):e.on(t,r);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function i(n){s.once&&e.removeEventListener(t,i),r(n)}))}}Object.defineProperty(n,"defaultMaxListeners",{enumerable:!0,get:function(){return a},set:function(e){if("number"!=typeof e||e<0||i(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");a=e}}),n.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},n.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||i(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},n.prototype.getMaxListeners=function(){return l(this)},n.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var i="error"===e,n=this._events;if(void 0!==n)i=i&&void 0===n.error;else if(!i)return!1;if(i){var a;if(t.length>0&&(a=t[0]),a instanceof Error)throw a;var o=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw o.context=a,o}var l=n[e];if(void 0===l)return!1;if("function"==typeof l)s(l,this,t);else{var c=l.length,u=m(l,c);for(r=0;r<c;++r)s(u[r],this,t)}return!0},n.prototype.addListener=function(e,t){return c(this,e,t,!1)},n.prototype.on=n.prototype.addListener,n.prototype.prependListener=function(e,t){return c(this,e,t,!0)},n.prototype.once=function(e,t){return o(t),this.on(e,h(this,e,t)),this},n.prototype.prependOnceListener=function(e,t){return o(t),this.prependListener(e,h(this,e,t)),this},n.prototype.removeListener=function(e,t){var r,s,i,n,a;if(o(t),void 0===(s=this._events))return this;if(void 0===(r=s[e]))return this;if(r===t||r.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete s[e],s.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!=typeof r){for(i=-1,n=r.length-1;n>=0;n--)if(r[n]===t||r[n].listener===t){a=r[n].listener,i=n;break}if(i<0)return this;0===i?r.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(r,i),1===r.length&&(s[e]=r[0]),void 0!==s.removeListener&&this.emit("removeListener",e,a||t)}return this},n.prototype.off=n.prototype.removeListener,n.prototype.removeAllListeners=function(e){var t,r,s;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[e]),this;if(0===arguments.length){var i,n=Object.keys(r);for(s=0;s<n.length;++s)"removeListener"!==(i=n[s])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=r[e]))this.removeListener(e,t);else if(void 0!==t)for(s=t.length-1;s>=0;s--)this.removeListener(e,t[s]);return this},n.prototype.listeners=function(e){return f(this,e,!0)},n.prototype.rawListeners=function(e){return f(this,e,!1)},n.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):d.call(e,t)},n.prototype.listenerCount=d,n.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},259:(e,t,r)=>{"use strict";const s=r(7849).buildOptions,i={attributeNamePrefix:"@_",attrNodeName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataTagName:!1,cdataPositionChar:"\\c",format:!1,indentBy:"  ",supressEmptyNode:!1,tagValueProcessor:function(e){return e},attrValueProcessor:function(e){return e}},n=["attributeNamePrefix","attrNodeName","textNodeName","ignoreAttributes","cdataTagName","cdataPositionChar","format","indentBy","supressEmptyNode","tagValueProcessor","attrValueProcessor"];function a(e){this.options=s(e,i,n),this.options.ignoreAttributes||this.options.attrNodeName?this.isAttribute=function(){return!1}:(this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=m),this.options.cdataTagName?this.isCDATA=p:this.isCDATA=function(){return!1},this.replaceCDATAstr=o,this.replaceCDATAarr=l,this.options.format?(this.indentate=d,this.tagEndChar=">\n",this.newLine="\n"):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine=""),this.options.supressEmptyNode?(this.buildTextNode=f,this.buildObjNode=u):(this.buildTextNode=h,this.buildObjNode=c),this.buildTextValNode=h,this.buildObjectNode=c}function o(e,t){return e=this.options.tagValueProcessor(""+e),""===this.options.cdataPositionChar||""===e?e+"<![CDATA["+t+"]]"+this.tagEndChar:e.replace(this.options.cdataPositionChar,"<![CDATA["+t+"]]"+this.tagEndChar)}function l(e,t){if(e=this.options.tagValueProcessor(""+e),""===this.options.cdataPositionChar||""===e)return e+"<![CDATA["+t.join("]]><![CDATA[")+"]]"+this.tagEndChar;for(let r in t)e=e.replace(this.options.cdataPositionChar,"<![CDATA["+t[r]+"]]>");return e+this.newLine}function c(e,t,r,s){return r&&!e.includes("<")?this.indentate(s)+"<"+t+r+">"+e+"</"+t+this.tagEndChar:this.indentate(s)+"<"+t+r+this.tagEndChar+e+this.indentate(s)+"</"+t+this.tagEndChar}function u(e,t,r,s){return""!==e?this.buildObjectNode(e,t,r,s):this.indentate(s)+"<"+t+r+"/"+this.tagEndChar}function h(e,t,r,s){return this.indentate(s)+"<"+t+r+">"+this.options.tagValueProcessor(e)+"</"+t+this.tagEndChar}function f(e,t,r,s){return""!==e?this.buildTextValNode(e,t,r,s):this.indentate(s)+"<"+t+r+"/"+this.tagEndChar}function d(e){return this.options.indentBy.repeat(e)}function m(e){return!!e.startsWith(this.options.attributeNamePrefix)&&e.substr(this.attrPrefixLen)}function p(e){return e===this.options.cdataTagName}a.prototype.parse=function(e){return this.j2x(e,0).val},a.prototype.j2x=function(e,t){let r="",s="";const i=Object.keys(e),n=i.length;for(let a=0;a<n;a++){const n=i[a];if(void 0===e[n]);else if(null===e[n])s+=this.indentate(t)+"<"+n+"/"+this.tagEndChar;else if(e[n]instanceof Date)s+=this.buildTextNode(e[n],n,"",t);else if("object"!=typeof e[n]){const i=this.isAttribute(n);i?r+=" "+i+'="'+this.options.attrValueProcessor(""+e[n])+'"':this.isCDATA(n)?e[this.options.textNodeName]?s+=this.replaceCDATAstr(e[this.options.textNodeName],e[n]):s+=this.replaceCDATAstr("",e[n]):n===this.options.textNodeName?e[this.options.cdataTagName]||(s+=this.options.tagValueProcessor(""+e[n])):s+=this.buildTextNode(e[n],n,"",t)}else if(Array.isArray(e[n]))if(this.isCDATA(n))s+=this.indentate(t),e[this.options.textNodeName]?s+=this.replaceCDATAarr(e[this.options.textNodeName],e[n]):s+=this.replaceCDATAarr("",e[n]);else{const r=e[n].length;for(let i=0;i<r;i++){const r=e[n][i];if(void 0===r);else if(null===r)s+=this.indentate(t)+"<"+n+"/"+this.tagEndChar;else if("object"==typeof r){const e=this.j2x(r,t+1);s+=this.buildObjNode(e.val,n,e.attrStr,t)}else s+=this.buildTextNode(r,n,"",t)}}else if(this.options.attrNodeName&&n===this.options.attrNodeName){const t=Object.keys(e[n]),s=t.length;for(let i=0;i<s;i++)r+=" "+t[i]+'="'+this.options.attrValueProcessor(""+e[n][t[i]])+'"'}else{const r=this.j2x(e[n],t+1);s+=this.buildObjNode(r.val,n,r.attrStr,t)}}return{attrStr:r,val:s}},e.exports=a},8398:(e,t,r)=>{"use strict";const s=function(e){return String.fromCharCode(e)},i={nilChar:s(176),missingChar:s(201),nilPremitive:s(175),missingPremitive:s(200),emptyChar:s(178),emptyValue:s(177),boundryChar:s(179),objStart:s(198),arrStart:s(204),arrayEnd:s(185)},n=[i.nilChar,i.nilPremitive,i.missingChar,i.missingPremitive,i.boundryChar,i.emptyChar,i.emptyValue,i.arrayEnd,i.objStart,i.arrStart],a=function(e,t,r){if("string"==typeof t)return e&&e[0]&&void 0!==e[0].val?o(e[0].val,t):o(e,t);{const n=void 0===(s=e)?i.missingChar:null===s?i.nilChar:!(s.child&&0===Object.keys(s.child).length&&(!s.attrsMap||0===Object.keys(s.attrsMap).length))||i.emptyChar;if(!0===n){let s="";if(Array.isArray(t)){s+=i.arrStart;const n=t[0],c=e.length;if("string"==typeof n)for(let t=0;t<c;t++){const r=o(e[t].val,n);s=l(s,r)}else for(let t=0;t<c;t++){const i=a(e[t],n,r);s=l(s,i)}s+=i.arrayEnd}else{s+=i.objStart;const n=Object.keys(t);Array.isArray(e)&&(e=e[0]);for(let i in n){const o=n[i];let c;c=!r.ignoreAttributes&&e.attrsMap&&e.attrsMap[o]?a(e.attrsMap[o],t[o],r):o===r.textNodeName?a(e.val,t[o],r):a(e.child[o],t[o],r),s=l(s,c)}}return s}return n}var s},o=function(e){switch(e){case void 0:return i.missingPremitive;case null:return i.nilPremitive;case"":return i.emptyValue;default:return e}},l=function(e,t){return c(t[0])||c(e[e.length-1])||(e+=i.boundryChar),e+t},c=function(e){return-1!==n.indexOf(e)};const u=r(3543),h=r(7849).buildOptions;t.convert2nimn=function(e,t,r){return r=h(r,u.defaultOptions,u.props),a(e,t,r)}},284:(e,t,r)=>{"use strict";const s=r(7849),i=function(e,t,r){const n={};if((!e.child||s.isEmptyObject(e.child))&&(!e.attrsMap||s.isEmptyObject(e.attrsMap)))return s.isExist(e.val)?e.val:"";if(s.isExist(e.val)&&("string"!=typeof e.val||""!==e.val&&e.val!==t.cdataPositionChar)){const i=s.isTagNameInArrayMode(e.tagname,t.arrayMode,r);n[t.textNodeName]=i?[e.val]:e.val}s.merge(n,e.attrsMap,t.arrayMode);const a=Object.keys(e.child);for(let o=0;o<a.length;o++){const l=a[o];if(e.child[l]&&e.child[l].length>1){n[l]=[];for(let r in e.child[l])e.child[l].hasOwnProperty(r)&&n[l].push(i(e.child[l][r],t,l))}else{const a=i(e.child[l][0],t,l),o=!0===t.arrayMode&&"object"==typeof a||s.isTagNameInArrayMode(l,t.arrayMode,r);n[l]=o?[a]:a}}return n};t.convertToJson=i},7702:(e,t,r)=>{"use strict";const s=r(7849),i=r(7849).buildOptions,n=r(3543),a=function(e,t,r){let i="{";const n=Object.keys(e.child);for(let r=0;r<n.length;r++){var o=n[r];if(e.child[o]&&e.child[o].length>1){for(var l in i+='"'+o+'" : [ ',e.child[o])i+=a(e.child[o][l],t)+" , ";i=i.substr(0,i.length-1)+" ] "}else i+='"'+o+'" : '+a(e.child[o][0],t)+" ,"}return s.merge(i,e.attrsMap),s.isEmptyObject(i)?s.isExist(e.val)?e.val:"":(s.isExist(e.val)&&("string"!=typeof e.val||""!==e.val&&e.val!==t.cdataPositionChar)&&(i+='"'+t.textNodeName+'" : '+(!0!==(c=e.val)&&!1!==c&&isNaN(c)?'"'+c+'"':c)),","===i[i.length-1]&&(i=i.substr(0,i.length-2)),i+"}");var c};t.convertToJsonString=function(e,t){return(t=i(t,n.defaultOptions,n.props)).indentBy=t.indentBy||"",a(e,t,0)}},6965:(e,t,r)=>{"use strict";const s=r(284),i=r(3543),n=r(3543),a=r(7849).buildOptions,o=r(8501);t.parse=function(e,t,r){if(r){!0===r&&(r={});const t=o.validate(e,r);if(!0!==t)throw Error(t.err.msg)}t=a(t,n.defaultOptions,n.props);const l=i.getTraversalObj(e,t);return s.convertToJson(l,t)},t.convertTonimn=r(8398).convert2nimn,t.getTraversalObj=i.getTraversalObj,t.convertToJson=s.convertToJson,t.convertToJsonString=r(7702).convertToJsonString,t.validate=o.validate,t.j2xParser=r(259),t.parseToNimn=function(e,r,s){return t.convertTonimn(t.getTraversalObj(e,s),r,s)}},7849:(e,t)=>{"use strict";const r=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",s="["+r+"][:A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*",i=new RegExp("^"+s+"$");t.isExist=function(e){return void 0!==e},t.isEmptyObject=function(e){return 0===Object.keys(e).length},t.merge=function(e,t,r){if(t){const s=Object.keys(t),i=s.length;for(let n=0;n<i;n++)e[s[n]]="strict"===r?[t[s[n]]]:t[s[n]]}},t.getValue=function(e){return t.isExist(e)?e:""},t.buildOptions=function(e,t,r){var s={};if(!e)return t;for(let i=0;i<r.length;i++)void 0!==e[r[i]]?s[r[i]]=e[r[i]]:s[r[i]]=t[r[i]];return s},t.isTagNameInArrayMode=function(e,t,r){return!1!==t&&(t instanceof RegExp?t.test(e):"function"==typeof t?!!t(e,r):"strict"===t)},t.isName=function(e){const t=i.exec(e);return!(null==t)},t.getAllMatches=function(e,t){const r=[];let s=t.exec(e);for(;s;){const i=[],n=s.length;for(let e=0;e<n;e++)i.push(s[e]);r.push(i),s=t.exec(e)}return r},t.nameRegexp=s},8501:(e,t,r)=>{"use strict";const s=r(7849),i={allowBooleanAttributes:!1},n=["allowBooleanAttributes"];function a(e,t){for(var r=t;t<e.length;t++)if("?"!=e[t]&&" "!=e[t]);else{var s=e.substr(r,t-r);if(t>5&&"xml"===s)return f("InvalidXml","XML declaration allowed only at the start of the document.",m(e,t));if("?"==e[t]&&">"==e[t+1]){t++;break}}return t}function o(e,t){if(e.length>t+5&&"-"===e[t+1]&&"-"===e[t+2]){for(t+=3;t<e.length;t++)if("-"===e[t]&&"-"===e[t+1]&&">"===e[t+2]){t+=2;break}}else if(e.length>t+8&&"D"===e[t+1]&&"O"===e[t+2]&&"C"===e[t+3]&&"T"===e[t+4]&&"Y"===e[t+5]&&"P"===e[t+6]&&"E"===e[t+7]){let r=1;for(t+=8;t<e.length;t++)if("<"===e[t])r++;else if(">"===e[t]&&(r--,0===r))break}else if(e.length>t+9&&"["===e[t+1]&&"C"===e[t+2]&&"D"===e[t+3]&&"A"===e[t+4]&&"T"===e[t+5]&&"A"===e[t+6]&&"["===e[t+7])for(t+=8;t<e.length;t++)if("]"===e[t]&&"]"===e[t+1]&&">"===e[t+2]){t+=2;break}return t}t.validate=function(e,t){t=s.buildOptions(t,i,n);const r=[];let c=!1,d=!1;"\ufeff"===e[0]&&(e=e.substr(1));for(let i=0;i<e.length;i++)if("<"===e[i]&&"?"===e[i+1]){if(i+=2,i=a(e,i),i.err)return i}else{if("<"!==e[i]){if(" "===e[i]||"\t"===e[i]||"\n"===e[i]||"\r"===e[i])continue;return f("InvalidChar","char '"+e[i]+"' is not expected.",m(e,i))}if(i++,"!"===e[i]){i=o(e,i);continue}{let n=!1;"/"===e[i]&&(n=!0,i++);let g="";for(;i<e.length&&">"!==e[i]&&" "!==e[i]&&"\t"!==e[i]&&"\n"!==e[i]&&"\r"!==e[i];i++)g+=e[i];if(g=g.trim(),"/"===g[g.length-1]&&(g=g.substring(0,g.length-1),i--),p=g,!s.isName(p)){let t;return t=0===g.trim().length?"There is an unnecessary space between tag name and backward slash '</ ..'.":"Tag '"+g+"' is an invalid name.",f("InvalidTag",t,m(e,i))}const w=l(e,i);if(!1===w)return f("InvalidAttr","Attributes for '"+g+"' have open quote.",m(e,i));let y=w.value;if(i=w.index,"/"===y[y.length-1]){y=y.substring(0,y.length-1);const r=u(y,t);if(!0!==r)return f(r.err.code,r.err.msg,m(e,i-y.length+r.err.line));c=!0}else if(n){if(!w.tagClosed)return f("InvalidTag","Closing tag '"+g+"' doesn't have proper closing.",m(e,i));if(y.trim().length>0)return f("InvalidTag","Closing tag '"+g+"' can't have attributes or invalid starting.",m(e,i));{const t=r.pop();if(g!==t)return f("InvalidTag","Closing tag '"+t+"' is expected inplace of '"+g+"'.",m(e,i));0==r.length&&(d=!0)}}else{const s=u(y,t);if(!0!==s)return f(s.err.code,s.err.msg,m(e,i-y.length+s.err.line));if(!0===d)return f("InvalidXml","Multiple possible root nodes found.",m(e,i));r.push(g),c=!0}for(i++;i<e.length;i++)if("<"===e[i]){if("!"===e[i+1]){i++,i=o(e,i);continue}if("?"!==e[i+1])break;if(i=a(e,++i),i.err)return i}else if("&"===e[i]){const t=h(e,i);if(-1==t)return f("InvalidChar","char '&' is not expected.",m(e,i));i=t}"<"===e[i]&&i--}}var p;return c?!(r.length>0)||f("InvalidXml","Invalid '"+JSON.stringify(r,null,4).replace(/\r?\n/g,"")+"' found.",1):f("InvalidXml","Start tag expected.",1)};function l(e,t){let r="",s="",i=!1;for(;t<e.length;t++){if('"'===e[t]||"'"===e[t])if(""===s)s=e[t];else{if(s!==e[t])continue;s=""}else if(">"===e[t]&&""===s){i=!0;break}r+=e[t]}return""===s&&{value:r,index:t,tagClosed:i}}const c=new RegExp("(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['\"])(([\\s\\S])*?)\\5)?","g");function u(e,t){const r=s.getAllMatches(e,c),i={};for(let s=0;s<r.length;s++){if(0===r[s][1].length)return f("InvalidAttr","Attribute '"+r[s][2]+"' has no space in starting.",p(e,r[s][0]));if(void 0===r[s][3]&&!t.allowBooleanAttributes)return f("InvalidAttr","boolean attribute '"+r[s][2]+"' is not allowed.",p(e,r[s][0]));const n=r[s][2];if(!d(n))return f("InvalidAttr","Attribute '"+n+"' is an invalid name.",p(e,r[s][0]));if(i.hasOwnProperty(n))return f("InvalidAttr","Attribute '"+n+"' is repeated.",p(e,r[s][0]));i[n]=1}return!0}function h(e,t){if(";"===e[++t])return-1;if("#"===e[t])return function(e,t){let r=/\d/;for("x"===e[t]&&(t++,r=/[\da-fA-F]/);t<e.length;t++){if(";"===e[t])return t;if(!e[t].match(r))break}return-1}(e,++t);let r=0;for(;t<e.length;t++,r++)if(!(e[t].match(/\w/)&&r<20)){if(";"===e[t])break;return-1}return t}function f(e,t,r){return{err:{code:e,msg:t,line:r}}}function d(e){return s.isName(e)}function m(e,t){return e.substring(0,t).split(/\r?\n/).length}function p(e,t){return e.indexOf(t)+t.length}},6468:e=>{"use strict";e.exports=function(e,t,r){this.tagname=e,this.parent=t,this.child={},this.attrsMap={},this.val=r,this.addChild=function(e){Array.isArray(this.child[e.tagname])?this.child[e.tagname].push(e):this.child[e.tagname]=[e]}}},3543:(e,t,r)=>{"use strict";const s=r(7849),i=r(7849).buildOptions,n=r(6468);"<((!\\[CDATA\\[([\\s\\S]*?)(]]>))|((NAME:)?(NAME))([^>]*)>|((\\/)(NAME)\\s*>))([^<]*)".replace(/NAME/g,s.nameRegexp);!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt),!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);const a={attributeNamePrefix:"@_",attrNodeName:!1,textNodeName:"#text",ignoreAttributes:!0,ignoreNameSpace:!1,allowBooleanAttributes:!1,parseNodeValue:!0,parseAttributeValue:!1,arrayMode:!1,trimValues:!0,cdataTagName:!1,cdataPositionChar:"\\c",tagValueProcessor:function(e,t){return e},attrValueProcessor:function(e,t){return e},stopNodes:[]};t.defaultOptions=a;const o=["attributeNamePrefix","attrNodeName","textNodeName","ignoreAttributes","ignoreNameSpace","allowBooleanAttributes","parseNodeValue","parseAttributeValue","arrayMode","trimValues","cdataTagName","cdataPositionChar","tagValueProcessor","attrValueProcessor","parseTrueNumberOnly","stopNodes"];function l(e,t,r){return t&&(r.trimValues&&(t=t.trim()),t=u(t=r.tagValueProcessor(t,e),r.parseNodeValue,r.parseTrueNumberOnly)),t}function c(e,t){if(t.ignoreNameSpace){const t=e.split(":"),r="/"===e.charAt(0)?"/":"";if("xmlns"===t[0])return"";2===t.length&&(e=r+t[1])}return e}function u(e,t,r){if(t&&"string"==typeof e){let t;return""===e.trim()||isNaN(e)?t="true"===e||"false"!==e&&e:(-1!==e.indexOf("0x")?t=Number.parseInt(e,16):-1!==e.indexOf(".")?(t=Number.parseFloat(e),e=e.replace(/\.?0+$/,"")):t=Number.parseInt(e,10),r&&(t=String(t)===e?t:e)),t}return s.isExist(e)?e:""}t.props=o;const h=new RegExp("([^\\s=]+)\\s*(=\\s*(['\"])(.*?)\\3)?","g");function f(e,t){if(!t.ignoreAttributes&&"string"==typeof e){e=e.replace(/\r?\n/g," ");const r=s.getAllMatches(e,h),i=r.length,n={};for(let e=0;e<i;e++){const s=c(r[e][1],t);s.length&&(void 0!==r[e][4]?(t.trimValues&&(r[e][4]=r[e][4].trim()),r[e][4]=t.attrValueProcessor(r[e][4],s),n[t.attributeNamePrefix+s]=u(r[e][4],t.parseAttributeValue,t.parseTrueNumberOnly)):t.allowBooleanAttributes&&(n[t.attributeNamePrefix+s]=!0))}if(!Object.keys(n).length)return;if(t.attrNodeName){const e={};return e[t.attrNodeName]=n,e}return n}}function d(e,t){let r,s="";for(let i=t;i<e.length;i++){let t=e[i];if(r)t===r&&(r="");else if('"'===t||"'"===t)r=t;else{if(">"===t)return{data:s,index:i};"\t"===t&&(t=" ")}s+=t}}function m(e,t,r,s){const i=e.indexOf(t,r);if(-1===i)throw new Error(s);return i+t.length-1}t.getTraversalObj=function(e,t){e=e.replace(/\r\n?/g,"\n"),t=i(t,a,o);const r=new n("!xml");let c=r,u="";for(let r=0;r<e.length;r++){if("<"===e[r])if("/"===e[r+1]){const i=m(e,">",r,"Closing Tag is not closed.");let n=e.substring(r+2,i).trim();if(t.ignoreNameSpace){const e=n.indexOf(":");-1!==e&&(n=n.substr(e+1))}c&&(c.val?c.val=s.getValue(c.val)+""+l(n,u,t):c.val=l(n,u,t)),t.stopNodes.length&&t.stopNodes.includes(c.tagname)&&(c.child=[],null==c.attrsMap&&(c.attrsMap={}),c.val=e.substr(c.startIndex+1,r-c.startIndex-1)),c=c.parent,u="",r=i}else if("?"===e[r+1])r=m(e,"?>",r,"Pi Tag is not closed.");else if("!--"===e.substr(r+1,3))r=m(e,"--\x3e",r,"Comment is not closed.");else if("!D"===e.substr(r+1,2)){const t=m(e,">",r,"DOCTYPE is not closed.");r=e.substring(r,t).indexOf("[")>=0?e.indexOf("]>",r)+1:t}else if("!["===e.substr(r+1,2)){const i=m(e,"]]>",r,"CDATA is not closed.")-2,a=e.substring(r+9,i);if(u&&(c.val=s.getValue(c.val)+""+l(c.tagname,u,t),u=""),t.cdataTagName){const e=new n(t.cdataTagName,c,a);c.addChild(e),c.val=s.getValue(c.val)+t.cdataPositionChar,a&&(e.val=a)}else c.val=(c.val||"")+(a||"");r=i+2}else{const i=d(e,r+1);let a=i.data;const o=i.index,h=a.indexOf(" ");let m=a,p=!0;if(-1!==h&&(m=a.substr(0,h).replace(/\s\s*$/,""),a=a.substr(h+1)),t.ignoreNameSpace){const e=m.indexOf(":");-1!==e&&(m=m.substr(e+1),p=m!==i.data.substr(e+1))}if(c&&u&&"!xml"!==c.tagname&&(c.val=s.getValue(c.val)+""+l(c.tagname,u,t)),a.length>0&&a.lastIndexOf("/")===a.length-1){"/"===m[m.length-1]?(m=m.substr(0,m.length-1),a=m):a=a.substr(0,a.length-1);const e=new n(m,c,"");m!==a&&(e.attrsMap=f(a,t)),c.addChild(e)}else{const e=new n(m,c);t.stopNodes.length&&t.stopNodes.includes(e.tagname)&&(e.startIndex=o),m!==a&&p&&(e.attrsMap=f(a,t)),c.addChild(e),c=e}u="",r=o}else u+=e[r]}return r}},4277:e=>{"use strict";function t(e){return"url"!==e}e.exports=function(e){return Object.keys(e).filter(t).map((function(t,r,s){return`${t}="${e[t]}${r===s.length-1?'"':'";'}`})).join(" ")}},9361:e=>{"use strict";e.exports=function(e){const t={};return Object.keys(e).forEach((function(r){const s=Object.assign({},e[r]);void 0===t[s.url]?t[s.url]=s:t[s.url].rel+=` ${s.rel}`})),Object.keys(t).map((function(e){return t[e]}))}},8389:(e,t,r)=>{"use strict";const s=r(9361),i=r(662),n=r(4277);e.exports=function(e){return null==e?"":s(e).map((function(e){const t=i(e),r=n(t);return`<${t.url}>; ${r}`})).join(", ")}},662:(e,t,r)=>{"use strict";const s=r(8575);e.exports=function(e){const t=s.parse(e.url,!0).query;return Object.keys(e).reduce((function(r,s){const i=e[s];return void 0===t[s]?Object.assign({},r,{[s]:i}):r}),{})}},9090:(e,t,r)=>{var s,i=r(4155);
/*
 * [hi-base32]{@link https://github.com/emn178/hi-base32}
 *
 * @version 0.5.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2015-2018
 * @license MIT
 */
!function(){"use strict";var t="object"==typeof window?window:{};!t.HI_BASE32_NO_NODE_JS&&"object"==typeof i&&i.versions&&i.versions.node&&(t=r.g);var n=!t.HI_BASE32_NO_COMMON_JS&&e.exports,a=r.amdO,o="ABCDEFGHIJKLMNOPQRSTUVWXYZ234567".split(""),l={A:0,B:1,C:2,D:3,E:4,F:5,G:6,H:7,I:8,J:9,K:10,L:11,M:12,N:13,O:14,P:15,Q:16,R:17,S:18,T:19,U:20,V:21,W:22,X:23,Y:24,Z:25,2:26,3:27,4:28,5:29,6:30,7:31},c=[0,0,0,0,0,0,0,0],u=function(e,t){t.length>10&&(t="..."+t.substr(-10));var r=new Error("Decoded data is not valid UTF-8. Maybe try base32.decode.asBytes()? Partial data after reading "+e+" bytes: "+t+" <-");throw r.position=e,r},h=function(e){if(!/^[A-Z2-7=]+$/.test(e))throw new Error("Invalid base32 characters");for(var t,r,s,i,n,a,o,c,u=[],h=0,f=(e=e.replace(/=/g,"")).length,d=0,m=f>>3<<3;d<m;)t=l[e.charAt(d++)],r=l[e.charAt(d++)],s=l[e.charAt(d++)],i=l[e.charAt(d++)],n=l[e.charAt(d++)],a=l[e.charAt(d++)],o=l[e.charAt(d++)],c=l[e.charAt(d++)],u[h++]=255&(t<<3|r>>>2),u[h++]=255&(r<<6|s<<1|i>>>4),u[h++]=255&(i<<4|n>>>1),u[h++]=255&(n<<7|a<<2|o>>>3),u[h++]=255&(o<<5|c);var p=f-m;return 2===p?(t=l[e.charAt(d++)],r=l[e.charAt(d++)],u[h++]=255&(t<<3|r>>>2)):4===p?(t=l[e.charAt(d++)],r=l[e.charAt(d++)],s=l[e.charAt(d++)],i=l[e.charAt(d++)],u[h++]=255&(t<<3|r>>>2),u[h++]=255&(r<<6|s<<1|i>>>4)):5===p?(t=l[e.charAt(d++)],r=l[e.charAt(d++)],s=l[e.charAt(d++)],i=l[e.charAt(d++)],n=l[e.charAt(d++)],u[h++]=255&(t<<3|r>>>2),u[h++]=255&(r<<6|s<<1|i>>>4),u[h++]=255&(i<<4|n>>>1)):7===p&&(t=l[e.charAt(d++)],r=l[e.charAt(d++)],s=l[e.charAt(d++)],i=l[e.charAt(d++)],n=l[e.charAt(d++)],a=l[e.charAt(d++)],o=l[e.charAt(d++)],u[h++]=255&(t<<3|r>>>2),u[h++]=255&(r<<6|s<<1|i>>>4),u[h++]=255&(i<<4|n>>>1),u[h++]=255&(n<<7|a<<2|o>>>3)),u},f=function(e,t){if(!t)return function(e){for(var t,r,s="",i=e.length,n=0,a=0;n<i;)if((t=e[n++])<=127)s+=String.fromCharCode(t);else{t>191&&t<=223?(r=31&t,a=1):t<=239?(r=15&t,a=2):t<=247?(r=7&t,a=3):u(n,s);for(var o=0;o<a;++o)((t=e[n++])<128||t>191)&&u(n,s),r<<=6,r+=63&t;r>=55296&&r<=57343&&u(n,s),r>1114111&&u(n,s),r<=65535?s+=String.fromCharCode(r):(r-=65536,s+=String.fromCharCode(55296+(r>>10)),s+=String.fromCharCode(56320+(1023&r)))}return s}(h(e));if(!/^[A-Z2-7=]+$/.test(e))throw new Error("Invalid base32 characters");var r,s,i,n,a,o,c,f,d="",m=e.indexOf("=");-1===m&&(m=e.length);for(var p=0,g=m>>3<<3;p<g;)r=l[e.charAt(p++)],s=l[e.charAt(p++)],i=l[e.charAt(p++)],n=l[e.charAt(p++)],a=l[e.charAt(p++)],o=l[e.charAt(p++)],c=l[e.charAt(p++)],f=l[e.charAt(p++)],d+=String.fromCharCode(255&(r<<3|s>>>2))+String.fromCharCode(255&(s<<6|i<<1|n>>>4))+String.fromCharCode(255&(n<<4|a>>>1))+String.fromCharCode(255&(a<<7|o<<2|c>>>3))+String.fromCharCode(255&(c<<5|f));var w=m-g;return 2===w?(r=l[e.charAt(p++)],s=l[e.charAt(p++)],d+=String.fromCharCode(255&(r<<3|s>>>2))):4===w?(r=l[e.charAt(p++)],s=l[e.charAt(p++)],i=l[e.charAt(p++)],n=l[e.charAt(p++)],d+=String.fromCharCode(255&(r<<3|s>>>2))+String.fromCharCode(255&(s<<6|i<<1|n>>>4))):5===w?(r=l[e.charAt(p++)],s=l[e.charAt(p++)],i=l[e.charAt(p++)],n=l[e.charAt(p++)],a=l[e.charAt(p++)],d+=String.fromCharCode(255&(r<<3|s>>>2))+String.fromCharCode(255&(s<<6|i<<1|n>>>4))+String.fromCharCode(255&(n<<4|a>>>1))):7===w&&(r=l[e.charAt(p++)],s=l[e.charAt(p++)],i=l[e.charAt(p++)],n=l[e.charAt(p++)],a=l[e.charAt(p++)],o=l[e.charAt(p++)],c=l[e.charAt(p++)],d+=String.fromCharCode(255&(r<<3|s>>>2))+String.fromCharCode(255&(s<<6|i<<1|n>>>4))+String.fromCharCode(255&(n<<4|a>>>1))+String.fromCharCode(255&(a<<7|o<<2|c>>>3))),d},d={encode:function(e,t){var r="string"!=typeof e;return r&&e.constructor===ArrayBuffer&&(e=new Uint8Array(e)),r?function(e){for(var t,r,s,i,n,a="",l=e.length,c=0,u=5*parseInt(l/5);c<u;)t=e[c++],r=e[c++],s=e[c++],i=e[c++],n=e[c++],a+=o[t>>>3]+o[31&(t<<2|r>>>6)]+o[r>>>1&31]+o[31&(r<<4|s>>>4)]+o[31&(s<<1|i>>>7)]+o[i>>>2&31]+o[31&(i<<3|n>>>5)]+o[31&n];var h=l-u;return 1===h?(t=e[c],a+=o[t>>>3]+o[t<<2&31]+"======"):2===h?(t=e[c++],r=e[c],a+=o[t>>>3]+o[31&(t<<2|r>>>6)]+o[r>>>1&31]+o[r<<4&31]+"===="):3===h?(t=e[c++],r=e[c++],s=e[c],a+=o[t>>>3]+o[31&(t<<2|r>>>6)]+o[r>>>1&31]+o[31&(r<<4|s>>>4)]+o[s<<1&31]+"==="):4===h&&(t=e[c++],r=e[c++],s=e[c++],i=e[c],a+=o[t>>>3]+o[31&(t<<2|r>>>6)]+o[r>>>1&31]+o[31&(r<<4|s>>>4)]+o[31&(s<<1|i>>>7)]+o[i>>>2&31]+o[i<<3&31]+"="),a}(e):t?function(e){for(var t,r,s,i,n,a="",l=e.length,c=0,u=5*parseInt(l/5);c<u;)t=e.charCodeAt(c++),r=e.charCodeAt(c++),s=e.charCodeAt(c++),i=e.charCodeAt(c++),n=e.charCodeAt(c++),a+=o[t>>>3]+o[31&(t<<2|r>>>6)]+o[r>>>1&31]+o[31&(r<<4|s>>>4)]+o[31&(s<<1|i>>>7)]+o[i>>>2&31]+o[31&(i<<3|n>>>5)]+o[31&n];var h=l-u;return 1===h?(t=e.charCodeAt(c),a+=o[t>>>3]+o[t<<2&31]+"======"):2===h?(t=e.charCodeAt(c++),r=e.charCodeAt(c),a+=o[t>>>3]+o[31&(t<<2|r>>>6)]+o[r>>>1&31]+o[r<<4&31]+"===="):3===h?(t=e.charCodeAt(c++),r=e.charCodeAt(c++),s=e.charCodeAt(c),a+=o[t>>>3]+o[31&(t<<2|r>>>6)]+o[r>>>1&31]+o[31&(r<<4|s>>>4)]+o[s<<1&31]+"==="):4===h&&(t=e.charCodeAt(c++),r=e.charCodeAt(c++),s=e.charCodeAt(c++),i=e.charCodeAt(c),a+=o[t>>>3]+o[31&(t<<2|r>>>6)]+o[r>>>1&31]+o[31&(r<<4|s>>>4)]+o[31&(s<<1|i>>>7)]+o[i>>>2&31]+o[i<<3&31]+"="),a}(e):function(e){var t,r,s,i,n,a,l,u=!1,h="",f=0,d=0,m=e.length;do{for(c[0]=c[5],c[1]=c[6],c[2]=c[7],l=d;f<m&&l<5;++f)(a=e.charCodeAt(f))<128?c[l++]=a:a<2048?(c[l++]=192|a>>6,c[l++]=128|63&a):a<55296||a>=57344?(c[l++]=224|a>>12,c[l++]=128|a>>6&63,c[l++]=128|63&a):(a=65536+((1023&a)<<10|1023&e.charCodeAt(++f)),c[l++]=240|a>>18,c[l++]=128|a>>12&63,c[l++]=128|a>>6&63,c[l++]=128|63&a);d=l-5,f===m&&++f,f>m&&l<6&&(u=!0),t=c[0],l>4?(r=c[1],s=c[2],i=c[3],n=c[4],h+=o[t>>>3]+o[31&(t<<2|r>>>6)]+o[r>>>1&31]+o[31&(r<<4|s>>>4)]+o[31&(s<<1|i>>>7)]+o[i>>>2&31]+o[31&(i<<3|n>>>5)]+o[31&n]):1===l?h+=o[t>>>3]+o[t<<2&31]+"======":2===l?(r=c[1],h+=o[t>>>3]+o[31&(t<<2|r>>>6)]+o[r>>>1&31]+o[r<<4&31]+"===="):3===l?(r=c[1],s=c[2],h+=o[t>>>3]+o[31&(t<<2|r>>>6)]+o[r>>>1&31]+o[31&(r<<4|s>>>4)]+o[s<<1&31]+"==="):(r=c[1],s=c[2],i=c[3],h+=o[t>>>3]+o[31&(t<<2|r>>>6)]+o[r>>>1&31]+o[31&(r<<4|s>>>4)]+o[31&(s<<1|i>>>7)]+o[i>>>2&31]+o[i<<3&31]+"=")}while(!u);return h}(e)},decode:f};f.asBytes=h,n?e.exports=d:(t.base32=d,a&&(void 0===(s=function(){return d}.call(d,r,d,e))||(e.exports=s)))}()},645:(e,t)=>{
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
t.read=function(e,t,r,s,i){var n,a,o=8*i-s-1,l=(1<<o)-1,c=l>>1,u=-7,h=r?i-1:0,f=r?-1:1,d=e[t+h];for(h+=f,n=d&(1<<-u)-1,d>>=-u,u+=o;u>0;n=256*n+e[t+h],h+=f,u-=8);for(a=n&(1<<-u)-1,n>>=-u,u+=s;u>0;a=256*a+e[t+h],h+=f,u-=8);if(0===n)n=1-c;else{if(n===l)return a?NaN:1/0*(d?-1:1);a+=Math.pow(2,s),n-=c}return(d?-1:1)*a*Math.pow(2,n-s)},t.write=function(e,t,r,s,i,n){var a,o,l,c=8*n-i-1,u=(1<<c)-1,h=u>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=s?0:n-1,m=s?1:-1,p=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(o=isNaN(t)?1:0,a=u):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),(t+=a+h>=1?f/l:f*Math.pow(2,1-h))*l>=2&&(a++,l/=2),a+h>=u?(o=0,a=u):a+h>=1?(o=(t*l-1)*Math.pow(2,i),a+=h):(o=t*Math.pow(2,h-1)*Math.pow(2,i),a=0));i>=8;e[r+d]=255&o,d+=m,o/=256,i-=8);for(a=a<<i|o,c+=i;c>0;e[r+d]=255&a,d+=m,a/=256,c-=8);e[r+d-m]|=128*p}},5717:e=>{"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}},9991:e=>{"use strict";e.exports=function(){function e(e,t,r,s,i){return e<t||r<t?e>r?r+1:e+1:s===i?t:t+1}return function(t,r){if(t===r)return 0;if(t.length>r.length){var s=t;t=r,r=s}for(var i=t.length,n=r.length;i>0&&t.charCodeAt(i-1)===r.charCodeAt(n-1);)i--,n--;for(var a=0;a<i&&t.charCodeAt(a)===r.charCodeAt(a);)a++;if(n-=a,0===(i-=a)||n<3)return n;var o,l,c,u,h,f,d,m,p,g,w,y,b=0,v=[];for(o=0;o<i;o++)v.push(o+1),v.push(t.charCodeAt(a+o));for(var A=v.length-1;b<n-3;)for(p=r.charCodeAt(a+(l=b)),g=r.charCodeAt(a+(c=b+1)),w=r.charCodeAt(a+(u=b+2)),y=r.charCodeAt(a+(h=b+3)),f=b+=4,o=0;o<A;o+=2)l=e(d=v[o],l,c,p,m=v[o+1]),c=e(l,c,u,g,m),u=e(c,u,h,w,m),f=e(u,h,f,y,m),v[o]=f,h=u,u=c,c=l,l=d;for(;b<n;)for(p=r.charCodeAt(a+(l=b)),f=++b,o=0;o<A;o+=2)d=v[o],v[o]=f=e(d,l,f,p,v[o+1]),l=d;return f}}()},8490:(e,t,r)=>{"use strict";var s=r(4155),i=r(7673),n=r(8575),a=r(7529);const o=parseInt(s.env.PARSE_LINK_HEADER_MAXLEN)||2e3,l=null!=s.env.PARSE_LINK_HEADER_THROW_ON_MAXLEN_EXCEEDED;function c(e){return e&&e.rel}function u(e,t){return t.rel.split(/\s+/).forEach((function(r){e[r]=a(t,{rel:r})})),e}function h(e,t){var r=t.match(/\s*(.+)\s*=\s*"?([^"]+)"?/);return r&&(e[r[1]]=r[2]),e}function f(e){try{var t=e.match(/<?([^>]*)>(.*)/),r=t[1],s=t[2].split(";"),o=n.parse(r),l=i.parse(o.query);s.shift();var c=s.reduce(h,{});return(c=a(l,c)).url=r,c}catch(e){return null}}e.exports=function(e){return function(e){if(!e)return!1;if(e.length>o){if(l)throw new Error("Input string too long, it should be under "+o+" characters.");return!1}return!0}(e)?e.split(/,\s*</).map(f).filter(c).reduce(u,{}):null}},980:(e,t,r)=>{"use strict";const s=r(2650),{escapeString:i}=r(3988);e.exports=class extends s{constructor(){super({sourceCodeLocationInfo:!0}),this.posTracker=this.locInfoMixin.posTracker}_transformChunk(e){super._transformChunk(e)}_getRawHtml(e){const t=this.posTracker.droppedBufferSize,r=e.startOffset-t,s=e.endOffset-t;return this.tokenizer.preprocessor.html.slice(r,s)}_handleToken(e){super._handleToken(e)||this.emitRaw(this._getRawHtml(e.location)),this.parserFeedbackSimulator.skipNextNewLine=!1}_emitToken(e,t){this.emit(e,t,this._getRawHtml(t.sourceCodeLocation))}emitDoctype(e){let t=`<!DOCTYPE ${e.name}`;null!==e.publicId?t+=` PUBLIC "${e.publicId}"`:null!==e.systemId&&(t+=" SYSTEM"),null!==e.systemId&&(t+=` "${e.systemId}"`),t+=">",this.push(t)}emitStartTag(e){let t=`<${e.tagName}`;const r=e.attrs;for(let e=0;e<r.length;e++)t+=` ${r[e].name}="${i(r[e].value,!0)}"`;t+=e.selfClosing?"/>":">",this.push(t)}emitEndTag(e){this.push(`</${e.tagName}>`)}emitText({text:e}){this.push(i(e,!1))}emitComment(e){this.push(`\x3c!--${e.text}--\x3e`)}emitRaw(e){this.push(e)}}},2372:(e,t,r)=>{"use strict";const{Writable:s}=r(2830);e.exports=class extends s{_write(e,t,r){r()}}},2650:(e,t,r)=>{"use strict";const{Transform:s}=r(2830),i=r(5763),n=r(6110),a=r(1704),o=r(8904),l=r(2372),c=r(1040),u={sourceCodeLocationInfo:!1};const h={[i.START_TAG_TOKEN]:{eventName:"startTag",reshapeToken:e=>({tagName:e.tagName,attrs:e.attrs,selfClosing:e.selfClosing,sourceCodeLocation:e.location})},[i.END_TAG_TOKEN]:{eventName:"endTag",reshapeToken:e=>({tagName:e.tagName,sourceCodeLocation:e.location})},[i.COMMENT_TOKEN]:{eventName:"comment",reshapeToken:e=>({text:e.data,sourceCodeLocation:e.location})},[i.DOCTYPE_TOKEN]:{eventName:"doctype",reshapeToken:e=>({name:e.name,publicId:e.publicId,systemId:e.systemId,sourceCodeLocation:e.location})},[i.CHARACTER_TOKEN]:{eventName:"text",reshapeToken:e=>({text:e.chars,sourceCodeLocation:e.location})}};e.exports=class extends s{constructor(e){super({encoding:"utf8",decodeStrings:!1}),this.options=o(u,e),this.tokenizer=new i(e),this.locInfoMixin=null,this.options.sourceCodeLocationInfo&&(this.locInfoMixin=a.install(this.tokenizer,n)),this.parserFeedbackSimulator=new c(this.tokenizer),this.pendingText=null,this.lastChunkWritten=!1,this.stopped=!1,this.pipe(new l)}_transform(e,t,r){if("string"!=typeof e)throw new TypeError("Parser can work only with string streams.");r(null,this._transformChunk(e))}_final(e){this.lastChunkWritten=!0,e(null,this._transformChunk(""))}stop(){this.stopped=!0}_transformChunk(e){return this.stopped||(this.tokenizer.write(e,this.lastChunkWritten),this._runParsingLoop()),e}_runParsingLoop(){let e=null;do{if(e=this.parserFeedbackSimulator.getNextToken(),e.type===i.HIBERNATION_TOKEN)break;if(e.type===i.CHARACTER_TOKEN||e.type===i.WHITESPACE_CHARACTER_TOKEN||e.type===i.NULL_CHARACTER_TOKEN){if(null===this.pendingText)e.type=i.CHARACTER_TOKEN,this.pendingText=e;else if(this.pendingText.chars+=e.chars,this.options.sourceCodeLocationInfo){const{endLine:t,endCol:r,endOffset:s}=e.location;Object.assign(this.pendingText.location,{endLine:t,endCol:r,endOffset:s})}}else this._emitPendingText(),this._handleToken(e)}while(!this.stopped&&e.type!==i.EOF_TOKEN)}_handleToken(e){if(e.type===i.EOF_TOKEN)return!0;const{eventName:t,reshapeToken:r}=h[e.type];return 0!==this.listenerCount(t)&&(this._emitToken(t,r(e)),!0)}_emitToken(e,t){this.emit(e,t)}_emitPendingText(){null!==this.pendingText&&(this._handleToken(this.pendingText),this.pendingText=null)}}},1040:(e,t,r)=>{"use strict";const s=r(5763),i=r(8779),n=r(4284),a=r(6152),o=a.TAG_NAMES,l=a.NAMESPACES;e.exports=class{constructor(e){this.tokenizer=e,this.namespaceStack=[],this.namespaceStackTop=-1,this._enterNamespace(l.HTML)}getNextToken(){const e=this.tokenizer.getNextToken();if(e.type===s.START_TAG_TOKEN)this._handleStartTagToken(e);else if(e.type===s.END_TAG_TOKEN)this._handleEndTagToken(e);else if(e.type===s.NULL_CHARACTER_TOKEN&&this.inForeignContent)e.type=s.CHARACTER_TOKEN,e.chars=n.REPLACEMENT_CHARACTER;else if(this.skipNextNewLine&&(e.type!==s.HIBERNATION_TOKEN&&(this.skipNextNewLine=!1),e.type===s.WHITESPACE_CHARACTER_TOKEN&&"\n"===e.chars[0])){if(1===e.chars.length)return this.getNextToken();e.chars=e.chars.substr(1)}return e}_enterNamespace(e){this.namespaceStackTop++,this.namespaceStack.push(e),this.inForeignContent=e!==l.HTML,this.currentNamespace=e,this.tokenizer.allowCDATA=this.inForeignContent}_leaveCurrentNamespace(){this.namespaceStackTop--,this.namespaceStack.pop(),this.currentNamespace=this.namespaceStack[this.namespaceStackTop],this.inForeignContent=this.currentNamespace!==l.HTML,this.tokenizer.allowCDATA=this.inForeignContent}_ensureTokenizerMode(e){e===o.TEXTAREA||e===o.TITLE?this.tokenizer.state=s.MODE.RCDATA:e===o.PLAINTEXT?this.tokenizer.state=s.MODE.PLAINTEXT:e===o.SCRIPT?this.tokenizer.state=s.MODE.SCRIPT_DATA:e!==o.STYLE&&e!==o.IFRAME&&e!==o.XMP&&e!==o.NOEMBED&&e!==o.NOFRAMES&&e!==o.NOSCRIPT||(this.tokenizer.state=s.MODE.RAWTEXT)}_handleStartTagToken(e){let t=e.tagName;if(t===o.SVG?this._enterNamespace(l.SVG):t===o.MATH&&this._enterNamespace(l.MATHML),this.inForeignContent){if(i.causesExit(e))return void this._leaveCurrentNamespace();const r=this.currentNamespace;r===l.MATHML?i.adjustTokenMathMLAttrs(e):r===l.SVG&&(i.adjustTokenSVGTagName(e),i.adjustTokenSVGAttrs(e)),i.adjustTokenXMLAttrs(e),t=e.tagName,!e.selfClosing&&i.isIntegrationPoint(t,r,e.attrs)&&this._enterNamespace(l.HTML)}else t===o.PRE||t===o.TEXTAREA||t===o.LISTING?this.skipNextNewLine=!0:t===o.IMAGE&&(e.tagName=o.IMG),this._ensureTokenizerMode(t)}_handleEndTagToken(e){let t=e.tagName;if(this.inForeignContent)(t===o.SVG&&this.currentNamespace===l.SVG||t===o.MATH&&this.currentNamespace===l.MATHML)&&this._leaveCurrentNamespace();else{const r=this.namespaceStack[this.namespaceStackTop-1];r===l.SVG&&i.SVG_TAG_NAMES_ADJUSTMENT_MAP[t]&&(t=i.SVG_TAG_NAMES_ADJUSTMENT_MAP[t]),i.isIntegrationPoint(t,r,e.attrs)&&this._leaveCurrentNamespace()}this.currentNamespace===l.SVG&&i.adjustTokenSVGTagName(e)}}},1515:(e,t,r)=>{"use strict";const{DOCUMENT_MODE:s}=r(6152),i="html",n=["+//silmaril//dtd html pro v0r11 19970101//","-//as//dtd html 3.0 aswedit + extensions//","-//advasoft ltd//dtd html 3.0 aswedit + extensions//","-//ietf//dtd html 2.0 level 1//","-//ietf//dtd html 2.0 level 2//","-//ietf//dtd html 2.0 strict level 1//","-//ietf//dtd html 2.0 strict level 2//","-//ietf//dtd html 2.0 strict//","-//ietf//dtd html 2.0//","-//ietf//dtd html 2.1e//","-//ietf//dtd html 3.0//","-//ietf//dtd html 3.2 final//","-//ietf//dtd html 3.2//","-//ietf//dtd html 3//","-//ietf//dtd html level 0//","-//ietf//dtd html level 1//","-//ietf//dtd html level 2//","-//ietf//dtd html level 3//","-//ietf//dtd html strict level 0//","-//ietf//dtd html strict level 1//","-//ietf//dtd html strict level 2//","-//ietf//dtd html strict level 3//","-//ietf//dtd html strict//","-//ietf//dtd html//","-//metrius//dtd metrius presentational//","-//microsoft//dtd internet explorer 2.0 html strict//","-//microsoft//dtd internet explorer 2.0 html//","-//microsoft//dtd internet explorer 2.0 tables//","-//microsoft//dtd internet explorer 3.0 html strict//","-//microsoft//dtd internet explorer 3.0 html//","-//microsoft//dtd internet explorer 3.0 tables//","-//netscape comm. corp.//dtd html//","-//netscape comm. corp.//dtd strict html//","-//o'reilly and associates//dtd html 2.0//","-//o'reilly and associates//dtd html extended 1.0//","-//o'reilly and associates//dtd html extended relaxed 1.0//","-//sq//dtd html 2.0 hotmetal + extensions//","-//softquad software//dtd hotmetal pro 6.0::19990601::extensions to html 4.0//","-//softquad//dtd hotmetal pro 4.0::19971010::extensions to html 4.0//","-//spyglass//dtd html 2.0 extended//","-//sun microsystems corp.//dtd hotjava html//","-//sun microsystems corp.//dtd hotjava strict html//","-//w3c//dtd html 3 1995-03-24//","-//w3c//dtd html 3.2 draft//","-//w3c//dtd html 3.2 final//","-//w3c//dtd html 3.2//","-//w3c//dtd html 3.2s draft//","-//w3c//dtd html 4.0 frameset//","-//w3c//dtd html 4.0 transitional//","-//w3c//dtd html experimental 19960712//","-//w3c//dtd html experimental 970421//","-//w3c//dtd w3 html//","-//w3o//dtd w3 html 3.0//","-//webtechs//dtd mozilla html 2.0//","-//webtechs//dtd mozilla html//"],a=n.concat(["-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"]),o=["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"],l=["-//w3c//dtd xhtml 1.0 frameset//","-//w3c//dtd xhtml 1.0 transitional//"],c=l.concat(["-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"]);function u(e){const t=-1!==e.indexOf('"')?"'":'"';return t+e+t}function h(e,t){for(let r=0;r<t.length;r++)if(0===e.indexOf(t[r]))return!0;return!1}t.isConforming=function(e){return e.name===i&&null===e.publicId&&(null===e.systemId||"about:legacy-compat"===e.systemId)},t.getDocumentMode=function(e){if(e.name!==i)return s.QUIRKS;const t=e.systemId;if(t&&"http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd"===t.toLowerCase())return s.QUIRKS;let r=e.publicId;if(null!==r){if(r=r.toLowerCase(),o.indexOf(r)>-1)return s.QUIRKS;let e=null===t?a:n;if(h(r,e))return s.QUIRKS;if(e=null===t?l:c,h(r,e))return s.LIMITED_QUIRKS}return s.NO_QUIRKS},t.serializeContent=function(e,t,r){let s="!DOCTYPE ";return e&&(s+=e),t?s+=" PUBLIC "+u(t):r&&(s+=" SYSTEM"),null!==r&&(s+=" "+u(r)),s}},1734:e=>{"use strict";e.exports={controlCharacterInInputStream:"control-character-in-input-stream",noncharacterInInputStream:"noncharacter-in-input-stream",surrogateInInputStream:"surrogate-in-input-stream",nonVoidHtmlElementStartTagWithTrailingSolidus:"non-void-html-element-start-tag-with-trailing-solidus",endTagWithAttributes:"end-tag-with-attributes",endTagWithTrailingSolidus:"end-tag-with-trailing-solidus",unexpectedSolidusInTag:"unexpected-solidus-in-tag",unexpectedNullCharacter:"unexpected-null-character",unexpectedQuestionMarkInsteadOfTagName:"unexpected-question-mark-instead-of-tag-name",invalidFirstCharacterOfTagName:"invalid-first-character-of-tag-name",unexpectedEqualsSignBeforeAttributeName:"unexpected-equals-sign-before-attribute-name",missingEndTagName:"missing-end-tag-name",unexpectedCharacterInAttributeName:"unexpected-character-in-attribute-name",unknownNamedCharacterReference:"unknown-named-character-reference",missingSemicolonAfterCharacterReference:"missing-semicolon-after-character-reference",unexpectedCharacterAfterDoctypeSystemIdentifier:"unexpected-character-after-doctype-system-identifier",unexpectedCharacterInUnquotedAttributeValue:"unexpected-character-in-unquoted-attribute-value",eofBeforeTagName:"eof-before-tag-name",eofInTag:"eof-in-tag",missingAttributeValue:"missing-attribute-value",missingWhitespaceBetweenAttributes:"missing-whitespace-between-attributes",missingWhitespaceAfterDoctypePublicKeyword:"missing-whitespace-after-doctype-public-keyword",missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers:"missing-whitespace-between-doctype-public-and-system-identifiers",missingWhitespaceAfterDoctypeSystemKeyword:"missing-whitespace-after-doctype-system-keyword",missingQuoteBeforeDoctypePublicIdentifier:"missing-quote-before-doctype-public-identifier",missingQuoteBeforeDoctypeSystemIdentifier:"missing-quote-before-doctype-system-identifier",missingDoctypePublicIdentifier:"missing-doctype-public-identifier",missingDoctypeSystemIdentifier:"missing-doctype-system-identifier",abruptDoctypePublicIdentifier:"abrupt-doctype-public-identifier",abruptDoctypeSystemIdentifier:"abrupt-doctype-system-identifier",cdataInHtmlContent:"cdata-in-html-content",incorrectlyOpenedComment:"incorrectly-opened-comment",eofInScriptHtmlCommentLikeText:"eof-in-script-html-comment-like-text",eofInDoctype:"eof-in-doctype",nestedComment:"nested-comment",abruptClosingOfEmptyComment:"abrupt-closing-of-empty-comment",eofInComment:"eof-in-comment",incorrectlyClosedComment:"incorrectly-closed-comment",eofInCdata:"eof-in-cdata",absenceOfDigitsInNumericCharacterReference:"absence-of-digits-in-numeric-character-reference",nullCharacterReference:"null-character-reference",surrogateCharacterReference:"surrogate-character-reference",characterReferenceOutsideUnicodeRange:"character-reference-outside-unicode-range",controlCharacterReference:"control-character-reference",noncharacterCharacterReference:"noncharacter-character-reference",missingWhitespaceBeforeDoctypeName:"missing-whitespace-before-doctype-name",missingDoctypeName:"missing-doctype-name",invalidCharacterSequenceAfterDoctypeName:"invalid-character-sequence-after-doctype-name",duplicateAttribute:"duplicate-attribute",nonConformingDoctype:"non-conforming-doctype",missingDoctype:"missing-doctype",misplacedDoctype:"misplaced-doctype",endTagWithoutMatchingOpenElement:"end-tag-without-matching-open-element",closingOfElementWithOpenChildElements:"closing-of-element-with-open-child-elements",disallowedContentInNoscriptInHead:"disallowed-content-in-noscript-in-head",openElementsLeftAfterEof:"open-elements-left-after-eof",abandonedHeadElementChild:"abandoned-head-element-child",misplacedStartTagForHeadElement:"misplaced-start-tag-for-head-element",nestedNoscriptInHead:"nested-noscript-in-head",eofInElementThatCanContainOnlyText:"eof-in-element-that-can-contain-only-text"}},8779:(e,t,r)=>{"use strict";const s=r(5763),i=r(6152),n=i.TAG_NAMES,a=i.NAMESPACES,o=i.ATTRS,l="text/html",c="application/xhtml+xml",u={attributename:"attributeName",attributetype:"attributeType",basefrequency:"baseFrequency",baseprofile:"baseProfile",calcmode:"calcMode",clippathunits:"clipPathUnits",diffuseconstant:"diffuseConstant",edgemode:"edgeMode",filterunits:"filterUnits",glyphref:"glyphRef",gradienttransform:"gradientTransform",gradientunits:"gradientUnits",kernelmatrix:"kernelMatrix",kernelunitlength:"kernelUnitLength",keypoints:"keyPoints",keysplines:"keySplines",keytimes:"keyTimes",lengthadjust:"lengthAdjust",limitingconeangle:"limitingConeAngle",markerheight:"markerHeight",markerunits:"markerUnits",markerwidth:"markerWidth",maskcontentunits:"maskContentUnits",maskunits:"maskUnits",numoctaves:"numOctaves",pathlength:"pathLength",patterncontentunits:"patternContentUnits",patterntransform:"patternTransform",patternunits:"patternUnits",pointsatx:"pointsAtX",pointsaty:"pointsAtY",pointsatz:"pointsAtZ",preservealpha:"preserveAlpha",preserveaspectratio:"preserveAspectRatio",primitiveunits:"primitiveUnits",refx:"refX",refy:"refY",repeatcount:"repeatCount",repeatdur:"repeatDur",requiredextensions:"requiredExtensions",requiredfeatures:"requiredFeatures",specularconstant:"specularConstant",specularexponent:"specularExponent",spreadmethod:"spreadMethod",startoffset:"startOffset",stddeviation:"stdDeviation",stitchtiles:"stitchTiles",surfacescale:"surfaceScale",systemlanguage:"systemLanguage",tablevalues:"tableValues",targetx:"targetX",targety:"targetY",textlength:"textLength",viewbox:"viewBox",viewtarget:"viewTarget",xchannelselector:"xChannelSelector",ychannelselector:"yChannelSelector",zoomandpan:"zoomAndPan"},h={"xlink:actuate":{prefix:"xlink",name:"actuate",namespace:a.XLINK},"xlink:arcrole":{prefix:"xlink",name:"arcrole",namespace:a.XLINK},"xlink:href":{prefix:"xlink",name:"href",namespace:a.XLINK},"xlink:role":{prefix:"xlink",name:"role",namespace:a.XLINK},"xlink:show":{prefix:"xlink",name:"show",namespace:a.XLINK},"xlink:title":{prefix:"xlink",name:"title",namespace:a.XLINK},"xlink:type":{prefix:"xlink",name:"type",namespace:a.XLINK},"xml:base":{prefix:"xml",name:"base",namespace:a.XML},"xml:lang":{prefix:"xml",name:"lang",namespace:a.XML},"xml:space":{prefix:"xml",name:"space",namespace:a.XML},xmlns:{prefix:"",name:"xmlns",namespace:a.XMLNS},"xmlns:xlink":{prefix:"xmlns",name:"xlink",namespace:a.XMLNS}},f=t.SVG_TAG_NAMES_ADJUSTMENT_MAP={altglyph:"altGlyph",altglyphdef:"altGlyphDef",altglyphitem:"altGlyphItem",animatecolor:"animateColor",animatemotion:"animateMotion",animatetransform:"animateTransform",clippath:"clipPath",feblend:"feBlend",fecolormatrix:"feColorMatrix",fecomponenttransfer:"feComponentTransfer",fecomposite:"feComposite",feconvolvematrix:"feConvolveMatrix",fediffuselighting:"feDiffuseLighting",fedisplacementmap:"feDisplacementMap",fedistantlight:"feDistantLight",feflood:"feFlood",fefunca:"feFuncA",fefuncb:"feFuncB",fefuncg:"feFuncG",fefuncr:"feFuncR",fegaussianblur:"feGaussianBlur",feimage:"feImage",femerge:"feMerge",femergenode:"feMergeNode",femorphology:"feMorphology",feoffset:"feOffset",fepointlight:"fePointLight",fespecularlighting:"feSpecularLighting",fespotlight:"feSpotLight",fetile:"feTile",feturbulence:"feTurbulence",foreignobject:"foreignObject",glyphref:"glyphRef",lineargradient:"linearGradient",radialgradient:"radialGradient",textpath:"textPath"},d={[n.B]:!0,[n.BIG]:!0,[n.BLOCKQUOTE]:!0,[n.BODY]:!0,[n.BR]:!0,[n.CENTER]:!0,[n.CODE]:!0,[n.DD]:!0,[n.DIV]:!0,[n.DL]:!0,[n.DT]:!0,[n.EM]:!0,[n.EMBED]:!0,[n.H1]:!0,[n.H2]:!0,[n.H3]:!0,[n.H4]:!0,[n.H5]:!0,[n.H6]:!0,[n.HEAD]:!0,[n.HR]:!0,[n.I]:!0,[n.IMG]:!0,[n.LI]:!0,[n.LISTING]:!0,[n.MENU]:!0,[n.META]:!0,[n.NOBR]:!0,[n.OL]:!0,[n.P]:!0,[n.PRE]:!0,[n.RUBY]:!0,[n.S]:!0,[n.SMALL]:!0,[n.SPAN]:!0,[n.STRONG]:!0,[n.STRIKE]:!0,[n.SUB]:!0,[n.SUP]:!0,[n.TABLE]:!0,[n.TT]:!0,[n.U]:!0,[n.UL]:!0,[n.VAR]:!0};t.causesExit=function(e){const t=e.tagName;return!!(t===n.FONT&&(null!==s.getTokenAttr(e,o.COLOR)||null!==s.getTokenAttr(e,o.SIZE)||null!==s.getTokenAttr(e,o.FACE)))||d[t]},t.adjustTokenMathMLAttrs=function(e){for(let t=0;t<e.attrs.length;t++)if("definitionurl"===e.attrs[t].name){e.attrs[t].name="definitionURL";break}},t.adjustTokenSVGAttrs=function(e){for(let t=0;t<e.attrs.length;t++){const r=u[e.attrs[t].name];r&&(e.attrs[t].name=r)}},t.adjustTokenXMLAttrs=function(e){for(let t=0;t<e.attrs.length;t++){const r=h[e.attrs[t].name];r&&(e.attrs[t].prefix=r.prefix,e.attrs[t].name=r.name,e.attrs[t].namespace=r.namespace)}},t.adjustTokenSVGTagName=function(e){const t=f[e.tagName];t&&(e.tagName=t)},t.isIntegrationPoint=function(e,t,r,s){return!(s&&s!==a.HTML||!function(e,t,r){if(t===a.MATHML&&e===n.ANNOTATION_XML)for(let e=0;e<r.length;e++)if(r[e].name===o.ENCODING){const t=r[e].value.toLowerCase();return t===l||t===c}return t===a.SVG&&(e===n.FOREIGN_OBJECT||e===n.DESC||e===n.TITLE)}(e,t,r))||!(s&&s!==a.MATHML||!function(e,t){return t===a.MATHML&&(e===n.MI||e===n.MO||e===n.MN||e===n.MS||e===n.MTEXT)}(e,t))}},6152:(e,t)=>{"use strict";const r=t.NAMESPACES={HTML:"http://www.w3.org/1999/xhtml",MATHML:"http://www.w3.org/1998/Math/MathML",SVG:"http://www.w3.org/2000/svg",XLINK:"http://www.w3.org/1999/xlink",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"};t.ATTRS={TYPE:"type",ACTION:"action",ENCODING:"encoding",PROMPT:"prompt",NAME:"name",COLOR:"color",FACE:"face",SIZE:"size"},t.DOCUMENT_MODE={NO_QUIRKS:"no-quirks",QUIRKS:"quirks",LIMITED_QUIRKS:"limited-quirks"};const s=t.TAG_NAMES={A:"a",ADDRESS:"address",ANNOTATION_XML:"annotation-xml",APPLET:"applet",AREA:"area",ARTICLE:"article",ASIDE:"aside",B:"b",BASE:"base",BASEFONT:"basefont",BGSOUND:"bgsound",BIG:"big",BLOCKQUOTE:"blockquote",BODY:"body",BR:"br",BUTTON:"button",CAPTION:"caption",CENTER:"center",CODE:"code",COL:"col",COLGROUP:"colgroup",DD:"dd",DESC:"desc",DETAILS:"details",DIALOG:"dialog",DIR:"dir",DIV:"div",DL:"dl",DT:"dt",EM:"em",EMBED:"embed",FIELDSET:"fieldset",FIGCAPTION:"figcaption",FIGURE:"figure",FONT:"font",FOOTER:"footer",FOREIGN_OBJECT:"foreignObject",FORM:"form",FRAME:"frame",FRAMESET:"frameset",H1:"h1",H2:"h2",H3:"h3",H4:"h4",H5:"h5",H6:"h6",HEAD:"head",HEADER:"header",HGROUP:"hgroup",HR:"hr",HTML:"html",I:"i",IMG:"img",IMAGE:"image",INPUT:"input",IFRAME:"iframe",KEYGEN:"keygen",LABEL:"label",LI:"li",LINK:"link",LISTING:"listing",MAIN:"main",MALIGNMARK:"malignmark",MARQUEE:"marquee",MATH:"math",MENU:"menu",META:"meta",MGLYPH:"mglyph",MI:"mi",MO:"mo",MN:"mn",MS:"ms",MTEXT:"mtext",NAV:"nav",NOBR:"nobr",NOFRAMES:"noframes",NOEMBED:"noembed",NOSCRIPT:"noscript",OBJECT:"object",OL:"ol",OPTGROUP:"optgroup",OPTION:"option",P:"p",PARAM:"param",PLAINTEXT:"plaintext",PRE:"pre",RB:"rb",RP:"rp",RT:"rt",RTC:"rtc",RUBY:"ruby",S:"s",SCRIPT:"script",SECTION:"section",SELECT:"select",SOURCE:"source",SMALL:"small",SPAN:"span",STRIKE:"strike",STRONG:"strong",STYLE:"style",SUB:"sub",SUMMARY:"summary",SUP:"sup",TABLE:"table",TBODY:"tbody",TEMPLATE:"template",TEXTAREA:"textarea",TFOOT:"tfoot",TD:"td",TH:"th",THEAD:"thead",TITLE:"title",TR:"tr",TRACK:"track",TT:"tt",U:"u",UL:"ul",SVG:"svg",VAR:"var",WBR:"wbr",XMP:"xmp"};t.SPECIAL_ELEMENTS={[r.HTML]:{[s.ADDRESS]:!0,[s.APPLET]:!0,[s.AREA]:!0,[s.ARTICLE]:!0,[s.ASIDE]:!0,[s.BASE]:!0,[s.BASEFONT]:!0,[s.BGSOUND]:!0,[s.BLOCKQUOTE]:!0,[s.BODY]:!0,[s.BR]:!0,[s.BUTTON]:!0,[s.CAPTION]:!0,[s.CENTER]:!0,[s.COL]:!0,[s.COLGROUP]:!0,[s.DD]:!0,[s.DETAILS]:!0,[s.DIR]:!0,[s.DIV]:!0,[s.DL]:!0,[s.DT]:!0,[s.EMBED]:!0,[s.FIELDSET]:!0,[s.FIGCAPTION]:!0,[s.FIGURE]:!0,[s.FOOTER]:!0,[s.FORM]:!0,[s.FRAME]:!0,[s.FRAMESET]:!0,[s.H1]:!0,[s.H2]:!0,[s.H3]:!0,[s.H4]:!0,[s.H5]:!0,[s.H6]:!0,[s.HEAD]:!0,[s.HEADER]:!0,[s.HGROUP]:!0,[s.HR]:!0,[s.HTML]:!0,[s.IFRAME]:!0,[s.IMG]:!0,[s.INPUT]:!0,[s.LI]:!0,[s.LINK]:!0,[s.LISTING]:!0,[s.MAIN]:!0,[s.MARQUEE]:!0,[s.MENU]:!0,[s.META]:!0,[s.NAV]:!0,[s.NOEMBED]:!0,[s.NOFRAMES]:!0,[s.NOSCRIPT]:!0,[s.OBJECT]:!0,[s.OL]:!0,[s.P]:!0,[s.PARAM]:!0,[s.PLAINTEXT]:!0,[s.PRE]:!0,[s.SCRIPT]:!0,[s.SECTION]:!0,[s.SELECT]:!0,[s.SOURCE]:!0,[s.STYLE]:!0,[s.SUMMARY]:!0,[s.TABLE]:!0,[s.TBODY]:!0,[s.TD]:!0,[s.TEMPLATE]:!0,[s.TEXTAREA]:!0,[s.TFOOT]:!0,[s.TH]:!0,[s.THEAD]:!0,[s.TITLE]:!0,[s.TR]:!0,[s.TRACK]:!0,[s.UL]:!0,[s.WBR]:!0,[s.XMP]:!0},[r.MATHML]:{[s.MI]:!0,[s.MO]:!0,[s.MN]:!0,[s.MS]:!0,[s.MTEXT]:!0,[s.ANNOTATION_XML]:!0},[r.SVG]:{[s.TITLE]:!0,[s.FOREIGN_OBJECT]:!0,[s.DESC]:!0}}},4284:(e,t)=>{"use strict";const r=[65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111];t.REPLACEMENT_CHARACTER="",t.CODE_POINTS={EOF:-1,NULL:0,TABULATION:9,CARRIAGE_RETURN:13,LINE_FEED:10,FORM_FEED:12,SPACE:32,EXCLAMATION_MARK:33,QUOTATION_MARK:34,NUMBER_SIGN:35,AMPERSAND:38,APOSTROPHE:39,HYPHEN_MINUS:45,SOLIDUS:47,DIGIT_0:48,DIGIT_9:57,SEMICOLON:59,LESS_THAN_SIGN:60,EQUALS_SIGN:61,GREATER_THAN_SIGN:62,QUESTION_MARK:63,LATIN_CAPITAL_A:65,LATIN_CAPITAL_F:70,LATIN_CAPITAL_X:88,LATIN_CAPITAL_Z:90,RIGHT_SQUARE_BRACKET:93,GRAVE_ACCENT:96,LATIN_SMALL_A:97,LATIN_SMALL_F:102,LATIN_SMALL_X:120,LATIN_SMALL_Z:122,REPLACEMENT_CHARACTER:65533},t.CODE_POINT_SEQUENCES={DASH_DASH_STRING:[45,45],DOCTYPE_STRING:[68,79,67,84,89,80,69],CDATA_START_STRING:[91,67,68,65,84,65,91],SCRIPT_STRING:[115,99,114,105,112,116],PUBLIC_STRING:[80,85,66,76,73,67],SYSTEM_STRING:[83,89,83,84,69,77]},t.isSurrogate=function(e){return e>=55296&&e<=57343},t.isSurrogatePair=function(e){return e>=56320&&e<=57343},t.getSurrogatePairCodePoint=function(e,t){return 1024*(e-55296)+9216+t},t.isControlCodePoint=function(e){return 32!==e&&10!==e&&13!==e&&9!==e&&12!==e&&e>=1&&e<=31||e>=127&&e<=159},t.isUndefinedCodePoint=function(e){return e>=64976&&e<=65007||r.indexOf(e)>-1}},6110:(e,t,r)=>{"use strict";const s=r(1704),i=r(5763),n=r(7930);e.exports=class extends s{constructor(e){super(e),this.tokenizer=e,this.posTracker=s.install(e.preprocessor,n),this.currentAttrLocation=null,this.ctLoc=null}_getCurrentLocation(){return{startLine:this.posTracker.line,startCol:this.posTracker.col,startOffset:this.posTracker.offset,endLine:-1,endCol:-1,endOffset:-1}}_attachCurrentAttrLocationInfo(){this.currentAttrLocation.endLine=this.posTracker.line,this.currentAttrLocation.endCol=this.posTracker.col,this.currentAttrLocation.endOffset=this.posTracker.offset;const e=this.tokenizer.currentToken,t=this.tokenizer.currentAttr;e.location.attrs||(e.location.attrs=Object.create(null)),e.location.attrs[t.name]=this.currentAttrLocation}_getOverriddenMethods(e,t){const r={_createStartTagToken(){t._createStartTagToken.call(this),this.currentToken.location=e.ctLoc},_createEndTagToken(){t._createEndTagToken.call(this),this.currentToken.location=e.ctLoc},_createCommentToken(){t._createCommentToken.call(this),this.currentToken.location=e.ctLoc},_createDoctypeToken(r){t._createDoctypeToken.call(this,r),this.currentToken.location=e.ctLoc},_createCharacterToken(r,s){t._createCharacterToken.call(this,r,s),this.currentCharacterToken.location=e.ctLoc},_createEOFToken(){t._createEOFToken.call(this),this.currentToken.location=e._getCurrentLocation()},_createAttr(r){t._createAttr.call(this,r),e.currentAttrLocation=e._getCurrentLocation()},_leaveAttrName(r){t._leaveAttrName.call(this,r),e._attachCurrentAttrLocationInfo()},_leaveAttrValue(r){t._leaveAttrValue.call(this,r),e._attachCurrentAttrLocationInfo()},_emitCurrentToken(){const r=this.currentToken.location;this.currentCharacterToken&&(this.currentCharacterToken.location.endLine=r.startLine,this.currentCharacterToken.location.endCol=r.startCol,this.currentCharacterToken.location.endOffset=r.startOffset),this.currentToken.type===i.EOF_TOKEN?(r.endLine=r.startLine,r.endCol=r.startCol,r.endOffset=r.startOffset):(r.endLine=e.posTracker.line,r.endCol=e.posTracker.col+1,r.endOffset=e.posTracker.offset+1),t._emitCurrentToken.call(this)},_emitCurrentCharacterToken(){const r=this.currentCharacterToken&&this.currentCharacterToken.location;r&&-1===r.endOffset&&(r.endLine=e.posTracker.line,r.endCol=e.posTracker.col,r.endOffset=e.posTracker.offset),t._emitCurrentCharacterToken.call(this)}};return Object.keys(i.MODE).forEach((s=>{const n=i.MODE[s];r[n]=function(r){e.ctLoc=e._getCurrentLocation(),t[n].call(this,r)}})),r}}},7930:(e,t,r)=>{"use strict";const s=r(1704);e.exports=class extends s{constructor(e){super(e),this.preprocessor=e,this.isEol=!1,this.lineStartPos=0,this.droppedBufferSize=0,this.offset=0,this.col=0,this.line=1}_getOverriddenMethods(e,t){return{advance(){const r=this.pos+1,s=this.html[r];return e.isEol&&(e.isEol=!1,e.line++,e.lineStartPos=r),("\n"===s||"\r"===s&&"\n"!==this.html[r+1])&&(e.isEol=!0),e.col=r-e.lineStartPos+1,e.offset=e.droppedBufferSize+r,t.advance.call(this)},retreat(){t.retreat.call(this),e.isEol=!1,e.col=this.pos-e.lineStartPos+1},dropParsedChunk(){const r=this.pos;t.dropParsedChunk.call(this);const s=r-this.pos;e.lineStartPos-=s,e.droppedBufferSize+=s,e.offset=e.droppedBufferSize+this.pos}}}}},3988:(e,t,r)=>{"use strict";const s=r(7296),i=r(8904),n=r(1515),a=r(6152),o=a.TAG_NAMES,l=a.NAMESPACES,c={treeAdapter:s},u=/&/g,h=/\u00a0/g,f=/"/g,d=/</g,m=/>/g;class p{constructor(e,t){this.options=i(c,t),this.treeAdapter=this.options.treeAdapter,this.html="",this.startNode=e}serialize(){return this._serializeChildNodes(this.startNode),this.html}_serializeChildNodes(e){const t=this.treeAdapter.getChildNodes(e);if(t)for(let e=0,r=t.length;e<r;e++){const r=t[e];this.treeAdapter.isElementNode(r)?this._serializeElement(r):this.treeAdapter.isTextNode(r)?this._serializeTextNode(r):this.treeAdapter.isCommentNode(r)?this._serializeCommentNode(r):this.treeAdapter.isDocumentTypeNode(r)&&this._serializeDocumentTypeNode(r)}}_serializeElement(e){const t=this.treeAdapter.getTagName(e),r=this.treeAdapter.getNamespaceURI(e);if(this.html+="<"+t,this._serializeAttributes(e),this.html+=">",t!==o.AREA&&t!==o.BASE&&t!==o.BASEFONT&&t!==o.BGSOUND&&t!==o.BR&&t!==o.COL&&t!==o.EMBED&&t!==o.FRAME&&t!==o.HR&&t!==o.IMG&&t!==o.INPUT&&t!==o.KEYGEN&&t!==o.LINK&&t!==o.META&&t!==o.PARAM&&t!==o.SOURCE&&t!==o.TRACK&&t!==o.WBR){const s=t===o.TEMPLATE&&r===l.HTML?this.treeAdapter.getTemplateContent(e):e;this._serializeChildNodes(s),this.html+="</"+t+">"}}_serializeAttributes(e){const t=this.treeAdapter.getAttrList(e);for(let e=0,r=t.length;e<r;e++){const r=t[e],s=p.escapeString(r.value,!0);this.html+=" ",r.namespace?r.namespace===l.XML?this.html+="xml:"+r.name:r.namespace===l.XMLNS?("xmlns"!==r.name&&(this.html+="xmlns:"),this.html+=r.name):r.namespace===l.XLINK?this.html+="xlink:"+r.name:this.html+=r.prefix+":"+r.name:this.html+=r.name,this.html+='="'+s+'"'}}_serializeTextNode(e){const t=this.treeAdapter.getTextNodeContent(e),r=this.treeAdapter.getParentNode(e);let s;r&&this.treeAdapter.isElementNode(r)&&(s=this.treeAdapter.getTagName(r)),s===o.STYLE||s===o.SCRIPT||s===o.XMP||s===o.IFRAME||s===o.NOEMBED||s===o.NOFRAMES||s===o.PLAINTEXT||s===o.NOSCRIPT?this.html+=t:this.html+=p.escapeString(t,!1)}_serializeCommentNode(e){this.html+="\x3c!--"+this.treeAdapter.getCommentNodeContent(e)+"--\x3e"}_serializeDocumentTypeNode(e){const t=this.treeAdapter.getDocumentTypeNodeName(e);this.html+="<"+n.serializeContent(t,null,null)+">"}}p.escapeString=function(e,t){return e=e.replace(u,"&amp;").replace(h,"&nbsp;"),e=t?e.replace(f,"&quot;"):e.replace(d,"&lt;").replace(m,"&gt;")},e.exports=p},5763:(e,t,r)=>{"use strict";const s=r(7118),i=r(4284),n=r(5482),a=r(1734),o=i.CODE_POINTS,l=i.CODE_POINT_SEQUENCES,c={128:8364,130:8218,131:402,132:8222,133:8230,134:8224,135:8225,136:710,137:8240,138:352,139:8249,140:338,142:381,145:8216,146:8217,147:8220,148:8221,149:8226,150:8211,151:8212,152:732,153:8482,154:353,155:8250,156:339,158:382,159:376},u="DATA_STATE",h="RCDATA_STATE",f="RAWTEXT_STATE",d="SCRIPT_DATA_STATE",m="PLAINTEXT_STATE",p="TAG_OPEN_STATE",g="END_TAG_OPEN_STATE",w="TAG_NAME_STATE",y="RCDATA_LESS_THAN_SIGN_STATE",b="RCDATA_END_TAG_OPEN_STATE",v="RCDATA_END_TAG_NAME_STATE",A="RAWTEXT_LESS_THAN_SIGN_STATE",k="RAWTEXT_END_TAG_OPEN_STATE",_="RAWTEXT_END_TAG_NAME_STATE",S="SCRIPT_DATA_LESS_THAN_SIGN_STATE",E="SCRIPT_DATA_END_TAG_OPEN_STATE",C="SCRIPT_DATA_END_TAG_NAME_STATE",N="SCRIPT_DATA_ESCAPE_START_STATE",B="SCRIPT_DATA_ESCAPE_START_DASH_STATE",I="SCRIPT_DATA_ESCAPED_STATE",x="SCRIPT_DATA_ESCAPED_DASH_STATE",T="SCRIPT_DATA_ESCAPED_DASH_DASH_STATE",R="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN_STATE",O="SCRIPT_DATA_ESCAPED_END_TAG_OPEN_STATE",P="SCRIPT_DATA_ESCAPED_END_TAG_NAME_STATE",D="SCRIPT_DATA_DOUBLE_ESCAPE_START_STATE",L="SCRIPT_DATA_DOUBLE_ESCAPED_STATE",U="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_STATE",V="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH_STATE",H="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN_STATE",M="SCRIPT_DATA_DOUBLE_ESCAPE_END_STATE",F="BEFORE_ATTRIBUTE_NAME_STATE",W="ATTRIBUTE_NAME_STATE",j="AFTER_ATTRIBUTE_NAME_STATE",q="BEFORE_ATTRIBUTE_VALUE_STATE",z="ATTRIBUTE_VALUE_DOUBLE_QUOTED_STATE",K="ATTRIBUTE_VALUE_SINGLE_QUOTED_STATE",Q="ATTRIBUTE_VALUE_UNQUOTED_STATE",J="AFTER_ATTRIBUTE_VALUE_QUOTED_STATE",G="SELF_CLOSING_START_TAG_STATE",Z="BOGUS_COMMENT_STATE",X="MARKUP_DECLARATION_OPEN_STATE",Y="COMMENT_START_STATE",$="COMMENT_START_DASH_STATE",ee="COMMENT_STATE",te="COMMENT_LESS_THAN_SIGN_STATE",re="COMMENT_LESS_THAN_SIGN_BANG_STATE",se="COMMENT_LESS_THAN_SIGN_BANG_DASH_STATE",ie="COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH_STATE",ne="COMMENT_END_DASH_STATE",ae="COMMENT_END_STATE",oe="COMMENT_END_BANG_STATE",le="DOCTYPE_STATE",ce="BEFORE_DOCTYPE_NAME_STATE",ue="DOCTYPE_NAME_STATE",he="AFTER_DOCTYPE_NAME_STATE",fe="AFTER_DOCTYPE_PUBLIC_KEYWORD_STATE",de="BEFORE_DOCTYPE_PUBLIC_IDENTIFIER_STATE",me="DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED_STATE",pe="DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED_STATE",ge="AFTER_DOCTYPE_PUBLIC_IDENTIFIER_STATE",we="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS_STATE",ye="AFTER_DOCTYPE_SYSTEM_KEYWORD_STATE",be="BEFORE_DOCTYPE_SYSTEM_IDENTIFIER_STATE",ve="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED_STATE",Ae="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED_STATE",ke="AFTER_DOCTYPE_SYSTEM_IDENTIFIER_STATE",_e="BOGUS_DOCTYPE_STATE",Se="CDATA_SECTION_STATE",Ee="CDATA_SECTION_BRACKET_STATE",Ce="CDATA_SECTION_END_STATE",Ne="CHARACTER_REFERENCE_STATE",Be="NAMED_CHARACTER_REFERENCE_STATE",Ie="AMBIGUOS_AMPERSAND_STATE",xe="NUMERIC_CHARACTER_REFERENCE_STATE",Te="HEXADEMICAL_CHARACTER_REFERENCE_START_STATE",Re="DECIMAL_CHARACTER_REFERENCE_START_STATE",Oe="HEXADEMICAL_CHARACTER_REFERENCE_STATE",Pe="DECIMAL_CHARACTER_REFERENCE_STATE",De="NUMERIC_CHARACTER_REFERENCE_END_STATE";function Le(e){return e===o.SPACE||e===o.LINE_FEED||e===o.TABULATION||e===o.FORM_FEED}function Ue(e){return e>=o.DIGIT_0&&e<=o.DIGIT_9}function Ve(e){return e>=o.LATIN_CAPITAL_A&&e<=o.LATIN_CAPITAL_Z}function He(e){return e>=o.LATIN_SMALL_A&&e<=o.LATIN_SMALL_Z}function Me(e){return He(e)||Ve(e)}function Fe(e){return Me(e)||Ue(e)}function We(e){return e>=o.LATIN_CAPITAL_A&&e<=o.LATIN_CAPITAL_F}function je(e){return e>=o.LATIN_SMALL_A&&e<=o.LATIN_SMALL_F}function qe(e){return e+32}function ze(e){return e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode(e>>>10&1023|55296)+String.fromCharCode(56320|1023&e))}function Ke(e){return String.fromCharCode(qe(e))}function Qe(e,t){const r=n[++e];let s=++e,i=s+r-1;for(;s<=i;){const e=s+i>>>1,a=n[e];if(a<t)s=e+1;else{if(!(a>t))return n[e+r];i=e-1}}return-1}class Je{constructor(){this.preprocessor=new s,this.tokenQueue=[],this.allowCDATA=!1,this.state=u,this.returnState="",this.charRefCode=-1,this.tempBuff=[],this.lastStartTagName="",this.consumedAfterSnapshot=-1,this.active=!1,this.currentCharacterToken=null,this.currentToken=null,this.currentAttr=null}_err(){}_errOnNextCodePoint(e){this._consume(),this._err(e),this._unconsume()}getNextToken(){for(;!this.tokenQueue.length&&this.active;){this.consumedAfterSnapshot=0;const e=this._consume();this._ensureHibernation()||this[this.state](e)}return this.tokenQueue.shift()}write(e,t){this.active=!0,this.preprocessor.write(e,t)}insertHtmlAtCurrentPos(e){this.active=!0,this.preprocessor.insertHtmlAtCurrentPos(e)}_ensureHibernation(){if(this.preprocessor.endOfChunkHit){for(;this.consumedAfterSnapshot>0;this.consumedAfterSnapshot--)this.preprocessor.retreat();return this.active=!1,this.tokenQueue.push({type:Je.HIBERNATION_TOKEN}),!0}return!1}_consume(){return this.consumedAfterSnapshot++,this.preprocessor.advance()}_unconsume(){this.consumedAfterSnapshot--,this.preprocessor.retreat()}_reconsumeInState(e){this.state=e,this._unconsume()}_consumeSequenceIfMatch(e,t,r){let s=0,i=!0;const n=e.length;let a,l=0,c=t;for(;l<n;l++){if(l>0&&(c=this._consume(),s++),c===o.EOF){i=!1;break}if(a=e[l],c!==a&&(r||c!==qe(a))){i=!1;break}}if(!i)for(;s--;)this._unconsume();return i}_isTempBufferEqualToScriptString(){if(this.tempBuff.length!==l.SCRIPT_STRING.length)return!1;for(let e=0;e<this.tempBuff.length;e++)if(this.tempBuff[e]!==l.SCRIPT_STRING[e])return!1;return!0}_createStartTagToken(){this.currentToken={type:Je.START_TAG_TOKEN,tagName:"",selfClosing:!1,ackSelfClosing:!1,attrs:[]}}_createEndTagToken(){this.currentToken={type:Je.END_TAG_TOKEN,tagName:"",selfClosing:!1,attrs:[]}}_createCommentToken(){this.currentToken={type:Je.COMMENT_TOKEN,data:""}}_createDoctypeToken(e){this.currentToken={type:Je.DOCTYPE_TOKEN,name:e,forceQuirks:!1,publicId:null,systemId:null}}_createCharacterToken(e,t){this.currentCharacterToken={type:e,chars:t}}_createEOFToken(){this.currentToken={type:Je.EOF_TOKEN}}_createAttr(e){this.currentAttr={name:e,value:""}}_leaveAttrName(e){null===Je.getTokenAttr(this.currentToken,this.currentAttr.name)?this.currentToken.attrs.push(this.currentAttr):this._err(a.duplicateAttribute),this.state=e}_leaveAttrValue(e){this.state=e}_emitCurrentToken(){this._emitCurrentCharacterToken();const e=this.currentToken;this.currentToken=null,e.type===Je.START_TAG_TOKEN?this.lastStartTagName=e.tagName:e.type===Je.END_TAG_TOKEN&&(e.attrs.length>0&&this._err(a.endTagWithAttributes),e.selfClosing&&this._err(a.endTagWithTrailingSolidus)),this.tokenQueue.push(e)}_emitCurrentCharacterToken(){this.currentCharacterToken&&(this.tokenQueue.push(this.currentCharacterToken),this.currentCharacterToken=null)}_emitEOFToken(){this._createEOFToken(),this._emitCurrentToken()}_appendCharToCurrentCharacterToken(e,t){this.currentCharacterToken&&this.currentCharacterToken.type!==e&&this._emitCurrentCharacterToken(),this.currentCharacterToken?this.currentCharacterToken.chars+=t:this._createCharacterToken(e,t)}_emitCodePoint(e){let t=Je.CHARACTER_TOKEN;Le(e)?t=Je.WHITESPACE_CHARACTER_TOKEN:e===o.NULL&&(t=Je.NULL_CHARACTER_TOKEN),this._appendCharToCurrentCharacterToken(t,ze(e))}_emitSeveralCodePoints(e){for(let t=0;t<e.length;t++)this._emitCodePoint(e[t])}_emitChars(e){this._appendCharToCurrentCharacterToken(Je.CHARACTER_TOKEN,e)}_matchNamedCharacterReference(e){let t=null,r=1,s=Qe(0,e);for(this.tempBuff.push(e);s>-1;){const e=n[s],i=e<7;i&&1&e&&(t=2&e?[n[++s],n[++s]]:[n[++s]],r=0);const a=this._consume();if(this.tempBuff.push(a),r++,a===o.EOF)break;s=i?4&e?Qe(s,a):-1:a===e?++s:-1}for(;r--;)this.tempBuff.pop(),this._unconsume();return t}_isCharacterReferenceInAttribute(){return this.returnState===z||this.returnState===K||this.returnState===Q}_isCharacterReferenceAttributeQuirk(e){if(!e&&this._isCharacterReferenceInAttribute()){const e=this._consume();return this._unconsume(),e===o.EQUALS_SIGN||Fe(e)}return!1}_flushCodePointsConsumedAsCharacterReference(){if(this._isCharacterReferenceInAttribute())for(let e=0;e<this.tempBuff.length;e++)this.currentAttr.value+=ze(this.tempBuff[e]);else this._emitSeveralCodePoints(this.tempBuff);this.tempBuff=[]}[u](e){this.preprocessor.dropParsedChunk(),e===o.LESS_THAN_SIGN?this.state=p:e===o.AMPERSAND?(this.returnState=u,this.state=Ne):e===o.NULL?(this._err(a.unexpectedNullCharacter),this._emitCodePoint(e)):e===o.EOF?this._emitEOFToken():this._emitCodePoint(e)}[h](e){this.preprocessor.dropParsedChunk(),e===o.AMPERSAND?(this.returnState=h,this.state=Ne):e===o.LESS_THAN_SIGN?this.state=y:e===o.NULL?(this._err(a.unexpectedNullCharacter),this._emitChars(i.REPLACEMENT_CHARACTER)):e===o.EOF?this._emitEOFToken():this._emitCodePoint(e)}[f](e){this.preprocessor.dropParsedChunk(),e===o.LESS_THAN_SIGN?this.state=A:e===o.NULL?(this._err(a.unexpectedNullCharacter),this._emitChars(i.REPLACEMENT_CHARACTER)):e===o.EOF?this._emitEOFToken():this._emitCodePoint(e)}[d](e){this.preprocessor.dropParsedChunk(),e===o.LESS_THAN_SIGN?this.state=S:e===o.NULL?(this._err(a.unexpectedNullCharacter),this._emitChars(i.REPLACEMENT_CHARACTER)):e===o.EOF?this._emitEOFToken():this._emitCodePoint(e)}[m](e){this.preprocessor.dropParsedChunk(),e===o.NULL?(this._err(a.unexpectedNullCharacter),this._emitChars(i.REPLACEMENT_CHARACTER)):e===o.EOF?this._emitEOFToken():this._emitCodePoint(e)}[p](e){e===o.EXCLAMATION_MARK?this.state=X:e===o.SOLIDUS?this.state=g:Me(e)?(this._createStartTagToken(),this._reconsumeInState(w)):e===o.QUESTION_MARK?(this._err(a.unexpectedQuestionMarkInsteadOfTagName),this._createCommentToken(),this._reconsumeInState(Z)):e===o.EOF?(this._err(a.eofBeforeTagName),this._emitChars("<"),this._emitEOFToken()):(this._err(a.invalidFirstCharacterOfTagName),this._emitChars("<"),this._reconsumeInState(u))}[g](e){Me(e)?(this._createEndTagToken(),this._reconsumeInState(w)):e===o.GREATER_THAN_SIGN?(this._err(a.missingEndTagName),this.state=u):e===o.EOF?(this._err(a.eofBeforeTagName),this._emitChars("</"),this._emitEOFToken()):(this._err(a.invalidFirstCharacterOfTagName),this._createCommentToken(),this._reconsumeInState(Z))}[w](e){Le(e)?this.state=F:e===o.SOLIDUS?this.state=G:e===o.GREATER_THAN_SIGN?(this.state=u,this._emitCurrentToken()):Ve(e)?this.currentToken.tagName+=Ke(e):e===o.NULL?(this._err(a.unexpectedNullCharacter),this.currentToken.tagName+=i.REPLACEMENT_CHARACTER):e===o.EOF?(this._err(a.eofInTag),this._emitEOFToken()):this.currentToken.tagName+=ze(e)}[y](e){e===o.SOLIDUS?(this.tempBuff=[],this.state=b):(this._emitChars("<"),this._reconsumeInState(h))}[b](e){Me(e)?(this._createEndTagToken(),this._reconsumeInState(v)):(this._emitChars("</"),this._reconsumeInState(h))}[v](e){if(Ve(e))this.currentToken.tagName+=Ke(e),this.tempBuff.push(e);else if(He(e))this.currentToken.tagName+=ze(e),this.tempBuff.push(e);else{if(this.lastStartTagName===this.currentToken.tagName){if(Le(e))return void(this.state=F);if(e===o.SOLIDUS)return void(this.state=G);if(e===o.GREATER_THAN_SIGN)return this.state=u,void this._emitCurrentToken()}this._emitChars("</"),this._emitSeveralCodePoints(this.tempBuff),this._reconsumeInState(h)}}[A](e){e===o.SOLIDUS?(this.tempBuff=[],this.state=k):(this._emitChars("<"),this._reconsumeInState(f))}[k](e){Me(e)?(this._createEndTagToken(),this._reconsumeInState(_)):(this._emitChars("</"),this._reconsumeInState(f))}[_](e){if(Ve(e))this.currentToken.tagName+=Ke(e),this.tempBuff.push(e);else if(He(e))this.currentToken.tagName+=ze(e),this.tempBuff.push(e);else{if(this.lastStartTagName===this.currentToken.tagName){if(Le(e))return void(this.state=F);if(e===o.SOLIDUS)return void(this.state=G);if(e===o.GREATER_THAN_SIGN)return this._emitCurrentToken(),void(this.state=u)}this._emitChars("</"),this._emitSeveralCodePoints(this.tempBuff),this._reconsumeInState(f)}}[S](e){e===o.SOLIDUS?(this.tempBuff=[],this.state=E):e===o.EXCLAMATION_MARK?(this.state=N,this._emitChars("<!")):(this._emitChars("<"),this._reconsumeInState(d))}[E](e){Me(e)?(this._createEndTagToken(),this._reconsumeInState(C)):(this._emitChars("</"),this._reconsumeInState(d))}[C](e){if(Ve(e))this.currentToken.tagName+=Ke(e),this.tempBuff.push(e);else if(He(e))this.currentToken.tagName+=ze(e),this.tempBuff.push(e);else{if(this.lastStartTagName===this.currentToken.tagName){if(Le(e))return void(this.state=F);if(e===o.SOLIDUS)return void(this.state=G);if(e===o.GREATER_THAN_SIGN)return this._emitCurrentToken(),void(this.state=u)}this._emitChars("</"),this._emitSeveralCodePoints(this.tempBuff),this._reconsumeInState(d)}}[N](e){e===o.HYPHEN_MINUS?(this.state=B,this._emitChars("-")):this._reconsumeInState(d)}[B](e){e===o.HYPHEN_MINUS?(this.state=T,this._emitChars("-")):this._reconsumeInState(d)}[I](e){e===o.HYPHEN_MINUS?(this.state=x,this._emitChars("-")):e===o.LESS_THAN_SIGN?this.state=R:e===o.NULL?(this._err(a.unexpectedNullCharacter),this._emitChars(i.REPLACEMENT_CHARACTER)):e===o.EOF?(this._err(a.eofInScriptHtmlCommentLikeText),this._emitEOFToken()):this._emitCodePoint(e)}[x](e){e===o.HYPHEN_MINUS?(this.state=T,this._emitChars("-")):e===o.LESS_THAN_SIGN?this.state=R:e===o.NULL?(this._err(a.unexpectedNullCharacter),this.state=I,this._emitChars(i.REPLACEMENT_CHARACTER)):e===o.EOF?(this._err(a.eofInScriptHtmlCommentLikeText),this._emitEOFToken()):(this.state=I,this._emitCodePoint(e))}[T](e){e===o.HYPHEN_MINUS?this._emitChars("-"):e===o.LESS_THAN_SIGN?this.state=R:e===o.GREATER_THAN_SIGN?(this.state=d,this._emitChars(">")):e===o.NULL?(this._err(a.unexpectedNullCharacter),this.state=I,this._emitChars(i.REPLACEMENT_CHARACTER)):e===o.EOF?(this._err(a.eofInScriptHtmlCommentLikeText),this._emitEOFToken()):(this.state=I,this._emitCodePoint(e))}[R](e){e===o.SOLIDUS?(this.tempBuff=[],this.state=O):Me(e)?(this.tempBuff=[],this._emitChars("<"),this._reconsumeInState(D)):(this._emitChars("<"),this._reconsumeInState(I))}[O](e){Me(e)?(this._createEndTagToken(),this._reconsumeInState(P)):(this._emitChars("</"),this._reconsumeInState(I))}[P](e){if(Ve(e))this.currentToken.tagName+=Ke(e),this.tempBuff.push(e);else if(He(e))this.currentToken.tagName+=ze(e),this.tempBuff.push(e);else{if(this.lastStartTagName===this.currentToken.tagName){if(Le(e))return void(this.state=F);if(e===o.SOLIDUS)return void(this.state=G);if(e===o.GREATER_THAN_SIGN)return this._emitCurrentToken(),void(this.state=u)}this._emitChars("</"),this._emitSeveralCodePoints(this.tempBuff),this._reconsumeInState(I)}}[D](e){Le(e)||e===o.SOLIDUS||e===o.GREATER_THAN_SIGN?(this.state=this._isTempBufferEqualToScriptString()?L:I,this._emitCodePoint(e)):Ve(e)?(this.tempBuff.push(qe(e)),this._emitCodePoint(e)):He(e)?(this.tempBuff.push(e),this._emitCodePoint(e)):this._reconsumeInState(I)}[L](e){e===o.HYPHEN_MINUS?(this.state=U,this._emitChars("-")):e===o.LESS_THAN_SIGN?(this.state=H,this._emitChars("<")):e===o.NULL?(this._err(a.unexpectedNullCharacter),this._emitChars(i.REPLACEMENT_CHARACTER)):e===o.EOF?(this._err(a.eofInScriptHtmlCommentLikeText),this._emitEOFToken()):this._emitCodePoint(e)}[U](e){e===o.HYPHEN_MINUS?(this.state=V,this._emitChars("-")):e===o.LESS_THAN_SIGN?(this.state=H,this._emitChars("<")):e===o.NULL?(this._err(a.unexpectedNullCharacter),this.state=L,this._emitChars(i.REPLACEMENT_CHARACTER)):e===o.EOF?(this._err(a.eofInScriptHtmlCommentLikeText),this._emitEOFToken()):(this.state=L,this._emitCodePoint(e))}[V](e){e===o.HYPHEN_MINUS?this._emitChars("-"):e===o.LESS_THAN_SIGN?(this.state=H,this._emitChars("<")):e===o.GREATER_THAN_SIGN?(this.state=d,this._emitChars(">")):e===o.NULL?(this._err(a.unexpectedNullCharacter),this.state=L,this._emitChars(i.REPLACEMENT_CHARACTER)):e===o.EOF?(this._err(a.eofInScriptHtmlCommentLikeText),this._emitEOFToken()):(this.state=L,this._emitCodePoint(e))}[H](e){e===o.SOLIDUS?(this.tempBuff=[],this.state=M,this._emitChars("/")):this._reconsumeInState(L)}[M](e){Le(e)||e===o.SOLIDUS||e===o.GREATER_THAN_SIGN?(this.state=this._isTempBufferEqualToScriptString()?I:L,this._emitCodePoint(e)):Ve(e)?(this.tempBuff.push(qe(e)),this._emitCodePoint(e)):He(e)?(this.tempBuff.push(e),this._emitCodePoint(e)):this._reconsumeInState(L)}[F](e){Le(e)||(e===o.SOLIDUS||e===o.GREATER_THAN_SIGN||e===o.EOF?this._reconsumeInState(j):e===o.EQUALS_SIGN?(this._err(a.unexpectedEqualsSignBeforeAttributeName),this._createAttr("="),this.state=W):(this._createAttr(""),this._reconsumeInState(W)))}[W](e){Le(e)||e===o.SOLIDUS||e===o.GREATER_THAN_SIGN||e===o.EOF?(this._leaveAttrName(j),this._unconsume()):e===o.EQUALS_SIGN?this._leaveAttrName(q):Ve(e)?this.currentAttr.name+=Ke(e):e===o.QUOTATION_MARK||e===o.APOSTROPHE||e===o.LESS_THAN_SIGN?(this._err(a.unexpectedCharacterInAttributeName),this.currentAttr.name+=ze(e)):e===o.NULL?(this._err(a.unexpectedNullCharacter),this.currentAttr.name+=i.REPLACEMENT_CHARACTER):this.currentAttr.name+=ze(e)}[j](e){Le(e)||(e===o.SOLIDUS?this.state=G:e===o.EQUALS_SIGN?this.state=q:e===o.GREATER_THAN_SIGN?(this.state=u,this._emitCurrentToken()):e===o.EOF?(this._err(a.eofInTag),this._emitEOFToken()):(this._createAttr(""),this._reconsumeInState(W)))}[q](e){Le(e)||(e===o.QUOTATION_MARK?this.state=z:e===o.APOSTROPHE?this.state=K:e===o.GREATER_THAN_SIGN?(this._err(a.missingAttributeValue),this.state=u,this._emitCurrentToken()):this._reconsumeInState(Q))}[z](e){e===o.QUOTATION_MARK?this.state=J:e===o.AMPERSAND?(this.returnState=z,this.state=Ne):e===o.NULL?(this._err(a.unexpectedNullCharacter),this.currentAttr.value+=i.REPLACEMENT_CHARACTER):e===o.EOF?(this._err(a.eofInTag),this._emitEOFToken()):this.currentAttr.value+=ze(e)}[K](e){e===o.APOSTROPHE?this.state=J:e===o.AMPERSAND?(this.returnState=K,this.state=Ne):e===o.NULL?(this._err(a.unexpectedNullCharacter),this.currentAttr.value+=i.REPLACEMENT_CHARACTER):e===o.EOF?(this._err(a.eofInTag),this._emitEOFToken()):this.currentAttr.value+=ze(e)}[Q](e){Le(e)?this._leaveAttrValue(F):e===o.AMPERSAND?(this.returnState=Q,this.state=Ne):e===o.GREATER_THAN_SIGN?(this._leaveAttrValue(u),this._emitCurrentToken()):e===o.NULL?(this._err(a.unexpectedNullCharacter),this.currentAttr.value+=i.REPLACEMENT_CHARACTER):e===o.QUOTATION_MARK||e===o.APOSTROPHE||e===o.LESS_THAN_SIGN||e===o.EQUALS_SIGN||e===o.GRAVE_ACCENT?(this._err(a.unexpectedCharacterInUnquotedAttributeValue),this.currentAttr.value+=ze(e)):e===o.EOF?(this._err(a.eofInTag),this._emitEOFToken()):this.currentAttr.value+=ze(e)}[J](e){Le(e)?this._leaveAttrValue(F):e===o.SOLIDUS?this._leaveAttrValue(G):e===o.GREATER_THAN_SIGN?(this._leaveAttrValue(u),this._emitCurrentToken()):e===o.EOF?(this._err(a.eofInTag),this._emitEOFToken()):(this._err(a.missingWhitespaceBetweenAttributes),this._reconsumeInState(F))}[G](e){e===o.GREATER_THAN_SIGN?(this.currentToken.selfClosing=!0,this.state=u,this._emitCurrentToken()):e===o.EOF?(this._err(a.eofInTag),this._emitEOFToken()):(this._err(a.unexpectedSolidusInTag),this._reconsumeInState(F))}[Z](e){e===o.GREATER_THAN_SIGN?(this.state=u,this._emitCurrentToken()):e===o.EOF?(this._emitCurrentToken(),this._emitEOFToken()):e===o.NULL?(this._err(a.unexpectedNullCharacter),this.currentToken.data+=i.REPLACEMENT_CHARACTER):this.currentToken.data+=ze(e)}[X](e){this._consumeSequenceIfMatch(l.DASH_DASH_STRING,e,!0)?(this._createCommentToken(),this.state=Y):this._consumeSequenceIfMatch(l.DOCTYPE_STRING,e,!1)?this.state=le:this._consumeSequenceIfMatch(l.CDATA_START_STRING,e,!0)?this.allowCDATA?this.state=Se:(this._err(a.cdataInHtmlContent),this._createCommentToken(),this.currentToken.data="[CDATA[",this.state=Z):this._ensureHibernation()||(this._err(a.incorrectlyOpenedComment),this._createCommentToken(),this._reconsumeInState(Z))}[Y](e){e===o.HYPHEN_MINUS?this.state=$:e===o.GREATER_THAN_SIGN?(this._err(a.abruptClosingOfEmptyComment),this.state=u,this._emitCurrentToken()):this._reconsumeInState(ee)}[$](e){e===o.HYPHEN_MINUS?this.state=ae:e===o.GREATER_THAN_SIGN?(this._err(a.abruptClosingOfEmptyComment),this.state=u,this._emitCurrentToken()):e===o.EOF?(this._err(a.eofInComment),this._emitCurrentToken(),this._emitEOFToken()):(this.currentToken.data+="-",this._reconsumeInState(ee))}[ee](e){e===o.HYPHEN_MINUS?this.state=ne:e===o.LESS_THAN_SIGN?(this.currentToken.data+="<",this.state=te):e===o.NULL?(this._err(a.unexpectedNullCharacter),this.currentToken.data+=i.REPLACEMENT_CHARACTER):e===o.EOF?(this._err(a.eofInComment),this._emitCurrentToken(),this._emitEOFToken()):this.currentToken.data+=ze(e)}[te](e){e===o.EXCLAMATION_MARK?(this.currentToken.data+="!",this.state=re):e===o.LESS_THAN_SIGN?this.currentToken.data+="!":this._reconsumeInState(ee)}[re](e){e===o.HYPHEN_MINUS?this.state=se:this._reconsumeInState(ee)}[se](e){e===o.HYPHEN_MINUS?this.state=ie:this._reconsumeInState(ne)}[ie](e){e!==o.GREATER_THAN_SIGN&&e!==o.EOF&&this._err(a.nestedComment),this._reconsumeInState(ae)}[ne](e){e===o.HYPHEN_MINUS?this.state=ae:e===o.EOF?(this._err(a.eofInComment),this._emitCurrentToken(),this._emitEOFToken()):(this.currentToken.data+="-",this._reconsumeInState(ee))}[ae](e){e===o.GREATER_THAN_SIGN?(this.state=u,this._emitCurrentToken()):e===o.EXCLAMATION_MARK?this.state=oe:e===o.HYPHEN_MINUS?this.currentToken.data+="-":e===o.EOF?(this._err(a.eofInComment),this._emitCurrentToken(),this._emitEOFToken()):(this.currentToken.data+="--",this._reconsumeInState(ee))}[oe](e){e===o.HYPHEN_MINUS?(this.currentToken.data+="--!",this.state=ne):e===o.GREATER_THAN_SIGN?(this._err(a.incorrectlyClosedComment),this.state=u,this._emitCurrentToken()):e===o.EOF?(this._err(a.eofInComment),this._emitCurrentToken(),this._emitEOFToken()):(this.currentToken.data+="--!",this._reconsumeInState(ee))}[le](e){Le(e)?this.state=ce:e===o.GREATER_THAN_SIGN?this._reconsumeInState(ce):e===o.EOF?(this._err(a.eofInDoctype),this._createDoctypeToken(null),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):(this._err(a.missingWhitespaceBeforeDoctypeName),this._reconsumeInState(ce))}[ce](e){Le(e)||(Ve(e)?(this._createDoctypeToken(Ke(e)),this.state=ue):e===o.NULL?(this._err(a.unexpectedNullCharacter),this._createDoctypeToken(i.REPLACEMENT_CHARACTER),this.state=ue):e===o.GREATER_THAN_SIGN?(this._err(a.missingDoctypeName),this._createDoctypeToken(null),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this.state=u):e===o.EOF?(this._err(a.eofInDoctype),this._createDoctypeToken(null),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):(this._createDoctypeToken(ze(e)),this.state=ue))}[ue](e){Le(e)?this.state=he:e===o.GREATER_THAN_SIGN?(this.state=u,this._emitCurrentToken()):Ve(e)?this.currentToken.name+=Ke(e):e===o.NULL?(this._err(a.unexpectedNullCharacter),this.currentToken.name+=i.REPLACEMENT_CHARACTER):e===o.EOF?(this._err(a.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):this.currentToken.name+=ze(e)}[he](e){Le(e)||(e===o.GREATER_THAN_SIGN?(this.state=u,this._emitCurrentToken()):e===o.EOF?(this._err(a.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):this._consumeSequenceIfMatch(l.PUBLIC_STRING,e,!1)?this.state=fe:this._consumeSequenceIfMatch(l.SYSTEM_STRING,e,!1)?this.state=ye:this._ensureHibernation()||(this._err(a.invalidCharacterSequenceAfterDoctypeName),this.currentToken.forceQuirks=!0,this._reconsumeInState(_e)))}[fe](e){Le(e)?this.state=de:e===o.QUOTATION_MARK?(this._err(a.missingWhitespaceAfterDoctypePublicKeyword),this.currentToken.publicId="",this.state=me):e===o.APOSTROPHE?(this._err(a.missingWhitespaceAfterDoctypePublicKeyword),this.currentToken.publicId="",this.state=pe):e===o.GREATER_THAN_SIGN?(this._err(a.missingDoctypePublicIdentifier),this.currentToken.forceQuirks=!0,this.state=u,this._emitCurrentToken()):e===o.EOF?(this._err(a.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):(this._err(a.missingQuoteBeforeDoctypePublicIdentifier),this.currentToken.forceQuirks=!0,this._reconsumeInState(_e))}[de](e){Le(e)||(e===o.QUOTATION_MARK?(this.currentToken.publicId="",this.state=me):e===o.APOSTROPHE?(this.currentToken.publicId="",this.state=pe):e===o.GREATER_THAN_SIGN?(this._err(a.missingDoctypePublicIdentifier),this.currentToken.forceQuirks=!0,this.state=u,this._emitCurrentToken()):e===o.EOF?(this._err(a.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):(this._err(a.missingQuoteBeforeDoctypePublicIdentifier),this.currentToken.forceQuirks=!0,this._reconsumeInState(_e)))}[me](e){e===o.QUOTATION_MARK?this.state=ge:e===o.NULL?(this._err(a.unexpectedNullCharacter),this.currentToken.publicId+=i.REPLACEMENT_CHARACTER):e===o.GREATER_THAN_SIGN?(this._err(a.abruptDoctypePublicIdentifier),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this.state=u):e===o.EOF?(this._err(a.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):this.currentToken.publicId+=ze(e)}[pe](e){e===o.APOSTROPHE?this.state=ge:e===o.NULL?(this._err(a.unexpectedNullCharacter),this.currentToken.publicId+=i.REPLACEMENT_CHARACTER):e===o.GREATER_THAN_SIGN?(this._err(a.abruptDoctypePublicIdentifier),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this.state=u):e===o.EOF?(this._err(a.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):this.currentToken.publicId+=ze(e)}[ge](e){Le(e)?this.state=we:e===o.GREATER_THAN_SIGN?(this.state=u,this._emitCurrentToken()):e===o.QUOTATION_MARK?(this._err(a.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),this.currentToken.systemId="",this.state=ve):e===o.APOSTROPHE?(this._err(a.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),this.currentToken.systemId="",this.state=Ae):e===o.EOF?(this._err(a.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):(this._err(a.missingQuoteBeforeDoctypeSystemIdentifier),this.currentToken.forceQuirks=!0,this._reconsumeInState(_e))}[we](e){Le(e)||(e===o.GREATER_THAN_SIGN?(this._emitCurrentToken(),this.state=u):e===o.QUOTATION_MARK?(this.currentToken.systemId="",this.state=ve):e===o.APOSTROPHE?(this.currentToken.systemId="",this.state=Ae):e===o.EOF?(this._err(a.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):(this._err(a.missingQuoteBeforeDoctypeSystemIdentifier),this.currentToken.forceQuirks=!0,this._reconsumeInState(_e)))}[ye](e){Le(e)?this.state=be:e===o.QUOTATION_MARK?(this._err(a.missingWhitespaceAfterDoctypeSystemKeyword),this.currentToken.systemId="",this.state=ve):e===o.APOSTROPHE?(this._err(a.missingWhitespaceAfterDoctypeSystemKeyword),this.currentToken.systemId="",this.state=Ae):e===o.GREATER_THAN_SIGN?(this._err(a.missingDoctypeSystemIdentifier),this.currentToken.forceQuirks=!0,this.state=u,this._emitCurrentToken()):e===o.EOF?(this._err(a.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):(this._err(a.missingQuoteBeforeDoctypeSystemIdentifier),this.currentToken.forceQuirks=!0,this._reconsumeInState(_e))}[be](e){Le(e)||(e===o.QUOTATION_MARK?(this.currentToken.systemId="",this.state=ve):e===o.APOSTROPHE?(this.currentToken.systemId="",this.state=Ae):e===o.GREATER_THAN_SIGN?(this._err(a.missingDoctypeSystemIdentifier),this.currentToken.forceQuirks=!0,this.state=u,this._emitCurrentToken()):e===o.EOF?(this._err(a.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):(this._err(a.missingQuoteBeforeDoctypeSystemIdentifier),this.currentToken.forceQuirks=!0,this._reconsumeInState(_e)))}[ve](e){e===o.QUOTATION_MARK?this.state=ke:e===o.NULL?(this._err(a.unexpectedNullCharacter),this.currentToken.systemId+=i.REPLACEMENT_CHARACTER):e===o.GREATER_THAN_SIGN?(this._err(a.abruptDoctypeSystemIdentifier),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this.state=u):e===o.EOF?(this._err(a.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):this.currentToken.systemId+=ze(e)}[Ae](e){e===o.APOSTROPHE?this.state=ke:e===o.NULL?(this._err(a.unexpectedNullCharacter),this.currentToken.systemId+=i.REPLACEMENT_CHARACTER):e===o.GREATER_THAN_SIGN?(this._err(a.abruptDoctypeSystemIdentifier),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this.state=u):e===o.EOF?(this._err(a.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):this.currentToken.systemId+=ze(e)}[ke](e){Le(e)||(e===o.GREATER_THAN_SIGN?(this._emitCurrentToken(),this.state=u):e===o.EOF?(this._err(a.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):(this._err(a.unexpectedCharacterAfterDoctypeSystemIdentifier),this._reconsumeInState(_e)))}[_e](e){e===o.GREATER_THAN_SIGN?(this._emitCurrentToken(),this.state=u):e===o.NULL?this._err(a.unexpectedNullCharacter):e===o.EOF&&(this._emitCurrentToken(),this._emitEOFToken())}[Se](e){e===o.RIGHT_SQUARE_BRACKET?this.state=Ee:e===o.EOF?(this._err(a.eofInCdata),this._emitEOFToken()):this._emitCodePoint(e)}[Ee](e){e===o.RIGHT_SQUARE_BRACKET?this.state=Ce:(this._emitChars("]"),this._reconsumeInState(Se))}[Ce](e){e===o.GREATER_THAN_SIGN?this.state=u:e===o.RIGHT_SQUARE_BRACKET?this._emitChars("]"):(this._emitChars("]]"),this._reconsumeInState(Se))}[Ne](e){this.tempBuff=[o.AMPERSAND],e===o.NUMBER_SIGN?(this.tempBuff.push(e),this.state=xe):Fe(e)?this._reconsumeInState(Be):(this._flushCodePointsConsumedAsCharacterReference(),this._reconsumeInState(this.returnState))}[Be](e){const t=this._matchNamedCharacterReference(e);if(this._ensureHibernation())this.tempBuff=[o.AMPERSAND];else if(t){const e=this.tempBuff[this.tempBuff.length-1]===o.SEMICOLON;this._isCharacterReferenceAttributeQuirk(e)||(e||this._errOnNextCodePoint(a.missingSemicolonAfterCharacterReference),this.tempBuff=t),this._flushCodePointsConsumedAsCharacterReference(),this.state=this.returnState}else this._flushCodePointsConsumedAsCharacterReference(),this.state=Ie}[Ie](e){Fe(e)?this._isCharacterReferenceInAttribute()?this.currentAttr.value+=ze(e):this._emitCodePoint(e):(e===o.SEMICOLON&&this._err(a.unknownNamedCharacterReference),this._reconsumeInState(this.returnState))}[xe](e){this.charRefCode=0,e===o.LATIN_SMALL_X||e===o.LATIN_CAPITAL_X?(this.tempBuff.push(e),this.state=Te):this._reconsumeInState(Re)}[Te](e){!function(e){return Ue(e)||We(e)||je(e)}(e)?(this._err(a.absenceOfDigitsInNumericCharacterReference),this._flushCodePointsConsumedAsCharacterReference(),this._reconsumeInState(this.returnState)):this._reconsumeInState(Oe)}[Re](e){Ue(e)?this._reconsumeInState(Pe):(this._err(a.absenceOfDigitsInNumericCharacterReference),this._flushCodePointsConsumedAsCharacterReference(),this._reconsumeInState(this.returnState))}[Oe](e){We(e)?this.charRefCode=16*this.charRefCode+e-55:je(e)?this.charRefCode=16*this.charRefCode+e-87:Ue(e)?this.charRefCode=16*this.charRefCode+e-48:e===o.SEMICOLON?this.state=De:(this._err(a.missingSemicolonAfterCharacterReference),this._reconsumeInState(De))}[Pe](e){Ue(e)?this.charRefCode=10*this.charRefCode+e-48:e===o.SEMICOLON?this.state=De:(this._err(a.missingSemicolonAfterCharacterReference),this._reconsumeInState(De))}[De](){if(this.charRefCode===o.NULL)this._err(a.nullCharacterReference),this.charRefCode=o.REPLACEMENT_CHARACTER;else if(this.charRefCode>1114111)this._err(a.characterReferenceOutsideUnicodeRange),this.charRefCode=o.REPLACEMENT_CHARACTER;else if(i.isSurrogate(this.charRefCode))this._err(a.surrogateCharacterReference),this.charRefCode=o.REPLACEMENT_CHARACTER;else if(i.isUndefinedCodePoint(this.charRefCode))this._err(a.noncharacterCharacterReference);else if(i.isControlCodePoint(this.charRefCode)||this.charRefCode===o.CARRIAGE_RETURN){this._err(a.controlCharacterReference);const e=c[this.charRefCode];e&&(this.charRefCode=e)}this.tempBuff=[this.charRefCode],this._flushCodePointsConsumedAsCharacterReference(),this._reconsumeInState(this.returnState)}}Je.CHARACTER_TOKEN="CHARACTER_TOKEN",Je.NULL_CHARACTER_TOKEN="NULL_CHARACTER_TOKEN",Je.WHITESPACE_CHARACTER_TOKEN="WHITESPACE_CHARACTER_TOKEN",Je.START_TAG_TOKEN="START_TAG_TOKEN",Je.END_TAG_TOKEN="END_TAG_TOKEN",Je.COMMENT_TOKEN="COMMENT_TOKEN",Je.DOCTYPE_TOKEN="DOCTYPE_TOKEN",Je.EOF_TOKEN="EOF_TOKEN",Je.HIBERNATION_TOKEN="HIBERNATION_TOKEN",Je.MODE={DATA:u,RCDATA:h,RAWTEXT:f,SCRIPT_DATA:d,PLAINTEXT:m},Je.getTokenAttr=function(e,t){for(let r=e.attrs.length-1;r>=0;r--)if(e.attrs[r].name===t)return e.attrs[r].value;return null},e.exports=Je},5482:e=>{"use strict";e.exports=new Uint16Array([4,52,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,106,303,412,810,1432,1701,1796,1987,2114,2360,2420,2484,3170,3251,4140,4393,4575,4610,5106,5512,5728,6117,6274,6315,6345,6427,6516,7002,7910,8733,9323,9870,10170,10631,10893,11318,11386,11467,12773,13092,14474,14922,15448,15542,16419,17666,18166,18611,19004,19095,19298,19397,4,16,69,77,97,98,99,102,103,108,109,110,111,112,114,115,116,117,140,150,158,169,176,194,199,210,216,222,226,242,256,266,283,294,108,105,103,5,198,1,59,148,1,198,80,5,38,1,59,156,1,38,99,117,116,101,5,193,1,59,167,1,193,114,101,118,101,59,1,258,4,2,105,121,182,191,114,99,5,194,1,59,189,1,194,59,1,1040,114,59,3,55349,56580,114,97,118,101,5,192,1,59,208,1,192,112,104,97,59,1,913,97,99,114,59,1,256,100,59,1,10835,4,2,103,112,232,237,111,110,59,1,260,102,59,3,55349,56632,112,108,121,70,117,110,99,116,105,111,110,59,1,8289,105,110,103,5,197,1,59,264,1,197,4,2,99,115,272,277,114,59,3,55349,56476,105,103,110,59,1,8788,105,108,100,101,5,195,1,59,292,1,195,109,108,5,196,1,59,301,1,196,4,8,97,99,101,102,111,114,115,117,321,350,354,383,388,394,400,405,4,2,99,114,327,336,107,115,108,97,115,104,59,1,8726,4,2,118,119,342,345,59,1,10983,101,100,59,1,8966,121,59,1,1041,4,3,99,114,116,362,369,379,97,117,115,101,59,1,8757,110,111,117,108,108,105,115,59,1,8492,97,59,1,914,114,59,3,55349,56581,112,102,59,3,55349,56633,101,118,101,59,1,728,99,114,59,1,8492,109,112,101,113,59,1,8782,4,14,72,79,97,99,100,101,102,104,105,108,111,114,115,117,442,447,456,504,542,547,569,573,577,616,678,784,790,796,99,121,59,1,1063,80,89,5,169,1,59,454,1,169,4,3,99,112,121,464,470,497,117,116,101,59,1,262,4,2,59,105,476,478,1,8914,116,97,108,68,105,102,102,101,114,101,110,116,105,97,108,68,59,1,8517,108,101,121,115,59,1,8493,4,4,97,101,105,111,514,520,530,535,114,111,110,59,1,268,100,105,108,5,199,1,59,528,1,199,114,99,59,1,264,110,105,110,116,59,1,8752,111,116,59,1,266,4,2,100,110,553,560,105,108,108,97,59,1,184,116,101,114,68,111,116,59,1,183,114,59,1,8493,105,59,1,935,114,99,108,101,4,4,68,77,80,84,591,596,603,609,111,116,59,1,8857,105,110,117,115,59,1,8854,108,117,115,59,1,8853,105,109,101,115,59,1,8855,111,4,2,99,115,623,646,107,119,105,115,101,67,111,110,116,111,117,114,73,110,116,101,103,114,97,108,59,1,8754,101,67,117,114,108,121,4,2,68,81,658,671,111,117,98,108,101,81,117,111,116,101,59,1,8221,117,111,116,101,59,1,8217,4,4,108,110,112,117,688,701,736,753,111,110,4,2,59,101,696,698,1,8759,59,1,10868,4,3,103,105,116,709,717,722,114,117,101,110,116,59,1,8801,110,116,59,1,8751,111,117,114,73,110,116,101,103,114,97,108,59,1,8750,4,2,102,114,742,745,59,1,8450,111,100,117,99,116,59,1,8720,110,116,101,114,67,108,111,99,107,119,105,115,101,67,111,110,116,111,117,114,73,110,116,101,103,114,97,108,59,1,8755,111,115,115,59,1,10799,99,114,59,3,55349,56478,112,4,2,59,67,803,805,1,8915,97,112,59,1,8781,4,11,68,74,83,90,97,99,101,102,105,111,115,834,850,855,860,865,888,903,916,921,1011,1415,4,2,59,111,840,842,1,8517,116,114,97,104,100,59,1,10513,99,121,59,1,1026,99,121,59,1,1029,99,121,59,1,1039,4,3,103,114,115,873,879,883,103,101,114,59,1,8225,114,59,1,8609,104,118,59,1,10980,4,2,97,121,894,900,114,111,110,59,1,270,59,1,1044,108,4,2,59,116,910,912,1,8711,97,59,1,916,114,59,3,55349,56583,4,2,97,102,927,998,4,2,99,109,933,992,114,105,116,105,99,97,108,4,4,65,68,71,84,950,957,978,985,99,117,116,101,59,1,180,111,4,2,116,117,964,967,59,1,729,98,108,101,65,99,117,116,101,59,1,733,114,97,118,101,59,1,96,105,108,100,101,59,1,732,111,110,100,59,1,8900,102,101,114,101,110,116,105,97,108,68,59,1,8518,4,4,112,116,117,119,1021,1026,1048,1249,102,59,3,55349,56635,4,3,59,68,69,1034,1036,1041,1,168,111,116,59,1,8412,113,117,97,108,59,1,8784,98,108,101,4,6,67,68,76,82,85,86,1065,1082,1101,1189,1211,1236,111,110,116,111,117,114,73,110,116,101,103,114,97,108,59,1,8751,111,4,2,116,119,1089,1092,59,1,168,110,65,114,114,111,119,59,1,8659,4,2,101,111,1107,1141,102,116,4,3,65,82,84,1117,1124,1136,114,114,111,119,59,1,8656,105,103,104,116,65,114,114,111,119,59,1,8660,101,101,59,1,10980,110,103,4,2,76,82,1149,1177,101,102,116,4,2,65,82,1158,1165,114,114,111,119,59,1,10232,105,103,104,116,65,114,114,111,119,59,1,10234,105,103,104,116,65,114,114,111,119,59,1,10233,105,103,104,116,4,2,65,84,1199,1206,114,114,111,119,59,1,8658,101,101,59,1,8872,112,4,2,65,68,1218,1225,114,114,111,119,59,1,8657,111,119,110,65,114,114,111,119,59,1,8661,101,114,116,105,99,97,108,66,97,114,59,1,8741,110,4,6,65,66,76,82,84,97,1264,1292,1299,1352,1391,1408,114,114,111,119,4,3,59,66,85,1276,1278,1283,1,8595,97,114,59,1,10515,112,65,114,114,111,119,59,1,8693,114,101,118,101,59,1,785,101,102,116,4,3,82,84,86,1310,1323,1334,105,103,104,116,86,101,99,116,111,114,59,1,10576,101,101,86,101,99,116,111,114,59,1,10590,101,99,116,111,114,4,2,59,66,1345,1347,1,8637,97,114,59,1,10582,105,103,104,116,4,2,84,86,1362,1373,101,101,86,101,99,116,111,114,59,1,10591,101,99,116,111,114,4,2,59,66,1384,1386,1,8641,97,114,59,1,10583,101,101,4,2,59,65,1399,1401,1,8868,114,114,111,119,59,1,8615,114,114,111,119,59,1,8659,4,2,99,116,1421,1426,114,59,3,55349,56479,114,111,107,59,1,272,4,16,78,84,97,99,100,102,103,108,109,111,112,113,115,116,117,120,1466,1470,1478,1489,1515,1520,1525,1536,1544,1593,1609,1617,1650,1664,1668,1677,71,59,1,330,72,5,208,1,59,1476,1,208,99,117,116,101,5,201,1,59,1487,1,201,4,3,97,105,121,1497,1503,1512,114,111,110,59,1,282,114,99,5,202,1,59,1510,1,202,59,1,1069,111,116,59,1,278,114,59,3,55349,56584,114,97,118,101,5,200,1,59,1534,1,200,101,109,101,110,116,59,1,8712,4,2,97,112,1550,1555,99,114,59,1,274,116,121,4,2,83,86,1563,1576,109,97,108,108,83,113,117,97,114,101,59,1,9723,101,114,121,83,109,97,108,108,83,113,117,97,114,101,59,1,9643,4,2,103,112,1599,1604,111,110,59,1,280,102,59,3,55349,56636,115,105,108,111,110,59,1,917,117,4,2,97,105,1624,1640,108,4,2,59,84,1631,1633,1,10869,105,108,100,101,59,1,8770,108,105,98,114,105,117,109,59,1,8652,4,2,99,105,1656,1660,114,59,1,8496,109,59,1,10867,97,59,1,919,109,108,5,203,1,59,1675,1,203,4,2,105,112,1683,1689,115,116,115,59,1,8707,111,110,101,110,116,105,97,108,69,59,1,8519,4,5,99,102,105,111,115,1713,1717,1722,1762,1791,121,59,1,1060,114,59,3,55349,56585,108,108,101,100,4,2,83,86,1732,1745,109,97,108,108,83,113,117,97,114,101,59,1,9724,101,114,121,83,109,97,108,108,83,113,117,97,114,101,59,1,9642,4,3,112,114,117,1770,1775,1781,102,59,3,55349,56637,65,108,108,59,1,8704,114,105,101,114,116,114,102,59,1,8497,99,114,59,1,8497,4,12,74,84,97,98,99,100,102,103,111,114,115,116,1822,1827,1834,1848,1855,1877,1882,1887,1890,1896,1978,1984,99,121,59,1,1027,5,62,1,59,1832,1,62,109,109,97,4,2,59,100,1843,1845,1,915,59,1,988,114,101,118,101,59,1,286,4,3,101,105,121,1863,1869,1874,100,105,108,59,1,290,114,99,59,1,284,59,1,1043,111,116,59,1,288,114,59,3,55349,56586,59,1,8921,112,102,59,3,55349,56638,101,97,116,101,114,4,6,69,70,71,76,83,84,1915,1933,1944,1953,1959,1971,113,117,97,108,4,2,59,76,1925,1927,1,8805,101,115,115,59,1,8923,117,108,108,69,113,117,97,108,59,1,8807,114,101,97,116,101,114,59,1,10914,101,115,115,59,1,8823,108,97,110,116,69,113,117,97,108,59,1,10878,105,108,100,101,59,1,8819,99,114,59,3,55349,56482,59,1,8811,4,8,65,97,99,102,105,111,115,117,2005,2012,2026,2032,2036,2049,2073,2089,82,68,99,121,59,1,1066,4,2,99,116,2018,2023,101,107,59,1,711,59,1,94,105,114,99,59,1,292,114,59,1,8460,108,98,101,114,116,83,112,97,99,101,59,1,8459,4,2,112,114,2055,2059,102,59,1,8461,105,122,111,110,116,97,108,76,105,110,101,59,1,9472,4,2,99,116,2079,2083,114,59,1,8459,114,111,107,59,1,294,109,112,4,2,68,69,2097,2107,111,119,110,72,117,109,112,59,1,8782,113,117,97,108,59,1,8783,4,14,69,74,79,97,99,100,102,103,109,110,111,115,116,117,2144,2149,2155,2160,2171,2189,2194,2198,2209,2245,2307,2329,2334,2341,99,121,59,1,1045,108,105,103,59,1,306,99,121,59,1,1025,99,117,116,101,5,205,1,59,2169,1,205,4,2,105,121,2177,2186,114,99,5,206,1,59,2184,1,206,59,1,1048,111,116,59,1,304,114,59,1,8465,114,97,118,101,5,204,1,59,2207,1,204,4,3,59,97,112,2217,2219,2238,1,8465,4,2,99,103,2225,2229,114,59,1,298,105,110,97,114,121,73,59,1,8520,108,105,101,115,59,1,8658,4,2,116,118,2251,2281,4,2,59,101,2257,2259,1,8748,4,2,103,114,2265,2271,114,97,108,59,1,8747,115,101,99,116,105,111,110,59,1,8898,105,115,105,98,108,101,4,2,67,84,2293,2300,111,109,109,97,59,1,8291,105,109,101,115,59,1,8290,4,3,103,112,116,2315,2320,2325,111,110,59,1,302,102,59,3,55349,56640,97,59,1,921,99,114,59,1,8464,105,108,100,101,59,1,296,4,2,107,109,2347,2352,99,121,59,1,1030,108,5,207,1,59,2358,1,207,4,5,99,102,111,115,117,2372,2386,2391,2397,2414,4,2,105,121,2378,2383,114,99,59,1,308,59,1,1049,114,59,3,55349,56589,112,102,59,3,55349,56641,4,2,99,101,2403,2408,114,59,3,55349,56485,114,99,121,59,1,1032,107,99,121,59,1,1028,4,7,72,74,97,99,102,111,115,2436,2441,2446,2452,2467,2472,2478,99,121,59,1,1061,99,121,59,1,1036,112,112,97,59,1,922,4,2,101,121,2458,2464,100,105,108,59,1,310,59,1,1050,114,59,3,55349,56590,112,102,59,3,55349,56642,99,114,59,3,55349,56486,4,11,74,84,97,99,101,102,108,109,111,115,116,2508,2513,2520,2562,2585,2981,2986,3004,3011,3146,3167,99,121,59,1,1033,5,60,1,59,2518,1,60,4,5,99,109,110,112,114,2532,2538,2544,2548,2558,117,116,101,59,1,313,98,100,97,59,1,923,103,59,1,10218,108,97,99,101,116,114,102,59,1,8466,114,59,1,8606,4,3,97,101,121,2570,2576,2582,114,111,110,59,1,317,100,105,108,59,1,315,59,1,1051,4,2,102,115,2591,2907,116,4,10,65,67,68,70,82,84,85,86,97,114,2614,2663,2672,2728,2735,2760,2820,2870,2888,2895,4,2,110,114,2620,2633,103,108,101,66,114,97,99,107,101,116,59,1,10216,114,111,119,4,3,59,66,82,2644,2646,2651,1,8592,97,114,59,1,8676,105,103,104,116,65,114,114,111,119,59,1,8646,101,105,108,105,110,103,59,1,8968,111,4,2,117,119,2679,2692,98,108,101,66,114,97,99,107,101,116,59,1,10214,110,4,2,84,86,2699,2710,101,101,86,101,99,116,111,114,59,1,10593,101,99,116,111,114,4,2,59,66,2721,2723,1,8643,97,114,59,1,10585,108,111,111,114,59,1,8970,105,103,104,116,4,2,65,86,2745,2752,114,114,111,119,59,1,8596,101,99,116,111,114,59,1,10574,4,2,101,114,2766,2792,101,4,3,59,65,86,2775,2777,2784,1,8867,114,114,111,119,59,1,8612,101,99,116,111,114,59,1,10586,105,97,110,103,108,101,4,3,59,66,69,2806,2808,2813,1,8882,97,114,59,1,10703,113,117,97,108,59,1,8884,112,4,3,68,84,86,2829,2841,2852,111,119,110,86,101,99,116,111,114,59,1,10577,101,101,86,101,99,116,111,114,59,1,10592,101,99,116,111,114,4,2,59,66,2863,2865,1,8639,97,114,59,1,10584,101,99,116,111,114,4,2,59,66,2881,2883,1,8636,97,114,59,1,10578,114,114,111,119,59,1,8656,105,103,104,116,97,114,114,111,119,59,1,8660,115,4,6,69,70,71,76,83,84,2922,2936,2947,2956,2962,2974,113,117,97,108,71,114,101,97,116,101,114,59,1,8922,117,108,108,69,113,117,97,108,59,1,8806,114,101,97,116,101,114,59,1,8822,101,115,115,59,1,10913,108,97,110,116,69,113,117,97,108,59,1,10877,105,108,100,101,59,1,8818,114,59,3,55349,56591,4,2,59,101,2992,2994,1,8920,102,116,97,114,114,111,119,59,1,8666,105,100,111,116,59,1,319,4,3,110,112,119,3019,3110,3115,103,4,4,76,82,108,114,3030,3058,3070,3098,101,102,116,4,2,65,82,3039,3046,114,114,111,119,59,1,10229,105,103,104,116,65,114,114,111,119,59,1,10231,105,103,104,116,65,114,114,111,119,59,1,10230,101,102,116,4,2,97,114,3079,3086,114,114,111,119,59,1,10232,105,103,104,116,97,114,114,111,119,59,1,10234,105,103,104,116,97,114,114,111,119,59,1,10233,102,59,3,55349,56643,101,114,4,2,76,82,3123,3134,101,102,116,65,114,114,111,119,59,1,8601,105,103,104,116,65,114,114,111,119,59,1,8600,4,3,99,104,116,3154,3158,3161,114,59,1,8466,59,1,8624,114,111,107,59,1,321,59,1,8810,4,8,97,99,101,102,105,111,115,117,3188,3192,3196,3222,3227,3237,3243,3248,112,59,1,10501,121,59,1,1052,4,2,100,108,3202,3213,105,117,109,83,112,97,99,101,59,1,8287,108,105,110,116,114,102,59,1,8499,114,59,3,55349,56592,110,117,115,80,108,117,115,59,1,8723,112,102,59,3,55349,56644,99,114,59,1,8499,59,1,924,4,9,74,97,99,101,102,111,115,116,117,3271,3276,3283,3306,3422,3427,4120,4126,4137,99,121,59,1,1034,99,117,116,101,59,1,323,4,3,97,101,121,3291,3297,3303,114,111,110,59,1,327,100,105,108,59,1,325,59,1,1053,4,3,103,115,119,3314,3380,3415,97,116,105,118,101,4,3,77,84,86,3327,3340,3365,101,100,105,117,109,83,112,97,99,101,59,1,8203,104,105,4,2,99,110,3348,3357,107,83,112,97,99,101,59,1,8203,83,112,97,99,101,59,1,8203,101,114,121,84,104,105,110,83,112,97,99,101,59,1,8203,116,101,100,4,2,71,76,3389,3405,114,101,97,116,101,114,71,114,101,97,116,101,114,59,1,8811,101,115,115,76,101,115,115,59,1,8810,76,105,110,101,59,1,10,114,59,3,55349,56593,4,4,66,110,112,116,3437,3444,3460,3464,114,101,97,107,59,1,8288,66,114,101,97,107,105,110,103,83,112,97,99,101,59,1,160,102,59,1,8469,4,13,59,67,68,69,71,72,76,78,80,82,83,84,86,3492,3494,3517,3536,3578,3657,3685,3784,3823,3860,3915,4066,4107,1,10988,4,2,111,117,3500,3510,110,103,114,117,101,110,116,59,1,8802,112,67,97,112,59,1,8813,111,117,98,108,101,86,101,114,116,105,99,97,108,66,97,114,59,1,8742,4,3,108,113,120,3544,3552,3571,101,109,101,110,116,59,1,8713,117,97,108,4,2,59,84,3561,3563,1,8800,105,108,100,101,59,3,8770,824,105,115,116,115,59,1,8708,114,101,97,116,101,114,4,7,59,69,70,71,76,83,84,3600,3602,3609,3621,3631,3637,3650,1,8815,113,117,97,108,59,1,8817,117,108,108,69,113,117,97,108,59,3,8807,824,114,101,97,116,101,114,59,3,8811,824,101,115,115,59,1,8825,108,97,110,116,69,113,117,97,108,59,3,10878,824,105,108,100,101,59,1,8821,117,109,112,4,2,68,69,3666,3677,111,119,110,72,117,109,112,59,3,8782,824,113,117,97,108,59,3,8783,824,101,4,2,102,115,3692,3724,116,84,114,105,97,110,103,108,101,4,3,59,66,69,3709,3711,3717,1,8938,97,114,59,3,10703,824,113,117,97,108,59,1,8940,115,4,6,59,69,71,76,83,84,3739,3741,3748,3757,3764,3777,1,8814,113,117,97,108,59,1,8816,114,101,97,116,101,114,59,1,8824,101,115,115,59,3,8810,824,108,97,110,116,69,113,117,97,108,59,3,10877,824,105,108,100,101,59,1,8820,101,115,116,101,100,4,2,71,76,3795,3812,114,101,97,116,101,114,71,114,101,97,116,101,114,59,3,10914,824,101,115,115,76,101,115,115,59,3,10913,824,114,101,99,101,100,101,115,4,3,59,69,83,3838,3840,3848,1,8832,113,117,97,108,59,3,10927,824,108,97,110,116,69,113,117,97,108,59,1,8928,4,2,101,105,3866,3881,118,101,114,115,101,69,108,101,109,101,110,116,59,1,8716,103,104,116,84,114,105,97,110,103,108,101,4,3,59,66,69,3900,3902,3908,1,8939,97,114,59,3,10704,824,113,117,97,108,59,1,8941,4,2,113,117,3921,3973,117,97,114,101,83,117,4,2,98,112,3933,3952,115,101,116,4,2,59,69,3942,3945,3,8847,824,113,117,97,108,59,1,8930,101,114,115,101,116,4,2,59,69,3963,3966,3,8848,824,113,117,97,108,59,1,8931,4,3,98,99,112,3981,4e3,4045,115,101,116,4,2,59,69,3990,3993,3,8834,8402,113,117,97,108,59,1,8840,99,101,101,100,115,4,4,59,69,83,84,4015,4017,4025,4037,1,8833,113,117,97,108,59,3,10928,824,108,97,110,116,69,113,117,97,108,59,1,8929,105,108,100,101,59,3,8831,824,101,114,115,101,116,4,2,59,69,4056,4059,3,8835,8402,113,117,97,108,59,1,8841,105,108,100,101,4,4,59,69,70,84,4080,4082,4089,4100,1,8769,113,117,97,108,59,1,8772,117,108,108,69,113,117,97,108,59,1,8775,105,108,100,101,59,1,8777,101,114,116,105,99,97,108,66,97,114,59,1,8740,99,114,59,3,55349,56489,105,108,100,101,5,209,1,59,4135,1,209,59,1,925,4,14,69,97,99,100,102,103,109,111,112,114,115,116,117,118,4170,4176,4187,4205,4212,4217,4228,4253,4259,4292,4295,4316,4337,4346,108,105,103,59,1,338,99,117,116,101,5,211,1,59,4185,1,211,4,2,105,121,4193,4202,114,99,5,212,1,59,4200,1,212,59,1,1054,98,108,97,99,59,1,336,114,59,3,55349,56594,114,97,118,101,5,210,1,59,4226,1,210,4,3,97,101,105,4236,4241,4246,99,114,59,1,332,103,97,59,1,937,99,114,111,110,59,1,927,112,102,59,3,55349,56646,101,110,67,117,114,108,121,4,2,68,81,4272,4285,111,117,98,108,101,81,117,111,116,101,59,1,8220,117,111,116,101,59,1,8216,59,1,10836,4,2,99,108,4301,4306,114,59,3,55349,56490,97,115,104,5,216,1,59,4314,1,216,105,4,2,108,109,4323,4332,100,101,5,213,1,59,4330,1,213,101,115,59,1,10807,109,108,5,214,1,59,4344,1,214,101,114,4,2,66,80,4354,4380,4,2,97,114,4360,4364,114,59,1,8254,97,99,4,2,101,107,4372,4375,59,1,9182,101,116,59,1,9140,97,114,101,110,116,104,101,115,105,115,59,1,9180,4,9,97,99,102,104,105,108,111,114,115,4413,4422,4426,4431,4435,4438,4448,4471,4561,114,116,105,97,108,68,59,1,8706,121,59,1,1055,114,59,3,55349,56595,105,59,1,934,59,1,928,117,115,77,105,110,117,115,59,1,177,4,2,105,112,4454,4467,110,99,97,114,101,112,108,97,110,101,59,1,8460,102,59,1,8473,4,4,59,101,105,111,4481,4483,4526,4531,1,10939,99,101,100,101,115,4,4,59,69,83,84,4498,4500,4507,4519,1,8826,113,117,97,108,59,1,10927,108,97,110,116,69,113,117,97,108,59,1,8828,105,108,100,101,59,1,8830,109,101,59,1,8243,4,2,100,112,4537,4543,117,99,116,59,1,8719,111,114,116,105,111,110,4,2,59,97,4555,4557,1,8759,108,59,1,8733,4,2,99,105,4567,4572,114,59,3,55349,56491,59,1,936,4,4,85,102,111,115,4585,4594,4599,4604,79,84,5,34,1,59,4592,1,34,114,59,3,55349,56596,112,102,59,1,8474,99,114,59,3,55349,56492,4,12,66,69,97,99,101,102,104,105,111,114,115,117,4636,4642,4650,4681,4704,4763,4767,4771,5047,5069,5081,5094,97,114,114,59,1,10512,71,5,174,1,59,4648,1,174,4,3,99,110,114,4658,4664,4668,117,116,101,59,1,340,103,59,1,10219,114,4,2,59,116,4675,4677,1,8608,108,59,1,10518,4,3,97,101,121,4689,4695,4701,114,111,110,59,1,344,100,105,108,59,1,342,59,1,1056,4,2,59,118,4710,4712,1,8476,101,114,115,101,4,2,69,85,4722,4748,4,2,108,113,4728,4736,101,109,101,110,116,59,1,8715,117,105,108,105,98,114,105,117,109,59,1,8651,112,69,113,117,105,108,105,98,114,105,117,109,59,1,10607,114,59,1,8476,111,59,1,929,103,104,116,4,8,65,67,68,70,84,85,86,97,4792,4840,4849,4905,4912,4972,5022,5040,4,2,110,114,4798,4811,103,108,101,66,114,97,99,107,101,116,59,1,10217,114,111,119,4,3,59,66,76,4822,4824,4829,1,8594,97,114,59,1,8677,101,102,116,65,114,114,111,119,59,1,8644,101,105,108,105,110,103,59,1,8969,111,4,2,117,119,4856,4869,98,108,101,66,114,97,99,107,101,116,59,1,10215,110,4,2,84,86,4876,4887,101,101,86,101,99,116,111,114,59,1,10589,101,99,116,111,114,4,2,59,66,4898,4900,1,8642,97,114,59,1,10581,108,111,111,114,59,1,8971,4,2,101,114,4918,4944,101,4,3,59,65,86,4927,4929,4936,1,8866,114,114,111,119,59,1,8614,101,99,116,111,114,59,1,10587,105,97,110,103,108,101,4,3,59,66,69,4958,4960,4965,1,8883,97,114,59,1,10704,113,117,97,108,59,1,8885,112,4,3,68,84,86,4981,4993,5004,111,119,110,86,101,99,116,111,114,59,1,10575,101,101,86,101,99,116,111,114,59,1,10588,101,99,116,111,114,4,2,59,66,5015,5017,1,8638,97,114,59,1,10580,101,99,116,111,114,4,2,59,66,5033,5035,1,8640,97,114,59,1,10579,114,114,111,119,59,1,8658,4,2,112,117,5053,5057,102,59,1,8477,110,100,73,109,112,108,105,101,115,59,1,10608,105,103,104,116,97,114,114,111,119,59,1,8667,4,2,99,104,5087,5091,114,59,1,8475,59,1,8625,108,101,68,101,108,97,121,101,100,59,1,10740,4,13,72,79,97,99,102,104,105,109,111,113,115,116,117,5134,5150,5157,5164,5198,5203,5259,5265,5277,5283,5374,5380,5385,4,2,67,99,5140,5146,72,99,121,59,1,1065,121,59,1,1064,70,84,99,121,59,1,1068,99,117,116,101,59,1,346,4,5,59,97,101,105,121,5176,5178,5184,5190,5195,1,10940,114,111,110,59,1,352,100,105,108,59,1,350,114,99,59,1,348,59,1,1057,114,59,3,55349,56598,111,114,116,4,4,68,76,82,85,5216,5227,5238,5250,111,119,110,65,114,114,111,119,59,1,8595,101,102,116,65,114,114,111,119,59,1,8592,105,103,104,116,65,114,114,111,119,59,1,8594,112,65,114,114,111,119,59,1,8593,103,109,97,59,1,931,97,108,108,67,105,114,99,108,101,59,1,8728,112,102,59,3,55349,56650,4,2,114,117,5289,5293,116,59,1,8730,97,114,101,4,4,59,73,83,85,5306,5308,5322,5367,1,9633,110,116,101,114,115,101,99,116,105,111,110,59,1,8851,117,4,2,98,112,5329,5347,115,101,116,4,2,59,69,5338,5340,1,8847,113,117,97,108,59,1,8849,101,114,115,101,116,4,2,59,69,5358,5360,1,8848,113,117,97,108,59,1,8850,110,105,111,110,59,1,8852,99,114,59,3,55349,56494,97,114,59,1,8902,4,4,98,99,109,112,5395,5420,5475,5478,4,2,59,115,5401,5403,1,8912,101,116,4,2,59,69,5411,5413,1,8912,113,117,97,108,59,1,8838,4,2,99,104,5426,5468,101,101,100,115,4,4,59,69,83,84,5440,5442,5449,5461,1,8827,113,117,97,108,59,1,10928,108,97,110,116,69,113,117,97,108,59,1,8829,105,108,100,101,59,1,8831,84,104,97,116,59,1,8715,59,1,8721,4,3,59,101,115,5486,5488,5507,1,8913,114,115,101,116,4,2,59,69,5498,5500,1,8835,113,117,97,108,59,1,8839,101,116,59,1,8913,4,11,72,82,83,97,99,102,104,105,111,114,115,5536,5546,5552,5567,5579,5602,5607,5655,5695,5701,5711,79,82,78,5,222,1,59,5544,1,222,65,68,69,59,1,8482,4,2,72,99,5558,5563,99,121,59,1,1035,121,59,1,1062,4,2,98,117,5573,5576,59,1,9,59,1,932,4,3,97,101,121,5587,5593,5599,114,111,110,59,1,356,100,105,108,59,1,354,59,1,1058,114,59,3,55349,56599,4,2,101,105,5613,5631,4,2,114,116,5619,5627,101,102,111,114,101,59,1,8756,97,59,1,920,4,2,99,110,5637,5647,107,83,112,97,99,101,59,3,8287,8202,83,112,97,99,101,59,1,8201,108,100,101,4,4,59,69,70,84,5668,5670,5677,5688,1,8764,113,117,97,108,59,1,8771,117,108,108,69,113,117,97,108,59,1,8773,105,108,100,101,59,1,8776,112,102,59,3,55349,56651,105,112,108,101,68,111,116,59,1,8411,4,2,99,116,5717,5722,114,59,3,55349,56495,114,111,107,59,1,358,4,14,97,98,99,100,102,103,109,110,111,112,114,115,116,117,5758,5789,5805,5823,5830,5835,5846,5852,5921,5937,6089,6095,6101,6108,4,2,99,114,5764,5774,117,116,101,5,218,1,59,5772,1,218,114,4,2,59,111,5781,5783,1,8607,99,105,114,59,1,10569,114,4,2,99,101,5796,5800,121,59,1,1038,118,101,59,1,364,4,2,105,121,5811,5820,114,99,5,219,1,59,5818,1,219,59,1,1059,98,108,97,99,59,1,368,114,59,3,55349,56600,114,97,118,101,5,217,1,59,5844,1,217,97,99,114,59,1,362,4,2,100,105,5858,5905,101,114,4,2,66,80,5866,5892,4,2,97,114,5872,5876,114,59,1,95,97,99,4,2,101,107,5884,5887,59,1,9183,101,116,59,1,9141,97,114,101,110,116,104,101,115,105,115,59,1,9181,111,110,4,2,59,80,5913,5915,1,8899,108,117,115,59,1,8846,4,2,103,112,5927,5932,111,110,59,1,370,102,59,3,55349,56652,4,8,65,68,69,84,97,100,112,115,5955,5985,5996,6009,6026,6033,6044,6075,114,114,111,119,4,3,59,66,68,5967,5969,5974,1,8593,97,114,59,1,10514,111,119,110,65,114,114,111,119,59,1,8645,111,119,110,65,114,114,111,119,59,1,8597,113,117,105,108,105,98,114,105,117,109,59,1,10606,101,101,4,2,59,65,6017,6019,1,8869,114,114,111,119,59,1,8613,114,114,111,119,59,1,8657,111,119,110,97,114,114,111,119,59,1,8661,101,114,4,2,76,82,6052,6063,101,102,116,65,114,114,111,119,59,1,8598,105,103,104,116,65,114,114,111,119,59,1,8599,105,4,2,59,108,6082,6084,1,978,111,110,59,1,933,105,110,103,59,1,366,99,114,59,3,55349,56496,105,108,100,101,59,1,360,109,108,5,220,1,59,6115,1,220,4,9,68,98,99,100,101,102,111,115,118,6137,6143,6148,6152,6166,6250,6255,6261,6267,97,115,104,59,1,8875,97,114,59,1,10987,121,59,1,1042,97,115,104,4,2,59,108,6161,6163,1,8873,59,1,10982,4,2,101,114,6172,6175,59,1,8897,4,3,98,116,121,6183,6188,6238,97,114,59,1,8214,4,2,59,105,6194,6196,1,8214,99,97,108,4,4,66,76,83,84,6209,6214,6220,6231,97,114,59,1,8739,105,110,101,59,1,124,101,112,97,114,97,116,111,114,59,1,10072,105,108,100,101,59,1,8768,84,104,105,110,83,112,97,99,101,59,1,8202,114,59,3,55349,56601,112,102,59,3,55349,56653,99,114,59,3,55349,56497,100,97,115,104,59,1,8874,4,5,99,101,102,111,115,6286,6292,6298,6303,6309,105,114,99,59,1,372,100,103,101,59,1,8896,114,59,3,55349,56602,112,102,59,3,55349,56654,99,114,59,3,55349,56498,4,4,102,105,111,115,6325,6330,6333,6339,114,59,3,55349,56603,59,1,926,112,102,59,3,55349,56655,99,114,59,3,55349,56499,4,9,65,73,85,97,99,102,111,115,117,6365,6370,6375,6380,6391,6405,6410,6416,6422,99,121,59,1,1071,99,121,59,1,1031,99,121,59,1,1070,99,117,116,101,5,221,1,59,6389,1,221,4,2,105,121,6397,6402,114,99,59,1,374,59,1,1067,114,59,3,55349,56604,112,102,59,3,55349,56656,99,114,59,3,55349,56500,109,108,59,1,376,4,8,72,97,99,100,101,102,111,115,6445,6450,6457,6472,6477,6501,6505,6510,99,121,59,1,1046,99,117,116,101,59,1,377,4,2,97,121,6463,6469,114,111,110,59,1,381,59,1,1047,111,116,59,1,379,4,2,114,116,6483,6497,111,87,105,100,116,104,83,112,97,99,101,59,1,8203,97,59,1,918,114,59,1,8488,112,102,59,1,8484,99,114,59,3,55349,56501,4,16,97,98,99,101,102,103,108,109,110,111,112,114,115,116,117,119,6550,6561,6568,6612,6622,6634,6645,6672,6699,6854,6870,6923,6933,6963,6974,6983,99,117,116,101,5,225,1,59,6559,1,225,114,101,118,101,59,1,259,4,6,59,69,100,105,117,121,6582,6584,6588,6591,6600,6609,1,8766,59,3,8766,819,59,1,8767,114,99,5,226,1,59,6598,1,226,116,101,5,180,1,59,6607,1,180,59,1,1072,108,105,103,5,230,1,59,6620,1,230,4,2,59,114,6628,6630,1,8289,59,3,55349,56606,114,97,118,101,5,224,1,59,6643,1,224,4,2,101,112,6651,6667,4,2,102,112,6657,6663,115,121,109,59,1,8501,104,59,1,8501,104,97,59,1,945,4,2,97,112,6678,6692,4,2,99,108,6684,6688,114,59,1,257,103,59,1,10815,5,38,1,59,6697,1,38,4,2,100,103,6705,6737,4,5,59,97,100,115,118,6717,6719,6724,6727,6734,1,8743,110,100,59,1,10837,59,1,10844,108,111,112,101,59,1,10840,59,1,10842,4,7,59,101,108,109,114,115,122,6753,6755,6758,6762,6814,6835,6848,1,8736,59,1,10660,101,59,1,8736,115,100,4,2,59,97,6770,6772,1,8737,4,8,97,98,99,100,101,102,103,104,6790,6793,6796,6799,6802,6805,6808,6811,59,1,10664,59,1,10665,59,1,10666,59,1,10667,59,1,10668,59,1,10669,59,1,10670,59,1,10671,116,4,2,59,118,6821,6823,1,8735,98,4,2,59,100,6830,6832,1,8894,59,1,10653,4,2,112,116,6841,6845,104,59,1,8738,59,1,197,97,114,114,59,1,9084,4,2,103,112,6860,6865,111,110,59,1,261,102,59,3,55349,56658,4,7,59,69,97,101,105,111,112,6886,6888,6891,6897,6900,6904,6908,1,8776,59,1,10864,99,105,114,59,1,10863,59,1,8778,100,59,1,8779,115,59,1,39,114,111,120,4,2,59,101,6917,6919,1,8776,113,59,1,8778,105,110,103,5,229,1,59,6931,1,229,4,3,99,116,121,6941,6946,6949,114,59,3,55349,56502,59,1,42,109,112,4,2,59,101,6957,6959,1,8776,113,59,1,8781,105,108,100,101,5,227,1,59,6972,1,227,109,108,5,228,1,59,6981,1,228,4,2,99,105,6989,6997,111,110,105,110,116,59,1,8755,110,116,59,1,10769,4,16,78,97,98,99,100,101,102,105,107,108,110,111,112,114,115,117,7036,7041,7119,7135,7149,7155,7219,7224,7347,7354,7463,7489,7786,7793,7814,7866,111,116,59,1,10989,4,2,99,114,7047,7094,107,4,4,99,101,112,115,7058,7064,7073,7080,111,110,103,59,1,8780,112,115,105,108,111,110,59,1,1014,114,105,109,101,59,1,8245,105,109,4,2,59,101,7088,7090,1,8765,113,59,1,8909,4,2,118,119,7100,7105,101,101,59,1,8893,101,100,4,2,59,103,7113,7115,1,8965,101,59,1,8965,114,107,4,2,59,116,7127,7129,1,9141,98,114,107,59,1,9142,4,2,111,121,7141,7146,110,103,59,1,8780,59,1,1073,113,117,111,59,1,8222,4,5,99,109,112,114,116,7167,7181,7188,7193,7199,97,117,115,4,2,59,101,7176,7178,1,8757,59,1,8757,112,116,121,118,59,1,10672,115,105,59,1,1014,110,111,117,59,1,8492,4,3,97,104,119,7207,7210,7213,59,1,946,59,1,8502,101,101,110,59,1,8812,114,59,3,55349,56607,103,4,7,99,111,115,116,117,118,119,7241,7262,7288,7305,7328,7335,7340,4,3,97,105,117,7249,7253,7258,112,59,1,8898,114,99,59,1,9711,112,59,1,8899,4,3,100,112,116,7270,7275,7281,111,116,59,1,10752,108,117,115,59,1,10753,105,109,101,115,59,1,10754,4,2,113,116,7294,7300,99,117,112,59,1,10758,97,114,59,1,9733,114,105,97,110,103,108,101,4,2,100,117,7318,7324,111,119,110,59,1,9661,112,59,1,9651,112,108,117,115,59,1,10756,101,101,59,1,8897,101,100,103,101,59,1,8896,97,114,111,119,59,1,10509,4,3,97,107,111,7362,7436,7458,4,2,99,110,7368,7432,107,4,3,108,115,116,7377,7386,7394,111,122,101,110,103,101,59,1,10731,113,117,97,114,101,59,1,9642,114,105,97,110,103,108,101,4,4,59,100,108,114,7411,7413,7419,7425,1,9652,111,119,110,59,1,9662,101,102,116,59,1,9666,105,103,104,116,59,1,9656,107,59,1,9251,4,2,49,51,7442,7454,4,2,50,52,7448,7451,59,1,9618,59,1,9617,52,59,1,9619,99,107,59,1,9608,4,2,101,111,7469,7485,4,2,59,113,7475,7478,3,61,8421,117,105,118,59,3,8801,8421,116,59,1,8976,4,4,112,116,119,120,7499,7504,7517,7523,102,59,3,55349,56659,4,2,59,116,7510,7512,1,8869,111,109,59,1,8869,116,105,101,59,1,8904,4,12,68,72,85,86,98,100,104,109,112,116,117,118,7549,7571,7597,7619,7655,7660,7682,7708,7715,7721,7728,7750,4,4,76,82,108,114,7559,7562,7565,7568,59,1,9559,59,1,9556,59,1,9558,59,1,9555,4,5,59,68,85,100,117,7583,7585,7588,7591,7594,1,9552,59,1,9574,59,1,9577,59,1,9572,59,1,9575,4,4,76,82,108,114,7607,7610,7613,7616,59,1,9565,59,1,9562,59,1,9564,59,1,9561,4,7,59,72,76,82,104,108,114,7635,7637,7640,7643,7646,7649,7652,1,9553,59,1,9580,59,1,9571,59,1,9568,59,1,9579,59,1,9570,59,1,9567,111,120,59,1,10697,4,4,76,82,108,114,7670,7673,7676,7679,59,1,9557,59,1,9554,59,1,9488,59,1,9484,4,5,59,68,85,100,117,7694,7696,7699,7702,7705,1,9472,59,1,9573,59,1,9576,59,1,9516,59,1,9524,105,110,117,115,59,1,8863,108,117,115,59,1,8862,105,109,101,115,59,1,8864,4,4,76,82,108,114,7738,7741,7744,7747,59,1,9563,59,1,9560,59,1,9496,59,1,9492,4,7,59,72,76,82,104,108,114,7766,7768,7771,7774,7777,7780,7783,1,9474,59,1,9578,59,1,9569,59,1,9566,59,1,9532,59,1,9508,59,1,9500,114,105,109,101,59,1,8245,4,2,101,118,7799,7804,118,101,59,1,728,98,97,114,5,166,1,59,7812,1,166,4,4,99,101,105,111,7824,7829,7834,7846,114,59,3,55349,56503,109,105,59,1,8271,109,4,2,59,101,7841,7843,1,8765,59,1,8909,108,4,3,59,98,104,7855,7857,7860,1,92,59,1,10693,115,117,98,59,1,10184,4,2,108,109,7872,7885,108,4,2,59,101,7879,7881,1,8226,116,59,1,8226,112,4,3,59,69,101,7894,7896,7899,1,8782,59,1,10926,4,2,59,113,7905,7907,1,8783,59,1,8783,4,15,97,99,100,101,102,104,105,108,111,114,115,116,117,119,121,7942,8021,8075,8080,8121,8126,8157,8279,8295,8430,8446,8485,8491,8707,8726,4,3,99,112,114,7950,7956,8007,117,116,101,59,1,263,4,6,59,97,98,99,100,115,7970,7972,7977,7984,7998,8003,1,8745,110,100,59,1,10820,114,99,117,112,59,1,10825,4,2,97,117,7990,7994,112,59,1,10827,112,59,1,10823,111,116,59,1,10816,59,3,8745,65024,4,2,101,111,8013,8017,116,59,1,8257,110,59,1,711,4,4,97,101,105,117,8031,8046,8056,8061,4,2,112,114,8037,8041,115,59,1,10829,111,110,59,1,269,100,105,108,5,231,1,59,8054,1,231,114,99,59,1,265,112,115,4,2,59,115,8069,8071,1,10828,109,59,1,10832,111,116,59,1,267,4,3,100,109,110,8088,8097,8104,105,108,5,184,1,59,8095,1,184,112,116,121,118,59,1,10674,116,5,162,2,59,101,8112,8114,1,162,114,100,111,116,59,1,183,114,59,3,55349,56608,4,3,99,101,105,8134,8138,8154,121,59,1,1095,99,107,4,2,59,109,8146,8148,1,10003,97,114,107,59,1,10003,59,1,967,114,4,7,59,69,99,101,102,109,115,8174,8176,8179,8258,8261,8268,8273,1,9675,59,1,10691,4,3,59,101,108,8187,8189,8193,1,710,113,59,1,8791,101,4,2,97,100,8200,8223,114,114,111,119,4,2,108,114,8210,8216,101,102,116,59,1,8634,105,103,104,116,59,1,8635,4,5,82,83,97,99,100,8235,8238,8241,8246,8252,59,1,174,59,1,9416,115,116,59,1,8859,105,114,99,59,1,8858,97,115,104,59,1,8861,59,1,8791,110,105,110,116,59,1,10768,105,100,59,1,10991,99,105,114,59,1,10690,117,98,115,4,2,59,117,8288,8290,1,9827,105,116,59,1,9827,4,4,108,109,110,112,8305,8326,8376,8400,111,110,4,2,59,101,8313,8315,1,58,4,2,59,113,8321,8323,1,8788,59,1,8788,4,2,109,112,8332,8344,97,4,2,59,116,8339,8341,1,44,59,1,64,4,3,59,102,108,8352,8354,8358,1,8705,110,59,1,8728,101,4,2,109,120,8365,8371,101,110,116,59,1,8705,101,115,59,1,8450,4,2,103,105,8382,8395,4,2,59,100,8388,8390,1,8773,111,116,59,1,10861,110,116,59,1,8750,4,3,102,114,121,8408,8412,8417,59,3,55349,56660,111,100,59,1,8720,5,169,2,59,115,8424,8426,1,169,114,59,1,8471,4,2,97,111,8436,8441,114,114,59,1,8629,115,115,59,1,10007,4,2,99,117,8452,8457,114,59,3,55349,56504,4,2,98,112,8463,8474,4,2,59,101,8469,8471,1,10959,59,1,10961,4,2,59,101,8480,8482,1,10960,59,1,10962,100,111,116,59,1,8943,4,7,100,101,108,112,114,118,119,8507,8522,8536,8550,8600,8697,8702,97,114,114,4,2,108,114,8516,8519,59,1,10552,59,1,10549,4,2,112,115,8528,8532,114,59,1,8926,99,59,1,8927,97,114,114,4,2,59,112,8545,8547,1,8630,59,1,10557,4,6,59,98,99,100,111,115,8564,8566,8573,8587,8592,8596,1,8746,114,99,97,112,59,1,10824,4,2,97,117,8579,8583,112,59,1,10822,112,59,1,10826,111,116,59,1,8845,114,59,1,10821,59,3,8746,65024,4,4,97,108,114,118,8610,8623,8663,8672,114,114,4,2,59,109,8618,8620,1,8631,59,1,10556,121,4,3,101,118,119,8632,8651,8656,113,4,2,112,115,8639,8645,114,101,99,59,1,8926,117,99,99,59,1,8927,101,101,59,1,8910,101,100,103,101,59,1,8911,101,110,5,164,1,59,8670,1,164,101,97,114,114,111,119,4,2,108,114,8684,8690,101,102,116,59,1,8630,105,103,104,116,59,1,8631,101,101,59,1,8910,101,100,59,1,8911,4,2,99,105,8713,8721,111,110,105,110,116,59,1,8754,110,116,59,1,8753,108,99,116,121,59,1,9005,4,19,65,72,97,98,99,100,101,102,104,105,106,108,111,114,115,116,117,119,122,8773,8778,8783,8821,8839,8854,8887,8914,8930,8944,9036,9041,9058,9197,9227,9258,9281,9297,9305,114,114,59,1,8659,97,114,59,1,10597,4,4,103,108,114,115,8793,8799,8805,8809,103,101,114,59,1,8224,101,116,104,59,1,8504,114,59,1,8595,104,4,2,59,118,8816,8818,1,8208,59,1,8867,4,2,107,108,8827,8834,97,114,111,119,59,1,10511,97,99,59,1,733,4,2,97,121,8845,8851,114,111,110,59,1,271,59,1,1076,4,3,59,97,111,8862,8864,8880,1,8518,4,2,103,114,8870,8876,103,101,114,59,1,8225,114,59,1,8650,116,115,101,113,59,1,10871,4,3,103,108,109,8895,8902,8907,5,176,1,59,8900,1,176,116,97,59,1,948,112,116,121,118,59,1,10673,4,2,105,114,8920,8926,115,104,116,59,1,10623,59,3,55349,56609,97,114,4,2,108,114,8938,8941,59,1,8643,59,1,8642,4,5,97,101,103,115,118,8956,8986,8989,8996,9001,109,4,3,59,111,115,8965,8967,8983,1,8900,110,100,4,2,59,115,8975,8977,1,8900,117,105,116,59,1,9830,59,1,9830,59,1,168,97,109,109,97,59,1,989,105,110,59,1,8946,4,3,59,105,111,9009,9011,9031,1,247,100,101,5,247,2,59,111,9020,9022,1,247,110,116,105,109,101,115,59,1,8903,110,120,59,1,8903,99,121,59,1,1106,99,4,2,111,114,9048,9053,114,110,59,1,8990,111,112,59,1,8973,4,5,108,112,116,117,119,9070,9076,9081,9130,9144,108,97,114,59,1,36,102,59,3,55349,56661,4,5,59,101,109,112,115,9093,9095,9109,9116,9122,1,729,113,4,2,59,100,9102,9104,1,8784,111,116,59,1,8785,105,110,117,115,59,1,8760,108,117,115,59,1,8724,113,117,97,114,101,59,1,8865,98,108,101,98,97,114,119,101,100,103,101,59,1,8966,110,4,3,97,100,104,9153,9160,9172,114,114,111,119,59,1,8595,111,119,110,97,114,114,111,119,115,59,1,8650,97,114,112,111,111,110,4,2,108,114,9184,9190,101,102,116,59,1,8643,105,103,104,116,59,1,8642,4,2,98,99,9203,9211,107,97,114,111,119,59,1,10512,4,2,111,114,9217,9222,114,110,59,1,8991,111,112,59,1,8972,4,3,99,111,116,9235,9248,9252,4,2,114,121,9241,9245,59,3,55349,56505,59,1,1109,108,59,1,10742,114,111,107,59,1,273,4,2,100,114,9264,9269,111,116,59,1,8945,105,4,2,59,102,9276,9278,1,9663,59,1,9662,4,2,97,104,9287,9292,114,114,59,1,8693,97,114,59,1,10607,97,110,103,108,101,59,1,10662,4,2,99,105,9311,9315,121,59,1,1119,103,114,97,114,114,59,1,10239,4,18,68,97,99,100,101,102,103,108,109,110,111,112,113,114,115,116,117,120,9361,9376,9398,9439,9444,9447,9462,9495,9531,9585,9598,9614,9659,9755,9771,9792,9808,9826,4,2,68,111,9367,9372,111,116,59,1,10871,116,59,1,8785,4,2,99,115,9382,9392,117,116,101,5,233,1,59,9390,1,233,116,101,114,59,1,10862,4,4,97,105,111,121,9408,9414,9430,9436,114,111,110,59,1,283,114,4,2,59,99,9421,9423,1,8790,5,234,1,59,9428,1,234,108,111,110,59,1,8789,59,1,1101,111,116,59,1,279,59,1,8519,4,2,68,114,9453,9458,111,116,59,1,8786,59,3,55349,56610,4,3,59,114,115,9470,9472,9482,1,10906,97,118,101,5,232,1,59,9480,1,232,4,2,59,100,9488,9490,1,10902,111,116,59,1,10904,4,4,59,105,108,115,9505,9507,9515,9518,1,10905,110,116,101,114,115,59,1,9191,59,1,8467,4,2,59,100,9524,9526,1,10901,111,116,59,1,10903,4,3,97,112,115,9539,9544,9564,99,114,59,1,275,116,121,4,3,59,115,118,9554,9556,9561,1,8709,101,116,59,1,8709,59,1,8709,112,4,2,49,59,9571,9583,4,2,51,52,9577,9580,59,1,8196,59,1,8197,1,8195,4,2,103,115,9591,9594,59,1,331,112,59,1,8194,4,2,103,112,9604,9609,111,110,59,1,281,102,59,3,55349,56662,4,3,97,108,115,9622,9635,9640,114,4,2,59,115,9629,9631,1,8917,108,59,1,10723,117,115,59,1,10865,105,4,3,59,108,118,9649,9651,9656,1,949,111,110,59,1,949,59,1,1013,4,4,99,115,117,118,9669,9686,9716,9747,4,2,105,111,9675,9680,114,99,59,1,8790,108,111,110,59,1,8789,4,2,105,108,9692,9696,109,59,1,8770,97,110,116,4,2,103,108,9705,9710,116,114,59,1,10902,101,115,115,59,1,10901,4,3,97,101,105,9724,9729,9734,108,115,59,1,61,115,116,59,1,8799,118,4,2,59,68,9741,9743,1,8801,68,59,1,10872,112,97,114,115,108,59,1,10725,4,2,68,97,9761,9766,111,116,59,1,8787,114,114,59,1,10609,4,3,99,100,105,9779,9783,9788,114,59,1,8495,111,116,59,1,8784,109,59,1,8770,4,2,97,104,9798,9801,59,1,951,5,240,1,59,9806,1,240,4,2,109,114,9814,9822,108,5,235,1,59,9820,1,235,111,59,1,8364,4,3,99,105,112,9834,9838,9843,108,59,1,33,115,116,59,1,8707,4,2,101,111,9849,9859,99,116,97,116,105,111,110,59,1,8496,110,101,110,116,105,97,108,101,59,1,8519,4,12,97,99,101,102,105,106,108,110,111,112,114,115,9896,9910,9914,9921,9954,9960,9967,9989,9994,10027,10036,10164,108,108,105,110,103,100,111,116,115,101,113,59,1,8786,121,59,1,1092,109,97,108,101,59,1,9792,4,3,105,108,114,9929,9935,9950,108,105,103,59,1,64259,4,2,105,108,9941,9945,103,59,1,64256,105,103,59,1,64260,59,3,55349,56611,108,105,103,59,1,64257,108,105,103,59,3,102,106,4,3,97,108,116,9975,9979,9984,116,59,1,9837,105,103,59,1,64258,110,115,59,1,9649,111,102,59,1,402,4,2,112,114,1e4,10005,102,59,3,55349,56663,4,2,97,107,10011,10016,108,108,59,1,8704,4,2,59,118,10022,10024,1,8916,59,1,10969,97,114,116,105,110,116,59,1,10765,4,2,97,111,10042,10159,4,2,99,115,10048,10155,4,6,49,50,51,52,53,55,10062,10102,10114,10135,10139,10151,4,6,50,51,52,53,54,56,10076,10083,10086,10093,10096,10099,5,189,1,59,10081,1,189,59,1,8531,5,188,1,59,10091,1,188,59,1,8533,59,1,8537,59,1,8539,4,2,51,53,10108,10111,59,1,8532,59,1,8534,4,3,52,53,56,10122,10129,10132,5,190,1,59,10127,1,190,59,1,8535,59,1,8540,53,59,1,8536,4,2,54,56,10145,10148,59,1,8538,59,1,8541,56,59,1,8542,108,59,1,8260,119,110,59,1,8994,99,114,59,3,55349,56507,4,17,69,97,98,99,100,101,102,103,105,106,108,110,111,114,115,116,118,10206,10217,10247,10254,10268,10273,10358,10363,10374,10380,10385,10406,10458,10464,10470,10497,10610,4,2,59,108,10212,10214,1,8807,59,1,10892,4,3,99,109,112,10225,10231,10244,117,116,101,59,1,501,109,97,4,2,59,100,10239,10241,1,947,59,1,989,59,1,10886,114,101,118,101,59,1,287,4,2,105,121,10260,10265,114,99,59,1,285,59,1,1075,111,116,59,1,289,4,4,59,108,113,115,10283,10285,10288,10308,1,8805,59,1,8923,4,3,59,113,115,10296,10298,10301,1,8805,59,1,8807,108,97,110,116,59,1,10878,4,4,59,99,100,108,10318,10320,10324,10345,1,10878,99,59,1,10921,111,116,4,2,59,111,10332,10334,1,10880,4,2,59,108,10340,10342,1,10882,59,1,10884,4,2,59,101,10351,10354,3,8923,65024,115,59,1,10900,114,59,3,55349,56612,4,2,59,103,10369,10371,1,8811,59,1,8921,109,101,108,59,1,8503,99,121,59,1,1107,4,4,59,69,97,106,10395,10397,10400,10403,1,8823,59,1,10898,59,1,10917,59,1,10916,4,4,69,97,101,115,10416,10419,10434,10453,59,1,8809,112,4,2,59,112,10426,10428,1,10890,114,111,120,59,1,10890,4,2,59,113,10440,10442,1,10888,4,2,59,113,10448,10450,1,10888,59,1,8809,105,109,59,1,8935,112,102,59,3,55349,56664,97,118,101,59,1,96,4,2,99,105,10476,10480,114,59,1,8458,109,4,3,59,101,108,10489,10491,10494,1,8819,59,1,10894,59,1,10896,5,62,6,59,99,100,108,113,114,10512,10514,10527,10532,10538,10545,1,62,4,2,99,105,10520,10523,59,1,10919,114,59,1,10874,111,116,59,1,8919,80,97,114,59,1,10645,117,101,115,116,59,1,10876,4,5,97,100,101,108,115,10557,10574,10579,10599,10605,4,2,112,114,10563,10570,112,114,111,120,59,1,10886,114,59,1,10616,111,116,59,1,8919,113,4,2,108,113,10586,10592,101,115,115,59,1,8923,108,101,115,115,59,1,10892,101,115,115,59,1,8823,105,109,59,1,8819,4,2,101,110,10616,10626,114,116,110,101,113,113,59,3,8809,65024,69,59,3,8809,65024,4,10,65,97,98,99,101,102,107,111,115,121,10653,10658,10713,10718,10724,10760,10765,10786,10850,10875,114,114,59,1,8660,4,4,105,108,109,114,10668,10674,10678,10684,114,115,112,59,1,8202,102,59,1,189,105,108,116,59,1,8459,4,2,100,114,10690,10695,99,121,59,1,1098,4,3,59,99,119,10703,10705,10710,1,8596,105,114,59,1,10568,59,1,8621,97,114,59,1,8463,105,114,99,59,1,293,4,3,97,108,114,10732,10748,10754,114,116,115,4,2,59,117,10741,10743,1,9829,105,116,59,1,9829,108,105,112,59,1,8230,99,111,110,59,1,8889,114,59,3,55349,56613,115,4,2,101,119,10772,10779,97,114,111,119,59,1,10533,97,114,111,119,59,1,10534,4,5,97,109,111,112,114,10798,10803,10809,10839,10844,114,114,59,1,8703,116,104,116,59,1,8763,107,4,2,108,114,10816,10827,101,102,116,97,114,114,111,119,59,1,8617,105,103,104,116,97,114,114,111,119,59,1,8618,102,59,3,55349,56665,98,97,114,59,1,8213,4,3,99,108,116,10858,10863,10869,114,59,3,55349,56509,97,115,104,59,1,8463,114,111,107,59,1,295,4,2,98,112,10881,10887,117,108,108,59,1,8259,104,101,110,59,1,8208,4,15,97,99,101,102,103,105,106,109,110,111,112,113,115,116,117,10925,10936,10958,10977,10990,11001,11039,11045,11101,11192,11220,11226,11237,11285,11299,99,117,116,101,5,237,1,59,10934,1,237,4,3,59,105,121,10944,10946,10955,1,8291,114,99,5,238,1,59,10953,1,238,59,1,1080,4,2,99,120,10964,10968,121,59,1,1077,99,108,5,161,1,59,10975,1,161,4,2,102,114,10983,10986,59,1,8660,59,3,55349,56614,114,97,118,101,5,236,1,59,10999,1,236,4,4,59,105,110,111,11011,11013,11028,11034,1,8520,4,2,105,110,11019,11024,110,116,59,1,10764,116,59,1,8749,102,105,110,59,1,10716,116,97,59,1,8489,108,105,103,59,1,307,4,3,97,111,112,11053,11092,11096,4,3,99,103,116,11061,11065,11088,114,59,1,299,4,3,101,108,112,11073,11076,11082,59,1,8465,105,110,101,59,1,8464,97,114,116,59,1,8465,104,59,1,305,102,59,1,8887,101,100,59,1,437,4,5,59,99,102,111,116,11113,11115,11121,11136,11142,1,8712,97,114,101,59,1,8453,105,110,4,2,59,116,11129,11131,1,8734,105,101,59,1,10717,100,111,116,59,1,305,4,5,59,99,101,108,112,11154,11156,11161,11179,11186,1,8747,97,108,59,1,8890,4,2,103,114,11167,11173,101,114,115,59,1,8484,99,97,108,59,1,8890,97,114,104,107,59,1,10775,114,111,100,59,1,10812,4,4,99,103,112,116,11202,11206,11211,11216,121,59,1,1105,111,110,59,1,303,102,59,3,55349,56666,97,59,1,953,114,111,100,59,1,10812,117,101,115,116,5,191,1,59,11235,1,191,4,2,99,105,11243,11248,114,59,3,55349,56510,110,4,5,59,69,100,115,118,11261,11263,11266,11271,11282,1,8712,59,1,8953,111,116,59,1,8949,4,2,59,118,11277,11279,1,8948,59,1,8947,59,1,8712,4,2,59,105,11291,11293,1,8290,108,100,101,59,1,297,4,2,107,109,11305,11310,99,121,59,1,1110,108,5,239,1,59,11316,1,239,4,6,99,102,109,111,115,117,11332,11346,11351,11357,11363,11380,4,2,105,121,11338,11343,114,99,59,1,309,59,1,1081,114,59,3,55349,56615,97,116,104,59,1,567,112,102,59,3,55349,56667,4,2,99,101,11369,11374,114,59,3,55349,56511,114,99,121,59,1,1112,107,99,121,59,1,1108,4,8,97,99,102,103,104,106,111,115,11404,11418,11433,11438,11445,11450,11455,11461,112,112,97,4,2,59,118,11413,11415,1,954,59,1,1008,4,2,101,121,11424,11430,100,105,108,59,1,311,59,1,1082,114,59,3,55349,56616,114,101,101,110,59,1,312,99,121,59,1,1093,99,121,59,1,1116,112,102,59,3,55349,56668,99,114,59,3,55349,56512,4,23,65,66,69,72,97,98,99,100,101,102,103,104,106,108,109,110,111,112,114,115,116,117,118,11515,11538,11544,11555,11560,11721,11780,11818,11868,12136,12160,12171,12203,12208,12246,12275,12327,12509,12523,12569,12641,12732,12752,4,3,97,114,116,11523,11528,11532,114,114,59,1,8666,114,59,1,8656,97,105,108,59,1,10523,97,114,114,59,1,10510,4,2,59,103,11550,11552,1,8806,59,1,10891,97,114,59,1,10594,4,9,99,101,103,109,110,112,113,114,116,11580,11586,11594,11600,11606,11624,11627,11636,11694,117,116,101,59,1,314,109,112,116,121,118,59,1,10676,114,97,110,59,1,8466,98,100,97,59,1,955,103,4,3,59,100,108,11615,11617,11620,1,10216,59,1,10641,101,59,1,10216,59,1,10885,117,111,5,171,1,59,11634,1,171,114,4,8,59,98,102,104,108,112,115,116,11655,11657,11669,11673,11677,11681,11685,11690,1,8592,4,2,59,102,11663,11665,1,8676,115,59,1,10527,115,59,1,10525,107,59,1,8617,112,59,1,8619,108,59,1,10553,105,109,59,1,10611,108,59,1,8610,4,3,59,97,101,11702,11704,11709,1,10923,105,108,59,1,10521,4,2,59,115,11715,11717,1,10925,59,3,10925,65024,4,3,97,98,114,11729,11734,11739,114,114,59,1,10508,114,107,59,1,10098,4,2,97,107,11745,11758,99,4,2,101,107,11752,11755,59,1,123,59,1,91,4,2,101,115,11764,11767,59,1,10635,108,4,2,100,117,11774,11777,59,1,10639,59,1,10637,4,4,97,101,117,121,11790,11796,11811,11815,114,111,110,59,1,318,4,2,100,105,11802,11807,105,108,59,1,316,108,59,1,8968,98,59,1,123,59,1,1083,4,4,99,113,114,115,11828,11832,11845,11864,97,59,1,10550,117,111,4,2,59,114,11840,11842,1,8220,59,1,8222,4,2,100,117,11851,11857,104,97,114,59,1,10599,115,104,97,114,59,1,10571,104,59,1,8626,4,5,59,102,103,113,115,11880,11882,12008,12011,12031,1,8804,116,4,5,97,104,108,114,116,11895,11913,11935,11947,11996,114,114,111,119,4,2,59,116,11905,11907,1,8592,97,105,108,59,1,8610,97,114,112,111,111,110,4,2,100,117,11925,11931,111,119,110,59,1,8637,112,59,1,8636,101,102,116,97,114,114,111,119,115,59,1,8647,105,103,104,116,4,3,97,104,115,11959,11974,11984,114,114,111,119,4,2,59,115,11969,11971,1,8596,59,1,8646,97,114,112,111,111,110,115,59,1,8651,113,117,105,103,97,114,114,111,119,59,1,8621,104,114,101,101,116,105,109,101,115,59,1,8907,59,1,8922,4,3,59,113,115,12019,12021,12024,1,8804,59,1,8806,108,97,110,116,59,1,10877,4,5,59,99,100,103,115,12043,12045,12049,12070,12083,1,10877,99,59,1,10920,111,116,4,2,59,111,12057,12059,1,10879,4,2,59,114,12065,12067,1,10881,59,1,10883,4,2,59,101,12076,12079,3,8922,65024,115,59,1,10899,4,5,97,100,101,103,115,12095,12103,12108,12126,12131,112,112,114,111,120,59,1,10885,111,116,59,1,8918,113,4,2,103,113,12115,12120,116,114,59,1,8922,103,116,114,59,1,10891,116,114,59,1,8822,105,109,59,1,8818,4,3,105,108,114,12144,12150,12156,115,104,116,59,1,10620,111,111,114,59,1,8970,59,3,55349,56617,4,2,59,69,12166,12168,1,8822,59,1,10897,4,2,97,98,12177,12198,114,4,2,100,117,12184,12187,59,1,8637,4,2,59,108,12193,12195,1,8636,59,1,10602,108,107,59,1,9604,99,121,59,1,1113,4,5,59,97,99,104,116,12220,12222,12227,12235,12241,1,8810,114,114,59,1,8647,111,114,110,101,114,59,1,8990,97,114,100,59,1,10603,114,105,59,1,9722,4,2,105,111,12252,12258,100,111,116,59,1,320,117,115,116,4,2,59,97,12267,12269,1,9136,99,104,101,59,1,9136,4,4,69,97,101,115,12285,12288,12303,12322,59,1,8808,112,4,2,59,112,12295,12297,1,10889,114,111,120,59,1,10889,4,2,59,113,12309,12311,1,10887,4,2,59,113,12317,12319,1,10887,59,1,8808,105,109,59,1,8934,4,8,97,98,110,111,112,116,119,122,12345,12359,12364,12421,12446,12467,12474,12490,4,2,110,114,12351,12355,103,59,1,10220,114,59,1,8701,114,107,59,1,10214,103,4,3,108,109,114,12373,12401,12409,101,102,116,4,2,97,114,12382,12389,114,114,111,119,59,1,10229,105,103,104,116,97,114,114,111,119,59,1,10231,97,112,115,116,111,59,1,10236,105,103,104,116,97,114,114,111,119,59,1,10230,112,97,114,114,111,119,4,2,108,114,12433,12439,101,102,116,59,1,8619,105,103,104,116,59,1,8620,4,3,97,102,108,12454,12458,12462,114,59,1,10629,59,3,55349,56669,117,115,59,1,10797,105,109,101,115,59,1,10804,4,2,97,98,12480,12485,115,116,59,1,8727,97,114,59,1,95,4,3,59,101,102,12498,12500,12506,1,9674,110,103,101,59,1,9674,59,1,10731,97,114,4,2,59,108,12517,12519,1,40,116,59,1,10643,4,5,97,99,104,109,116,12535,12540,12548,12561,12564,114,114,59,1,8646,111,114,110,101,114,59,1,8991,97,114,4,2,59,100,12556,12558,1,8651,59,1,10605,59,1,8206,114,105,59,1,8895,4,6,97,99,104,105,113,116,12583,12589,12594,12597,12614,12635,113,117,111,59,1,8249,114,59,3,55349,56513,59,1,8624,109,4,3,59,101,103,12606,12608,12611,1,8818,59,1,10893,59,1,10895,4,2,98,117,12620,12623,59,1,91,111,4,2,59,114,12630,12632,1,8216,59,1,8218,114,111,107,59,1,322,5,60,8,59,99,100,104,105,108,113,114,12660,12662,12675,12680,12686,12692,12698,12705,1,60,4,2,99,105,12668,12671,59,1,10918,114,59,1,10873,111,116,59,1,8918,114,101,101,59,1,8907,109,101,115,59,1,8905,97,114,114,59,1,10614,117,101,115,116,59,1,10875,4,2,80,105,12711,12716,97,114,59,1,10646,4,3,59,101,102,12724,12726,12729,1,9667,59,1,8884,59,1,9666,114,4,2,100,117,12739,12746,115,104,97,114,59,1,10570,104,97,114,59,1,10598,4,2,101,110,12758,12768,114,116,110,101,113,113,59,3,8808,65024,69,59,3,8808,65024,4,14,68,97,99,100,101,102,104,105,108,110,111,112,115,117,12803,12809,12893,12908,12914,12928,12933,12937,13011,13025,13032,13049,13052,13069,68,111,116,59,1,8762,4,4,99,108,112,114,12819,12827,12849,12887,114,5,175,1,59,12825,1,175,4,2,101,116,12833,12836,59,1,9794,4,2,59,101,12842,12844,1,10016,115,101,59,1,10016,4,2,59,115,12855,12857,1,8614,116,111,4,4,59,100,108,117,12869,12871,12877,12883,1,8614,111,119,110,59,1,8615,101,102,116,59,1,8612,112,59,1,8613,107,101,114,59,1,9646,4,2,111,121,12899,12905,109,109,97,59,1,10793,59,1,1084,97,115,104,59,1,8212,97,115,117,114,101,100,97,110,103,108,101,59,1,8737,114,59,3,55349,56618,111,59,1,8487,4,3,99,100,110,12945,12954,12985,114,111,5,181,1,59,12952,1,181,4,4,59,97,99,100,12964,12966,12971,12976,1,8739,115,116,59,1,42,105,114,59,1,10992,111,116,5,183,1,59,12983,1,183,117,115,4,3,59,98,100,12995,12997,13e3,1,8722,59,1,8863,4,2,59,117,13006,13008,1,8760,59,1,10794,4,2,99,100,13017,13021,112,59,1,10971,114,59,1,8230,112,108,117,115,59,1,8723,4,2,100,112,13038,13044,101,108,115,59,1,8871,102,59,3,55349,56670,59,1,8723,4,2,99,116,13058,13063,114,59,3,55349,56514,112,111,115,59,1,8766,4,3,59,108,109,13077,13079,13087,1,956,116,105,109,97,112,59,1,8888,97,112,59,1,8888,4,24,71,76,82,86,97,98,99,100,101,102,103,104,105,106,108,109,111,112,114,115,116,117,118,119,13142,13165,13217,13229,13247,13330,13359,13414,13420,13508,13513,13579,13602,13626,13631,13762,13767,13855,13936,13995,14214,14285,14312,14432,4,2,103,116,13148,13152,59,3,8921,824,4,2,59,118,13158,13161,3,8811,8402,59,3,8811,824,4,3,101,108,116,13173,13200,13204,102,116,4,2,97,114,13181,13188,114,114,111,119,59,1,8653,105,103,104,116,97,114,114,111,119,59,1,8654,59,3,8920,824,4,2,59,118,13210,13213,3,8810,8402,59,3,8810,824,105,103,104,116,97,114,114,111,119,59,1,8655,4,2,68,100,13235,13241,97,115,104,59,1,8879,97,115,104,59,1,8878,4,5,98,99,110,112,116,13259,13264,13270,13275,13308,108,97,59,1,8711,117,116,101,59,1,324,103,59,3,8736,8402,4,5,59,69,105,111,112,13287,13289,13293,13298,13302,1,8777,59,3,10864,824,100,59,3,8779,824,115,59,1,329,114,111,120,59,1,8777,117,114,4,2,59,97,13316,13318,1,9838,108,4,2,59,115,13325,13327,1,9838,59,1,8469,4,2,115,117,13336,13344,112,5,160,1,59,13342,1,160,109,112,4,2,59,101,13352,13355,3,8782,824,59,3,8783,824,4,5,97,101,111,117,121,13371,13385,13391,13407,13411,4,2,112,114,13377,13380,59,1,10819,111,110,59,1,328,100,105,108,59,1,326,110,103,4,2,59,100,13399,13401,1,8775,111,116,59,3,10861,824,112,59,1,10818,59,1,1085,97,115,104,59,1,8211,4,7,59,65,97,100,113,115,120,13436,13438,13443,13466,13472,13478,13494,1,8800,114,114,59,1,8663,114,4,2,104,114,13450,13454,107,59,1,10532,4,2,59,111,13460,13462,1,8599,119,59,1,8599,111,116,59,3,8784,824,117,105,118,59,1,8802,4,2,101,105,13484,13489,97,114,59,1,10536,109,59,3,8770,824,105,115,116,4,2,59,115,13503,13505,1,8708,59,1,8708,114,59,3,55349,56619,4,4,69,101,115,116,13523,13527,13563,13568,59,3,8807,824,4,3,59,113,115,13535,13537,13559,1,8817,4,3,59,113,115,13545,13547,13551,1,8817,59,3,8807,824,108,97,110,116,59,3,10878,824,59,3,10878,824,105,109,59,1,8821,4,2,59,114,13574,13576,1,8815,59,1,8815,4,3,65,97,112,13587,13592,13597,114,114,59,1,8654,114,114,59,1,8622,97,114,59,1,10994,4,3,59,115,118,13610,13612,13623,1,8715,4,2,59,100,13618,13620,1,8956,59,1,8954,59,1,8715,99,121,59,1,1114,4,7,65,69,97,100,101,115,116,13647,13652,13656,13661,13665,13737,13742,114,114,59,1,8653,59,3,8806,824,114,114,59,1,8602,114,59,1,8229,4,4,59,102,113,115,13675,13677,13703,13725,1,8816,116,4,2,97,114,13684,13691,114,114,111,119,59,1,8602,105,103,104,116,97,114,114,111,119,59,1,8622,4,3,59,113,115,13711,13713,13717,1,8816,59,3,8806,824,108,97,110,116,59,3,10877,824,4,2,59,115,13731,13734,3,10877,824,59,1,8814,105,109,59,1,8820,4,2,59,114,13748,13750,1,8814,105,4,2,59,101,13757,13759,1,8938,59,1,8940,105,100,59,1,8740,4,2,112,116,13773,13778,102,59,3,55349,56671,5,172,3,59,105,110,13787,13789,13829,1,172,110,4,4,59,69,100,118,13800,13802,13806,13812,1,8713,59,3,8953,824,111,116,59,3,8949,824,4,3,97,98,99,13820,13823,13826,59,1,8713,59,1,8951,59,1,8950,105,4,2,59,118,13836,13838,1,8716,4,3,97,98,99,13846,13849,13852,59,1,8716,59,1,8958,59,1,8957,4,3,97,111,114,13863,13892,13899,114,4,4,59,97,115,116,13874,13876,13883,13888,1,8742,108,108,101,108,59,1,8742,108,59,3,11005,8421,59,3,8706,824,108,105,110,116,59,1,10772,4,3,59,99,101,13907,13909,13914,1,8832,117,101,59,1,8928,4,2,59,99,13920,13923,3,10927,824,4,2,59,101,13929,13931,1,8832,113,59,3,10927,824,4,4,65,97,105,116,13946,13951,13971,13982,114,114,59,1,8655,114,114,4,3,59,99,119,13961,13963,13967,1,8603,59,3,10547,824,59,3,8605,824,103,104,116,97,114,114,111,119,59,1,8603,114,105,4,2,59,101,13990,13992,1,8939,59,1,8941,4,7,99,104,105,109,112,113,117,14011,14036,14060,14080,14085,14090,14106,4,4,59,99,101,114,14021,14023,14028,14032,1,8833,117,101,59,1,8929,59,3,10928,824,59,3,55349,56515,111,114,116,4,2,109,112,14045,14050,105,100,59,1,8740,97,114,97,108,108,101,108,59,1,8742,109,4,2,59,101,14067,14069,1,8769,4,2,59,113,14075,14077,1,8772,59,1,8772,105,100,59,1,8740,97,114,59,1,8742,115,117,4,2,98,112,14098,14102,101,59,1,8930,101,59,1,8931,4,3,98,99,112,14114,14157,14171,4,4,59,69,101,115,14124,14126,14130,14133,1,8836,59,3,10949,824,59,1,8840,101,116,4,2,59,101,14141,14144,3,8834,8402,113,4,2,59,113,14151,14153,1,8840,59,3,10949,824,99,4,2,59,101,14164,14166,1,8833,113,59,3,10928,824,4,4,59,69,101,115,14181,14183,14187,14190,1,8837,59,3,10950,824,59,1,8841,101,116,4,2,59,101,14198,14201,3,8835,8402,113,4,2,59,113,14208,14210,1,8841,59,3,10950,824,4,4,103,105,108,114,14224,14228,14238,14242,108,59,1,8825,108,100,101,5,241,1,59,14236,1,241,103,59,1,8824,105,97,110,103,108,101,4,2,108,114,14254,14269,101,102,116,4,2,59,101,14263,14265,1,8938,113,59,1,8940,105,103,104,116,4,2,59,101,14279,14281,1,8939,113,59,1,8941,4,2,59,109,14291,14293,1,957,4,3,59,101,115,14301,14303,14308,1,35,114,111,59,1,8470,112,59,1,8199,4,9,68,72,97,100,103,105,108,114,115,14332,14338,14344,14349,14355,14369,14376,14408,14426,97,115,104,59,1,8877,97,114,114,59,1,10500,112,59,3,8781,8402,97,115,104,59,1,8876,4,2,101,116,14361,14365,59,3,8805,8402,59,3,62,8402,110,102,105,110,59,1,10718,4,3,65,101,116,14384,14389,14393,114,114,59,1,10498,59,3,8804,8402,4,2,59,114,14399,14402,3,60,8402,105,101,59,3,8884,8402,4,2,65,116,14414,14419,114,114,59,1,10499,114,105,101,59,3,8885,8402,105,109,59,3,8764,8402,4,3,65,97,110,14440,14445,14468,114,114,59,1,8662,114,4,2,104,114,14452,14456,107,59,1,10531,4,2,59,111,14462,14464,1,8598,119,59,1,8598,101,97,114,59,1,10535,4,18,83,97,99,100,101,102,103,104,105,108,109,111,112,114,115,116,117,118,14512,14515,14535,14560,14597,14603,14618,14643,14657,14662,14701,14741,14747,14769,14851,14877,14907,14916,59,1,9416,4,2,99,115,14521,14531,117,116,101,5,243,1,59,14529,1,243,116,59,1,8859,4,2,105,121,14541,14557,114,4,2,59,99,14548,14550,1,8858,5,244,1,59,14555,1,244,59,1,1086,4,5,97,98,105,111,115,14572,14577,14583,14587,14591,115,104,59,1,8861,108,97,99,59,1,337,118,59,1,10808,116,59,1,8857,111,108,100,59,1,10684,108,105,103,59,1,339,4,2,99,114,14609,14614,105,114,59,1,10687,59,3,55349,56620,4,3,111,114,116,14626,14630,14640,110,59,1,731,97,118,101,5,242,1,59,14638,1,242,59,1,10689,4,2,98,109,14649,14654,97,114,59,1,10677,59,1,937,110,116,59,1,8750,4,4,97,99,105,116,14672,14677,14693,14698,114,114,59,1,8634,4,2,105,114,14683,14687,114,59,1,10686,111,115,115,59,1,10683,110,101,59,1,8254,59,1,10688,4,3,97,101,105,14709,14714,14719,99,114,59,1,333,103,97,59,1,969,4,3,99,100,110,14727,14733,14736,114,111,110,59,1,959,59,1,10678,117,115,59,1,8854,112,102,59,3,55349,56672,4,3,97,101,108,14755,14759,14764,114,59,1,10679,114,112,59,1,10681,117,115,59,1,8853,4,7,59,97,100,105,111,115,118,14785,14787,14792,14831,14837,14841,14848,1,8744,114,114,59,1,8635,4,4,59,101,102,109,14802,14804,14817,14824,1,10845,114,4,2,59,111,14811,14813,1,8500,102,59,1,8500,5,170,1,59,14822,1,170,5,186,1,59,14829,1,186,103,111,102,59,1,8886,114,59,1,10838,108,111,112,101,59,1,10839,59,1,10843,4,3,99,108,111,14859,14863,14873,114,59,1,8500,97,115,104,5,248,1,59,14871,1,248,108,59,1,8856,105,4,2,108,109,14884,14893,100,101,5,245,1,59,14891,1,245,101,115,4,2,59,97,14901,14903,1,8855,115,59,1,10806,109,108,5,246,1,59,14914,1,246,98,97,114,59,1,9021,4,12,97,99,101,102,104,105,108,109,111,114,115,117,14948,14992,14996,15033,15038,15068,15090,15189,15192,15222,15427,15441,114,4,4,59,97,115,116,14959,14961,14976,14989,1,8741,5,182,2,59,108,14968,14970,1,182,108,101,108,59,1,8741,4,2,105,108,14982,14986,109,59,1,10995,59,1,11005,59,1,8706,121,59,1,1087,114,4,5,99,105,109,112,116,15009,15014,15019,15024,15027,110,116,59,1,37,111,100,59,1,46,105,108,59,1,8240,59,1,8869,101,110,107,59,1,8241,114,59,3,55349,56621,4,3,105,109,111,15046,15057,15063,4,2,59,118,15052,15054,1,966,59,1,981,109,97,116,59,1,8499,110,101,59,1,9742,4,3,59,116,118,15076,15078,15087,1,960,99,104,102,111,114,107,59,1,8916,59,1,982,4,2,97,117,15096,15119,110,4,2,99,107,15103,15115,107,4,2,59,104,15110,15112,1,8463,59,1,8462,118,59,1,8463,115,4,9,59,97,98,99,100,101,109,115,116,15140,15142,15148,15151,15156,15168,15171,15179,15184,1,43,99,105,114,59,1,10787,59,1,8862,105,114,59,1,10786,4,2,111,117,15162,15165,59,1,8724,59,1,10789,59,1,10866,110,5,177,1,59,15177,1,177,105,109,59,1,10790,119,111,59,1,10791,59,1,177,4,3,105,112,117,15200,15208,15213,110,116,105,110,116,59,1,10773,102,59,3,55349,56673,110,100,5,163,1,59,15220,1,163,4,10,59,69,97,99,101,105,110,111,115,117,15244,15246,15249,15253,15258,15334,15347,15367,15416,15421,1,8826,59,1,10931,112,59,1,10935,117,101,59,1,8828,4,2,59,99,15264,15266,1,10927,4,6,59,97,99,101,110,115,15280,15282,15290,15299,15303,15329,1,8826,112,112,114,111,120,59,1,10935,117,114,108,121,101,113,59,1,8828,113,59,1,10927,4,3,97,101,115,15311,15319,15324,112,112,114,111,120,59,1,10937,113,113,59,1,10933,105,109,59,1,8936,105,109,59,1,8830,109,101,4,2,59,115,15342,15344,1,8242,59,1,8473,4,3,69,97,115,15355,15358,15362,59,1,10933,112,59,1,10937,105,109,59,1,8936,4,3,100,102,112,15375,15378,15404,59,1,8719,4,3,97,108,115,15386,15392,15398,108,97,114,59,1,9006,105,110,101,59,1,8978,117,114,102,59,1,8979,4,2,59,116,15410,15412,1,8733,111,59,1,8733,105,109,59,1,8830,114,101,108,59,1,8880,4,2,99,105,15433,15438,114,59,3,55349,56517,59,1,968,110,99,115,112,59,1,8200,4,6,102,105,111,112,115,117,15462,15467,15472,15478,15485,15491,114,59,3,55349,56622,110,116,59,1,10764,112,102,59,3,55349,56674,114,105,109,101,59,1,8279,99,114,59,3,55349,56518,4,3,97,101,111,15499,15520,15534,116,4,2,101,105,15506,15515,114,110,105,111,110,115,59,1,8461,110,116,59,1,10774,115,116,4,2,59,101,15528,15530,1,63,113,59,1,8799,116,5,34,1,59,15540,1,34,4,21,65,66,72,97,98,99,100,101,102,104,105,108,109,110,111,112,114,115,116,117,120,15586,15609,15615,15620,15796,15855,15893,15931,15977,16001,16039,16183,16204,16222,16228,16285,16312,16318,16363,16408,16416,4,3,97,114,116,15594,15599,15603,114,114,59,1,8667,114,59,1,8658,97,105,108,59,1,10524,97,114,114,59,1,10511,97,114,59,1,10596,4,7,99,100,101,110,113,114,116,15636,15651,15656,15664,15687,15696,15770,4,2,101,117,15642,15646,59,3,8765,817,116,101,59,1,341,105,99,59,1,8730,109,112,116,121,118,59,1,10675,103,4,4,59,100,101,108,15675,15677,15680,15683,1,10217,59,1,10642,59,1,10661,101,59,1,10217,117,111,5,187,1,59,15694,1,187,114,4,11,59,97,98,99,102,104,108,112,115,116,119,15721,15723,15727,15739,15742,15746,15750,15754,15758,15763,15767,1,8594,112,59,1,10613,4,2,59,102,15733,15735,1,8677,115,59,1,10528,59,1,10547,115,59,1,10526,107,59,1,8618,112,59,1,8620,108,59,1,10565,105,109,59,1,10612,108,59,1,8611,59,1,8605,4,2,97,105,15776,15781,105,108,59,1,10522,111,4,2,59,110,15788,15790,1,8758,97,108,115,59,1,8474,4,3,97,98,114,15804,15809,15814,114,114,59,1,10509,114,107,59,1,10099,4,2,97,107,15820,15833,99,4,2,101,107,15827,15830,59,1,125,59,1,93,4,2,101,115,15839,15842,59,1,10636,108,4,2,100,117,15849,15852,59,1,10638,59,1,10640,4,4,97,101,117,121,15865,15871,15886,15890,114,111,110,59,1,345,4,2,100,105,15877,15882,105,108,59,1,343,108,59,1,8969,98,59,1,125,59,1,1088,4,4,99,108,113,115,15903,15907,15914,15927,97,59,1,10551,100,104,97,114,59,1,10601,117,111,4,2,59,114,15922,15924,1,8221,59,1,8221,104,59,1,8627,4,3,97,99,103,15939,15966,15970,108,4,4,59,105,112,115,15950,15952,15957,15963,1,8476,110,101,59,1,8475,97,114,116,59,1,8476,59,1,8477,116,59,1,9645,5,174,1,59,15975,1,174,4,3,105,108,114,15985,15991,15997,115,104,116,59,1,10621,111,111,114,59,1,8971,59,3,55349,56623,4,2,97,111,16007,16028,114,4,2,100,117,16014,16017,59,1,8641,4,2,59,108,16023,16025,1,8640,59,1,10604,4,2,59,118,16034,16036,1,961,59,1,1009,4,3,103,110,115,16047,16167,16171,104,116,4,6,97,104,108,114,115,116,16063,16081,16103,16130,16143,16155,114,114,111,119,4,2,59,116,16073,16075,1,8594,97,105,108,59,1,8611,97,114,112,111,111,110,4,2,100,117,16093,16099,111,119,110,59,1,8641,112,59,1,8640,101,102,116,4,2,97,104,16112,16120,114,114,111,119,115,59,1,8644,97,114,112,111,111,110,115,59,1,8652,105,103,104,116,97,114,114,111,119,115,59,1,8649,113,117,105,103,97,114,114,111,119,59,1,8605,104,114,101,101,116,105,109,101,115,59,1,8908,103,59,1,730,105,110,103,100,111,116,115,101,113,59,1,8787,4,3,97,104,109,16191,16196,16201,114,114,59,1,8644,97,114,59,1,8652,59,1,8207,111,117,115,116,4,2,59,97,16214,16216,1,9137,99,104,101,59,1,9137,109,105,100,59,1,10990,4,4,97,98,112,116,16238,16252,16257,16278,4,2,110,114,16244,16248,103,59,1,10221,114,59,1,8702,114,107,59,1,10215,4,3,97,102,108,16265,16269,16273,114,59,1,10630,59,3,55349,56675,117,115,59,1,10798,105,109,101,115,59,1,10805,4,2,97,112,16291,16304,114,4,2,59,103,16298,16300,1,41,116,59,1,10644,111,108,105,110,116,59,1,10770,97,114,114,59,1,8649,4,4,97,99,104,113,16328,16334,16339,16342,113,117,111,59,1,8250,114,59,3,55349,56519,59,1,8625,4,2,98,117,16348,16351,59,1,93,111,4,2,59,114,16358,16360,1,8217,59,1,8217,4,3,104,105,114,16371,16377,16383,114,101,101,59,1,8908,109,101,115,59,1,8906,105,4,4,59,101,102,108,16394,16396,16399,16402,1,9657,59,1,8885,59,1,9656,116,114,105,59,1,10702,108,117,104,97,114,59,1,10600,59,1,8478,4,19,97,98,99,100,101,102,104,105,108,109,111,112,113,114,115,116,117,119,122,16459,16466,16472,16572,16590,16672,16687,16746,16844,16850,16924,16963,16988,17115,17121,17154,17206,17614,17656,99,117,116,101,59,1,347,113,117,111,59,1,8218,4,10,59,69,97,99,101,105,110,112,115,121,16494,16496,16499,16513,16518,16531,16536,16556,16564,16569,1,8827,59,1,10932,4,2,112,114,16505,16508,59,1,10936,111,110,59,1,353,117,101,59,1,8829,4,2,59,100,16524,16526,1,10928,105,108,59,1,351,114,99,59,1,349,4,3,69,97,115,16544,16547,16551,59,1,10934,112,59,1,10938,105,109,59,1,8937,111,108,105,110,116,59,1,10771,105,109,59,1,8831,59,1,1089,111,116,4,3,59,98,101,16582,16584,16587,1,8901,59,1,8865,59,1,10854,4,7,65,97,99,109,115,116,120,16606,16611,16634,16642,16646,16652,16668,114,114,59,1,8664,114,4,2,104,114,16618,16622,107,59,1,10533,4,2,59,111,16628,16630,1,8600,119,59,1,8600,116,5,167,1,59,16640,1,167,105,59,1,59,119,97,114,59,1,10537,109,4,2,105,110,16659,16665,110,117,115,59,1,8726,59,1,8726,116,59,1,10038,114,4,2,59,111,16679,16682,3,55349,56624,119,110,59,1,8994,4,4,97,99,111,121,16697,16702,16716,16739,114,112,59,1,9839,4,2,104,121,16708,16713,99,121,59,1,1097,59,1,1096,114,116,4,2,109,112,16724,16729,105,100,59,1,8739,97,114,97,108,108,101,108,59,1,8741,5,173,1,59,16744,1,173,4,2,103,109,16752,16770,109,97,4,3,59,102,118,16762,16764,16767,1,963,59,1,962,59,1,962,4,8,59,100,101,103,108,110,112,114,16788,16790,16795,16806,16817,16828,16832,16838,1,8764,111,116,59,1,10858,4,2,59,113,16801,16803,1,8771,59,1,8771,4,2,59,69,16812,16814,1,10910,59,1,10912,4,2,59,69,16823,16825,1,10909,59,1,10911,101,59,1,8774,108,117,115,59,1,10788,97,114,114,59,1,10610,97,114,114,59,1,8592,4,4,97,101,105,116,16860,16883,16891,16904,4,2,108,115,16866,16878,108,115,101,116,109,105,110,117,115,59,1,8726,104,112,59,1,10803,112,97,114,115,108,59,1,10724,4,2,100,108,16897,16900,59,1,8739,101,59,1,8995,4,2,59,101,16910,16912,1,10922,4,2,59,115,16918,16920,1,10924,59,3,10924,65024,4,3,102,108,112,16932,16938,16958,116,99,121,59,1,1100,4,2,59,98,16944,16946,1,47,4,2,59,97,16952,16954,1,10692,114,59,1,9023,102,59,3,55349,56676,97,4,2,100,114,16970,16985,101,115,4,2,59,117,16978,16980,1,9824,105,116,59,1,9824,59,1,8741,4,3,99,115,117,16996,17028,17089,4,2,97,117,17002,17015,112,4,2,59,115,17009,17011,1,8851,59,3,8851,65024,112,4,2,59,115,17022,17024,1,8852,59,3,8852,65024,117,4,2,98,112,17035,17062,4,3,59,101,115,17043,17045,17048,1,8847,59,1,8849,101,116,4,2,59,101,17056,17058,1,8847,113,59,1,8849,4,3,59,101,115,17070,17072,17075,1,8848,59,1,8850,101,116,4,2,59,101,17083,17085,1,8848,113,59,1,8850,4,3,59,97,102,17097,17099,17112,1,9633,114,4,2,101,102,17106,17109,59,1,9633,59,1,9642,59,1,9642,97,114,114,59,1,8594,4,4,99,101,109,116,17131,17136,17142,17148,114,59,3,55349,56520,116,109,110,59,1,8726,105,108,101,59,1,8995,97,114,102,59,1,8902,4,2,97,114,17160,17172,114,4,2,59,102,17167,17169,1,9734,59,1,9733,4,2,97,110,17178,17202,105,103,104,116,4,2,101,112,17188,17197,112,115,105,108,111,110,59,1,1013,104,105,59,1,981,115,59,1,175,4,5,98,99,109,110,112,17218,17351,17420,17423,17427,4,9,59,69,100,101,109,110,112,114,115,17238,17240,17243,17248,17261,17267,17279,17285,17291,1,8834,59,1,10949,111,116,59,1,10941,4,2,59,100,17254,17256,1,8838,111,116,59,1,10947,117,108,116,59,1,10945,4,2,69,101,17273,17276,59,1,10955,59,1,8842,108,117,115,59,1,10943,97,114,114,59,1,10617,4,3,101,105,117,17299,17335,17339,116,4,3,59,101,110,17308,17310,17322,1,8834,113,4,2,59,113,17317,17319,1,8838,59,1,10949,101,113,4,2,59,113,17330,17332,1,8842,59,1,10955,109,59,1,10951,4,2,98,112,17345,17348,59,1,10965,59,1,10963,99,4,6,59,97,99,101,110,115,17366,17368,17376,17385,17389,17415,1,8827,112,112,114,111,120,59,1,10936,117,114,108,121,101,113,59,1,8829,113,59,1,10928,4,3,97,101,115,17397,17405,17410,112,112,114,111,120,59,1,10938,113,113,59,1,10934,105,109,59,1,8937,105,109,59,1,8831,59,1,8721,103,59,1,9834,4,13,49,50,51,59,69,100,101,104,108,109,110,112,115,17455,17462,17469,17476,17478,17481,17496,17509,17524,17530,17536,17548,17554,5,185,1,59,17460,1,185,5,178,1,59,17467,1,178,5,179,1,59,17474,1,179,1,8835,59,1,10950,4,2,111,115,17487,17491,116,59,1,10942,117,98,59,1,10968,4,2,59,100,17502,17504,1,8839,111,116,59,1,10948,115,4,2,111,117,17516,17520,108,59,1,10185,98,59,1,10967,97,114,114,59,1,10619,117,108,116,59,1,10946,4,2,69,101,17542,17545,59,1,10956,59,1,8843,108,117,115,59,1,10944,4,3,101,105,117,17562,17598,17602,116,4,3,59,101,110,17571,17573,17585,1,8835,113,4,2,59,113,17580,17582,1,8839,59,1,10950,101,113,4,2,59,113,17593,17595,1,8843,59,1,10956,109,59,1,10952,4,2,98,112,17608,17611,59,1,10964,59,1,10966,4,3,65,97,110,17622,17627,17650,114,114,59,1,8665,114,4,2,104,114,17634,17638,107,59,1,10534,4,2,59,111,17644,17646,1,8601,119,59,1,8601,119,97,114,59,1,10538,108,105,103,5,223,1,59,17664,1,223,4,13,97,98,99,100,101,102,104,105,111,112,114,115,119,17694,17709,17714,17737,17742,17749,17754,17860,17905,17957,17964,18090,18122,4,2,114,117,17700,17706,103,101,116,59,1,8982,59,1,964,114,107,59,1,9140,4,3,97,101,121,17722,17728,17734,114,111,110,59,1,357,100,105,108,59,1,355,59,1,1090,111,116,59,1,8411,108,114,101,99,59,1,8981,114,59,3,55349,56625,4,4,101,105,107,111,17764,17805,17836,17851,4,2,114,116,17770,17786,101,4,2,52,102,17777,17780,59,1,8756,111,114,101,59,1,8756,97,4,3,59,115,118,17795,17797,17802,1,952,121,109,59,1,977,59,1,977,4,2,99,110,17811,17831,107,4,2,97,115,17818,17826,112,112,114,111,120,59,1,8776,105,109,59,1,8764,115,112,59,1,8201,4,2,97,115,17842,17846,112,59,1,8776,105,109,59,1,8764,114,110,5,254,1,59,17858,1,254,4,3,108,109,110,17868,17873,17901,100,101,59,1,732,101,115,5,215,3,59,98,100,17884,17886,17898,1,215,4,2,59,97,17892,17894,1,8864,114,59,1,10801,59,1,10800,116,59,1,8749,4,3,101,112,115,17913,17917,17953,97,59,1,10536,4,4,59,98,99,102,17927,17929,17934,17939,1,8868,111,116,59,1,9014,105,114,59,1,10993,4,2,59,111,17945,17948,3,55349,56677,114,107,59,1,10970,97,59,1,10537,114,105,109,101,59,1,8244,4,3,97,105,112,17972,17977,18082,100,101,59,1,8482,4,7,97,100,101,109,112,115,116,17993,18051,18056,18059,18066,18072,18076,110,103,108,101,4,5,59,100,108,113,114,18009,18011,18017,18032,18035,1,9653,111,119,110,59,1,9663,101,102,116,4,2,59,101,18026,18028,1,9667,113,59,1,8884,59,1,8796,105,103,104,116,4,2,59,101,18045,18047,1,9657,113,59,1,8885,111,116,59,1,9708,59,1,8796,105,110,117,115,59,1,10810,108,117,115,59,1,10809,98,59,1,10701,105,109,101,59,1,10811,101,122,105,117,109,59,1,9186,4,3,99,104,116,18098,18111,18116,4,2,114,121,18104,18108,59,3,55349,56521,59,1,1094,99,121,59,1,1115,114,111,107,59,1,359,4,2,105,111,18128,18133,120,116,59,1,8812,104,101,97,100,4,2,108,114,18143,18154,101,102,116,97,114,114,111,119,59,1,8606,105,103,104,116,97,114,114,111,119,59,1,8608,4,18,65,72,97,98,99,100,102,103,104,108,109,111,112,114,115,116,117,119,18204,18209,18214,18234,18250,18268,18292,18308,18319,18343,18379,18397,18413,18504,18547,18553,18584,18603,114,114,59,1,8657,97,114,59,1,10595,4,2,99,114,18220,18230,117,116,101,5,250,1,59,18228,1,250,114,59,1,8593,114,4,2,99,101,18241,18245,121,59,1,1118,118,101,59,1,365,4,2,105,121,18256,18265,114,99,5,251,1,59,18263,1,251,59,1,1091,4,3,97,98,104,18276,18281,18287,114,114,59,1,8645,108,97,99,59,1,369,97,114,59,1,10606,4,2,105,114,18298,18304,115,104,116,59,1,10622,59,3,55349,56626,114,97,118,101,5,249,1,59,18317,1,249,4,2,97,98,18325,18338,114,4,2,108,114,18332,18335,59,1,8639,59,1,8638,108,107,59,1,9600,4,2,99,116,18349,18374,4,2,111,114,18355,18369,114,110,4,2,59,101,18363,18365,1,8988,114,59,1,8988,111,112,59,1,8975,114,105,59,1,9720,4,2,97,108,18385,18390,99,114,59,1,363,5,168,1,59,18395,1,168,4,2,103,112,18403,18408,111,110,59,1,371,102,59,3,55349,56678,4,6,97,100,104,108,115,117,18427,18434,18445,18470,18475,18494,114,114,111,119,59,1,8593,111,119,110,97,114,114,111,119,59,1,8597,97,114,112,111,111,110,4,2,108,114,18457,18463,101,102,116,59,1,8639,105,103,104,116,59,1,8638,117,115,59,1,8846,105,4,3,59,104,108,18484,18486,18489,1,965,59,1,978,111,110,59,1,965,112,97,114,114,111,119,115,59,1,8648,4,3,99,105,116,18512,18537,18542,4,2,111,114,18518,18532,114,110,4,2,59,101,18526,18528,1,8989,114,59,1,8989,111,112,59,1,8974,110,103,59,1,367,114,105,59,1,9721,99,114,59,3,55349,56522,4,3,100,105,114,18561,18566,18572,111,116,59,1,8944,108,100,101,59,1,361,105,4,2,59,102,18579,18581,1,9653,59,1,9652,4,2,97,109,18590,18595,114,114,59,1,8648,108,5,252,1,59,18601,1,252,97,110,103,108,101,59,1,10663,4,15,65,66,68,97,99,100,101,102,108,110,111,112,114,115,122,18643,18648,18661,18667,18847,18851,18857,18904,18909,18915,18931,18937,18943,18949,18996,114,114,59,1,8661,97,114,4,2,59,118,18656,18658,1,10984,59,1,10985,97,115,104,59,1,8872,4,2,110,114,18673,18679,103,114,116,59,1,10652,4,7,101,107,110,112,114,115,116,18695,18704,18711,18720,18742,18754,18810,112,115,105,108,111,110,59,1,1013,97,112,112,97,59,1,1008,111,116,104,105,110,103,59,1,8709,4,3,104,105,114,18728,18732,18735,105,59,1,981,59,1,982,111,112,116,111,59,1,8733,4,2,59,104,18748,18750,1,8597,111,59,1,1009,4,2,105,117,18760,18766,103,109,97,59,1,962,4,2,98,112,18772,18791,115,101,116,110,101,113,4,2,59,113,18784,18787,3,8842,65024,59,3,10955,65024,115,101,116,110,101,113,4,2,59,113,18803,18806,3,8843,65024,59,3,10956,65024,4,2,104,114,18816,18822,101,116,97,59,1,977,105,97,110,103,108,101,4,2,108,114,18834,18840,101,102,116,59,1,8882,105,103,104,116,59,1,8883,121,59,1,1074,97,115,104,59,1,8866,4,3,101,108,114,18865,18884,18890,4,3,59,98,101,18873,18875,18880,1,8744,97,114,59,1,8891,113,59,1,8794,108,105,112,59,1,8942,4,2,98,116,18896,18901,97,114,59,1,124,59,1,124,114,59,3,55349,56627,116,114,105,59,1,8882,115,117,4,2,98,112,18923,18927,59,3,8834,8402,59,3,8835,8402,112,102,59,3,55349,56679,114,111,112,59,1,8733,116,114,105,59,1,8883,4,2,99,117,18955,18960,114,59,3,55349,56523,4,2,98,112,18966,18981,110,4,2,69,101,18973,18977,59,3,10955,65024,59,3,8842,65024,110,4,2,69,101,18988,18992,59,3,10956,65024,59,3,8843,65024,105,103,122,97,103,59,1,10650,4,7,99,101,102,111,112,114,115,19020,19026,19061,19066,19072,19075,19089,105,114,99,59,1,373,4,2,100,105,19032,19055,4,2,98,103,19038,19043,97,114,59,1,10847,101,4,2,59,113,19050,19052,1,8743,59,1,8793,101,114,112,59,1,8472,114,59,3,55349,56628,112,102,59,3,55349,56680,59,1,8472,4,2,59,101,19081,19083,1,8768,97,116,104,59,1,8768,99,114,59,3,55349,56524,4,14,99,100,102,104,105,108,109,110,111,114,115,117,118,119,19125,19146,19152,19157,19173,19176,19192,19197,19202,19236,19252,19269,19286,19291,4,3,97,105,117,19133,19137,19142,112,59,1,8898,114,99,59,1,9711,112,59,1,8899,116,114,105,59,1,9661,114,59,3,55349,56629,4,2,65,97,19163,19168,114,114,59,1,10234,114,114,59,1,10231,59,1,958,4,2,65,97,19182,19187,114,114,59,1,10232,114,114,59,1,10229,97,112,59,1,10236,105,115,59,1,8955,4,3,100,112,116,19210,19215,19230,111,116,59,1,10752,4,2,102,108,19221,19225,59,3,55349,56681,117,115,59,1,10753,105,109,101,59,1,10754,4,2,65,97,19242,19247,114,114,59,1,10233,114,114,59,1,10230,4,2,99,113,19258,19263,114,59,3,55349,56525,99,117,112,59,1,10758,4,2,112,116,19275,19281,108,117,115,59,1,10756,114,105,59,1,9651,101,101,59,1,8897,101,100,103,101,59,1,8896,4,8,97,99,101,102,105,111,115,117,19316,19335,19349,19357,19362,19367,19373,19379,99,4,2,117,121,19323,19332,116,101,5,253,1,59,19330,1,253,59,1,1103,4,2,105,121,19341,19346,114,99,59,1,375,59,1,1099,110,5,165,1,59,19355,1,165,114,59,3,55349,56630,99,121,59,1,1111,112,102,59,3,55349,56682,99,114,59,3,55349,56526,4,2,99,109,19385,19389,121,59,1,1102,108,5,255,1,59,19395,1,255,4,10,97,99,100,101,102,104,105,111,115,119,19419,19426,19441,19446,19462,19467,19472,19480,19486,19492,99,117,116,101,59,1,378,4,2,97,121,19432,19438,114,111,110,59,1,382,59,1,1079,111,116,59,1,380,4,2,101,116,19452,19458,116,114,102,59,1,8488,97,59,1,950,114,59,3,55349,56631,99,121,59,1,1078,103,114,97,114,114,59,1,8669,112,102,59,3,55349,56683,99,114,59,3,55349,56527,4,2,106,110,19498,19501,59,1,8205,106,59,1,8204])},7118:(e,t,r)=>{"use strict";const s=r(4284),i=r(1734),n=s.CODE_POINTS;e.exports=class{constructor(){this.html=null,this.pos=-1,this.lastGapPos=-1,this.lastCharPos=-1,this.gapStack=[],this.skipNextNewLine=!1,this.lastChunkWritten=!1,this.endOfChunkHit=!1,this.bufferWaterline=65536}_err(){}_addGap(){this.gapStack.push(this.lastGapPos),this.lastGapPos=this.pos}_processSurrogate(e){if(this.pos!==this.lastCharPos){const t=this.html.charCodeAt(this.pos+1);if(s.isSurrogatePair(t))return this.pos++,this._addGap(),s.getSurrogatePairCodePoint(e,t)}else if(!this.lastChunkWritten)return this.endOfChunkHit=!0,n.EOF;return this._err(i.surrogateInInputStream),e}dropParsedChunk(){this.pos>this.bufferWaterline&&(this.lastCharPos-=this.pos,this.html=this.html.substring(this.pos),this.pos=0,this.lastGapPos=-1,this.gapStack=[])}write(e,t){this.html?this.html+=e:this.html=e,this.lastCharPos=this.html.length-1,this.endOfChunkHit=!1,this.lastChunkWritten=t}insertHtmlAtCurrentPos(e){this.html=this.html.substring(0,this.pos+1)+e+this.html.substring(this.pos+1,this.html.length),this.lastCharPos=this.html.length-1,this.endOfChunkHit=!1}advance(){if(this.pos++,this.pos>this.lastCharPos)return this.endOfChunkHit=!this.lastChunkWritten,n.EOF;let e=this.html.charCodeAt(this.pos);if(this.skipNextNewLine&&e===n.LINE_FEED)return this.skipNextNewLine=!1,this._addGap(),this.advance();if(e===n.CARRIAGE_RETURN)return this.skipNextNewLine=!0,n.LINE_FEED;this.skipNextNewLine=!1,s.isSurrogate(e)&&(e=this._processSurrogate(e));return e>31&&e<127||e===n.LINE_FEED||e===n.CARRIAGE_RETURN||e>159&&e<64976||this._checkForProblematicCharacters(e),e}_checkForProblematicCharacters(e){s.isControlCodePoint(e)?this._err(i.controlCharacterInInputStream):s.isUndefinedCodePoint(e)&&this._err(i.noncharacterInInputStream)}retreat(){this.pos===this.lastGapPos&&(this.lastGapPos=this.gapStack.pop(),this.pos--),this.pos--}}},7296:(e,t,r)=>{"use strict";const{DOCUMENT_MODE:s}=r(6152);t.createDocument=function(){return{nodeName:"#document",mode:s.NO_QUIRKS,childNodes:[]}},t.createDocumentFragment=function(){return{nodeName:"#document-fragment",childNodes:[]}},t.createElement=function(e,t,r){return{nodeName:e,tagName:e,attrs:r,namespaceURI:t,childNodes:[],parentNode:null}},t.createCommentNode=function(e){return{nodeName:"#comment",data:e,parentNode:null}};const i=function(e){return{nodeName:"#text",value:e,parentNode:null}},n=t.appendChild=function(e,t){e.childNodes.push(t),t.parentNode=e},a=t.insertBefore=function(e,t,r){const s=e.childNodes.indexOf(r);e.childNodes.splice(s,0,t),t.parentNode=e};t.setTemplateContent=function(e,t){e.content=t},t.getTemplateContent=function(e){return e.content},t.setDocumentType=function(e,t,r,s){let i=null;for(let t=0;t<e.childNodes.length;t++)if("#documentType"===e.childNodes[t].nodeName){i=e.childNodes[t];break}i?(i.name=t,i.publicId=r,i.systemId=s):n(e,{nodeName:"#documentType",name:t,publicId:r,systemId:s})},t.setDocumentMode=function(e,t){e.mode=t},t.getDocumentMode=function(e){return e.mode},t.detachNode=function(e){if(e.parentNode){const t=e.parentNode.childNodes.indexOf(e);e.parentNode.childNodes.splice(t,1),e.parentNode=null}},t.insertText=function(e,t){if(e.childNodes.length){const r=e.childNodes[e.childNodes.length-1];if("#text"===r.nodeName)return void(r.value+=t)}n(e,i(t))},t.insertTextBefore=function(e,t,r){const s=e.childNodes[e.childNodes.indexOf(r)-1];s&&"#text"===s.nodeName?s.value+=t:a(e,i(t),r)},t.adoptAttributes=function(e,t){const r=[];for(let t=0;t<e.attrs.length;t++)r.push(e.attrs[t].name);for(let s=0;s<t.length;s++)-1===r.indexOf(t[s].name)&&e.attrs.push(t[s])},t.getFirstChild=function(e){return e.childNodes[0]},t.getChildNodes=function(e){return e.childNodes},t.getParentNode=function(e){return e.parentNode},t.getAttrList=function(e){return e.attrs},t.getTagName=function(e){return e.tagName},t.getNamespaceURI=function(e){return e.namespaceURI},t.getTextNodeContent=function(e){return e.value},t.getCommentNodeContent=function(e){return e.data},t.getDocumentTypeNodeName=function(e){return e.name},t.getDocumentTypeNodePublicId=function(e){return e.publicId},t.getDocumentTypeNodeSystemId=function(e){return e.systemId},t.isTextNode=function(e){return"#text"===e.nodeName},t.isCommentNode=function(e){return"#comment"===e.nodeName},t.isDocumentTypeNode=function(e){return"#documentType"===e.nodeName},t.isElementNode=function(e){return!!e.tagName},t.setNodeSourceCodeLocation=function(e,t){e.sourceCodeLocation=t},t.getNodeSourceCodeLocation=function(e){return e.sourceCodeLocation},t.updateNodeSourceCodeLocation=function(e,t){e.sourceCodeLocation=Object.assign(e.sourceCodeLocation,t)}},8904:e=>{"use strict";e.exports=function(e,t){return[e,t=t||Object.create(null)].reduce(((e,t)=>(Object.keys(t).forEach((r=>{e[r]=t[r]})),e)),Object.create(null))}},1704:e=>{"use strict";class t{constructor(e){const t={},r=this._getOverriddenMethods(this,t);for(const s of Object.keys(r))"function"==typeof r[s]&&(t[s]=e[s],e[s]=r[s])}_getOverriddenMethods(){throw new Error("Not implemented")}}t.install=function(e,t,r){e.__mixins||(e.__mixins=[]);for(let r=0;r<e.__mixins.length;r++)if(e.__mixins[r].constructor===t)return e.__mixins[r];const s=new t(e,r);return e.__mixins.push(s),s},e.exports=t},9066:(e,t)=>{"use strict";class r{static isArrayBuffer(e){return"[object ArrayBuffer]"===Object.prototype.toString.call(e)}static toArrayBuffer(e){return this.isArrayBuffer(e)?e:e.byteLength===e.buffer.byteLength?e.buffer:this.toUint8Array(e).slice().buffer}static toUint8Array(e){return this.toView(e,Uint8Array)}static toView(e,t){if(e.constructor===t)return e;if(this.isArrayBuffer(e))return new t(e);if(this.isArrayBufferView(e))return new t(e.buffer,e.byteOffset,e.byteLength);throw new TypeError("The provided value is not of type '(ArrayBuffer or ArrayBufferView)'")}static isBufferSource(e){return this.isArrayBufferView(e)||this.isArrayBuffer(e)}static isArrayBufferView(e){return ArrayBuffer.isView(e)||e&&this.isArrayBuffer(e.buffer)}static isEqual(e,t){const s=r.toUint8Array(e),i=r.toUint8Array(t);if(s.length!==i.byteLength)return!1;for(let e=0;e<s.length;e++)if(s[e]!==i[e])return!1;return!0}static concat(...e){if(Array.isArray(e[0])){const t=e[0];let r=0;for(const e of t)r+=e.byteLength;const s=new Uint8Array(r);let i=0;for(const e of t){const t=this.toUint8Array(e);s.set(t,i),i+=t.length}return e[1]?this.toView(s,e[1]):s.buffer}return this.concat(e)}}class s{static fromString(e){const t=unescape(encodeURIComponent(e)),r=new Uint8Array(t.length);for(let e=0;e<t.length;e++)r[e]=t.charCodeAt(e);return r.buffer}static toString(e){const t=r.toUint8Array(e);let s="";for(let e=0;e<t.length;e++)s+=String.fromCharCode(t[e]);return decodeURIComponent(escape(s))}}class i{static toString(e,t=!1){const s=r.toArrayBuffer(e),i=new DataView(s);let n="";for(let e=0;e<s.byteLength;e+=2){const r=i.getUint16(e,t);n+=String.fromCharCode(r)}return n}static fromString(e,t=!1){const r=new ArrayBuffer(2*e.length),s=new DataView(r);for(let r=0;r<e.length;r++)s.setUint16(2*r,e.charCodeAt(r),t);return r}}class n{static isHex(e){return"string"==typeof e&&/^[a-z0-9]+$/i.test(e)}static isBase64(e){return"string"==typeof e&&/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}static isBase64Url(e){return"string"==typeof e&&/^[a-zA-Z0-9-_]+$/i.test(e)}static ToString(e,t="utf8"){const s=r.toUint8Array(e);switch(t.toLowerCase()){case"utf8":return this.ToUtf8String(s);case"binary":return this.ToBinary(s);case"hex":return this.ToHex(s);case"base64":return this.ToBase64(s);case"base64url":return this.ToBase64Url(s);case"utf16le":return i.toString(s,!0);case"utf16":case"utf16be":return i.toString(s);default:throw new Error(`Unknown type of encoding '${t}'`)}}static FromString(e,t="utf8"){if(!e)return new ArrayBuffer(0);switch(t.toLowerCase()){case"utf8":return this.FromUtf8String(e);case"binary":return this.FromBinary(e);case"hex":return this.FromHex(e);case"base64":return this.FromBase64(e);case"base64url":return this.FromBase64Url(e);case"utf16le":return i.fromString(e,!0);case"utf16":case"utf16be":return i.fromString(e);default:throw new Error(`Unknown type of encoding '${t}'`)}}static ToBase64(e){const t=r.toUint8Array(e);if("undefined"!=typeof btoa){const e=this.ToString(t,"binary");return btoa(e)}return Buffer.from(t).toString("base64")}static FromBase64(e){const t=this.formatString(e);if(!t)return new ArrayBuffer(0);if(!n.isBase64(t))throw new TypeError("Argument 'base64Text' is not Base64 encoded");return"undefined"!=typeof atob?this.FromBinary(atob(t)):new Uint8Array(Buffer.from(t,"base64")).buffer}static FromBase64Url(e){const t=this.formatString(e);if(!t)return new ArrayBuffer(0);if(!n.isBase64Url(t))throw new TypeError("Argument 'base64url' is not Base64Url encoded");return this.FromBase64(this.Base64Padding(t.replace(/\-/g,"+").replace(/\_/g,"/")))}static ToBase64Url(e){return this.ToBase64(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/\=/g,"")}static FromUtf8String(e,t=n.DEFAULT_UTF8_ENCODING){switch(t){case"ascii":return this.FromBinary(e);case"utf8":return s.fromString(e);case"utf16":case"utf16be":return i.fromString(e);case"utf16le":case"usc2":return i.fromString(e,!0);default:throw new Error(`Unknown type of encoding '${t}'`)}}static ToUtf8String(e,t=n.DEFAULT_UTF8_ENCODING){switch(t){case"ascii":return this.ToBinary(e);case"utf8":return s.toString(e);case"utf16":case"utf16be":return i.toString(e);case"utf16le":case"usc2":return i.toString(e,!0);default:throw new Error(`Unknown type of encoding '${t}'`)}}static FromBinary(e){const t=e.length,r=new Uint8Array(t);for(let s=0;s<t;s++)r[s]=e.charCodeAt(s);return r.buffer}static ToBinary(e){const t=r.toUint8Array(e);let s="";for(let e=0;e<t.length;e++)s+=String.fromCharCode(t[e]);return s}static ToHex(e){const t=r.toUint8Array(e),s=[],i=t.length;for(let e=0;e<i;e++){const r=t[e].toString(16).padStart(2,"0");s.push(r)}return s.join("")}static FromHex(e){let t=this.formatString(e);if(!t)return new ArrayBuffer(0);if(!n.isHex(t))throw new TypeError("Argument 'hexString' is not HEX encoded");t.length%2&&(t=`0${t}`);const r=new Uint8Array(t.length/2);for(let e=0;e<t.length;e+=2){const s=t.slice(e,e+2);r[e/2]=parseInt(s,16)}return r.buffer}static ToUtf16String(e,t=!1){return i.toString(e,t)}static FromUtf16String(e,t=!1){return i.fromString(e,t)}static Base64Padding(e){const t=4-e.length%4;if(t<4)for(let r=0;r<t;r++)e+="=";return e}static formatString(e){return(null==e?void 0:e.replace(/[\n\r\t ]/g,""))||""}}n.DEFAULT_UTF8_ENCODING="utf8",t.vJ=r,t.ep=n},4155:e=>{var t,r,s=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}function a(e){if(t===setTimeout)return setTimeout(e,0);if((t===i||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(r){try{return t.call(null,e,0)}catch(r){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:i}catch(e){t=i}try{r="function"==typeof clearTimeout?clearTimeout:n}catch(e){r=n}}();var o,l=[],c=!1,u=-1;function h(){c&&o&&(c=!1,o.length?l=o.concat(l):u=-1,l.length&&f())}function f(){if(!c){var e=a(h);c=!0;for(var t=l.length;t;){for(o=l,l=[];++u<t;)o&&o[u].run();u=-1,t=l.length}o=null,c=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===n||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function d(e,t){this.fun=e,this.array=t}function m(){}s.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];l.push(new d(e,t)),1!==l.length||c||a(f)},d.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=m,s.addListener=m,s.once=m,s.off=m,s.removeListener=m,s.removeAllListeners=m,s.emit=m,s.prependListener=m,s.prependOnceListener=m,s.listeners=function(e){return[]},s.binding=function(e){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(e){throw new Error("process.chdir is not supported")},s.umask=function(){return 0}},2587:e=>{"use strict";function t(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,r,s,i){r=r||"&",s=s||"=";var n={};if("string"!=typeof e||0===e.length)return n;var a=/\+/g;e=e.split(r);var o=1e3;i&&"number"==typeof i.maxKeys&&(o=i.maxKeys);var l=e.length;o>0&&l>o&&(l=o);for(var c=0;c<l;++c){var u,h,f,d,m=e[c].replace(a,"%20"),p=m.indexOf(s);p>=0?(u=m.substr(0,p),h=m.substr(p+1)):(u=m,h=""),f=decodeURIComponent(u),d=decodeURIComponent(h),t(n,f)?Array.isArray(n[f])?n[f].push(d):n[f]=[n[f],d]:n[f]=d}return n}},2361:e=>{"use strict";var t=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,r,s,i){return r=r||"&",s=s||"=",null===e&&(e=void 0),"object"==typeof e?Object.keys(e).map((function(i){var n=encodeURIComponent(t(i))+s;return Array.isArray(e[i])?e[i].map((function(e){return n+encodeURIComponent(t(e))})).join(r):n+encodeURIComponent(t(e[i]))})).join(r):i?encodeURIComponent(t(i))+s+encodeURIComponent(t(e)):""}},7673:(e,t,r)=>{"use strict";t.decode=t.parse=r(2587),t.encode=t.stringify=r(2361)},24:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});const s="/**\n * Mini wombat for performing URL rewriting within the\n * Web/Shared/Service Worker context\n * @param {Object} info\n * @return {WBWombat}\n */\nfunction WBWombat(info) {\n  if (!(this instanceof WBWombat)) return new WBWombat(info);\n  /** @type {Object} */\n  this.info = info;\n  this.initImportScriptsRewrite();\n  this.initHTTPOverrides();\n  this.initClientApisOverride();\n  this.initCacheApisOverride();\n}\n\n/**\n * Returns T/F indicating if the supplied URL is not to be rewritten\n * @param {string} url\n * @return {boolean}\n */\nWBWombat.prototype.noRewrite = function(url) {\n  return (\n    !url ||\n    url.indexOf('blob:') === 0 ||\n    url.indexOf('javascript:') === 0 ||\n    url.indexOf('data:') === 0 ||\n    url.indexOf(this.info.prefix) === 0\n  );\n};\n\n/**\n * Returns T/F indicating if the supplied URL is an relative URL\n * @param {string} url\n * @return {boolean}\n */\nWBWombat.prototype.isRelURL = function(url) {\n  return url.indexOf('/') === 0 || url.indexOf('http:') !== 0;\n};\n\n/**\n * Attempts to resolve the supplied relative URL against\n * the origin this worker was created on\n * @param {string} maybeRelURL\n * @param {string} against\n * @return {string}\n */\nWBWombat.prototype.maybeResolveURL = function(maybeRelURL, against) {\n  if (!against) return maybeRelURL;\n  try {\n    var resolved = new URL(maybeRelURL, against);\n    return resolved.href;\n  } catch (e) {}\n  return maybeRelURL;\n};\n\n/**\n * Returns null to indicate that the supplied URL is not to be rewritten.\n * Otherwise returns a URL that can be rewritten\n * @param {*} url\n * @param {string} resolveAgainst\n * @return {?string}\n */\nWBWombat.prototype.ensureURL = function(url, resolveAgainst) {\n  if (!url) return url;\n  var newURL;\n  switch (typeof url) {\n    case 'string':\n      newURL = url;\n      break;\n    case 'object':\n      newURL = url.toString();\n      break;\n    default:\n      return null;\n  }\n  if (this.noRewrite(newURL)) return null;\n  if (this.isRelURL(newURL)) {\n    return this.maybeResolveURL(newURL, resolveAgainst);\n  }\n\n  // if url starts with current origin, but not properly rewritten, rewrite against current baseUr\n  if (newURL.indexOf(self.location.origin) === 0) {\n    return this.maybeResolveURL(newURL.slice(self.location.origin.length), resolveAgainst);\n  }\n  return newURL;\n};\n\n/**\n * Rewrites the supplied URL\n * @param {string} url\n * @return {string}\n */\nWBWombat.prototype.rewriteURL = function(url) {\n  var rwURL = this.ensureURL(url, this.info.originalURL);\n  if (!rwURL) return url;\n  if (this.info.prefixMod) {\n    return this.info.prefixMod + rwURL;\n  }\n  return rwURL;\n};\n\n/**\n * Rewrites the supplied URL of an controlled page using the mp\\_ modifier\n * @param {string} url\n * @param {WindowClient} [client]\n * @return {string}\n */\nWBWombat.prototype.rewriteClientWindowURL = function(url, client) {\n  var rwURL = this.ensureURL(url, client ? client.url : this.info.originalURL);\n  if (!rwURL) return url;\n  if (this.info.prefix) {\n    return this.info.prefix + 'mp_/' + rwURL;\n  }\n  return rwURL;\n};\n\n/**\n * Mini url rewriter specifically for rewriting web sockets\n * @param {?string} originalURL\n * @return {string}\n */\nWBWombat.prototype.rewriteWSURL = function(originalURL) {\n  // If undefined, just return it\n  if (!originalURL) return originalURL;\n\n  var urltype_ = typeof originalURL;\n  var url = originalURL;\n\n  // If object, use toString\n  if (urltype_ === 'object') {\n    url = originalURL.toString();\n  } else if (urltype_ !== 'string') {\n    return originalURL;\n  }\n\n  // empty string check\n  if (!url) return url;\n\n  var wsScheme = 'ws://';\n  var wssScheme = 'wss://';\n  var https = 'https://';\n\n  var wbSecure = this.info.prefix.indexOf(https) === 0;\n  var wbPrefix =\n    this.info.prefix.replace(\n      wbSecure ? https : 'http://',\n      wbSecure ? wssScheme : wsScheme\n    ) + 'ws_/';\n  return wbPrefix + url;\n};\n\n/**\n * Rewrites all URLs in the supplied arguments object\n * @param {Object} argsObj\n * @return {Array<string>}\n */\nWBWombat.prototype.rewriteArgs = function(argsObj) {\n  // recreate the original arguments object just with URLs rewritten\n  var newArgObj = new Array(argsObj.length);\n  for (var i = 0; i < newArgObj.length; i++) {\n    newArgObj[i] = this.rewriteURL(argsObj[i]);\n  }\n  return newArgObj;\n};\n\n/**\n * Rewrites the input to one of the Fetch APIs\n * @param {*|string|Request} input\n * @return {*|string|Request}\n */\nWBWombat.prototype.rewriteFetchApi = function(input) {\n  var rwInput = input;\n  switch (typeof input) {\n    case 'string':\n      rwInput = this.rewriteURL(input);\n      break;\n    case 'object':\n      if (input.url) {\n        var new_url = this.rewriteURL(input.url);\n        if (new_url !== input.url) {\n          // not much we can do here Request.url is read only\n          // https://developer.mozilla.org/en-US/docs/Web/API/Request/url\n          rwInput = new Request(new_url, input);\n        }\n      } else if (input.href) {\n        // it is likely that input is either self.location or self.URL\n        // we cant do anything here so just let it go\n        rwInput = input.href;\n      }\n      break;\n  }\n  return rwInput;\n};\n\n/**\n * Rewrites the input to one of the Cache APIs\n * @param {*|string|Request} request\n * @return {*|string|Request}\n */\nWBWombat.prototype.rewriteCacheApi = function(request) {\n  var rwRequest = request;\n  if (typeof request === 'string') {\n    rwRequest = this.rewriteURL(request);\n  }\n  return rwRequest;\n};\n\n/**\n * Applies an override to the importScripts function\n * @see https://html.spec.whatwg.org/multipage/workers.html#dom-workerglobalscope-importscripts\n */\nWBWombat.prototype.initImportScriptsRewrite = function() {\n  if (!self.importScripts) return;\n  var wombat = this;\n  var origImportScripts = self.importScripts;\n  self.importScripts = function importScripts() {\n    // rewrite the arguments object and call original function via fn.apply\n    var rwArgs = wombat.rewriteArgs(arguments);\n    return origImportScripts.apply(this, rwArgs);\n  };\n};\n\n/**\n * Applies overrides to the XMLHttpRequest.open and XMLHttpRequest.responseURL\n * in order to ensure URLs are rewritten.\n *\n * Applies an override to window.fetch in order to rewrite URLs and URLs of\n * the supplied Request objects used as arguments to fetch.\n *\n * Applies overrides to window.Request, window.Response, window.EventSource,\n * and window.WebSocket in order to ensure URLs they operate on are rewritten.\n *\n * @see https://xhr.spec.whatwg.org/\n * @see https://fetch.spec.whatwg.org/\n * @see https://html.spec.whatwg.org/multipage/web-sockets.html#websocket\n * @see https://html.spec.whatwg.org/multipage/server-sent-events.html#the-eventsource-interface\n */\nWBWombat.prototype.initHTTPOverrides = function() {\n  var wombat = this;\n  if (\n    self.XMLHttpRequest &&\n    self.XMLHttpRequest.prototype &&\n    self.XMLHttpRequest.prototype.open\n  ) {\n    var oXHROpen = self.XMLHttpRequest.prototype.open;\n    self.XMLHttpRequest.prototype.open = function open(\n      method,\n      url,\n      async,\n      user,\n      password\n    ) {\n      var rwURL = wombat.rewriteURL(url);\n      var openAsync = true;\n      if (async != null && !async) openAsync = false;\n      oXHROpen.call(this, method, rwURL, openAsync, user, password);\n      if (rwURL.indexOf('data:') === -1) {\n        this.setRequestHeader('X-Pywb-Requested-With', 'XMLHttpRequest');\n      }\n    };\n  }\n\n  if (self.fetch != null) {\n    // this fetch is Worker.fetch\n    var orig_fetch = self.fetch;\n    self.fetch = function fetch(input, init_opts) {\n      var rwInput = wombat.rewriteFetchApi(input);\n      var newInitOpts = init_opts || {};\n      newInitOpts['credentials'] = 'include';\n      return orig_fetch.call(this, rwInput, newInitOpts);\n    };\n  }\n\n  if (self.Request && self.Request.prototype) {\n    var orig_request = self.Request;\n    self.Request = (function(Request_) {\n      return function Request(input, init_opts) {\n        var newInitOpts = init_opts || {};\n        var newInput = wombat.rewriteFetchApi(input);\n        newInitOpts['credentials'] = 'include';\n        return new Request_(newInput, newInitOpts);\n      };\n    })(self.Request);\n    self.Request.prototype = orig_request.prototype;\n  }\n\n  if (self.Response && self.Response.prototype) {\n    var originalRedirect = self.Response.prototype.redirect;\n    self.Response.prototype.redirect = function redirect(url, status) {\n      var rwURL = wombat.rewriteUrl(url);\n      return originalRedirect.call(this, rwURL, status);\n    };\n  }\n\n  if (self.EventSource && self.EventSource.prototype) {\n    var origEventSource = self.EventSource;\n    self.EventSource = (function(EventSource_) {\n      return function EventSource(url, configuration) {\n        var rwURL = url;\n        if (url != null) {\n          rwURL = wombat.rewriteUrl(url);\n        }\n        return new EventSource_(rwURL, configuration);\n      };\n    })(self.EventSource);\n    self.EventSource.prototype = origEventSource.prototype;\n    Object.defineProperty(self.EventSource.prototype, 'constructor', {\n      value: self.EventSource\n    });\n  }\n\n  if (self.WebSocket && self.WebSocket.prototype) {\n    var origWebSocket = self.WebSocket;\n    self.WebSocket = (function(WebSocket_) {\n      return function WebSocket(url, configuration) {\n        var rwURL = url;\n        if (url != null) {\n          rwURL = wombat.rewriteWSURL(url);\n        }\n        return new WebSocket_(rwURL, configuration);\n      };\n    })(self.WebSocket);\n    self.WebSocket.prototype = origWebSocket.prototype;\n    Object.defineProperty(self.WebSocket.prototype, 'constructor', {\n      value: self.WebSocket\n    });\n  }\n};\n\n/**\n * Applies an override to Clients.openWindow and WindowClient.navigate that rewrites\n * the supplied URL that represents a controlled window\n * @see https://w3c.github.io/ServiceWorker/#window-client-interface\n * @see https://w3c.github.io/ServiceWorker/#clients-interface\n */\nWBWombat.prototype.initClientApisOverride = function() {\n  var wombat = this;\n  if (\n    self.Clients &&\n    self.Clients.prototype &&\n    self.Clients.prototype.openWindow\n  ) {\n    var oClientsOpenWindow = self.Clients.prototype.openWindow;\n    self.Clients.prototype.openWindow = function openWindow(url) {\n      var rwURL = wombat.rewriteClientWindowURL(url);\n      return oClientsOpenWindow.call(this, rwURL);\n    };\n  }\n\n  if (\n    self.WindowClient &&\n    self.WindowClient.prototype &&\n    self.WindowClient.prototype.navigate\n  ) {\n    var oWinClientNavigate = self.WindowClient.prototype.navigate;\n    self.WindowClient.prototype.navigate = function navigate(url) {\n      var rwURL = wombat.rewriteClientWindowURL(url, this);\n      return oWinClientNavigate.call(this, rwURL);\n    };\n  }\n};\n\n/**\n * Applies overrides to the CacheStorage and Cache interfaces in order\n * to rewrite the URLs they operate on\n * @see https://w3c.github.io/ServiceWorker/#cachestorage\n * @see https://w3c.github.io/ServiceWorker/#cache-interface\n */\nWBWombat.prototype.initCacheApisOverride = function() {\n  var wombat = this;\n  if (\n    self.CacheStorage &&\n    self.CacheStorage.prototype &&\n    self.CacheStorage.prototype.match\n  ) {\n    var oCacheStorageMatch = self.CacheStorage.prototype.match;\n    self.CacheStorage.prototype.match = function match(request, options) {\n      var rwRequest = wombat.rewriteCacheApi(request);\n      return oCacheStorageMatch.call(this, rwRequest, options);\n    };\n  }\n\n  if (self.Cache && self.Cache.prototype) {\n    if (self.Cache.prototype.match) {\n      var oCacheMatch = self.Cache.prototype.match;\n      self.Cache.prototype.match = function match(request, options) {\n        var rwRequest = wombat.rewriteCacheApi(request);\n        return oCacheMatch.call(this, rwRequest, options);\n      };\n    }\n\n    if (self.Cache.prototype.matchAll) {\n      var oCacheMatchAll = self.Cache.prototype.matchAll;\n      self.Cache.prototype.matchAll = function matchAll(request, options) {\n        var rwRequest = wombat.rewriteCacheApi(request);\n        return oCacheMatchAll.call(this, rwRequest, options);\n      };\n    }\n\n    if (self.Cache.prototype.add) {\n      var oCacheAdd = self.Cache.prototype.add;\n      self.Cache.prototype.add = function add(request, options) {\n        var rwRequest = wombat.rewriteCacheApi(request);\n        return oCacheAdd.call(this, rwRequest, options);\n      };\n    }\n\n    if (self.Cache.prototype.addAll) {\n      var oCacheAddAll = self.Cache.prototype.addAll;\n      self.Cache.prototype.addAll = function addAll(requests) {\n        var rwRequests = requests;\n        if (Array.isArray(requests)) {\n          rwRequests = new Array(requests.length);\n          for (var i = 0; i < requests.length; i++) {\n            rwRequests[i] = wombat.rewriteCacheApi(requests[i]);\n          }\n        }\n        return oCacheAddAll.call(this, rwRequests);\n      };\n    }\n\n    if (self.Cache.prototype.put) {\n      var oCachePut = self.Cache.prototype.put;\n      self.Cache.prototype.put = function put(request, response) {\n        var rwRequest = wombat.rewriteCacheApi(request);\n        return oCachePut.call(this, rwRequest, response);\n      };\n    }\n\n    if (self.Cache.prototype.delete) {\n      var oCacheDelete = self.Cache.prototype.delete;\n      self.Cache.prototype.delete = function newCacheDelete(request, options) {\n        var rwRequest = wombat.rewriteCacheApi(request);\n        return oCacheDelete.call(this, rwRequest, options);\n      };\n    }\n\n    if (self.Cache.prototype.keys) {\n      var oCacheKeys = self.Cache.prototype.keys;\n      self.Cache.prototype.keys = function keys(request, options) {\n        var rwRequest = wombat.rewriteCacheApi(request);\n        return oCacheKeys.call(this, rwRequest, options);\n      };\n    }\n  }\n};\n\nself.WBWombat = WBWombat;\n"},4281:e=>{"use strict";var t={};function r(e,r,s){s||(s=Error);var i=function(e){var t,s;function i(t,s,i){return e.call(this,function(e,t,s){return"string"==typeof r?r:r(e,t,s)}(t,s,i))||this}return s=e,(t=i).prototype=Object.create(s.prototype),t.prototype.constructor=t,t.__proto__=s,i}(s);i.prototype.name=s.name,i.prototype.code=e,t[e]=i}function s(e,t){if(Array.isArray(e)){var r=e.length;return e=e.map((function(e){return String(e)})),r>2?"one of ".concat(t," ").concat(e.slice(0,r-1).join(", "),", or ")+e[r-1]:2===r?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}return"of ".concat(t," ").concat(String(e))}r("ERR_INVALID_OPT_VALUE",(function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'}),TypeError),r("ERR_INVALID_ARG_TYPE",(function(e,t,r){var i,n,a,o;if("string"==typeof t&&(n="not ",t.substr(!a||a<0?0:+a,n.length)===n)?(i="must not be",t=t.replace(/^not /,"")):i="must be",function(e,t,r){return(void 0===r||r>e.length)&&(r=e.length),e.substring(r-t.length,r)===t}(e," argument"))o="The ".concat(e," ").concat(i," ").concat(s(t,"type"));else{var l=function(e,t,r){return"number"!=typeof r&&(r=0),!(r+t.length>e.length)&&-1!==e.indexOf(t,r)}(e,".")?"property":"argument";o='The "'.concat(e,'" ').concat(l," ").concat(i," ").concat(s(t,"type"))}return o+=". Received type ".concat(typeof r)}),TypeError),r("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),r("ERR_METHOD_NOT_IMPLEMENTED",(function(e){return"The "+e+" method is not implemented"})),r("ERR_STREAM_PREMATURE_CLOSE","Premature close"),r("ERR_STREAM_DESTROYED",(function(e){return"Cannot call "+e+" after a stream was destroyed"})),r("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),r("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),r("ERR_STREAM_WRITE_AFTER_END","write after end"),r("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),r("ERR_UNKNOWN_ENCODING",(function(e){return"Unknown encoding: "+e}),TypeError),r("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),e.exports.q=t},6753:(e,t,r)=>{"use strict";var s=r(4155),i=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};e.exports=u;var n=r(9481),a=r(4229);r(5717)(u,n);for(var o=i(a.prototype),l=0;l<o.length;l++){var c=o[l];u.prototype[c]||(u.prototype[c]=a.prototype[c])}function u(e){if(!(this instanceof u))return new u(e);n.call(this,e),a.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",h)))}function h(){this._writableState.ended||s.nextTick(f,this)}function f(e){e.end()}Object.defineProperty(u.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(u.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(u.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(u.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}})},1318:(e,t,r)=>{"use strict";e.exports=i;var s=r(4605);function i(e){if(!(this instanceof i))return new i(e);s.call(this,e)}r(5717)(i,s),i.prototype._transform=function(e,t,r){r(null,e)}},9481:(e,t,r)=>{"use strict";var s,i=r(4155);e.exports=E,E.ReadableState=S;r(7187).EventEmitter;var n=function(e,t){return e.listeners(t).length},a=r(2503),o=r(8764).Buffer,l=r.g.Uint8Array||function(){};var c,u=r(4616);c=u&&u.debuglog?u.debuglog("stream"):function(){};var h,f,d,m=r(7327),p=r(1195),g=r(2457).getHighWaterMark,w=r(4281).q,y=w.ERR_INVALID_ARG_TYPE,b=w.ERR_STREAM_PUSH_AFTER_EOF,v=w.ERR_METHOD_NOT_IMPLEMENTED,A=w.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;r(5717)(E,a);var k=p.errorOrDestroy,_=["error","close","destroy","pause","resume"];function S(e,t,i){s=s||r(6753),e=e||{},"boolean"!=typeof i&&(i=t instanceof s),this.objectMode=!!e.objectMode,i&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=g(this,e,"readableHighWaterMark",i),this.buffer=new m,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(h||(h=r(2553).s),this.decoder=new h(e.encoding),this.encoding=e.encoding)}function E(e){if(s=s||r(6753),!(this instanceof E))return new E(e);var t=this instanceof s;this._readableState=new S(e,this,t),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),a.call(this)}function C(e,t,r,s,i){c("readableAddChunk",t);var n,a=e._readableState;if(null===t)a.reading=!1,function(e,t){if(c("onEofChunk"),t.ended)return;if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,t.sync?x(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,T(e)))}(e,a);else if(i||(n=function(e,t){var r;s=t,o.isBuffer(s)||s instanceof l||"string"==typeof t||void 0===t||e.objectMode||(r=new y("chunk",["string","Buffer","Uint8Array"],t));var s;return r}(a,t)),n)k(e,n);else if(a.objectMode||t&&t.length>0)if("string"==typeof t||a.objectMode||Object.getPrototypeOf(t)===o.prototype||(t=function(e){return o.from(e)}(t)),s)a.endEmitted?k(e,new A):N(e,a,t,!0);else if(a.ended)k(e,new b);else{if(a.destroyed)return!1;a.reading=!1,a.decoder&&!r?(t=a.decoder.write(t),a.objectMode||0!==t.length?N(e,a,t,!1):R(e,a)):N(e,a,t,!1)}else s||(a.reading=!1,R(e,a));return!a.ended&&(a.length<a.highWaterMark||0===a.length)}function N(e,t,r,s){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",r)):(t.length+=t.objectMode?1:r.length,s?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&x(e)),R(e,t)}Object.defineProperty(E.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),E.prototype.destroy=p.destroy,E.prototype._undestroy=p.undestroy,E.prototype._destroy=function(e,t){t(e)},E.prototype.push=function(e,t){var r,s=this._readableState;return s.objectMode?r=!0:"string"==typeof e&&((t=t||s.defaultEncoding)!==s.encoding&&(e=o.from(e,t),t=""),r=!0),C(this,e,t,!1,r)},E.prototype.unshift=function(e){return C(this,e,null,!0,!1)},E.prototype.isPaused=function(){return!1===this._readableState.flowing},E.prototype.setEncoding=function(e){h||(h=r(2553).s);var t=new h(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var s=this._readableState.buffer.head,i="";null!==s;)i+=t.write(s.data),s=s.next;return this._readableState.buffer.clear(),""!==i&&this._readableState.buffer.push(i),this._readableState.length=i.length,this};var B=1073741824;function I(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=B?e=B:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function x(e){var t=e._readableState;c("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(c("emitReadable",t.flowing),t.emittedReadable=!0,i.nextTick(T,e))}function T(e){var t=e._readableState;c("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,U(e)}function R(e,t){t.readingMore||(t.readingMore=!0,i.nextTick(O,e,t))}function O(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var r=t.length;if(c("maybeReadMore read 0"),e.read(0),r===t.length)break}t.readingMore=!1}function P(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function D(e){c("readable nexttick read 0"),e.read(0)}function L(e,t){c("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),U(e),t.flowing&&!t.reading&&e.read(0)}function U(e){var t=e._readableState;for(c("flow",t.flowing);t.flowing&&null!==e.read(););}function V(e,t){return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r);var r}function H(e){var t=e._readableState;c("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,i.nextTick(M,t,e))}function M(e,t){if(c("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var r=t._writableState;(!r||r.autoDestroy&&r.finished)&&t.destroy()}}function F(e,t){for(var r=0,s=e.length;r<s;r++)if(e[r]===t)return r;return-1}E.prototype.read=function(e){c("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return c("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?H(this):x(this),null;if(0===(e=I(e,t))&&t.ended)return 0===t.length&&H(this),null;var s,i=t.needReadable;return c("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&c("length less than watermark",i=!0),t.ended||t.reading?c("reading or ended",i=!1):i&&(c("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=I(r,t))),null===(s=e>0?V(e,t):null)?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&H(this)),null!==s&&this.emit("data",s),s},E.prototype._read=function(e){k(this,new v("_read()"))},E.prototype.pipe=function(e,t){var r=this,s=this._readableState;switch(s.pipesCount){case 0:s.pipes=e;break;case 1:s.pipes=[s.pipes,e];break;default:s.pipes.push(e)}s.pipesCount+=1,c("pipe count=%d opts=%j",s.pipesCount,t);var a=(!t||!1!==t.end)&&e!==i.stdout&&e!==i.stderr?l:g;function o(t,i){c("onunpipe"),t===r&&i&&!1===i.hasUnpiped&&(i.hasUnpiped=!0,c("cleanup"),e.removeListener("close",m),e.removeListener("finish",p),e.removeListener("drain",u),e.removeListener("error",d),e.removeListener("unpipe",o),r.removeListener("end",l),r.removeListener("end",g),r.removeListener("data",f),h=!0,!s.awaitDrain||e._writableState&&!e._writableState.needDrain||u())}function l(){c("onend"),e.end()}s.endEmitted?i.nextTick(a):r.once("end",a),e.on("unpipe",o);var u=function(e){return function(){var t=e._readableState;c("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&n(e,"data")&&(t.flowing=!0,U(e))}}(r);e.on("drain",u);var h=!1;function f(t){c("ondata");var i=e.write(t);c("dest.write",i),!1===i&&((1===s.pipesCount&&s.pipes===e||s.pipesCount>1&&-1!==F(s.pipes,e))&&!h&&(c("false write response, pause",s.awaitDrain),s.awaitDrain++),r.pause())}function d(t){c("onerror",t),g(),e.removeListener("error",d),0===n(e,"error")&&k(e,t)}function m(){e.removeListener("finish",p),g()}function p(){c("onfinish"),e.removeListener("close",m),g()}function g(){c("unpipe"),r.unpipe(e)}return r.on("data",f),function(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}(e,"error",d),e.once("close",m),e.once("finish",p),e.emit("pipe",r),s.flowing||(c("pipe resume"),r.resume()),e},E.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r)),this;if(!e){var s=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var n=0;n<i;n++)s[n].emit("unpipe",this,{hasUnpiped:!1});return this}var a=F(t.pipes,e);return-1===a||(t.pipes.splice(a,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r)),this},E.prototype.on=function(e,t){var r=a.prototype.on.call(this,e,t),s=this._readableState;return"data"===e?(s.readableListening=this.listenerCount("readable")>0,!1!==s.flowing&&this.resume()):"readable"===e&&(s.endEmitted||s.readableListening||(s.readableListening=s.needReadable=!0,s.flowing=!1,s.emittedReadable=!1,c("on readable",s.length,s.reading),s.length?x(this):s.reading||i.nextTick(D,this))),r},E.prototype.addListener=E.prototype.on,E.prototype.removeListener=function(e,t){var r=a.prototype.removeListener.call(this,e,t);return"readable"===e&&i.nextTick(P,this),r},E.prototype.removeAllListeners=function(e){var t=a.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||i.nextTick(P,this),t},E.prototype.resume=function(){var e=this._readableState;return e.flowing||(c("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,i.nextTick(L,e,t))}(this,e)),e.paused=!1,this},E.prototype.pause=function(){return c("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(c("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},E.prototype.wrap=function(e){var t=this,r=this._readableState,s=!1;for(var i in e.on("end",(function(){if(c("wrapped end"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(i){(c("wrapped data"),r.decoder&&(i=r.decoder.write(i)),r.objectMode&&null==i)||(r.objectMode||i&&i.length)&&(t.push(i)||(s=!0,e.pause()))})),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var n=0;n<_.length;n++)e.on(_[n],this.emit.bind(this,_[n]));return this._read=function(t){c("wrapped _read",t),s&&(s=!1,e.resume())},this},"function"==typeof Symbol&&(E.prototype[Symbol.asyncIterator]=function(){return void 0===f&&(f=r(5850)),f(this)}),Object.defineProperty(E.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(E.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(E.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),E._fromList=V,Object.defineProperty(E.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(E.from=function(e,t){return void 0===d&&(d=r(5167)),d(E,e,t)})},4605:(e,t,r)=>{"use strict";e.exports=u;var s=r(4281).q,i=s.ERR_METHOD_NOT_IMPLEMENTED,n=s.ERR_MULTIPLE_CALLBACK,a=s.ERR_TRANSFORM_ALREADY_TRANSFORMING,o=s.ERR_TRANSFORM_WITH_LENGTH_0,l=r(6753);function c(e,t){var r=this._transformState;r.transforming=!1;var s=r.writecb;if(null===s)return this.emit("error",new n);r.writechunk=null,r.writecb=null,null!=t&&this.push(t),s(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function u(e){if(!(this instanceof u))return new u(e);l.call(this,e),this._transformState={afterTransform:c.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",h)}function h(){var e=this;"function"!=typeof this._flush||this._readableState.destroyed?f(this,null,null):this._flush((function(t,r){f(e,t,r)}))}function f(e,t,r){if(t)return e.emit("error",t);if(null!=r&&e.push(r),e._writableState.length)throw new o;if(e._transformState.transforming)throw new a;return e.push(null)}r(5717)(u,l),u.prototype.push=function(e,t){return this._transformState.needTransform=!1,l.prototype.push.call(this,e,t)},u.prototype._transform=function(e,t,r){r(new i("_transform()"))},u.prototype._write=function(e,t,r){var s=this._transformState;if(s.writecb=r,s.writechunk=e,s.writeencoding=t,!s.transforming){var i=this._readableState;(s.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},u.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},u.prototype._destroy=function(e,t){l.prototype._destroy.call(this,e,(function(e){t(e)}))}},4229:(e,t,r)=>{"use strict";var s,i=r(4155);function n(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,r){var s=e.entry;e.entry=null;for(;s;){var i=s.callback;t.pendingcb--,i(r),s=s.next}t.corkedRequestsFree.next=e}(t,e)}}e.exports=E,E.WritableState=S;var a={deprecate:r(4927)},o=r(2503),l=r(8764).Buffer,c=r.g.Uint8Array||function(){};var u,h=r(1195),f=r(2457).getHighWaterMark,d=r(4281).q,m=d.ERR_INVALID_ARG_TYPE,p=d.ERR_METHOD_NOT_IMPLEMENTED,g=d.ERR_MULTIPLE_CALLBACK,w=d.ERR_STREAM_CANNOT_PIPE,y=d.ERR_STREAM_DESTROYED,b=d.ERR_STREAM_NULL_VALUES,v=d.ERR_STREAM_WRITE_AFTER_END,A=d.ERR_UNKNOWN_ENCODING,k=h.errorOrDestroy;function _(){}function S(e,t,a){s=s||r(6753),e=e||{},"boolean"!=typeof a&&(a=t instanceof s),this.objectMode=!!e.objectMode,a&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=f(this,e,"writableHighWaterMark",a),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var o=!1===e.decodeStrings;this.decodeStrings=!o,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var r=e._writableState,s=r.sync,n=r.writecb;if("function"!=typeof n)throw new g;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(r),t)!function(e,t,r,s,n){--t.pendingcb,r?(i.nextTick(n,s),i.nextTick(T,e,t),e._writableState.errorEmitted=!0,k(e,s)):(n(s),e._writableState.errorEmitted=!0,k(e,s),T(e,t))}(e,r,s,t,n);else{var a=I(r)||e.destroyed;a||r.corked||r.bufferProcessing||!r.bufferedRequest||B(e,r),s?i.nextTick(N,e,r,a,n):N(e,r,a,n)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new n(this)}function E(e){var t=this instanceof(s=s||r(6753));if(!t&&!u.call(E,this))return new E(e);this._writableState=new S(e,this,t),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),o.call(this)}function C(e,t,r,s,i,n,a){t.writelen=s,t.writecb=a,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new y("write")):r?e._writev(i,t.onwrite):e._write(i,n,t.onwrite),t.sync=!1}function N(e,t,r,s){r||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,s(),T(e,t)}function B(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var s=t.bufferedRequestCount,i=new Array(s),a=t.corkedRequestsFree;a.entry=r;for(var o=0,l=!0;r;)i[o]=r,r.isBuf||(l=!1),r=r.next,o+=1;i.allBuffers=l,C(e,t,!0,t.length,i,"",a.finish),t.pendingcb++,t.lastBufferedRequest=null,a.next?(t.corkedRequestsFree=a.next,a.next=null):t.corkedRequestsFree=new n(t),t.bufferedRequestCount=0}else{for(;r;){var c=r.chunk,u=r.encoding,h=r.callback;if(C(e,t,!1,t.objectMode?1:c.length,c,u,h),r=r.next,t.bufferedRequestCount--,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}function I(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function x(e,t){e._final((function(r){t.pendingcb--,r&&k(e,r),t.prefinished=!0,e.emit("prefinish"),T(e,t)}))}function T(e,t){var r=I(t);if(r&&(function(e,t){t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,i.nextTick(x,e,t)))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var s=e._readableState;(!s||s.autoDestroy&&s.endEmitted)&&e.destroy()}return r}r(5717)(E,o),S.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(S.prototype,"buffer",{get:a.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(u=Function.prototype[Symbol.hasInstance],Object.defineProperty(E,Symbol.hasInstance,{value:function(e){return!!u.call(this,e)||this===E&&(e&&e._writableState instanceof S)}})):u=function(e){return e instanceof this},E.prototype.pipe=function(){k(this,new w)},E.prototype.write=function(e,t,r){var s,n=this._writableState,a=!1,o=!n.objectMode&&(s=e,l.isBuffer(s)||s instanceof c);return o&&!l.isBuffer(e)&&(e=function(e){return l.from(e)}(e)),"function"==typeof t&&(r=t,t=null),o?t="buffer":t||(t=n.defaultEncoding),"function"!=typeof r&&(r=_),n.ending?function(e,t){var r=new v;k(e,r),i.nextTick(t,r)}(this,r):(o||function(e,t,r,s){var n;return null===r?n=new b:"string"==typeof r||t.objectMode||(n=new m("chunk",["string","Buffer"],r)),!n||(k(e,n),i.nextTick(s,n),!1)}(this,n,e,r))&&(n.pendingcb++,a=function(e,t,r,s,i,n){if(!r){var a=function(e,t,r){e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=l.from(t,r));return t}(t,s,i);s!==a&&(r=!0,i="buffer",s=a)}var o=t.objectMode?1:s.length;t.length+=o;var c=t.length<t.highWaterMark;c||(t.needDrain=!0);if(t.writing||t.corked){var u=t.lastBufferedRequest;t.lastBufferedRequest={chunk:s,encoding:i,isBuf:r,callback:n,next:null},u?u.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else C(e,t,!1,o,s,i,n);return c}(this,n,o,e,t,r)),a},E.prototype.cork=function(){this._writableState.corked++},E.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||B(this,e))},E.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new A(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(E.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(E.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),E.prototype._write=function(e,t,r){r(new p("_write()"))},E.prototype._writev=null,E.prototype.end=function(e,t,r){var s=this._writableState;return"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e&&this.write(e,t),s.corked&&(s.corked=1,this.uncork()),s.ending||function(e,t,r){t.ending=!0,T(e,t),r&&(t.finished?i.nextTick(r):e.once("finish",r));t.ended=!0,e.writable=!1}(this,s,r),this},Object.defineProperty(E.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(E.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),E.prototype.destroy=h.destroy,E.prototype._undestroy=h.undestroy,E.prototype._destroy=function(e,t){t(e)}},5850:(e,t,r)=>{"use strict";var s,i=r(4155);function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var a=r(8610),o=Symbol("lastResolve"),l=Symbol("lastReject"),c=Symbol("error"),u=Symbol("ended"),h=Symbol("lastPromise"),f=Symbol("handlePromise"),d=Symbol("stream");function m(e,t){return{value:e,done:t}}function p(e){var t=e[o];if(null!==t){var r=e[d].read();null!==r&&(e[h]=null,e[o]=null,e[l]=null,t(m(r,!1)))}}function g(e){i.nextTick(p,e)}var w=Object.getPrototypeOf((function(){})),y=Object.setPrototypeOf((n(s={get stream(){return this[d]},next:function(){var e=this,t=this[c];if(null!==t)return Promise.reject(t);if(this[u])return Promise.resolve(m(void 0,!0));if(this[d].destroyed)return new Promise((function(t,r){i.nextTick((function(){e[c]?r(e[c]):t(m(void 0,!0))}))}));var r,s=this[h];if(s)r=new Promise(function(e,t){return function(r,s){e.then((function(){t[u]?r(m(void 0,!0)):t[f](r,s)}),s)}}(s,this));else{var n=this[d].read();if(null!==n)return Promise.resolve(m(n,!1));r=new Promise(this[f])}return this[h]=r,r}},Symbol.asyncIterator,(function(){return this})),n(s,"return",(function(){var e=this;return new Promise((function(t,r){e[d].destroy(null,(function(e){e?r(e):t(m(void 0,!0))}))}))})),s),w);e.exports=function(e){var t,r=Object.create(y,(n(t={},d,{value:e,writable:!0}),n(t,o,{value:null,writable:!0}),n(t,l,{value:null,writable:!0}),n(t,c,{value:null,writable:!0}),n(t,u,{value:e._readableState.endEmitted,writable:!0}),n(t,f,{value:function(e,t){var s=r[d].read();s?(r[h]=null,r[o]=null,r[l]=null,e(m(s,!1))):(r[o]=e,r[l]=t)},writable:!0}),t));return r[h]=null,a(e,(function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=r[l];return null!==t&&(r[h]=null,r[o]=null,r[l]=null,t(e)),void(r[c]=e)}var s=r[o];null!==s&&(r[h]=null,r[o]=null,r[l]=null,s(m(void 0,!0))),r[u]=!0})),e.on("readable",g.bind(null,r)),r}},7327:(e,t,r)=>{"use strict";function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,s)}return r}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function n(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}var a=r(8764).Buffer,o=r(6854).inspect,l=o&&o.custom||"inspect";e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}var t,r,c;return t=e,r=[{key:"push",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r}},{key:"concat",value:function(e){if(0===this.length)return a.alloc(0);for(var t,r,s,i=a.allocUnsafe(e>>>0),n=this.head,o=0;n;)t=n.data,r=i,s=o,a.prototype.copy.call(t,r,s),o+=n.data.length,n=n.next;return i}},{key:"consume",value:function(e,t){var r;return e<this.head.data.length?(r=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):r=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),r}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,r=1,s=t.data;for(e-=s.length;t=t.next;){var i=t.data,n=e>i.length?i.length:e;if(n===i.length?s+=i:s+=i.slice(0,e),0==(e-=n)){n===i.length?(++r,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=i.slice(n));break}++r}return this.length-=r,s}},{key:"_getBuffer",value:function(e){var t=a.allocUnsafe(e),r=this.head,s=1;for(r.data.copy(t),e-=r.data.length;r=r.next;){var i=r.data,n=e>i.length?i.length:e;if(i.copy(t,t.length-e,0,n),0==(e-=n)){n===i.length?(++s,r.next?this.head=r.next:this.head=this.tail=null):(this.head=r,r.data=i.slice(n));break}++s}return this.length-=s,t}},{key:l,value:function(e,t){return o(this,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},t,{depth:0,customInspect:!1}))}}],r&&n(t.prototype,r),c&&n(t,c),e}()},1195:(e,t,r)=>{"use strict";var s=r(4155);function i(e,t){a(e,t),n(e)}function n(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function a(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var r=this,o=this._readableState&&this._readableState.destroyed,l=this._writableState&&this._writableState.destroyed;return o||l?(t?t(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,s.nextTick(a,this,e)):s.nextTick(a,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!t&&e?r._writableState?r._writableState.errorEmitted?s.nextTick(n,r):(r._writableState.errorEmitted=!0,s.nextTick(i,r,e)):s.nextTick(i,r,e):t?(s.nextTick(n,r),t(e)):s.nextTick(n,r)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,t){var r=e._readableState,s=e._writableState;r&&r.autoDestroy||s&&s.autoDestroy?e.destroy(t):e.emit("error",t)}}},8610:(e,t,r)=>{"use strict";var s=r(4281).q.ERR_STREAM_PREMATURE_CLOSE;function i(){}e.exports=function e(t,r,n){if("function"==typeof r)return e(t,null,r);r||(r={}),n=function(e){var t=!1;return function(){if(!t){t=!0;for(var r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];e.apply(this,s)}}}(n||i);var a=r.readable||!1!==r.readable&&t.readable,o=r.writable||!1!==r.writable&&t.writable,l=function(){t.writable||u()},c=t._writableState&&t._writableState.finished,u=function(){o=!1,c=!0,a||n.call(t)},h=t._readableState&&t._readableState.endEmitted,f=function(){a=!1,h=!0,o||n.call(t)},d=function(e){n.call(t,e)},m=function(){var e;return a&&!h?(t._readableState&&t._readableState.ended||(e=new s),n.call(t,e)):o&&!c?(t._writableState&&t._writableState.ended||(e=new s),n.call(t,e)):void 0},p=function(){t.req.on("finish",u)};return!function(e){return e.setHeader&&"function"==typeof e.abort}(t)?o&&!t._writableState&&(t.on("end",l),t.on("close",l)):(t.on("complete",u),t.on("abort",m),t.req?p():t.on("request",p)),t.on("end",f),t.on("finish",u),!1!==r.error&&t.on("error",d),t.on("close",m),function(){t.removeListener("complete",u),t.removeListener("abort",m),t.removeListener("request",p),t.req&&t.req.removeListener("finish",u),t.removeListener("end",l),t.removeListener("close",l),t.removeListener("finish",u),t.removeListener("end",f),t.removeListener("error",d),t.removeListener("close",m)}}},5167:e=>{e.exports=function(){throw new Error("Readable.from is not available in the browser")}},9946:(e,t,r)=>{"use strict";var s;var i=r(4281).q,n=i.ERR_MISSING_ARGS,a=i.ERR_STREAM_DESTROYED;function o(e){if(e)throw e}function l(e,t,i,n){n=function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}(n);var o=!1;e.on("close",(function(){o=!0})),void 0===s&&(s=r(8610)),s(e,{readable:t,writable:i},(function(e){if(e)return n(e);o=!0,n()}));var l=!1;return function(t){if(!o&&!l)return l=!0,function(e){return e.setHeader&&"function"==typeof e.abort}(e)?e.abort():"function"==typeof e.destroy?e.destroy():void n(t||new a("pipe"))}}function c(e){e()}function u(e,t){return e.pipe(t)}function h(e){return e.length?"function"!=typeof e[e.length-1]?o:e.pop():o}e.exports=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var s,i=h(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new n("streams");var a=t.map((function(e,r){var n=r<t.length-1;return l(e,n,r>0,(function(e){s||(s=e),e&&a.forEach(c),n||(a.forEach(c),i(s))}))}));return t.reduce(u)}},2457:(e,t,r)=>{"use strict";var s=r(4281).q.ERR_INVALID_OPT_VALUE;e.exports={getHighWaterMark:function(e,t,r,i){var n=function(e,t,r){return null!=e.highWaterMark?e.highWaterMark:t?e[r]:null}(t,i,r);if(null!=n){if(!isFinite(n)||Math.floor(n)!==n||n<0)throw new s(i?r:"highWaterMark",n);return Math.floor(n)}return e.objectMode?16:16384}}},2503:(e,t,r)=>{e.exports=r(7187).EventEmitter},2830:(e,t,r)=>{e.exports=i;var s=r(7187).EventEmitter;function i(){s.call(this)}r(5717)(i,s),i.Readable=r(9481),i.Writable=r(4229),i.Duplex=r(6753),i.Transform=r(4605),i.PassThrough=r(1318),i.finished=r(8610),i.pipeline=r(9946),i.Stream=i,i.prototype.pipe=function(e,t){var r=this;function i(t){e.writable&&!1===e.write(t)&&r.pause&&r.pause()}function n(){r.readable&&r.resume&&r.resume()}r.on("data",i),e.on("drain",n),e._isStdio||t&&!1===t.end||(r.on("end",o),r.on("close",l));var a=!1;function o(){a||(a=!0,e.end())}function l(){a||(a=!0,"function"==typeof e.destroy&&e.destroy())}function c(e){if(u(),0===s.listenerCount(this,"error"))throw e}function u(){r.removeListener("data",i),e.removeListener("drain",n),r.removeListener("end",o),r.removeListener("close",l),r.removeListener("error",c),e.removeListener("error",c),r.removeListener("end",u),r.removeListener("close",u),e.removeListener("close",u)}return r.on("error",c),e.on("error",c),r.on("end",u),r.on("close",u),e.on("close",u),e.emit("pipe",r),e}},2553:(e,t,r)=>{"use strict";var s=r(396).Buffer,i=s.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function n(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(s.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=l,this.end=c,t=4;break;case"utf8":this.fillLast=o,t=4;break;case"base64":this.text=u,this.end=h,t=3;break;default:return this.write=f,void(this.end=d)}this.lastNeed=0,this.lastTotal=0,this.lastChar=s.allocUnsafe(t)}function a(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function o(e){var t=this.lastTotal-this.lastNeed,r=function(e,t,r){if(128!=(192&t[0]))return e.lastNeed=0,"";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,""}}(this,e);return void 0!==r?r:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function l(e,t){if((e.length-t)%2==0){var r=e.toString("utf16le",t);if(r){var s=r.charCodeAt(r.length-1);if(s>=55296&&s<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function c(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function u(e,t){var r=(e.length-t)%3;return 0===r?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function h(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function f(e){return e.toString(this.encoding)}function d(e){return e&&e.length?this.write(e):""}t.s=n,n.prototype.write=function(e){if(0===e.length)return"";var t,r;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},n.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"":t},n.prototype.text=function(e,t){var r=function(e,t,r){var s=t.length-1;if(s<r)return 0;var i=a(t[s]);if(i>=0)return i>0&&(e.lastNeed=i-1),i;if(--s<r||-2===i)return 0;if((i=a(t[s]))>=0)return i>0&&(e.lastNeed=i-2),i;if(--s<r||-2===i)return 0;if((i=a(t[s]))>=0)return i>0&&(2===i?i=0:e.lastNeed=i-3),i;return 0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var s=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,s),e.toString("utf8",t,s)},n.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},396:(e,t,r)=>{
/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
var s=r(8764),i=s.Buffer;function n(e,t){for(var r in e)t[r]=e[r]}function a(e,t,r){return i(e,t,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=s:(n(s,t),t.Buffer=a),a.prototype=Object.create(i.prototype),n(i,a),a.from=function(e,t,r){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,r)},a.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError("Argument must be a number");var s=i(e);return void 0!==t?"string"==typeof r?s.fill(t,r):s.fill(t):s.fill(0),s},a.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},a.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return s.SlowBuffer(e)}},2511:function(e,t,r){var s;/*! https://mths.be/punycode v1.3.2 by @mathias */e=r.nmd(e),function(i){t&&t.nodeType,e&&e.nodeType;var n="object"==typeof r.g&&r.g;n.global!==n&&n.window!==n&&n.self;var a,o=2147483647,l=36,c=/^xn--/,u=/[^\x20-\x7E]/,h=/[\x2E\u3002\uFF0E\uFF61]/g,f={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},d=Math.floor,m=String.fromCharCode;function p(e){throw RangeError(f[e])}function g(e,t){for(var r=e.length,s=[];r--;)s[r]=t(e[r]);return s}function w(e,t){var r=e.split("@"),s="";return r.length>1&&(s=r[0]+"@",e=r[1]),s+g((e=e.replace(h,".")).split("."),t).join(".")}function y(e){for(var t,r,s=[],i=0,n=e.length;i<n;)(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<n?56320==(64512&(r=e.charCodeAt(i++)))?s.push(((1023&t)<<10)+(1023&r)+65536):(s.push(t),i--):s.push(t);return s}function b(e){return g(e,(function(e){var t="";return e>65535&&(t+=m((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=m(e)})).join("")}function v(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function A(e,t,r){var s=0;for(e=r?d(e/700):e>>1,e+=d(e/t);e>455;s+=l)e=d(e/35);return d(s+36*e/(e+38))}function k(e){var t,r,s,i,n,a,c,u,h,f,m,g=[],w=e.length,y=0,v=128,k=72;for((r=e.lastIndexOf("-"))<0&&(r=0),s=0;s<r;++s)e.charCodeAt(s)>=128&&p("not-basic"),g.push(e.charCodeAt(s));for(i=r>0?r+1:0;i<w;){for(n=y,a=1,c=l;i>=w&&p("invalid-input"),((u=(m=e.charCodeAt(i++))-48<10?m-22:m-65<26?m-65:m-97<26?m-97:l)>=l||u>d((o-y)/a))&&p("overflow"),y+=u*a,!(u<(h=c<=k?1:c>=k+26?26:c-k));c+=l)a>d(o/(f=l-h))&&p("overflow"),a*=f;k=A(y-n,t=g.length+1,0==n),d(y/t)>o-v&&p("overflow"),v+=d(y/t),y%=t,g.splice(y++,0,v)}return b(g)}function _(e){var t,r,s,i,n,a,c,u,h,f,g,w,b,k,_,S=[];for(w=(e=y(e)).length,t=128,r=0,n=72,a=0;a<w;++a)(g=e[a])<128&&S.push(m(g));for(s=i=S.length,i&&S.push("-");s<w;){for(c=o,a=0;a<w;++a)(g=e[a])>=t&&g<c&&(c=g);for(c-t>d((o-r)/(b=s+1))&&p("overflow"),r+=(c-t)*b,t=c,a=0;a<w;++a)if((g=e[a])<t&&++r>o&&p("overflow"),g==t){for(u=r,h=l;!(u<(f=h<=n?1:h>=n+26?26:h-n));h+=l)_=u-f,k=l-f,S.push(m(v(f+_%k,0))),u=d(_/k);S.push(m(v(u,0))),n=A(r,b,s==i),r=0,++s}++r,++t}return S.join("")}a={version:"1.3.2",ucs2:{decode:y,encode:b},decode:k,encode:_,toASCII:function(e){return w(e,(function(e){return u.test(e)?"xn--"+_(e):e}))},toUnicode:function(e){return w(e,(function(e){return c.test(e)?k(e.slice(4).toLowerCase()):e}))}},void 0===(s=function(){return a}.call(t,r,t,e))||(e.exports=s)}()},8575:(e,t,r)=>{"use strict";var s=r(2511),i=r(2502);function n(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}t.parse=b,t.resolve=function(e,t){return b(e,!1,!0).resolve(t)},t.resolveObject=function(e,t){return e?b(e,!1,!0).resolveObject(t):t},t.format=function(e){i.isString(e)&&(e=b(e));return e instanceof n?e.format():n.prototype.format.call(e)},t.Url=n;var a=/^([a-z0-9.+-]+:)/i,o=/:[0-9]*$/,l=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,c=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),u=["'"].concat(c),h=["%","/","?",";","#"].concat(u),f=["/","?","#"],d=/^[+a-z0-9A-Z_-]{0,63}$/,m=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,p={javascript:!0,"javascript:":!0},g={javascript:!0,"javascript:":!0},w={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},y=r(7673);function b(e,t,r){if(e&&i.isObject(e)&&e instanceof n)return e;var s=new n;return s.parse(e,t,r),s}n.prototype.parse=function(e,t,r){if(!i.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var n=e.indexOf("?"),o=-1!==n&&n<e.indexOf("#")?"?":"#",c=e.split(o);c[0]=c[0].replace(/\\/g,"/");var b=e=c.join(o);if(b=b.trim(),!r&&1===e.split("#").length){var v=l.exec(b);if(v)return this.path=b,this.href=b,this.pathname=v[1],v[2]?(this.search=v[2],this.query=t?y.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var A=a.exec(b);if(A){var k=(A=A[0]).toLowerCase();this.protocol=k,b=b.substr(A.length)}if(r||A||b.match(/^\/\/[^@\/]+@[^@\/]+/)){var _="//"===b.substr(0,2);!_||A&&g[A]||(b=b.substr(2),this.slashes=!0)}if(!g[A]&&(_||A&&!w[A])){for(var S,E,C=-1,N=0;N<f.length;N++){-1!==(B=b.indexOf(f[N]))&&(-1===C||B<C)&&(C=B)}-1!==(E=-1===C?b.lastIndexOf("@"):b.lastIndexOf("@",C))&&(S=b.slice(0,E),b=b.slice(E+1),this.auth=decodeURIComponent(S)),C=-1;for(N=0;N<h.length;N++){var B;-1!==(B=b.indexOf(h[N]))&&(-1===C||B<C)&&(C=B)}-1===C&&(C=b.length),this.host=b.slice(0,C),b=b.slice(C),this.parseHost(),this.hostname=this.hostname||"";var I="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!I)for(var x=this.hostname.split(/\./),T=(N=0,x.length);N<T;N++){var R=x[N];if(R&&!R.match(d)){for(var O="",P=0,D=R.length;P<D;P++)R.charCodeAt(P)>127?O+="x":O+=R[P];if(!O.match(d)){var L=x.slice(0,N),U=x.slice(N+1),V=R.match(m);V&&(L.push(V[1]),U.unshift(V[2])),U.length&&(b="/"+U.join(".")+b),this.hostname=L.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),I||(this.hostname=s.toASCII(this.hostname));var H=this.port?":"+this.port:"",M=this.hostname||"";this.host=M+H,this.href+=this.host,I&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==b[0]&&(b="/"+b))}if(!p[k])for(N=0,T=u.length;N<T;N++){var F=u[N];if(-1!==b.indexOf(F)){var W=encodeURIComponent(F);W===F&&(W=escape(F)),b=b.split(F).join(W)}}var j=b.indexOf("#");-1!==j&&(this.hash=b.substr(j),b=b.slice(0,j));var q=b.indexOf("?");if(-1!==q?(this.search=b.substr(q),this.query=b.substr(q+1),t&&(this.query=y.parse(this.query)),b=b.slice(0,q)):t&&(this.search="",this.query={}),b&&(this.pathname=b),w[k]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){H=this.pathname||"";var z=this.search||"";this.path=H+z}return this.href=this.format(),this},n.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",r=this.pathname||"",s=this.hash||"",n=!1,a="";this.host?n=e+this.host:this.hostname&&(n=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(n+=":"+this.port)),this.query&&i.isObject(this.query)&&Object.keys(this.query).length&&(a=y.stringify(this.query));var o=this.search||a&&"?"+a||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||w[t])&&!1!==n?(n="//"+(n||""),r&&"/"!==r.charAt(0)&&(r="/"+r)):n||(n=""),s&&"#"!==s.charAt(0)&&(s="#"+s),o&&"?"!==o.charAt(0)&&(o="?"+o),t+n+(r=r.replace(/[?#]/g,(function(e){return encodeURIComponent(e)})))+(o=o.replace("#","%23"))+s},n.prototype.resolve=function(e){return this.resolveObject(b(e,!1,!0)).format()},n.prototype.resolveObject=function(e){if(i.isString(e)){var t=new n;t.parse(e,!1,!0),e=t}for(var r=new n,s=Object.keys(this),a=0;a<s.length;a++){var o=s[a];r[o]=this[o]}if(r.hash=e.hash,""===e.href)return r.href=r.format(),r;if(e.slashes&&!e.protocol){for(var l=Object.keys(e),c=0;c<l.length;c++){var u=l[c];"protocol"!==u&&(r[u]=e[u])}return w[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r}if(e.protocol&&e.protocol!==r.protocol){if(!w[e.protocol]){for(var h=Object.keys(e),f=0;f<h.length;f++){var d=h[f];r[d]=e[d]}return r.href=r.format(),r}if(r.protocol=e.protocol,e.host||g[e.protocol])r.pathname=e.pathname;else{for(var m=(e.pathname||"").split("/");m.length&&!(e.host=m.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==m[0]&&m.unshift(""),m.length<2&&m.unshift(""),r.pathname=m.join("/")}if(r.search=e.search,r.query=e.query,r.host=e.host||"",r.auth=e.auth,r.hostname=e.hostname||e.host,r.port=e.port,r.pathname||r.search){var p=r.pathname||"",y=r.search||"";r.path=p+y}return r.slashes=r.slashes||e.slashes,r.href=r.format(),r}var b=r.pathname&&"/"===r.pathname.charAt(0),v=e.host||e.pathname&&"/"===e.pathname.charAt(0),A=v||b||r.host&&e.pathname,k=A,_=r.pathname&&r.pathname.split("/")||[],S=(m=e.pathname&&e.pathname.split("/")||[],r.protocol&&!w[r.protocol]);if(S&&(r.hostname="",r.port=null,r.host&&(""===_[0]?_[0]=r.host:_.unshift(r.host)),r.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===m[0]?m[0]=e.host:m.unshift(e.host)),e.host=null),A=A&&(""===m[0]||""===_[0])),v)r.host=e.host||""===e.host?e.host:r.host,r.hostname=e.hostname||""===e.hostname?e.hostname:r.hostname,r.search=e.search,r.query=e.query,_=m;else if(m.length)_||(_=[]),_.pop(),_=_.concat(m),r.search=e.search,r.query=e.query;else if(!i.isNullOrUndefined(e.search)){if(S)r.hostname=r.host=_.shift(),(I=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=I.shift(),r.host=r.hostname=I.shift());return r.search=e.search,r.query=e.query,i.isNull(r.pathname)&&i.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!_.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var E=_.slice(-1)[0],C=(r.host||e.host||_.length>1)&&("."===E||".."===E)||""===E,N=0,B=_.length;B>=0;B--)"."===(E=_[B])?_.splice(B,1):".."===E?(_.splice(B,1),N++):N&&(_.splice(B,1),N--);if(!A&&!k)for(;N--;N)_.unshift("..");!A||""===_[0]||_[0]&&"/"===_[0].charAt(0)||_.unshift(""),C&&"/"!==_.join("/").substr(-1)&&_.push("");var I,x=""===_[0]||_[0]&&"/"===_[0].charAt(0);S&&(r.hostname=r.host=x?"":_.length?_.shift():"",(I=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=I.shift(),r.host=r.hostname=I.shift()));return(A=A||r.host&&_.length)&&!x&&_.unshift(""),_.length?r.pathname=_.join("/"):(r.pathname=null,r.path=null),i.isNull(r.pathname)&&i.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=e.auth||r.auth,r.slashes=r.slashes||e.slashes,r.href=r.format(),r},n.prototype.parseHost=function(){var e=this.host,t=o.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},2502:e=>{"use strict";e.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},4927:(e,t,r)=>{function s(e){try{if(!r.g.localStorage)return!1}catch(e){return!1}var t=r.g.localStorage[e];return null!=t&&"true"===String(t).toLowerCase()}e.exports=function(e,t){if(s("noDeprecation"))return e;var r=!1;return function(){if(!r){if(s("throwDeprecation"))throw new Error(t);s("traceDeprecation")?console.trace(t):console.warn(t),r=!0}return e.apply(this,arguments)}}},2043:(e,t,r)=>{"use strict";!function(){var t,s,i,n=0,a=[];for(s=0;s<256;s++)a[s]=(s+256).toString(16).substr(1);function o(){var e,r=(e=16,(!t||n+e>l.BUFFER_SIZE)&&(n=0,t=l.randomBytes(l.BUFFER_SIZE)),t.slice(n,n+=e));return r[6]=15&r[6]|64,r[8]=63&r[8]|128,r}function l(){var e=o();return a[e[0]]+a[e[1]]+a[e[2]]+a[e[3]]+"-"+a[e[4]]+a[e[5]]+"-"+a[e[6]]+a[e[7]]+"-"+a[e[8]]+a[e[9]]+"-"+a[e[10]]+a[e[11]]+a[e[12]]+a[e[13]]+a[e[14]]+a[e[15]]}l.BUFFER_SIZE=4096,l.bin=o,l.clearBuffer=function(){t=null,n=0},l.test=function(e){return"string"==typeof e&&/^[0-9a-f]{8}-[0-9a-f]{4}-4[0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/.test(e)},"undefined"!=typeof crypto?i=crypto:"undefined"!=typeof window&&void 0!==window.msCrypto&&(i=window.msCrypto),i=i||r(9061),e.exports=l,l.randomBytes=function(){if(i){if(i.randomBytes)return i.randomBytes;if(i.getRandomValues)return function(e){var t=new Uint8Array(e);return i.getRandomValues(t),t}}return function(e){var t,r=[];for(t=0;t<e;t++)r.push(Math.floor(256*Math.random()));return r}}()}()},3942:(e,t,r)=>{"use strict";r.d(t,{UU:()=>p,fV:()=>m,yN:()=>D,ZI:()=>g,ci:()=>T,CV:()=>o,zY:()=>u,wH:()=>n,Yo:()=>l,ev:()=>a});var s=r(2725);function i(e){let t;if("string"==typeof e)t=e;else if(e&&e.length){t="";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r])}else t=e?e.toString():"";return"__wb_post_data="+btoa(t)}function n(e){try{if(!e.startsWith("https:")&&!e.startsWith("http:"))return e;const r=(e=e.replace(/^(https?:\/\/)www\d*\./,"$1")).toLowerCase(),s=new URL(r);let i=s.hostname.split(".").reverse().join(",");if(s.port&&(i+=":"+s.port),i+=")",i+=s.pathname,s.search){s.searchParams.sort(),i+=s.search;for(const[e,n]of s.searchParams.entries())if(!n){const s=new RegExp(`(?<=[&?])${t=e,t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}=(?=&|$)`);s.exec(r)||(i=i.replace(s,e))}}return i}catch(t){return e}var t}function a(e){let{method:t,headers:r,postData:s}=e;if("GET"===t)return!1;function n(e){return e instanceof Uint8Array&&(e=(new TextDecoder).decode(e)),e}let a=null;switch((r.get("content-type")||"").split(";")[0]){case"application/x-www-form-urlencoded":a=n(s);break;case"application/json":a=c(n(s));break;case"text/plain":try{a=c(n(s),!1)}catch(e){a=i(s)}break;case"multipart/form-data":l=n(s),u=r.get("content-type"),a=function(e,t){const r=new URLSearchParams;e instanceof Uint8Array&&(e=(new TextDecoder).decode(e));try{const s=t.split("boundary=")[1],i=e.split(new RegExp("-*"+s+"-*","mi"));for(let e=0;e<i.length;e++){const t=i[e].trim().match(/name="([^"]+)"\r\n\r\n(.*)/im);t&&r.set(t[1],t[2])}}catch(e){}return r}(l,u).toString();break;default:a=i(s)}var l,u;return null!==a&&(e.url=o(e.url,a,e.method),e.method="GET",e.requestBody=a,!0)}function o(e,t,r){if(!r)return e;const s=e.indexOf("?")>0?"&":"?";return`${e}${s}__wb_method=${r}&${t}`}function l(e,t=!0){if("string"==typeof e)try{e=JSON.parse(e)}catch(t){e={}}const r=new URLSearchParams,s={};try{JSON.stringify(e,((e,t)=>{var i;return["object","function"].includes(typeof t)||r.set((i=e,r.has(i)?(s[i]||(s[i]=1),i+"."+ ++s[i]+"_"):i),t),t}))}catch(e){if(!t)throw e}return r}function c(e,t=!0){return l(e,t).toString()}function u(e,t){if(1===e.length)return e[0];const r=new Uint8Array(t);let s=0;for(const t of e)r.set(t,s),s+=t.byteLength;return r}function h(e,t){return[e.slice(0,t),e.slice(t)]}const f=new TextDecoder("utf-8");class d extends s.T_{constructor(e,t){super(e),this.reader=t}onEnd(e){this.err=e,this.err||(this.reader._rawOffset+=this.strm.total_in)}}class m{static async readFully(e){const t=[];let r=0;for await(const s of e)t.push(s),r+=s.byteLength;return u(t,r)}getReadableStream(){const e=this[Symbol.asyncIterator]();return new ReadableStream({pull:t=>e.next().then((e=>{e.done||!e.value?t.close():t.enqueue(e.value)}))})}readFully(){return m.readFully(this)}async readline(e=0){const t=await this.readlineRaw(e);return t?f.decode(t):""}async*iterLines(e=0){let t=null;for(;t=await this.readline(e);)yield t}}class p extends m{constructor(e,t="gzip",r=!1){if(super(),this.compressed=t,this.opts={raw:"deflateRaw"===t},this.inflator=t?new d(this.opts,this):null,"function"!=typeof e[Symbol.asyncIterator])if("function"==typeof e.getReader)e=p.fromReadable(e.getReader());else if("function"==typeof e.read)e=p.fromReadable(e);else{if("function"!=typeof e[Symbol.iterator])throw new TypeError("Invalid Stream Source");e=p.fromIter(e)}this._sourceIter=r?this.dechunk(e):e[Symbol.asyncIterator](),this.lastValue=null,this.errored=!1,this._savedChunk=null,this._rawOffset=0,this._readOffset=0,this.numChunks=0}async _loadNext(){const e=await this._sourceIter.next();return e.done?null:e.value}async*dechunk(e){const t=e instanceof p?e:new p(e,null);let r=-1,s=!0;for(;0!=r;){const e=await t.readlineRaw(64);let i=null;if(r=e?parseInt(f.decode(e),16):0,!r||r>2**32){if(Number.isNaN(r)||r>2**32){s||(this.errored=!0),yield e;break}}else if(i=await t.readSize(r),i.length!=r){s?yield e:this.errored=!0,yield i;break}const n=await t.readSize(2);if(13!=n[0]||10!=n[1]){s?yield e:this.errored=!0,yield i,yield n;break}if(s=!1,!i||0===r)return;yield i}yield*t}unread(e){e.length&&(this._readOffset-=e.length,this._savedChunk&&console.log("Already have chunk!"),this._savedChunk=e)}async _next(){if(this._savedChunk){const e=this._savedChunk;return this._savedChunk=null,e}if(this.compressed){const e=this._getNextChunk();if(e)return e}let e=await this._loadNext();for(;this.compressed&&e;){this._push(e);const t=this._getNextChunk(e);if(t)return t;e=await this._loadNext()}return e}_push(e){this.lastValue=e,this.inflator.ended&&(this.inflator=new d(this.opts,this)),this.inflator.push(e),this.inflator.err&&this.inflator.ended&&"deflate"===this.compressed&&!1===this.opts.raw&&0===this.numChunks&&(this.opts.raw=!0,this.compressed="deflateRaw",this.inflator=new d(this.opts,this),this.inflator.push(e))}_getNextChunk(e){for(;;){if(this.inflator.chunks.length>0)return this.numChunks++,this.inflator.chunks.shift();if(this.inflator.ended){if(0!==this.inflator.err)return this.compressed=null,e;const t=this.inflator.strm.avail_in;if(t&&this.lastValue){this._push(this.lastValue.slice(-t));continue}}return null}}async*[Symbol.asyncIterator](){let e=null;for(;e=await this._next();)this._readOffset+=e.length,yield e}async readlineRaw(e){const t=[];let r,s=0,i=null;for await(const n of this){if(e&&s+n.byteLength>e){i=n,r=e-s-1;const t=n.slice(0,r+1).indexOf(10);t>=0&&(r=t);break}if(r=n.indexOf(10),r>=0){i=n;break}t.push(n),s+=n.byteLength}if(i){const[e,n]=h(i,r+1);t.push(e),s+=e.byteLength,this.unread(n)}else if(!t.length)return null;return u(t,s)}readFully(){return this.readSize()}async readSize(e=-1,t=!1){const r=[];let s=0;for await(const i of this){if(e>=0){if(i.length>e){const[n,a]=h(i,e);t||r.push(n),s+=n.byteLength,this.unread(a);break}if(i.length===e){t||r.push(i),s+=i.byteLength,e=0;break}e-=i.length}t||r.push(i),s+=i.byteLength}return t?s:u(r,s)}getReadOffset(){return this._readOffset}getRawOffset(){return this.compressed?this._rawOffset:this._readOffset}getRawLength(e){return this.compressed?this.inflator.strm.total_in:this._readOffset-e}static fromReadable(e){return{async*[Symbol.asyncIterator](){let t=null;for(;(t=await e.read())&&!t.done;)yield t.value}}}static fromIter(e){return{async*[Symbol.asyncIterator](){for(const t of e)yield t}}}}class g extends m{constructor(e,t,r=0){super(),this.sourceIter=e,this.length=t,this.limit=t,this.skip=r}setLimitSkip(e,t=0){this.limit=e,this.skip=t}async*[Symbol.asyncIterator](){if(!(this.limit<=0))for await(let e of this.sourceIter){if(this.skip>0){if(!(e.length>=this.skip)){this.skip-=e.length;continue}{const[,t]=h(e,this.skip);e=t,this.skip=0}}if(e.length>this.limit){const[t,r]=h(e,this.limit);e=t,this.sourceIter.unread&&this.sourceIter.unread(r)}if(e.length&&(this.limit-=e.length,yield e),this.limit<=0)break}}async readlineRaw(e){if(this.limit<=0)return null;const t=await this.sourceIter.readlineRaw(e?Math.min(e,this.limit):this.limit);return this.limit-=t.length,t}async skipFully(){const e=this.limit;for(;this.limit>0;)this.limit-=await this.sourceIter.readSize(this.limit,!0);return e}}const w=new Uint8Array([13,10]),y=(new Uint8Array([13,10,13,10]),new TextDecoder("utf-8"));class b{constructor({statusline:e,headers:t}){this.statusline=e,this.headers=t}toString(){const e=[this.statusline];for(const[t,r]of this.headers)e.push(`${t}: ${r}`);return e.join("\r\n")+"\r\n"}async*iterSerialize(e){yield e.encode(this.statusline),yield w;for(const[t,r]of this.headers)yield e.encode(`${t}: ${r}\r\n`)}_parseResponseStatusLine(){const e=function(e,t,r){const s=e.split(t),i=s.slice(0,r);s.slice(r).length>0&&i.push(s.slice(r).join(t));return i}(this.statusline," ",2);this._protocol=e[0],this._statusCode=e.length>1?Number(e[1]):"",this._statusText=e.length>2?e[2]:""}get statusCode(){return void 0===this._statusCode&&this._parseResponseStatusLine(),this._statusCode}get protocol(){return void 0===this._protocol&&this._parseResponseStatusLine(),this._protocol}get statusText(){return void 0===this._statusText&&this._parseResponseStatusLine(),this._statusText}_parseRequestStatusLine(){const e=this.statusline.split(" ",2);this._method=e[0],this._requestPath=e.length>1?e[1]:""}get method(){return void 0===this._method&&this._parseRequestStatusLine(),this._method}get requestPath(){return void 0===this._requestPath&&this._parseRequestStatusLine(),this._requestPath}}class v{async parse(e,{headersClass:t=Map,firstLine:r}={}){const s=r||await e.readline();if(!s)return null;const i=s.trimEnd();if(!i)return null;const n=new t,a=await async function(e){const t=[];let r,s=0,i=null;const n=e[Symbol.asyncIterator]();for await(let e of n){if([r,e]=await A(e,n),r>=0){i=e;break}t.push(e),s+=e.byteLength}if(i){const[n,a]=h(i,r+1);t.push(n),s+=n.byteLength,e.unread(a)}else if(!t.length)return"";return y.decode(u(t,s))}(e);let o,l,c,f,d,m=0;for(;m<a.length;){if(c=a.indexOf("\n",m),!d||" "!==a[m]&&"\t"!==a[m]){if(d){try{n.set(f,d)}catch(e){}d=null}o=a.indexOf(":",m),l=o<0?m:o+1,o>=0&&o<c?(f=a.slice(m,o).trimStart(),d=a.slice(l,c<0?void 0:c).trim()):d=null}else d+=a.slice(m,c<0?void 0:c).trimEnd();if(c<0)break;m=c+1}if(d)try{n.set(f,d)}catch(e){}return new b({statusline:i,headers:n,totalRead:this.totalRead})}}async function A(e,t){let r=0;for(let s=0;s<e.length-4;s++){const s=e.indexOf(13,r);if(s<0)break;if(s+3>=e.length){const{value:r}=await t.next();if(!r)break;const s=new Uint8Array(r.length+e.length);s.set(e,0),s.set(r,e.length),e=s}if(10===e[s+1]&&13===e[s+2]&&10===e[s+3])return[s+3,e];r=s+1}return[-1,e]}var k=r(2043),_=r.n(k);const S=new TextDecoder("utf-8"),E=new TextEncoder("utf-8"),C="WARC/1.0",N={warcinfo:"application/warc-fields",response:"application/http; msgtype=response",revisit:"application/http; msgtype=response",request:"application/http; msgtype=request",metadata:"application/warc-fields"};class B extends m{static create({url:e,date:t,type:r,warcHeaders:s={},filename:i="",httpHeaders:n={},statusline:a="HTTP/1.1 200 OK",warcVersion:o=C,keepHeadersCase:l=!0,refersToUrl:c,refersToDate:u}={},h){function f(e){return o===C&&"Z"!=(e=e.split(".")[0]).charAt(t.length-1)&&(e+="Z"),e}if(t||(t=(new Date).toISOString()),t=f(t),s={...s},"warcinfo"===r?i&&(s["WARC-Filename"]=i):s["WARC-Target-URI"]=e,s["WARC-Date"]=t,s["WARC-Type"]=r,"revisit"===r&&(s["WARC-Profile"]="WARC/1.1"===o?"http://netpreserve.org/warc/1.1/revisit/identical-payload-digest":"http://netpreserve.org/warc/1.0/revisit/identical-payload-digest",s["WARC-Refers-To-Target-URI"]=c,s["WARC-Refers-To-Date"]=f(u)),(s=new b({statusline:o,headers:l?new Map(Object.entries(s)):new Headers(s)})).headers.get("WARC-Record-ID")||s.headers.set("WARC-Record-ID",`<urn:uuid:${_()()}>`),s.headers.get("Content-Type")||s.headers.set("Content-Type",N[r]||"application/octet-stream"),!h){h=async function*(){}()}const d=new B({warcHeaders:s,reader:h});let m=null,p=null;switch(r){case"response":case"request":case"revisit":p=Object.entries(n),m=l?new Map(p):new Headers(n),(p.length>0||"revisit"!==r)&&(d.httpHeaders=new b({statusline:a,headers:m}))}return d}static createWARCInfo(e={},t){return e.type="warcinfo",B.create(e,async function*(){for(const[e,r]of Object.entries(t))yield E.encode(`${e}: ${r}\r\n`)}())}constructor({warcHeaders:e,reader:t}){super(),this.warcHeaders=e,this._reader=t,this._contentReader=null,this.payload=null,this.httpHeaders=null,this.consumed=!1,this.fixUp()}getResponseInfo(){const e=this.httpHeaders;return e?{headers:e.headers,status:e.statusCode,statusText:e.statusText}:null}fixUp(){const e=this.warcHeaders.headers.get("WARC-Target-URI");e&&e.startsWith("<")&&e.endsWith(">")&&this.warcHeaders.headers.set("WARC-Target-URI",e.slice(1,-1))}async readFully(e=!1){if(this.httpHeaders){if(this.payload&&!this.payload.length)return this.payload;if(this._contentReader&&!e)throw new TypeError("WARC Record decoding already started, but requesting raw payload");if(e&&"raw"===this.consumed&&this.payload)return await this._createDecodingReader([this.payload]).readFully()}return this.payload||(e?(this.payload=await super.readFully(),this.consumed="content"):(this.payload=await B.readFully(this._reader),this.consumed="raw")),this.payload}get reader(){if(this._contentReader)throw new TypeError("WARC Record decoding already started, but requesting raw payload");return this._reader}get contentReader(){return this.httpHeaders?(this._contentReader||(this._contentReader=this._createDecodingReader(this._reader)),this._contentReader):this._reader}_createDecodingReader(e){let t=this.httpHeaders.headers.get("Content-Encoding"),r=this.httpHeaders.headers.get("Transfer-Encoding");const s="chunked"===r;return t||s||(t=r),new p(e,t,s)}async readlineRaw(e){if(this.consumed)throw new Error("Record already consumed.. Perhaps a promise was not awaited?");return this.contentReader.readlineRaw(e)}async contentText(){const e=await this.readFully(!0);return S.decode(e)}async*[Symbol.asyncIterator](){for await(const e of this.contentReader)if(yield e,this.consumed)throw new Error("Record already consumed.. Perhaps a promise was not awaited?");this.consumed="content"}async skipFully(){if(this.consumed)return;const e=await this._reader.skipFully();return this.consumed="skipped",e}warcHeader(e){return this.warcHeaders.headers.get(e)}get warcType(){return this.warcHeaders.headers.get("WARC-Type")}get warcTargetURI(){return this.warcHeaders.headers.get("WARC-Target-URI")}get warcDate(){return this.warcHeaders.headers.get("WARC-Date")}get warcRefersToTargetURI(){return this.warcHeaders.headers.get("WARC-Refers-To-Target-URI")}get warcRefersToDate(){return this.warcHeaders.headers.get("WARC-Refers-To-Date")}get warcPayloadDigest(){return this.warcHeaders.headers.get("WARC-Payload-Digest")}get warcBlockDigest(){return this.warcHeaders.headers.get("WARC-Block-Digest")}get warcContentType(){return this.warcHeaders.headers.get("Content-Type")}get warcContentLength(){return Number(this.warcHeaders.headers.get("Content-Length"))}}const I=new TextDecoder,x=new Uint8Array([]);class T{static parse(e,t){return new T(e,t).parse()}static iterRecords(e,t){return new T(e,t)[Symbol.asyncIterator]()}constructor(e,{keepHeadersCase:t=!1,parseHttp:r=!0}={}){this._offset=0,this._warcHeadersLength=0,this._headersClass=t?Map:Headers,this._parseHttp=r,this._atRecordBoundary=!0,e instanceof p||(e=new p(e)),this._reader=e,this._record=null}async readToNextRecord(){let e;if(!this._atRecordBoundary&&this._reader&&this._record){await this._record.skipFully();let t=0;if(e=await this._reader.readlineRaw(),e)for(t=e.byteLength-1;t>=0;){const r=e[t-1];if(10!==r&&13!==r)break;t--}else e=x;if(t&&console.warn(`Content-Length Too Small: Record not followed by newline, Remainder Length: ${t}, Offset: ${this._reader.getRawOffset()-e.byteLength}`),this._reader.compressed)await this._reader.readSize(2,!0),e=x;else for(e=await this._reader.readlineRaw();e&&2===e.byteLength;)e=await this._reader.readlineRaw()}return this._atRecordBoundary=!0,e?I.decode(e):""}_initRecordReader(e){return new g(this._reader,Number(e.headers.get("Content-Length")||0))}async parse(){const e=await this.readToNextRecord();this._offset=this._reader.getRawOffset()-e.length;const t=new v,r=await t.parse(this._reader,{firstLine:e,headersClass:this._headersClass});if(!r)return null;this._warcHeadersLength=this._reader.getReadOffset();const s=new B({warcHeaders:r,reader:this._initRecordReader(r)});if(this._atRecordBoundary=!1,this._record=s,this._parseHttp)switch(s.warcType){case"response":case"request":await this._addHttpHeaders(s,t,this._reader);break;case"revisit":s.warcContentLength>0&&await this._addHttpHeaders(s,t,this._reader)}return s}get offset(){return this._offset}get recordLength(){return this._reader.getRawLength(this._offset)}async*[Symbol.asyncIterator](){let e=null;for(;null!==(e=await this.parse());)yield e;this._record=null}async _addHttpHeaders(e,t){const r=await t.parse(this._reader,{headersClass:this._headersClass});e.httpHeaders=r;const s=this._reader.getReadOffset()-this._warcHeadersLength;e.reader.setLimitSkip&&e.reader.setLimitSkip(e.warcContentLength-s)}}r(9090),r(5498);new TextEncoder;Symbol.asyncIterator;const R="offset,warc-type,warc-target-uri".split(",");const O="urlkey,timestamp,url,mime,status,digest,length,offset,filename".split(","),P="urlkey,timestamp,url,mime,status,digest,redirect,meta,length,offset,filename".split(",");class D extends class extends class{constructor(e,t){this.opts=e,this.out=t}serialize(e){return JSON.stringify(e)+"\n"}write(e){this.out.write(this.serialize(e))}async run(e){for await(const t of this.iterIndex(e))this.write(t)}async*iterIndex(e){const t={strictHeaders:!0,parseHttp:this.parseHttp};for(const{filename:r,reader:s}of e){if(!r||!s)continue;const e=new T(s,t);yield*this.iterRecords(e,r)}}async*iterRecords(e,t){for await(const r of e){await r.skipFully();const s=this.indexRecord(r,e,t);s&&(yield s)}}indexRecord(e,t,r){if(this.filterRecord&&!this.filterRecord(e))return null;const s={},i={offset:t.offset,length:t.recordLength,filename:r};for(const t of this.fields)null!=i[t]?s[t]=i[t]:this.setField(t,e,s);return s}setField(e,t,r){const s=this.getField(e,t);null!=s&&(r[e]=s)}getField(e,t){return"http:status"===e?!t.httpHeaders||"response"!==t.warcType&&"revisit"!==t.warcType?null:t.httpHeaders.statusCode:e.startsWith("http:")?t.httpHeaders?t.httpHeaders.headers.get(e.slice(5)):null:t.warcHeaders.headers.get(e)}}{constructor(e={},t=null){if(super(e,t),e.fields){this.fields=e.fields.split(","),this.parseHttp=!1;for(const e of this.fields)if(e.startsWith("http:")){this.parseHttp=!0;break}}else this.fields=R,this.parseHttp=!1}}{constructor(e={},t=null){switch(super(e,t),this.includeAll=e.all,this.fields=O,this.parseHttp=!0,this.noSurt=!!e.noSurt,this._lastRecord=null,e.format){case"cdxj":this.serialize=this.serializeCDXJ;break;case"cdx":this.serialize=this.serializeCDX11}}async*iterRecords(e,t){this._lastRecord=null;for await(const r of e){await r.readFully();const s=this.indexRecord(r,e,t);s&&(yield s)}const r=this.indexRecord(null,e,t);r&&(yield r)}filterRecord(e){if(this.includeAll)return!0;const t=e.warcType;return"request"!==t&&"warcinfo"!==t}indexRecord(e,t,r){if(this.includeAll){if(!e)return;return super.indexRecord(e,t,r)}const s=this._lastRecord;return e&&(e._offset=t.offset,e._length=t.recordLength),s?e&&s.warcTargetURI==e.warcTargetURI?"request"===e.warcType&&"response"===s.warcType?(this._lastRecord=null,this.indexRecordPair(s,e,t,r)):"response"===e.warcType&&"request"===s.warcType?(this._lastRecord=null,this.indexRecordPair(e,s,t,r)):(this._lastRecord=e,this.indexRecordPair(s,null,t,r)):(this._lastRecord=e,this.indexRecordPair(s,null,t,r)):(this._lastRecord=e,null)}indexRecordPair(e,t,r,s){let i,n,o=e.warcTargetURI;if(t&&"GET"!==t.httpHeaders.method){const r={url:o,method:t.httpHeaders.method,headers:t.httpHeaders.headers,postData:t.payload};i=r.method,a(r)&&(n=r.requestBody,e.method=i,e.requestBody=n,o=r.url)}e._urlkey=o;const l=super.indexRecord(e,r,s);return l&&e&&void 0!==e._offset&&(l.offset=e._offset,l.length=e._length),i&&(l.method=i),n&&(l.requestBody=n),l}serializeCDXJ(e){const{urlkey:t,timestamp:r}=e;return delete e.urlkey,delete e.timestamp,`${t} ${r} ${JSON.stringify(e)}\n`}serializeCDX11(e){const t=[];for(const r of P)t.push(null!=e[r]?e[r]:"-");return t.join(" ")+"\n"}getField(e,t){let r=null;switch(e){case"urlkey":return r=t._urlkey?t._urlkey:t.warcTargetURI,this.noSurt?r:n(r);case"timestamp":return r=t.warcDate,r.replace(/[-:T]/g,"").slice(0,14);case"url":return t.warcTargetURI;case"mime":switch(t.warcType){case"revisit":return"warc/revisit";case"response":case"request":e="http:content-type";break;default:e="content-type"}return r=super.getField(e,t),r?r.split(";",1)[0].trim():null;case"status":return super.getField("http:status",t);case"digest":return r=t.warcPayloadDigest,r?r.split(":",2)[1]:null}}}},5498:(e,t,r)=>{"use strict";var s=r(9270),i=r(899),n=r(9684),a=r(8587),o=r(4861),l=Object.prototype.toString;function c(e){if(!(this instanceof c))return new c(e);this.options=i.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new o,this.strm.avail_out=0;var r=s.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(0!==r)throw new Error(a[r]);if(t.header&&s.deflateSetHeader(this.strm,t.header),t.dictionary){var u;if(u="string"==typeof t.dictionary?n.string2buf(t.dictionary):"[object ArrayBuffer]"===l.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,0!==(r=s.deflateSetDictionary(this.strm,u)))throw new Error(a[r]);this._dict_set=!0}}function u(e,t){var r=new c(t);if(r.push(e,!0),r.err)throw r.msg||a[r.err];return r.result}c.prototype.push=function(e,t){var r,a,o=this.strm,c=this.options.chunkSize;if(this.ended)return!1;a=t===~~t?t:!0===t?4:0,"string"==typeof e?o.input=n.string2buf(e):"[object ArrayBuffer]"===l.call(e)?o.input=new Uint8Array(e):o.input=e,o.next_in=0,o.avail_in=o.input.length;do{if(0===o.avail_out&&(o.output=new i.Buf8(c),o.next_out=0,o.avail_out=c),1!==(r=s.deflate(o,a))&&0!==r)return this.onEnd(r),this.ended=!0,!1;0!==o.avail_out&&(0!==o.avail_in||4!==a&&2!==a)||("string"===this.options.to?this.onData(n.buf2binstring(i.shrinkBuf(o.output,o.next_out))):this.onData(i.shrinkBuf(o.output,o.next_out)))}while((o.avail_in>0||0===o.avail_out)&&1!==r);return 4===a?(r=s.deflateEnd(this.strm),this.onEnd(r),this.ended=!0,0===r):2!==a||(this.onEnd(0),o.avail_out=0,!0)},c.prototype.onData=function(e){this.chunks.push(e)},c.prototype.onEnd=function(e){0===e&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg}},2725:(e,t,r)=>{"use strict";var s=r(5433),i=r(899),n=r(9684),a=r(7468),o=r(8587),l=r(4861),c=r(1706),u=Object.prototype.toString;function h(e){if(!(this instanceof h))return new h(e);this.options=i.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var r=s.inflateInit2(this.strm,t.windowBits);if(r!==a.Z_OK)throw new Error(o[r]);if(this.header=new c,s.inflateGetHeader(this.strm,this.header),t.dictionary&&("string"==typeof t.dictionary?t.dictionary=n.string2buf(t.dictionary):"[object ArrayBuffer]"===u.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(r=s.inflateSetDictionary(this.strm,t.dictionary))!==a.Z_OK))throw new Error(o[r])}function f(e,t){var r=new h(t);if(r.push(e,!0),r.err)throw r.msg||o[r.err];return r.result}h.prototype.push=function(e,t){var r,o,l,c,h,f=this.strm,d=this.options.chunkSize,m=this.options.dictionary,p=!1;if(this.ended)return!1;o=t===~~t?t:!0===t?a.Z_FINISH:a.Z_NO_FLUSH,"string"==typeof e?f.input=n.binstring2buf(e):"[object ArrayBuffer]"===u.call(e)?f.input=new Uint8Array(e):f.input=e,f.next_in=0,f.avail_in=f.input.length;do{if(0===f.avail_out&&(f.output=new i.Buf8(d),f.next_out=0,f.avail_out=d),(r=s.inflate(f,a.Z_NO_FLUSH))===a.Z_NEED_DICT&&m&&(r=s.inflateSetDictionary(this.strm,m)),r===a.Z_BUF_ERROR&&!0===p&&(r=a.Z_OK,p=!1),r!==a.Z_STREAM_END&&r!==a.Z_OK)return this.onEnd(r),this.ended=!0,!1;f.next_out&&(0!==f.avail_out&&r!==a.Z_STREAM_END&&(0!==f.avail_in||o!==a.Z_FINISH&&o!==a.Z_SYNC_FLUSH)||("string"===this.options.to?(l=n.utf8border(f.output,f.next_out),c=f.next_out-l,h=n.buf2string(f.output,l),f.next_out=c,f.avail_out=d-c,c&&i.arraySet(f.output,f.output,l,c,0),this.onData(h)):this.onData(i.shrinkBuf(f.output,f.next_out)))),0===f.avail_in&&0===f.avail_out&&(p=!0)}while((f.avail_in>0||0===f.avail_out)&&r!==a.Z_STREAM_END);return r===a.Z_STREAM_END&&(o=a.Z_FINISH),o===a.Z_FINISH?(r=s.inflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===a.Z_OK):o!==a.Z_SYNC_FLUSH||(this.onEnd(a.Z_OK),f.avail_out=0,!0)},h.prototype.onData=function(e){this.chunks.push(e)},h.prototype.onEnd=function(e){e===a.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},t.T_=h},899:(e,t)=>{"use strict";var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;function s(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var r=t.shift();if(r){if("object"!=typeof r)throw new TypeError(r+"must be non-object");for(var i in r)s(r,i)&&(e[i]=r[i])}}return e},t.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var i={arraySet:function(e,t,r,s,i){if(t.subarray&&e.subarray)e.set(t.subarray(r,r+s),i);else for(var n=0;n<s;n++)e[i+n]=t[r+n]},flattenChunks:function(e){var t,r,s,i,n,a;for(s=0,t=0,r=e.length;t<r;t++)s+=e[t].length;for(a=new Uint8Array(s),i=0,t=0,r=e.length;t<r;t++)n=e[t],a.set(n,i),i+=n.length;return a}},n={arraySet:function(e,t,r,s,i){for(var n=0;n<s;n++)e[i+n]=t[r+n]},flattenChunks:function(e){return[].concat.apply([],e)}};t.setTyped=function(e){e?(t.Buf8=Uint8Array,t.Buf16=Uint16Array,t.Buf32=Int32Array,t.assign(t,i)):(t.Buf8=Array,t.Buf16=Array,t.Buf32=Array,t.assign(t,n))},t.setTyped(r)},9684:(e,t,r)=>{"use strict";var s=r(899),i=!0,n=!0;try{String.fromCharCode.apply(null,[0])}catch(e){i=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){n=!1}for(var a=new s.Buf8(256),o=0;o<256;o++)a[o]=o>=252?6:o>=248?5:o>=240?4:o>=224?3:o>=192?2:1;function l(e,t){if(t<65534&&(e.subarray&&n||!e.subarray&&i))return String.fromCharCode.apply(null,s.shrinkBuf(e,t));for(var r="",a=0;a<t;a++)r+=String.fromCharCode(e[a]);return r}a[254]=a[254]=1,t.string2buf=function(e){var t,r,i,n,a,o=e.length,l=0;for(n=0;n<o;n++)55296==(64512&(r=e.charCodeAt(n)))&&n+1<o&&56320==(64512&(i=e.charCodeAt(n+1)))&&(r=65536+(r-55296<<10)+(i-56320),n++),l+=r<128?1:r<2048?2:r<65536?3:4;for(t=new s.Buf8(l),a=0,n=0;a<l;n++)55296==(64512&(r=e.charCodeAt(n)))&&n+1<o&&56320==(64512&(i=e.charCodeAt(n+1)))&&(r=65536+(r-55296<<10)+(i-56320),n++),r<128?t[a++]=r:r<2048?(t[a++]=192|r>>>6,t[a++]=128|63&r):r<65536?(t[a++]=224|r>>>12,t[a++]=128|r>>>6&63,t[a++]=128|63&r):(t[a++]=240|r>>>18,t[a++]=128|r>>>12&63,t[a++]=128|r>>>6&63,t[a++]=128|63&r);return t},t.buf2binstring=function(e){return l(e,e.length)},t.binstring2buf=function(e){for(var t=new s.Buf8(e.length),r=0,i=t.length;r<i;r++)t[r]=e.charCodeAt(r);return t},t.buf2string=function(e,t){var r,s,i,n,o=t||e.length,c=new Array(2*o);for(s=0,r=0;r<o;)if((i=e[r++])<128)c[s++]=i;else if((n=a[i])>4)c[s++]=65533,r+=n-1;else{for(i&=2===n?31:3===n?15:7;n>1&&r<o;)i=i<<6|63&e[r++],n--;n>1?c[s++]=65533:i<65536?c[s++]=i:(i-=65536,c[s++]=55296|i>>10&1023,c[s++]=56320|1023&i)}return l(c,s)},t.utf8border=function(e,t){var r;for((t=t||e.length)>e.length&&(t=e.length),r=t-1;r>=0&&128==(192&e[r]);)r--;return r<0||0===r?t:r+a[e[r]]>t?r:t}},3441:e=>{"use strict";e.exports=function(e,t,r,s){for(var i=65535&e|0,n=e>>>16&65535|0,a=0;0!==r;){r-=a=r>2e3?2e3:r;do{n=n+(i=i+t[s++]|0)|0}while(--a);i%=65521,n%=65521}return i|n<<16|0}},7468:e=>{"use strict";e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},7613:e=>{"use strict";var t=function(){for(var e,t=[],r=0;r<256;r++){e=r;for(var s=0;s<8;s++)e=1&e?3988292384^e>>>1:e>>>1;t[r]=e}return t}();e.exports=function(e,r,s,i){var n=t,a=i+s;e^=-1;for(var o=i;o<a;o++)e=e>>>8^n[255&(e^r[o])];return-1^e}},9270:(e,t,r)=>{"use strict";var s,i=r(899),n=r(6329),a=r(3441),o=r(7613),l=r(8587),c=-2,u=258,h=262,f=103,d=113,m=666;function p(e,t){return e.msg=l[t],t}function g(e){return(e<<1)-(e>4?9:0)}function w(e){for(var t=e.length;--t>=0;)e[t]=0}function y(e){var t=e.state,r=t.pending;r>e.avail_out&&(r=e.avail_out),0!==r&&(i.arraySet(e.output,t.pending_buf,t.pending_out,r,e.next_out),e.next_out+=r,t.pending_out+=r,e.total_out+=r,e.avail_out-=r,t.pending-=r,0===t.pending&&(t.pending_out=0))}function b(e,t){n._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,y(e.strm)}function v(e,t){e.pending_buf[e.pending++]=t}function A(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function k(e,t){var r,s,i=e.max_chain_length,n=e.strstart,a=e.prev_length,o=e.nice_match,l=e.strstart>e.w_size-h?e.strstart-(e.w_size-h):0,c=e.window,f=e.w_mask,d=e.prev,m=e.strstart+u,p=c[n+a-1],g=c[n+a];e.prev_length>=e.good_match&&(i>>=2),o>e.lookahead&&(o=e.lookahead);do{if(c[(r=t)+a]===g&&c[r+a-1]===p&&c[r]===c[n]&&c[++r]===c[n+1]){n+=2,r++;do{}while(c[++n]===c[++r]&&c[++n]===c[++r]&&c[++n]===c[++r]&&c[++n]===c[++r]&&c[++n]===c[++r]&&c[++n]===c[++r]&&c[++n]===c[++r]&&c[++n]===c[++r]&&n<m);if(s=u-(m-n),n=m-u,s>a){if(e.match_start=t,a=s,s>=o)break;p=c[n+a-1],g=c[n+a]}}}while((t=d[t&f])>l&&0!=--i);return a<=e.lookahead?a:e.lookahead}function _(e){var t,r,s,n,l,c,u,f,d,m,p=e.w_size;do{if(n=e.window_size-e.lookahead-e.strstart,e.strstart>=p+(p-h)){i.arraySet(e.window,e.window,p,p,0),e.match_start-=p,e.strstart-=p,e.block_start-=p,t=r=e.hash_size;do{s=e.head[--t],e.head[t]=s>=p?s-p:0}while(--r);t=r=p;do{s=e.prev[--t],e.prev[t]=s>=p?s-p:0}while(--r);n+=p}if(0===e.strm.avail_in)break;if(c=e.strm,u=e.window,f=e.strstart+e.lookahead,d=n,m=void 0,(m=c.avail_in)>d&&(m=d),r=0===m?0:(c.avail_in-=m,i.arraySet(u,c.input,c.next_in,m,f),1===c.state.wrap?c.adler=a(c.adler,u,m,f):2===c.state.wrap&&(c.adler=o(c.adler,u,m,f)),c.next_in+=m,c.total_in+=m,m),e.lookahead+=r,e.lookahead+e.insert>=3)for(l=e.strstart-e.insert,e.ins_h=e.window[l],e.ins_h=(e.ins_h<<e.hash_shift^e.window[l+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[l+3-1])&e.hash_mask,e.prev[l&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=l,l++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<h&&0!==e.strm.avail_in)}function S(e,t){for(var r,s;;){if(e.lookahead<h){if(_(e),e.lookahead<h&&0===t)return 1;if(0===e.lookahead)break}if(r=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==r&&e.strstart-r<=e.w_size-h&&(e.match_length=k(e,r)),e.match_length>=3)if(s=n._tr_tally(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){e.match_length--;do{e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else s=n._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(s&&(b(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<2?e.strstart:2,4===t?(b(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(b(e,!1),0===e.strm.avail_out)?1:2}function E(e,t){for(var r,s,i;;){if(e.lookahead<h){if(_(e),e.lookahead<h&&0===t)return 1;if(0===e.lookahead)break}if(r=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==r&&e.prev_length<e.max_lazy_match&&e.strstart-r<=e.w_size-h&&(e.match_length=k(e,r),e.match_length<=5&&(1===e.strategy||3===e.match_length&&e.strstart-e.match_start>4096)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){i=e.strstart+e.lookahead-3,s=n._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=i&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=2,e.strstart++,s&&(b(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if((s=n._tr_tally(e,0,e.window[e.strstart-1]))&&b(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(s=n._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,4===t?(b(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(b(e,!1),0===e.strm.avail_out)?1:2}function C(e,t,r,s,i){this.good_length=e,this.max_lazy=t,this.nice_length=r,this.max_chain=s,this.func=i}function N(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new i.Buf16(1146),this.dyn_dtree=new i.Buf16(122),this.bl_tree=new i.Buf16(78),w(this.dyn_ltree),w(this.dyn_dtree),w(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new i.Buf16(16),this.heap=new i.Buf16(573),w(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new i.Buf16(573),w(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function B(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=2,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?42:d,e.adler=2===t.wrap?0:1,t.last_flush=0,n._tr_init(t),0):p(e,c)}function I(e){var t,r=B(e);return 0===r&&((t=e.state).window_size=2*t.w_size,w(t.head),t.max_lazy_match=s[t.level].max_lazy,t.good_match=s[t.level].good_length,t.nice_match=s[t.level].nice_length,t.max_chain_length=s[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=2,t.match_available=0,t.ins_h=0),r}function x(e,t,r,s,n,a){if(!e)return c;var o=1;if(-1===t&&(t=6),s<0?(o=0,s=-s):s>15&&(o=2,s-=16),n<1||n>9||8!==r||s<8||s>15||t<0||t>9||a<0||a>4)return p(e,c);8===s&&(s=9);var l=new N;return e.state=l,l.strm=e,l.wrap=o,l.gzhead=null,l.w_bits=s,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=n+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+3-1)/3),l.window=new i.Buf8(2*l.w_size),l.head=new i.Buf16(l.hash_size),l.prev=new i.Buf16(l.w_size),l.lit_bufsize=1<<n+6,l.pending_buf_size=4*l.lit_bufsize,l.pending_buf=new i.Buf8(l.pending_buf_size),l.d_buf=1*l.lit_bufsize,l.l_buf=3*l.lit_bufsize,l.level=t,l.strategy=a,l.method=r,I(e)}s=[new C(0,0,0,0,(function(e,t){var r=65535;for(r>e.pending_buf_size-5&&(r=e.pending_buf_size-5);;){if(e.lookahead<=1){if(_(e),0===e.lookahead&&0===t)return 1;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var s=e.block_start+r;if((0===e.strstart||e.strstart>=s)&&(e.lookahead=e.strstart-s,e.strstart=s,b(e,!1),0===e.strm.avail_out))return 1;if(e.strstart-e.block_start>=e.w_size-h&&(b(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(b(e,!0),0===e.strm.avail_out?3:4):(e.strstart>e.block_start&&(b(e,!1),e.strm.avail_out),1)})),new C(4,4,8,4,S),new C(4,5,16,8,S),new C(4,6,32,32,S),new C(4,4,16,16,E),new C(8,16,32,32,E),new C(8,16,128,128,E),new C(8,32,128,256,E),new C(32,128,258,1024,E),new C(32,258,258,4096,E)],t.deflateInit=function(e,t){return x(e,t,8,15,8,0)},t.deflateInit2=x,t.deflateReset=I,t.deflateResetKeep=B,t.deflateSetHeader=function(e,t){return e&&e.state?2!==e.state.wrap?c:(e.state.gzhead=t,0):c},t.deflate=function(e,t){var r,i,a,l;if(!e||!e.state||t>5||t<0)return e?p(e,c):c;if(i=e.state,!e.output||!e.input&&0!==e.avail_in||i.status===m&&4!==t)return p(e,0===e.avail_out?-5:c);if(i.strm=e,r=i.last_flush,i.last_flush=t,42===i.status)if(2===i.wrap)e.adler=0,v(i,31),v(i,139),v(i,8),i.gzhead?(v(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),v(i,255&i.gzhead.time),v(i,i.gzhead.time>>8&255),v(i,i.gzhead.time>>16&255),v(i,i.gzhead.time>>24&255),v(i,9===i.level?2:i.strategy>=2||i.level<2?4:0),v(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(v(i,255&i.gzhead.extra.length),v(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(e.adler=o(e.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=69):(v(i,0),v(i,0),v(i,0),v(i,0),v(i,0),v(i,9===i.level?2:i.strategy>=2||i.level<2?4:0),v(i,3),i.status=d);else{var h=8+(i.w_bits-8<<4)<<8;h|=(i.strategy>=2||i.level<2?0:i.level<6?1:6===i.level?2:3)<<6,0!==i.strstart&&(h|=32),h+=31-h%31,i.status=d,A(i,h),0!==i.strstart&&(A(i,e.adler>>>16),A(i,65535&e.adler)),e.adler=1}if(69===i.status)if(i.gzhead.extra){for(a=i.pending;i.gzindex<(65535&i.gzhead.extra.length)&&(i.pending!==i.pending_buf_size||(i.gzhead.hcrc&&i.pending>a&&(e.adler=o(e.adler,i.pending_buf,i.pending-a,a)),y(e),a=i.pending,i.pending!==i.pending_buf_size));)v(i,255&i.gzhead.extra[i.gzindex]),i.gzindex++;i.gzhead.hcrc&&i.pending>a&&(e.adler=o(e.adler,i.pending_buf,i.pending-a,a)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=73)}else i.status=73;if(73===i.status)if(i.gzhead.name){a=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>a&&(e.adler=o(e.adler,i.pending_buf,i.pending-a,a)),y(e),a=i.pending,i.pending===i.pending_buf_size)){l=1;break}l=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0,v(i,l)}while(0!==l);i.gzhead.hcrc&&i.pending>a&&(e.adler=o(e.adler,i.pending_buf,i.pending-a,a)),0===l&&(i.gzindex=0,i.status=91)}else i.status=91;if(91===i.status)if(i.gzhead.comment){a=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>a&&(e.adler=o(e.adler,i.pending_buf,i.pending-a,a)),y(e),a=i.pending,i.pending===i.pending_buf_size)){l=1;break}l=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0,v(i,l)}while(0!==l);i.gzhead.hcrc&&i.pending>a&&(e.adler=o(e.adler,i.pending_buf,i.pending-a,a)),0===l&&(i.status=f)}else i.status=f;if(i.status===f&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&y(e),i.pending+2<=i.pending_buf_size&&(v(i,255&e.adler),v(i,e.adler>>8&255),e.adler=0,i.status=d)):i.status=d),0!==i.pending){if(y(e),0===e.avail_out)return i.last_flush=-1,0}else if(0===e.avail_in&&g(t)<=g(r)&&4!==t)return p(e,-5);if(i.status===m&&0!==e.avail_in)return p(e,-5);if(0!==e.avail_in||0!==i.lookahead||0!==t&&i.status!==m){var k=2===i.strategy?function(e,t){for(var r;;){if(0===e.lookahead&&(_(e),0===e.lookahead)){if(0===t)return 1;break}if(e.match_length=0,r=n._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,r&&(b(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(b(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(b(e,!1),0===e.strm.avail_out)?1:2}(i,t):3===i.strategy?function(e,t){for(var r,s,i,a,o=e.window;;){if(e.lookahead<=u){if(_(e),e.lookahead<=u&&0===t)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=3&&e.strstart>0&&(s=o[i=e.strstart-1])===o[++i]&&s===o[++i]&&s===o[++i]){a=e.strstart+u;do{}while(s===o[++i]&&s===o[++i]&&s===o[++i]&&s===o[++i]&&s===o[++i]&&s===o[++i]&&s===o[++i]&&s===o[++i]&&i<a);e.match_length=u-(a-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=3?(r=n._tr_tally(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(r=n._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),r&&(b(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(b(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(b(e,!1),0===e.strm.avail_out)?1:2}(i,t):s[i.level].func(i,t);if(3!==k&&4!==k||(i.status=m),1===k||3===k)return 0===e.avail_out&&(i.last_flush=-1),0;if(2===k&&(1===t?n._tr_align(i):5!==t&&(n._tr_stored_block(i,0,0,!1),3===t&&(w(i.head),0===i.lookahead&&(i.strstart=0,i.block_start=0,i.insert=0))),y(e),0===e.avail_out))return i.last_flush=-1,0}return 4!==t?0:i.wrap<=0?1:(2===i.wrap?(v(i,255&e.adler),v(i,e.adler>>8&255),v(i,e.adler>>16&255),v(i,e.adler>>24&255),v(i,255&e.total_in),v(i,e.total_in>>8&255),v(i,e.total_in>>16&255),v(i,e.total_in>>24&255)):(A(i,e.adler>>>16),A(i,65535&e.adler)),y(e),i.wrap>0&&(i.wrap=-i.wrap),0!==i.pending?0:1)},t.deflateEnd=function(e){var t;return e&&e.state?42!==(t=e.state.status)&&69!==t&&73!==t&&91!==t&&t!==f&&t!==d&&t!==m?p(e,c):(e.state=null,t===d?p(e,-3):0):c},t.deflateSetDictionary=function(e,t){var r,s,n,o,l,u,h,f,d=t.length;if(!e||!e.state)return c;if(2===(o=(r=e.state).wrap)||1===o&&42!==r.status||r.lookahead)return c;for(1===o&&(e.adler=a(e.adler,t,d,0)),r.wrap=0,d>=r.w_size&&(0===o&&(w(r.head),r.strstart=0,r.block_start=0,r.insert=0),f=new i.Buf8(r.w_size),i.arraySet(f,t,d-r.w_size,r.w_size,0),t=f,d=r.w_size),l=e.avail_in,u=e.next_in,h=e.input,e.avail_in=d,e.next_in=0,e.input=t,_(r);r.lookahead>=3;){s=r.strstart,n=r.lookahead-2;do{r.ins_h=(r.ins_h<<r.hash_shift^r.window[s+3-1])&r.hash_mask,r.prev[s&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=s,s++}while(--n);r.strstart=s,r.lookahead=2,_(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=2,r.match_available=0,e.next_in=u,e.input=h,e.avail_in=l,r.wrap=o,0},t.deflateInfo="pako deflate (from Nodeca project)"},1706:e=>{"use strict";e.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},136:e=>{"use strict";e.exports=function(e,t){var r,s,i,n,a,o,l,c,u,h,f,d,m,p,g,w,y,b,v,A,k,_,S,E,C;r=e.state,s=e.next_in,E=e.input,i=s+(e.avail_in-5),n=e.next_out,C=e.output,a=n-(t-e.avail_out),o=n+(e.avail_out-257),l=r.dmax,c=r.wsize,u=r.whave,h=r.wnext,f=r.window,d=r.hold,m=r.bits,p=r.lencode,g=r.distcode,w=(1<<r.lenbits)-1,y=(1<<r.distbits)-1;e:do{m<15&&(d+=E[s++]<<m,m+=8,d+=E[s++]<<m,m+=8),b=p[d&w];t:for(;;){if(d>>>=v=b>>>24,m-=v,0===(v=b>>>16&255))C[n++]=65535&b;else{if(!(16&v)){if(0==(64&v)){b=p[(65535&b)+(d&(1<<v)-1)];continue t}if(32&v){r.mode=12;break e}e.msg="invalid literal/length code",r.mode=30;break e}A=65535&b,(v&=15)&&(m<v&&(d+=E[s++]<<m,m+=8),A+=d&(1<<v)-1,d>>>=v,m-=v),m<15&&(d+=E[s++]<<m,m+=8,d+=E[s++]<<m,m+=8),b=g[d&y];r:for(;;){if(d>>>=v=b>>>24,m-=v,!(16&(v=b>>>16&255))){if(0==(64&v)){b=g[(65535&b)+(d&(1<<v)-1)];continue r}e.msg="invalid distance code",r.mode=30;break e}if(k=65535&b,m<(v&=15)&&(d+=E[s++]<<m,(m+=8)<v&&(d+=E[s++]<<m,m+=8)),(k+=d&(1<<v)-1)>l){e.msg="invalid distance too far back",r.mode=30;break e}if(d>>>=v,m-=v,k>(v=n-a)){if((v=k-v)>u&&r.sane){e.msg="invalid distance too far back",r.mode=30;break e}if(_=0,S=f,0===h){if(_+=c-v,v<A){A-=v;do{C[n++]=f[_++]}while(--v);_=n-k,S=C}}else if(h<v){if(_+=c+h-v,(v-=h)<A){A-=v;do{C[n++]=f[_++]}while(--v);if(_=0,h<A){A-=v=h;do{C[n++]=f[_++]}while(--v);_=n-k,S=C}}}else if(_+=h-v,v<A){A-=v;do{C[n++]=f[_++]}while(--v);_=n-k,S=C}for(;A>2;)C[n++]=S[_++],C[n++]=S[_++],C[n++]=S[_++],A-=3;A&&(C[n++]=S[_++],A>1&&(C[n++]=S[_++]))}else{_=n-k;do{C[n++]=C[_++],C[n++]=C[_++],C[n++]=C[_++],A-=3}while(A>2);A&&(C[n++]=C[_++],A>1&&(C[n++]=C[_++]))}break}}break}}while(s<i&&n<o);s-=A=m>>3,d&=(1<<(m-=A<<3))-1,e.next_in=s,e.next_out=n,e.avail_in=s<i?i-s+5:5-(s-i),e.avail_out=n<o?o-n+257:257-(n-o),r.hold=d,r.bits=m}},5433:(e,t,r)=>{"use strict";var s=r(899),i=r(3441),n=r(7613),a=r(136),o=r(4639),l=-2,c=12,u=30;function h(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function f(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new s.Buf16(320),this.work=new s.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function d(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=1,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new s.Buf32(852),t.distcode=t.distdyn=new s.Buf32(592),t.sane=1,t.back=-1,0):l}function m(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,d(e)):l}function p(e,t){var r,s;return e&&e.state?(s=e.state,t<0?(r=0,t=-t):(r=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?l:(null!==s.window&&s.wbits!==t&&(s.window=null),s.wrap=r,s.wbits=t,m(e))):l}function g(e,t){var r,s;return e?(s=new f,e.state=s,s.window=null,0!==(r=p(e,t))&&(e.state=null),r):l}var w,y,b=!0;function v(e){if(b){var t;for(w=new s.Buf32(512),y=new s.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(o(1,e.lens,0,288,w,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;o(2,e.lens,0,32,y,0,e.work,{bits:5}),b=!1}e.lencode=w,e.lenbits=9,e.distcode=y,e.distbits=5}function A(e,t,r,i){var n,a=e.state;return null===a.window&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new s.Buf8(a.wsize)),i>=a.wsize?(s.arraySet(a.window,t,r-a.wsize,a.wsize,0),a.wnext=0,a.whave=a.wsize):((n=a.wsize-a.wnext)>i&&(n=i),s.arraySet(a.window,t,r-i,n,a.wnext),(i-=n)?(s.arraySet(a.window,t,r-i,i,0),a.wnext=i,a.whave=a.wsize):(a.wnext+=n,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=n))),0}t.inflateReset=m,t.inflateReset2=p,t.inflateResetKeep=d,t.inflateInit=function(e){return g(e,15)},t.inflateInit2=g,t.inflate=function(e,t){var r,f,d,m,p,g,w,y,b,k,_,S,E,C,N,B,I,x,T,R,O,P,D,L,U=0,V=new s.Buf8(4),H=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return l;(r=e.state).mode===c&&(r.mode=13),p=e.next_out,d=e.output,w=e.avail_out,m=e.next_in,f=e.input,g=e.avail_in,y=r.hold,b=r.bits,k=g,_=w,P=0;e:for(;;)switch(r.mode){case 1:if(0===r.wrap){r.mode=13;break}for(;b<16;){if(0===g)break e;g--,y+=f[m++]<<b,b+=8}if(2&r.wrap&&35615===y){r.check=0,V[0]=255&y,V[1]=y>>>8&255,r.check=n(r.check,V,2,0),y=0,b=0,r.mode=2;break}if(r.flags=0,r.head&&(r.head.done=!1),!(1&r.wrap)||(((255&y)<<8)+(y>>8))%31){e.msg="incorrect header check",r.mode=u;break}if(8!=(15&y)){e.msg="unknown compression method",r.mode=u;break}if(b-=4,O=8+(15&(y>>>=4)),0===r.wbits)r.wbits=O;else if(O>r.wbits){e.msg="invalid window size",r.mode=u;break}r.dmax=1<<O,e.adler=r.check=1,r.mode=512&y?10:c,y=0,b=0;break;case 2:for(;b<16;){if(0===g)break e;g--,y+=f[m++]<<b,b+=8}if(r.flags=y,8!=(255&r.flags)){e.msg="unknown compression method",r.mode=u;break}if(57344&r.flags){e.msg="unknown header flags set",r.mode=u;break}r.head&&(r.head.text=y>>8&1),512&r.flags&&(V[0]=255&y,V[1]=y>>>8&255,r.check=n(r.check,V,2,0)),y=0,b=0,r.mode=3;case 3:for(;b<32;){if(0===g)break e;g--,y+=f[m++]<<b,b+=8}r.head&&(r.head.time=y),512&r.flags&&(V[0]=255&y,V[1]=y>>>8&255,V[2]=y>>>16&255,V[3]=y>>>24&255,r.check=n(r.check,V,4,0)),y=0,b=0,r.mode=4;case 4:for(;b<16;){if(0===g)break e;g--,y+=f[m++]<<b,b+=8}r.head&&(r.head.xflags=255&y,r.head.os=y>>8),512&r.flags&&(V[0]=255&y,V[1]=y>>>8&255,r.check=n(r.check,V,2,0)),y=0,b=0,r.mode=5;case 5:if(1024&r.flags){for(;b<16;){if(0===g)break e;g--,y+=f[m++]<<b,b+=8}r.length=y,r.head&&(r.head.extra_len=y),512&r.flags&&(V[0]=255&y,V[1]=y>>>8&255,r.check=n(r.check,V,2,0)),y=0,b=0}else r.head&&(r.head.extra=null);r.mode=6;case 6:if(1024&r.flags&&((S=r.length)>g&&(S=g),S&&(r.head&&(O=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Array(r.head.extra_len)),s.arraySet(r.head.extra,f,m,S,O)),512&r.flags&&(r.check=n(r.check,f,S,m)),g-=S,m+=S,r.length-=S),r.length))break e;r.length=0,r.mode=7;case 7:if(2048&r.flags){if(0===g)break e;S=0;do{O=f[m+S++],r.head&&O&&r.length<65536&&(r.head.name+=String.fromCharCode(O))}while(O&&S<g);if(512&r.flags&&(r.check=n(r.check,f,S,m)),g-=S,m+=S,O)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=8;case 8:if(4096&r.flags){if(0===g)break e;S=0;do{O=f[m+S++],r.head&&O&&r.length<65536&&(r.head.comment+=String.fromCharCode(O))}while(O&&S<g);if(512&r.flags&&(r.check=n(r.check,f,S,m)),g-=S,m+=S,O)break e}else r.head&&(r.head.comment=null);r.mode=9;case 9:if(512&r.flags){for(;b<16;){if(0===g)break e;g--,y+=f[m++]<<b,b+=8}if(y!==(65535&r.check)){e.msg="header crc mismatch",r.mode=u;break}y=0,b=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=c;break;case 10:for(;b<32;){if(0===g)break e;g--,y+=f[m++]<<b,b+=8}e.adler=r.check=h(y),y=0,b=0,r.mode=11;case 11:if(0===r.havedict)return e.next_out=p,e.avail_out=w,e.next_in=m,e.avail_in=g,r.hold=y,r.bits=b,2;e.adler=r.check=1,r.mode=c;case c:if(5===t||6===t)break e;case 13:if(r.last){y>>>=7&b,b-=7&b,r.mode=27;break}for(;b<3;){if(0===g)break e;g--,y+=f[m++]<<b,b+=8}switch(r.last=1&y,b-=1,3&(y>>>=1)){case 0:r.mode=14;break;case 1:if(v(r),r.mode=20,6===t){y>>>=2,b-=2;break e}break;case 2:r.mode=17;break;case 3:e.msg="invalid block type",r.mode=u}y>>>=2,b-=2;break;case 14:for(y>>>=7&b,b-=7&b;b<32;){if(0===g)break e;g--,y+=f[m++]<<b,b+=8}if((65535&y)!=(y>>>16^65535)){e.msg="invalid stored block lengths",r.mode=u;break}if(r.length=65535&y,y=0,b=0,r.mode=15,6===t)break e;case 15:r.mode=16;case 16:if(S=r.length){if(S>g&&(S=g),S>w&&(S=w),0===S)break e;s.arraySet(d,f,m,S,p),g-=S,m+=S,w-=S,p+=S,r.length-=S;break}r.mode=c;break;case 17:for(;b<14;){if(0===g)break e;g--,y+=f[m++]<<b,b+=8}if(r.nlen=257+(31&y),y>>>=5,b-=5,r.ndist=1+(31&y),y>>>=5,b-=5,r.ncode=4+(15&y),y>>>=4,b-=4,r.nlen>286||r.ndist>30){e.msg="too many length or distance symbols",r.mode=u;break}r.have=0,r.mode=18;case 18:for(;r.have<r.ncode;){for(;b<3;){if(0===g)break e;g--,y+=f[m++]<<b,b+=8}r.lens[H[r.have++]]=7&y,y>>>=3,b-=3}for(;r.have<19;)r.lens[H[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,D={bits:r.lenbits},P=o(0,r.lens,0,19,r.lencode,0,r.work,D),r.lenbits=D.bits,P){e.msg="invalid code lengths set",r.mode=u;break}r.have=0,r.mode=19;case 19:for(;r.have<r.nlen+r.ndist;){for(;B=(U=r.lencode[y&(1<<r.lenbits)-1])>>>16&255,I=65535&U,!((N=U>>>24)<=b);){if(0===g)break e;g--,y+=f[m++]<<b,b+=8}if(I<16)y>>>=N,b-=N,r.lens[r.have++]=I;else{if(16===I){for(L=N+2;b<L;){if(0===g)break e;g--,y+=f[m++]<<b,b+=8}if(y>>>=N,b-=N,0===r.have){e.msg="invalid bit length repeat",r.mode=u;break}O=r.lens[r.have-1],S=3+(3&y),y>>>=2,b-=2}else if(17===I){for(L=N+3;b<L;){if(0===g)break e;g--,y+=f[m++]<<b,b+=8}b-=N,O=0,S=3+(7&(y>>>=N)),y>>>=3,b-=3}else{for(L=N+7;b<L;){if(0===g)break e;g--,y+=f[m++]<<b,b+=8}b-=N,O=0,S=11+(127&(y>>>=N)),y>>>=7,b-=7}if(r.have+S>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=u;break}for(;S--;)r.lens[r.have++]=O}}if(r.mode===u)break;if(0===r.lens[256]){e.msg="invalid code -- missing end-of-block",r.mode=u;break}if(r.lenbits=9,D={bits:r.lenbits},P=o(1,r.lens,0,r.nlen,r.lencode,0,r.work,D),r.lenbits=D.bits,P){e.msg="invalid literal/lengths set",r.mode=u;break}if(r.distbits=6,r.distcode=r.distdyn,D={bits:r.distbits},P=o(2,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,D),r.distbits=D.bits,P){e.msg="invalid distances set",r.mode=u;break}if(r.mode=20,6===t)break e;case 20:r.mode=21;case 21:if(g>=6&&w>=258){e.next_out=p,e.avail_out=w,e.next_in=m,e.avail_in=g,r.hold=y,r.bits=b,a(e,_),p=e.next_out,d=e.output,w=e.avail_out,m=e.next_in,f=e.input,g=e.avail_in,y=r.hold,b=r.bits,r.mode===c&&(r.back=-1);break}for(r.back=0;B=(U=r.lencode[y&(1<<r.lenbits)-1])>>>16&255,I=65535&U,!((N=U>>>24)<=b);){if(0===g)break e;g--,y+=f[m++]<<b,b+=8}if(B&&0==(240&B)){for(x=N,T=B,R=I;B=(U=r.lencode[R+((y&(1<<x+T)-1)>>x)])>>>16&255,I=65535&U,!(x+(N=U>>>24)<=b);){if(0===g)break e;g--,y+=f[m++]<<b,b+=8}y>>>=x,b-=x,r.back+=x}if(y>>>=N,b-=N,r.back+=N,r.length=I,0===B){r.mode=26;break}if(32&B){r.back=-1,r.mode=c;break}if(64&B){e.msg="invalid literal/length code",r.mode=u;break}r.extra=15&B,r.mode=22;case 22:if(r.extra){for(L=r.extra;b<L;){if(0===g)break e;g--,y+=f[m++]<<b,b+=8}r.length+=y&(1<<r.extra)-1,y>>>=r.extra,b-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=23;case 23:for(;B=(U=r.distcode[y&(1<<r.distbits)-1])>>>16&255,I=65535&U,!((N=U>>>24)<=b);){if(0===g)break e;g--,y+=f[m++]<<b,b+=8}if(0==(240&B)){for(x=N,T=B,R=I;B=(U=r.distcode[R+((y&(1<<x+T)-1)>>x)])>>>16&255,I=65535&U,!(x+(N=U>>>24)<=b);){if(0===g)break e;g--,y+=f[m++]<<b,b+=8}y>>>=x,b-=x,r.back+=x}if(y>>>=N,b-=N,r.back+=N,64&B){e.msg="invalid distance code",r.mode=u;break}r.offset=I,r.extra=15&B,r.mode=24;case 24:if(r.extra){for(L=r.extra;b<L;){if(0===g)break e;g--,y+=f[m++]<<b,b+=8}r.offset+=y&(1<<r.extra)-1,y>>>=r.extra,b-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=u;break}r.mode=25;case 25:if(0===w)break e;if(S=_-w,r.offset>S){if((S=r.offset-S)>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=u;break}S>r.wnext?(S-=r.wnext,E=r.wsize-S):E=r.wnext-S,S>r.length&&(S=r.length),C=r.window}else C=d,E=p-r.offset,S=r.length;S>w&&(S=w),w-=S,r.length-=S;do{d[p++]=C[E++]}while(--S);0===r.length&&(r.mode=21);break;case 26:if(0===w)break e;d[p++]=r.length,w--,r.mode=21;break;case 27:if(r.wrap){for(;b<32;){if(0===g)break e;g--,y|=f[m++]<<b,b+=8}if(_-=w,e.total_out+=_,r.total+=_,_&&(e.adler=r.check=r.flags?n(r.check,d,_,p-_):i(r.check,d,_,p-_)),_=w,(r.flags?y:h(y))!==r.check){e.msg="incorrect data check",r.mode=u;break}y=0,b=0}r.mode=28;case 28:if(r.wrap&&r.flags){for(;b<32;){if(0===g)break e;g--,y+=f[m++]<<b,b+=8}if(y!==(4294967295&r.total)){e.msg="incorrect length check",r.mode=u;break}y=0,b=0}r.mode=29;case 29:P=1;break e;case u:P=-3;break e;case 31:return-4;default:return l}return e.next_out=p,e.avail_out=w,e.next_in=m,e.avail_in=g,r.hold=y,r.bits=b,(r.wsize||_!==e.avail_out&&r.mode<u&&(r.mode<27||4!==t))&&A(e,e.output,e.next_out,_-e.avail_out)?(r.mode=31,-4):(k-=e.avail_in,_-=e.avail_out,e.total_in+=k,e.total_out+=_,r.total+=_,r.wrap&&_&&(e.adler=r.check=r.flags?n(r.check,d,_,e.next_out-_):i(r.check,d,_,e.next_out-_)),e.data_type=r.bits+(r.last?64:0)+(r.mode===c?128:0)+(20===r.mode||15===r.mode?256:0),(0===k&&0===_||4===t)&&0===P&&(P=-5),P)},t.inflateEnd=function(e){if(!e||!e.state)return l;var t=e.state;return t.window&&(t.window=null),e.state=null,0},t.inflateGetHeader=function(e,t){var r;return e&&e.state?0==(2&(r=e.state).wrap)?l:(r.head=t,t.done=!1,0):l},t.inflateSetDictionary=function(e,t){var r,s=t.length;return e&&e.state?0!==(r=e.state).wrap&&11!==r.mode?l:11===r.mode&&i(1,t,s,0)!==r.check?-3:A(e,t,s,s)?(r.mode=31,-4):(r.havedict=1,0):l},t.inflateInfo="pako inflate (from Nodeca project)"},4639:(e,t,r)=>{"use strict";var s=r(899),i=15,n=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],a=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],o=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],l=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(e,t,r,c,u,h,f,d){var m,p,g,w,y,b,v,A,k,_=d.bits,S=0,E=0,C=0,N=0,B=0,I=0,x=0,T=0,R=0,O=0,P=null,D=0,L=new s.Buf16(16),U=new s.Buf16(16),V=null,H=0;for(S=0;S<=i;S++)L[S]=0;for(E=0;E<c;E++)L[t[r+E]]++;for(B=_,N=i;N>=1&&0===L[N];N--);if(B>N&&(B=N),0===N)return u[h++]=20971520,u[h++]=20971520,d.bits=1,0;for(C=1;C<N&&0===L[C];C++);for(B<C&&(B=C),T=1,S=1;S<=i;S++)if(T<<=1,(T-=L[S])<0)return-1;if(T>0&&(0===e||1!==N))return-1;for(U[1]=0,S=1;S<i;S++)U[S+1]=U[S]+L[S];for(E=0;E<c;E++)0!==t[r+E]&&(f[U[t[r+E]]++]=E);if(0===e?(P=V=f,b=19):1===e?(P=n,D-=257,V=a,H-=257,b=256):(P=o,V=l,b=-1),O=0,E=0,S=C,y=h,I=B,x=0,g=-1,w=(R=1<<B)-1,1===e&&R>852||2===e&&R>592)return 1;for(;;){v=S-x,f[E]<b?(A=0,k=f[E]):f[E]>b?(A=V[H+f[E]],k=P[D+f[E]]):(A=96,k=0),m=1<<S-x,C=p=1<<I;do{u[y+(O>>x)+(p-=m)]=v<<24|A<<16|k|0}while(0!==p);for(m=1<<S-1;O&m;)m>>=1;if(0!==m?(O&=m-1,O+=m):O=0,E++,0==--L[S]){if(S===N)break;S=t[r+f[E]]}if(S>B&&(O&w)!==g){for(0===x&&(x=B),y+=C,T=1<<(I=S-x);I+x<N&&!((T-=L[I+x])<=0);)I++,T<<=1;if(R+=1<<I,1===e&&R>852||2===e&&R>592)return 1;u[g=O&w]=B<<24|I<<16|y-h|0}}return 0!==O&&(u[y+O]=S-x<<24|64<<16|0),d.bits=B,0}},8587:e=>{"use strict";e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},6329:(e,t,r)=>{"use strict";var s=r(899);function i(e){for(var t=e.length;--t>=0;)e[t]=0}var n=256,a=286,o=30,l=15,c=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],u=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],h=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],f=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],d=new Array(576);i(d);var m=new Array(60);i(m);var p=new Array(512);i(p);var g=new Array(256);i(g);var w=new Array(29);i(w);var y,b,v,A=new Array(o);function k(e,t,r,s,i){this.static_tree=e,this.extra_bits=t,this.extra_base=r,this.elems=s,this.max_length=i,this.has_stree=e&&e.length}function _(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function S(e){return e<256?p[e]:p[256+(e>>>7)]}function E(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function C(e,t,r){e.bi_valid>16-r?(e.bi_buf|=t<<e.bi_valid&65535,E(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=r-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=r)}function N(e,t,r){C(e,r[2*t],r[2*t+1])}function B(e,t){var r=0;do{r|=1&e,e>>>=1,r<<=1}while(--t>0);return r>>>1}function I(e,t,r){var s,i,n=new Array(16),a=0;for(s=1;s<=l;s++)n[s]=a=a+r[s-1]<<1;for(i=0;i<=t;i++){var o=e[2*i+1];0!==o&&(e[2*i]=B(n[o]++,o))}}function x(e){var t;for(t=0;t<a;t++)e.dyn_ltree[2*t]=0;for(t=0;t<o;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function T(e){e.bi_valid>8?E(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function R(e,t,r,s){var i=2*t,n=2*r;return e[i]<e[n]||e[i]===e[n]&&s[t]<=s[r]}function O(e,t,r){for(var s=e.heap[r],i=r<<1;i<=e.heap_len&&(i<e.heap_len&&R(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!R(t,s,e.heap[i],e.depth));)e.heap[r]=e.heap[i],r=i,i<<=1;e.heap[r]=s}function P(e,t,r){var s,i,a,o,l=0;if(0!==e.last_lit)do{s=e.pending_buf[e.d_buf+2*l]<<8|e.pending_buf[e.d_buf+2*l+1],i=e.pending_buf[e.l_buf+l],l++,0===s?N(e,i,t):(N(e,(a=g[i])+n+1,t),0!==(o=c[a])&&C(e,i-=w[a],o),N(e,a=S(--s),r),0!==(o=u[a])&&C(e,s-=A[a],o))}while(l<e.last_lit);N(e,256,t)}function D(e,t){var r,s,i,n=t.dyn_tree,a=t.stat_desc.static_tree,o=t.stat_desc.has_stree,c=t.stat_desc.elems,u=-1;for(e.heap_len=0,e.heap_max=573,r=0;r<c;r++)0!==n[2*r]?(e.heap[++e.heap_len]=u=r,e.depth[r]=0):n[2*r+1]=0;for(;e.heap_len<2;)n[2*(i=e.heap[++e.heap_len]=u<2?++u:0)]=1,e.depth[i]=0,e.opt_len--,o&&(e.static_len-=a[2*i+1]);for(t.max_code=u,r=e.heap_len>>1;r>=1;r--)O(e,n,r);i=c;do{r=e.heap[1],e.heap[1]=e.heap[e.heap_len--],O(e,n,1),s=e.heap[1],e.heap[--e.heap_max]=r,e.heap[--e.heap_max]=s,n[2*i]=n[2*r]+n[2*s],e.depth[i]=(e.depth[r]>=e.depth[s]?e.depth[r]:e.depth[s])+1,n[2*r+1]=n[2*s+1]=i,e.heap[1]=i++,O(e,n,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],function(e,t){var r,s,i,n,a,o,c=t.dyn_tree,u=t.max_code,h=t.stat_desc.static_tree,f=t.stat_desc.has_stree,d=t.stat_desc.extra_bits,m=t.stat_desc.extra_base,p=t.stat_desc.max_length,g=0;for(n=0;n<=l;n++)e.bl_count[n]=0;for(c[2*e.heap[e.heap_max]+1]=0,r=e.heap_max+1;r<573;r++)(n=c[2*c[2*(s=e.heap[r])+1]+1]+1)>p&&(n=p,g++),c[2*s+1]=n,s>u||(e.bl_count[n]++,a=0,s>=m&&(a=d[s-m]),o=c[2*s],e.opt_len+=o*(n+a),f&&(e.static_len+=o*(h[2*s+1]+a)));if(0!==g){do{for(n=p-1;0===e.bl_count[n];)n--;e.bl_count[n]--,e.bl_count[n+1]+=2,e.bl_count[p]--,g-=2}while(g>0);for(n=p;0!==n;n--)for(s=e.bl_count[n];0!==s;)(i=e.heap[--r])>u||(c[2*i+1]!==n&&(e.opt_len+=(n-c[2*i+1])*c[2*i],c[2*i+1]=n),s--)}}(e,t),I(n,u,e.bl_count)}function L(e,t,r){var s,i,n=-1,a=t[1],o=0,l=7,c=4;for(0===a&&(l=138,c=3),t[2*(r+1)+1]=65535,s=0;s<=r;s++)i=a,a=t[2*(s+1)+1],++o<l&&i===a||(o<c?e.bl_tree[2*i]+=o:0!==i?(i!==n&&e.bl_tree[2*i]++,e.bl_tree[32]++):o<=10?e.bl_tree[34]++:e.bl_tree[36]++,o=0,n=i,0===a?(l=138,c=3):i===a?(l=6,c=3):(l=7,c=4))}function U(e,t,r){var s,i,n=-1,a=t[1],o=0,l=7,c=4;for(0===a&&(l=138,c=3),s=0;s<=r;s++)if(i=a,a=t[2*(s+1)+1],!(++o<l&&i===a)){if(o<c)do{N(e,i,e.bl_tree)}while(0!=--o);else 0!==i?(i!==n&&(N(e,i,e.bl_tree),o--),N(e,16,e.bl_tree),C(e,o-3,2)):o<=10?(N(e,17,e.bl_tree),C(e,o-3,3)):(N(e,18,e.bl_tree),C(e,o-11,7));o=0,n=i,0===a?(l=138,c=3):i===a?(l=6,c=3):(l=7,c=4)}}i(A);var V=!1;function H(e,t,r,i){C(e,0+(i?1:0),3),function(e,t,r,i){T(e),i&&(E(e,r),E(e,~r)),s.arraySet(e.pending_buf,e.window,t,r,e.pending),e.pending+=r}(e,t,r,!0)}t._tr_init=function(e){V||(!function(){var e,t,r,s,i,n=new Array(16);for(r=0,s=0;s<28;s++)for(w[s]=r,e=0;e<1<<c[s];e++)g[r++]=s;for(g[r-1]=s,i=0,s=0;s<16;s++)for(A[s]=i,e=0;e<1<<u[s];e++)p[i++]=s;for(i>>=7;s<o;s++)for(A[s]=i<<7,e=0;e<1<<u[s]-7;e++)p[256+i++]=s;for(t=0;t<=l;t++)n[t]=0;for(e=0;e<=143;)d[2*e+1]=8,e++,n[8]++;for(;e<=255;)d[2*e+1]=9,e++,n[9]++;for(;e<=279;)d[2*e+1]=7,e++,n[7]++;for(;e<=287;)d[2*e+1]=8,e++,n[8]++;for(I(d,287,n),e=0;e<o;e++)m[2*e+1]=5,m[2*e]=B(e,5);y=new k(d,c,257,a,l),b=new k(m,u,0,o,l),v=new k(new Array(0),h,0,19,7)}(),V=!0),e.l_desc=new _(e.dyn_ltree,y),e.d_desc=new _(e.dyn_dtree,b),e.bl_desc=new _(e.bl_tree,v),e.bi_buf=0,e.bi_valid=0,x(e)},t._tr_stored_block=H,t._tr_flush_block=function(e,t,r,s){var i,a,o=0;e.level>0?(2===e.strm.data_type&&(e.strm.data_type=function(e){var t,r=4093624447;for(t=0;t<=31;t++,r>>>=1)if(1&r&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<n;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0}(e)),D(e,e.l_desc),D(e,e.d_desc),o=function(e){var t;for(L(e,e.dyn_ltree,e.l_desc.max_code),L(e,e.dyn_dtree,e.d_desc.max_code),D(e,e.bl_desc),t=18;t>=3&&0===e.bl_tree[2*f[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),i=e.opt_len+3+7>>>3,(a=e.static_len+3+7>>>3)<=i&&(i=a)):i=a=r+5,r+4<=i&&-1!==t?H(e,t,r,s):4===e.strategy||a===i?(C(e,2+(s?1:0),3),P(e,d,m)):(C(e,4+(s?1:0),3),function(e,t,r,s){var i;for(C(e,t-257,5),C(e,r-1,5),C(e,s-4,4),i=0;i<s;i++)C(e,e.bl_tree[2*f[i]+1],3);U(e,e.dyn_ltree,t-1),U(e,e.dyn_dtree,r-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,o+1),P(e,e.dyn_ltree,e.dyn_dtree)),x(e),s&&T(e)},t._tr_tally=function(e,t,r){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&r,e.last_lit++,0===t?e.dyn_ltree[2*r]++:(e.matches++,t--,e.dyn_ltree[2*(g[r]+n+1)]++,e.dyn_dtree[2*S(t)]++),e.last_lit===e.lit_bufsize-1},t._tr_align=function(e){C(e,2,3),N(e,256,d),function(e){16===e.bi_valid?(E(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)}},4861:e=>{"use strict";e.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},7529:e=>{e.exports=function(){for(var e={},r=0;r<arguments.length;r++){var s=arguments[r];for(var i in s)t.call(s,i)&&(e[i]=s[i])}return e};var t=Object.prototype.hasOwnProperty},9997:(e,t,r)=>{"use strict";r.r(t),r.d(t,{CollectionLoader:()=>gb,WorkerLoader:()=>wb});const s=(e,t)=>t.some((t=>e instanceof t));let i,n;const a=new WeakMap,o=new WeakMap,l=new WeakMap,c=new WeakMap,u=new WeakMap;let h={get(e,t,r){if(e instanceof IDBTransaction){if("done"===t)return o.get(e);if("objectStoreNames"===t)return e.objectStoreNames||l.get(e);if("store"===t)return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return p(e[t])},set:(e,t,r)=>(e[t]=r,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function f(e){h=e(h)}function d(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(n||(n=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(...t){return e.apply(g(this),t),p(a.get(this))}:function(...t){return p(e.apply(g(this),t))}:function(t,...r){const s=e.call(g(this),t,...r);return l.set(s,t.sort?t.sort():[t]),p(s)}}function m(e){return"function"==typeof e?d(e):(e instanceof IDBTransaction&&function(e){if(o.has(e))return;const t=new Promise(((t,r)=>{const s=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",n),e.removeEventListener("abort",n)},i=()=>{t(),s()},n=()=>{r(e.error||new DOMException("AbortError","AbortError")),s()};e.addEventListener("complete",i),e.addEventListener("error",n),e.addEventListener("abort",n)}));o.set(e,t)}(e),s(e,i||(i=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,h):e)}function p(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,r)=>{const s=()=>{e.removeEventListener("success",i),e.removeEventListener("error",n)},i=()=>{t(p(e.result)),s()},n=()=>{r(e.error),s()};e.addEventListener("success",i),e.addEventListener("error",n)}));return t.then((t=>{t instanceof IDBCursor&&a.set(t,e)})).catch((()=>{})),u.set(t,e),t}(e);if(c.has(e))return c.get(e);const t=m(e);return t!==e&&(c.set(e,t),u.set(t,e)),t}const g=e=>u.get(e);function w(e,t,{blocked:r,upgrade:s,blocking:i,terminated:n}={}){const a=indexedDB.open(e,t),o=p(a);return s&&a.addEventListener("upgradeneeded",(e=>{s(p(a.result),e.oldVersion,e.newVersion,p(a.transaction))})),r&&a.addEventListener("blocked",(()=>r())),o.then((e=>{n&&e.addEventListener("close",(()=>n())),i&&e.addEventListener("versionchange",(()=>i()))})).catch((()=>{})),o}function y(e,{blocked:t}={}){const r=indexedDB.deleteDatabase(e);return t&&r.addEventListener("blocked",(()=>t())),p(r).then((()=>{}))}const b=["get","getKey","getAll","getAllKeys","count"],v=["put","add","delete","clear"],A=new Map;function k(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!=typeof t)return;if(A.get(t))return A.get(t);const r=t.replace(/FromIndex$/,""),s=t!==r,i=v.includes(r);if(!(r in(s?IDBIndex:IDBObjectStore).prototype)||!i&&!b.includes(r))return;const n=async function(e,...t){const n=this.transaction(e,i?"readwrite":"readonly");let a=n.store;return s&&(a=a.index(t.shift())),(await Promise.all([a[r](...t),i&&n.done]))[0]};return A.set(t,n),n}f((e=>({...e,get:(t,r,s)=>k(t,r)||e.get(t,r,s),has:(t,r)=>!!k(t,r)||e.has(t,r)})));const _=["continue","continuePrimaryKey","advance"],S={},E=new WeakMap,C=new WeakMap,N={get(e,t){if(!_.includes(t))return e[t];let r=S[t];return r||(r=S[t]=function(...e){E.set(this,C.get(this)[t](...e))}),r}};async function*B(...e){let t=this;if(t instanceof IDBCursor||(t=await t.openCursor(...e)),!t)return;t=t;const r=new Proxy(t,N);for(C.set(r,t),u.set(r,g(t));t;)yield r,t=await(E.get(r)||t.continue()),E.delete(r)}function I(e,t){return t===Symbol.asyncIterator&&s(e,[IDBIndex,IDBObjectStore,IDBCursor])||"iterate"===t&&s(e,[IDBIndex,IDBObjectStore])}f((e=>({...e,get:(t,r,s)=>I(t,r)?B:e.get(t,r,s),has:(t,r)=>I(t,r)||e.has(t,r)})));var x=r(1106),T=r(9991),R=r.n(T),O=r(3942);const P=1024,D=/\[\d]+/,L=[{match:/\/\/.*(?:gcs-vimeo|vod|vod-progressive)\.akamaized\.net.*?\/([\d/]+\.mp4)/,fuzzyCanonReplace:"//vimeo-cdn.fuzzy.replayweb.page/$1",split:".net"},{match:/\/\/.*player.vimeo.com\/(video\/[\d]+)\?.*/i,fuzzyCanonReplace:"//vimeo.fuzzy.replayweb.page/$1"},{match:/www.\washingtonpost\.com\/wp-apps\/imrs.php/,args:[["src"]]},{match:/(static.wixstatic.com\/.*\.[\w]+\/v1\/fill\/)(w_.*)/,replace:"$1?_args=$2",split:"/v1/fill"},{match:/(twimg.com\/profile_images\/[^/]+\/[^_]+)_([\w]+\.[\w]+)/,replace:"$1=_args=$2",split:"_",splitLast:!0},{match:/^https?:\/\/(?:www\.)?(youtube\.com\/embed\/[^?]+)[?].*/i,replace:"$1"},{match:/\/\/(?:www\.)?youtube(?:-nocookie)?\.com\/(get_video_info)/i,fuzzyCanonReplace:"//youtube.fuzzy.replayweb.page/$1",args:[["video_id"]]},{match:/\/\/(?:www\.)?youtube(?:-nocookie)?\.com\/(youtubei\/v1\/[^?]+\?).*(videoId[^&]+).*/i,fuzzyCanonReplace:"//youtube.fuzzy.replayweb.page/$1$2",args:[["videoId"]]},{match:/\/\/.*googlevideo.com\/(videoplayback)/i,fuzzyCanonReplace:"//youtube.fuzzy.replayweb.page/$1",args:[["id","itag"],["id"]],fuzzyArgs:!0},{match:/facebook\.com\/ajax\/pagelet\/generic.php\/photoviewerinitpagelet/i,args:[[{arg:"data",keys:["query_type","fbid","v","cursor","data"]}]]},{match:/(twitter.com\/[^/]+\/status\/[^?]+)(\?.*)/,fuzzyCanonReplace:"$1"},{match:/facebook\.com\/ajax\//i,fuzzySet:!0},{match:(U=["(callback=jsonp)[^&]+(?=&|$)","((?:\\w+)=jquery)[\\d]+_[\\d]+","utm_[^=]+=[^&]+(?=&|$)","(_|cb|_ga|\\w*cache\\w*)=[\\d.-]+(?=$|&)"],new RegExp("[?&]"+U.map((e=>"("+e+")")).join("|"),"gi")),replace:""},{match:/(\.(?:js|webm|mp4|gif|jpg|png|css|json|m3u8))\?.*/i,replace:"$1"}];var U;const V=new class{constructor(e){this.rules=e||L}getRuleFor(e){let t;const r=-1===e.indexOf("?")?e+"?":e;for(const e of this.rules)if(r.match(e.match)){t=e;break}let s=e;t&&t.fuzzyCanonReplace&&(s=e.replace(t.match,t.fuzzyCanonReplace));const i=t&&t.split||"?",n=t&&t.splitLast?e.lastIndexOf(i):e.indexOf(i);return{prefix:n>0?e.slice(0,n+i.length):e,rule:t,fuzzyCanonUrl:s}}getFuzzyCanonsWithArgs(e){let{fuzzyCanonUrl:t,prefix:r,rule:s}=this.getRuleFor(e);t===e&&(t=r);const i=[];if(s&&s.args){const r=new URL(t),n=new URL(e);for(const e of s.args){const t=new URLSearchParams;for(const r of e)t.set(r,n.searchParams.get(r)||"");r.search=t.toString(),i.push(r.href)}return i}return[t]}fuzzyCompareUrls(e,t,r){if(!t||!t.length)return null;if(r&&void 0!==r.replace&&void 0!==r.match){const s=r.match,i=r.replace,n=e.replace(s,i),a=[];for(const e of t){const t=("string"==typeof e?e:e.url).replace(s,i);if(n===t)return e;e.fuzzyMatchUrl=t,a.push(e)}t=a,e=n}return this.fuzzyBestMatchQuery(e,t,r)}fuzzyBestMatchQuery(e,t,r){try{e=new URL(e)}catch(e){return 0}const s=r&&r.args&&!r.fuzzyArgs?new Set(r.args[0]):null;let i=0,n=null;const a=new URLSearchParams(e.search);for(const e of t){if(204===e.status||304===e.status)continue;let t="string"==typeof e?e:e.fuzzyMatchUrl||e.url;try{t=new URL(t)}catch(e){continue}const o=new URLSearchParams(t.search);let l=this.getMatch(a,o,s,r&&r.fuzzySet);l+=this.getMatch(o,a,s),l/=2,e.status>200&&(l*=10**(3e-4*(200-e.status))),l>i&&(i=l,n=e)}return n}getMatch(e,t,r=null,s=!1){let i=1,n=1;const a={};for(let[o,l]of e){let e,c=t.get(o);if(r&&r.has(o)&&c!==l)return-1e3;e="_"===o[0]?.1:10,null!==c&&(i+=.5*e,c.length>P&&(c=c.slice(0,P))),l&&l.length>P&&(l=l.slice(0,P));const u=Number(l),h=Number(c);if(n+=e,s&&this.addSetMatch(a,o,l,c),c===l)i+=e*l.length;else if(null===c||null===l)i+=0;else if(isNaN(u)||isNaN(h))if(l.startsWith("{")&&c.startsWith("{"))try{const t=(0,O.Yo)(l),r=(0,O.Yo)(c);i+=this.getMatch(t,r)*e*2}catch(t){i+=.5*e*this.levScore(l,c)}else s||(i+=e*this.levScore(l,c));else i+=10-Math.log(Math.abs(u-h)+1)}return i/n+(s?this.paramSetMatch(a,100):0)}addSetMatch(e,t,r,s){if(!r||!s||"/"!==r[0]||"/"!==s[0])return;const i=t.split(D);if(i.length<=1)return;const n=r.indexOf("?"),a=s.indexOf("?"),o=i[0],l=n>0?r.slice(0,n):r,c=a>0?s.slice(0,a):s;e[o]||(e[o]={value:[],found:new Set}),e[o].value.push(l),e[o].found.add(c)}paramSetMatch(e,t){let r=0;for(const s of Object.values(e)){let e=t;for(const t of s.value)s.found.has(t)&&(r+=e),e*=.33}return r}levScore(e,t){const r=Math.min(e.length,t.length),s=R()(e,t);return s<r?r-s:0}};var H=r(4472);const M=new Date("9999-01-01").getTime(),F="warc/revisit";class W{constructor(e,t={}){this.name=e,this.db=null;const{minDedupSize:r,noRefCounts:s}=t;this.minDedupSize=Number.isInteger(r)?r:1024,this.version=3,this.autoHttpsCheck=!0,this.useRefCounts=!s,this.allowRepeats=!0,this.repeatTracker=this.allowRepeats?new j:null,this.fuzzyPrefixSearch=!0,this.initing=this.init()}async init(){let e=0;this.db=await w(this.name,this.version,{upgrade:(t,r,s,i)=>{e=r,this._initDB(t,r,s,i)},blocking:e=>{e&&null!==e.newVersion||this.close()}}),1===e&&await this.convertCuratedPagesToV2(this.db)}_initDB(e,t){if(!t){const t=e.createObjectStore("pages",{keyPath:"id"});t.createIndex("url","url"),t.createIndex("ts","ts"),t.createIndex("state","state"),e.createObjectStore("pageLists",{keyPath:"id",autoIncrement:!0});e.createObjectStore("curatedPages",{keyPath:"id",autoIncrement:!0}).createIndex("listPages",["list","pos"]);const r=e.createObjectStore("resources",{keyPath:["url","ts"]});r.createIndex("pageId","pageId"),r.createIndex("mimeStatusUrl",["mime","status","url"]),e.createObjectStore("payload",{keyPath:"digest",unique:!0}),e.createObjectStore("digestRef",{keyPath:"digest",unique:!0})}}async clearAll(){const e=["pages","resources","payload","digestRef"];for(const t of e)await this.db.clear(t)}close(){this.db&&(this.db.close(),this.db=null)}async delete(){this.close(),await y(this.name,{blocked(e){console.log("Unable to delete: "+e)}})}async addPage(e,t){const r=e.url,s=e.title||e.url,i=e.id||this.newPageId(),n=e.state||x.gF;let a=e.ts;if("number"!=typeof a)if(e.timestamp)a=(0,x.wC)(e.timestamp).getTime();else{const t=e.ts||e.date||e.datetime;t&&(a=new Date(t).getTime())}const o={...e,url:r,ts:a,title:s,id:i,state:n};return t?(t.store.put(o),o.id):await this.db.put("pages",o)}async addPages(e,t="pages",r=!1){const s=this.db.transaction(t,"readwrite");for(const t of e)r?s.store.put(t):this.addPage(t,s);try{await s.done}catch(e){console.warn("addPages tx",e.toString())}}async createPageList(e){const t={};return t.title=e.title,t.desc=e.desc||e.description,t.slug=e.id||e.slug,await this.db.put("pageLists",t)}async addCuratedPageList(e,t){const r=await this.createPageList(e);let s=0;for(const e of t)e.pos=s++,e.list=r;await this.addPages(t,"curatedPages")}async addCuratedPageLists(e,t="pages",r="public"){for(const s of e){if(r&&!s[r])continue;const e=s[t]||[];await this.addCuratedPageList(s,e)}}async convertCuratedPagesToV2(e){const t=await e.getAll("curatedPages");if(!t||!t.length)return;const r=await e.getAll("pages"),s=new Map;for(const e of r)s.set(e.id,e);for(const e of t)if(e.page){const t=s.get(e.page);t&&(e.id=this.newPageId(),e.url=t.url,e.ts=t.ts,!e.title&&t.title&&(e.title=t.title)),delete e.page}await e.clear("curatedPages");const i=e.transaction("curatedPages","readwrite");for(const e of t)i.store.put(e);try{await i.done}catch(e){console.warn("Conversion Failed",e)}}async getCuratedPagesByList(){const e=await this.db.getAll("pageLists"),t=this.db.transaction("curatedPages","readonly");for await(const r of t.store.index("listPages").iterate()){const t=e[r.value.list-1];t&&(t.show=!0,t.pages||(t.pages=[]),t.pages.push(r.value))}return e}newPageId(){return(0,x.kb)()}async getAllPages(){return await this.db.getAll("pages")}async getPages(e){const t=[];e.sort();for await(const r of this.matchAny("pages",null,e))t.push(r);return t}async getPagesWithState(e){return await this.db.getAllFromIndex("pages","state",e)}async getVerifyInfo(){return{}}async dedupResource(e,t,r,s=1){const i=r.objectStore("digestRef"),n=await i.get(e);if(n)return++n.count,n;if(t)try{r.objectStore("payload").put({digest:e,payload:t});return{digest:e,count:s,size:t.length}}catch(e){console.log(e)}return null}async addResources(e){const t=[],r=[],s={},i=new Set,n=this.db.transaction(["digestRef","payload"],"readwrite");for(const a of e){let e=1;const o=a.mime===F?t:r;o.push(a);const l=this.getFuzzyUrl(a);l&&(o.push(l),e=2),this.useRefCounts&&a.digest&&(s[a.digest]?(s[a.digest].count+=e,i.add(a.digest)):s[a.digest]=await this.dedupResource(a.digest,a.payload,n,e),delete a.payload)}if(this.useRefCounts){const e=n.objectStore("digestRef");for(const t of i)e.put(s[t])}try{await n.done}catch(e){console.error("Payload and Ref Count Bulk Add Failed: ",e)}const a=this.db.transaction("resources","readwrite");for(const e of t)a.store.put(e);for(const e of r)Number.isNaN(e.ts)||a.store.put(e);try{await a.done}catch(e){console.error("Resources Bulk Add Failed",e)}}getFuzzyUrl(e){if(e.status>=200&&e.status<400&&304!==e.status&&204!==e.status){const{fuzzyCanonUrl:t}=V.getRuleFor(e.url);if(!t||t===e.url)return null;return{url:t,ts:e.ts,origURL:e.url,origTS:e.ts,pageId:e.pageId,digest:e.digest}}return null}async addResource(e){e.payload&&e.payload.length>this.minDedupSize&&(e.digest||(e.digest=await(0,x.x5)(e.payload,"sha-256")));let t=null,r=!1;const s=this.db.transaction(["resources","digestRef","payload"],"readwrite");if(e.payload&&e.payload.length>this.minDedupSize?(t=await this.dedupResource(e.digest,e.payload,s),r=t&&1===t.count,delete e.payload):e.payload&&(r=!0),e.mime!==F){s.objectStore("resources").put(e);const r=this.getFuzzyUrl(e);r&&(s.objectStore("resources").put(r),t&&t.count++)}else s.objectStore("resources").add(e);t&&s.objectStore("digestRef").put(t);try{await s.done}catch(t){e.mime===F?console.log("Skip Duplicate revisit for: "+e.url):console.log("Add Error for "+e.url),console.log(t)}return r}async getResource(e,t,r,s={}){const i=(0,x.wC)(e.timestamp).getTime();let n=e.url,a=null;const o=this.repeatTracker?this.repeatTracker.getSkipCount(r,n,e.request.method):0,l={...s,skip:o};if(n.startsWith("//")){let t=!1;a=await this.lookupUrl("https:"+n,i,l),a||(a=await this.lookupUrl("http:"+n,i,l),(a||e.request.referrer.indexOf("/http://",2)>0)&&(t=!0)),n=(t?"http:":"https:")+n}else if(a=await this.lookupUrl(n,i,l),!a&&this.autoHttpsCheck&&n.startsWith("http://")){const e=n.replace("http://","https://");a=await this.lookupUrl(e,i,l),a&&(n=e)}if(a||!this.fuzzyPrefixSearch||s.noFuzzyCheck||(a=await this.lookupQueryPrefix(n,s)),a&&a.origURL){const e=await this.lookupUrl(a.origURL,a.origTS||a.ts,s);e&&(n=e.url,a=e)}if(!a)return null;const c=a.status,u=a.statusText||(0,x.li)(c);let h=null;if(!(0,x.jI)()&&(h=await this.loadPayload(a,s),!h))return null;const f=(0,x.kP)(a.respHeaders),d=new Date(a.ts),m=a.extraOpts||null;return n=a.url,new H.g({url:n,payload:h,status:c,statusText:u,headers:f,date:d,extraOpts:m})}async loadPayload(e){if(e.digest&&!e.payload){if("sha256:e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855"===e.digest||"sha1:3I42H3S6NNFQ2MSVX7XZKYAYSCX5QBYJ"===e.digest)return new Uint8Array([]);const t=await this.db.get("payload",e.digest);if(!t)return null;const{payload:r}=t;return r}return e.payload}async lookupUrl(e,t,r={}){const s=this.db.transaction("resources","readonly");if(t){const i=IDBKeyRange.bound([e,t],[e,M]);if(r.noRevisits||r.pageId){let e=await s.store.getAll(i,16);e=e||[];for(const t of e)if(!(r.pageId&&t.pageId&&t.pageId!==r.pageId||r.noRevisits&&t.mime===F))return t}else{const e=await s.store.get(i);if(e)return e}}const i=IDBKeyRange.bound([e],[e,t||M]);for await(const e of s.store.iterate(i,"prev")){const t=e.value;if((!r.pageId||!t.pageId||t.pageId===r.pageId)&&(!r.noRevisits||t.mime!==F))return t}return null}async lookupQueryPrefix(e,t){const{rule:r,prefix:s,fuzzyCanonUrl:i}=V.getRuleFor(e);if(i!==e){const e=await this.lookupUrl(i,0,t);if(e)return e}if(!r&&s===e&&s===i&&!e.endsWith("?"))return null;const n=await this.db.getAll("resources",this.getLookupRange(s,"prefix"),128e3);return V.fuzzyCompareUrls(e,n,r)}resJson(e){const t=new Date(e.ts).toISOString();return{url:e.url,date:t,ts:(0,x.E4)(t),mime:e.mime,status:e.status}}async resourcesByPage(e){return this.db.getAllFromIndex("resources","pageId",e)}async*resourcesByPages2(e){e.sort(),yield*this.matchAny("resources","pageId",e)}async*resourcesByPages(e){const t=this.db.transaction("resources","readonly");for await(const r of t.store.iterate())e.includes(r.value.pageId)&&(yield r.value)}async*matchAny(e,t,r,s,i=!1){const n=this.db.transaction(e,"readonly"),a=IDBKeyRange.lowerBound(r[0],i);let o=t?await n.store.index(t).openCursor(a):await n.store.openCursor(a),l=0;for(;o&&l<r.length;){let e,t,i;void 0!==s?(e=o.key[s],t=r[l][s],i=e.startsWith(t)):(e=o.key,t=r[l],i=e===t),!i&&e>t?++l:i?(yield o.value,o=await o.continue()):o=await o.continue(r[l])}}async resourcesByUrlAndMime(e,t,r=1e3,s=!0,i="",n=""){const a=t?null:r,o=await this.db.getAll("resources",this.getLookupRange(e,s?"prefix":"exact",i,n),a);t=t.split(",");const l=[];for(const e of o)for(const s of t)if(!s||e.mime&&e.mime.startsWith(s)){if(l.push(this.resJson(e)),l.length===r)return l;break}return l}async resourcesByMime(e,t=100,r="",s="",i=0){const n=[];(e=e.split(",")).sort();let a=[];r&&a.push([r,i,s]);for(const t of e)(!r||!t||t>r)&&a.push([t,0,""]);for await(const e of this.matchAny("resources","mimeStatusUrl",a,0,!0))if(n.push(this.resJson(e)),n.length===t)break;return n}async deletePage(e){const t=this.db.transaction("pages","readwrite"),r=await t.store.get(e);await t.store.delete(e);const s=await this.deletePageResources(e);return{pageSize:r&&r.size||0,dedupSize:s}}async deletePageResources(e){const t={},r=this.db.transaction("resources","readwrite");let s=await r.store.index("pageId").openCursor(e),i=0;for(;s;){const e=s.value.digest;e?t[e]=(t[e]||0)+1:s.value.payload&&(i+=s.value.payload.length),r.store.delete(s.primaryKey),s=await s.continue()}await r.done;const n=this.db.transaction(["payload","digestRef"],"readwrite"),a=n.objectStore("digestRef");for(const e of Object.keys(t)){const r=await a.get(e);r&&(r.count-=t[e]),r&&r.count>=1?a.put(r):(i+=r?r.size:0,a.delete(e),n.objectStore("payload").delete(e))}return await n.done,i}prefixUpperBound(e){return e.slice(0,-1)+String.fromCharCode(e.charCodeAt(e.length-1)+1)}getLookupRange(e,t,r,s){let i,n,a;switch(t){case"prefix":i=[e],n=[this.prefixUpperBound(e)];break;case"host":{const t=new URL(e).origin;i=[t+"/"],n=[t+"0"];break}default:i=[e],n=[e,Number.MAX_SAFE_INTEGER]}return r?(i=[r,s||""],a=!0):a=!1,IDBKeyRange.bound(i,n,a,!0)}}class j{constructor(){this.repeats={}}getSkipCount(e,t,r){if("POST"!==r&&!t.endsWith(".m3u8"))return 0;e.replacesClientId&&delete this.repeats[e.replacesClientId];const s=e.resultingClientId||e.clientId;return s?(void 0===this.repeats[s]&&(this.repeats[s]={}),void 0===this.repeats[s][t]?this.repeats[s][t]=0:this.repeats[s][t]++,this.repeats[s][t]):0}}var q=r(2650),z=r.n(q),K=r(2953);const Q=["script","style","header","footer","banner-div","noscript"];class J{constructor(){this.promises=[],this.batch=[],this.count=0}addPage(e){this.promises.push(this.db.addPage(e))}addResource(e){this.batch.length>=1e3&&this.flush(),this.batch.push(e)}flush(){this.batch.length>0&&this.promises.push(this.db.addResources(this.batch)),console.log(`Read ${this.count+=this.batch.length} records`),this.batch=[]}async finishIndexing(){this.flush(),this._finishLoad();try{await Promise.all(this.promises)}catch(e){console.warn(e)}this.promises=[]}_finishLoad(){}}class G extends J{constructor(e,t=null,r=null,s=null){super(),this.reader=e,this.abort=t,this.loadId=r,this.anyPages=!1,this.detectPages=!1,this._lastRecord=null,this.metadata={},this.pageMap={},this.pages=[],this.lists=[],this.source=s}parseWarcInfo(e){if(!e.payload)return;const t=new TextDecoder("utf-8").decode(e.payload);for(const e of t.split("\n"))if(e.startsWith("json-metadata:"))try{const t=JSON.parse(e.slice("json-metadata:".length));if("collection"===t.type&&(this.metadata.desc=t.desc,this.metadata.title=t.title),t.pages&&t.pages.length){this.pages=this.pages.concat(t.pages);for(const e of t.pages)e.ts=(0,x.wC)(e.timestamp).getTime(),this.pageMap[e.ts+"/"+e.url]={page:e};this.anyPages=!0}t.lists&&t.lists.length&&(this.lists=this.lists.concat(t.lists))}catch(e){console.log("Page Add Error",e.toString())}}index(e,t){if("warcinfo"!==e.warcType){if(this._lastRecord)return this._lastRecord.warcTargetURI!=e.warcTargetURI?(this.indexReqResponse(this._lastRecord,null,t),void(this._lastRecord=e)):void("request"===e.warcType&&"response"===this._lastRecord.warcType?(this.indexReqResponse(this._lastRecord,e,t),this._lastRecord=null):"response"===e.warcType&&"request"===this._lastRecord.warcType?(this.indexReqResponse(e,this._lastRecord,t),this._lastRecord=null):(this.indexReqResponse(this._lastRecord,null,t),this._lastRecord=e));this._lastRecord=e}else this.parseWarcInfo(e)}indexDone(e){this._lastRecord&&(this.indexReqResponse(this._lastRecord,null,e),this._lastRecord=null)}shouldIndexMetadataRecord(e){const t=e.warcTargetURI;return!(!t||!t.startsWith("metadata://"))}parseRevisitRecord(e,t){const r=e.warcTargetURI.split("#")[0],s=e.warcDate,i=new Date(s).getTime();let n;if(e.httpHeaders){const s=this.parseResponseHttpHeaders(e,r,t);n=s&&Object.fromEntries(s.headers.entries())}const a=e.warcRefersToTargetURI,o=new Date(e.warcRefersToDate).getTime();if(a===r&&o===i)return null;return{url:r,ts:i,origURL:a,origTS:o,digest:e.warcPayloadDigest,pageId:null,respHeaders:n}}parseResponseHttpHeaders(e,t,r){let s=200,i=null,n="";const a=r&&r.httpHeaders.method;if(e.httpHeaders){if(s=Number(e.httpHeaders.statusCode)||200,"OPTIONS"===a)return null;i=(0,x.kP)(e.httpHeaders.headers),n=(i.get("content-type")||"").split(";")[0];const r=parseInt(i.get("content-length")||0);if(206===s){const e=i.get("content-range"),t=`bytes 0-${r-1}/${r}`;if(e&&e!==t)return null}if(s>300&&s<400){const e=i.get("location");if(e&&new URL(e,t).href===t)return null}}else i=new Headers,i.set("content-type",e.warcContentType),i.set("content-length",e.warcContentLength),n=e.warcContentType;return{status:s,method:a,headers:i,mime:n}}indexReqResponse(e,t){const r=this.parseRecords(e,t);r&&this.addResource(r)}parseRecords(e,t){switch(e.warcType){case"revisit":return this.parseRevisitRecord(e,t);case"resource":t=null;break;case"response":break;case"metadata":if(!this.shouldIndexMetadataRecord(e))return null;break;default:return null}let r=e.warcTargetURI.split("#")[0];const s=e.warcDate,i=this.parseResponseHttpHeaders(e,r,t);if(!i)return null;const{status:n,method:a,headers:o,mime:l}=i;let c,u,h=null,f=null;if(t&&t.httpHeaders.headers){let e=null;try{e=new Headers(t.httpHeaders.headers);const r=e.get("cookie");r&&o.set("x-wabac-preset-cookie",r),h=t.httpHeaders.headers.get("Referer")}catch(t){e=new Headers,console.warn(t)}if(u=Object.fromEntries(e.entries()),"GET"!==a){const s={headers:e,method:a,url:r,postData:t.payload};(0,O.ev)(s)&&(c=r,r=s.url,f=t.payload)}}if(void 0===this.detectPages&&(this.detectPages=!this.anyPages),this.detectPages&&function(e,t,r){if(200!=t)return!1;if(!e.startsWith("http:")&&!e.startsWith("https:")&&!e.startsWith("blob:"))return!1;if(e.endsWith("/robots.txt"))return!1;const s=e.split("?",2);if(2===s.length&&s[1].length>s[0].length)return!1;if(s[0].substring(s[0].lastIndexOf("/")+1).startsWith("."))return!1;if(r&&"text/html"!==r)return!1;return!0}(r,n,l)){const e=r;this.addPage({url:r,date:s,title:e})}const d=new Date(s).getTime(),m=Object.fromEntries(o.entries()),p=e.warcPayloadDigest,g=e.payload,w={url:r,ts:d,status:n,mime:l,respHeaders:m,reqHeaders:u,digest:p,payload:g,reader:g?null:e.reader,referrer:h};this.pageMap[d+"/"+r]&&g&&l.startsWith("text/")&&(this.pageMap[d+"/"+r].textPromise=async function(e,t,r,s){const i=new(z()),n=[];let a=null;i.on("text",(e=>{if(a)return;const t=e.text.trim();t&&n.push(t)})),i.on("startTag",(e=>{!e.selfClosing&&Q.includes(e.tagName)&&(a=e.tagName)})),i.on("endTag",(e=>{e.tagName===a&&(a=null)})),(r||s)&&(t=await(0,K.v)(t,r,s)),i.end((new TextDecoder).decode(t));const o=new Promise((e=>{i.on("end",(()=>{e(n.join(" "))}))}));return await o}(0,g,o.get("content-encoding"),o.get("transfer-encoding")));const y=e.warcHeader("WARC-JSON-Metadata");if(y)try{w.extraOpts=JSON.parse(y)}catch(e){}const b=e.warcHeader("WARC-Page-ID");return b&&(w.pageId=b),this.sourceExtra&&(w.source=this.sourceExtra),"GET"!==a&&c&&null!==f&&(w.requestUrl=c,w.method=a,w.requestBody=f),w}filterRecord(){return null}async load(e,t,r){this.db=e;const s=new O.ci(this.reader);let i=0,n=0,a=0;try{for await(const e of s){if(a++,!e.warcType){console.log("skip empty record");continue}if(self.interruptLoads&&this.loadId&&self.interruptLoads[this.loadId])throw t(Math.round(s.offset/r*95),"Loading Canceled",s.offset,r),self.interruptLoads[this.loadId](),this.abort&&this.abort.abort(),new x.dK;if(n=(new Date).getTime(),n-i>500){const e=`Processed ${a} records`;t(Math.round(s.offset/r*95),null,s.offset,r,null,e),i=n}const o=this.filterRecord(e);if("done"===o){this.abort&&this.abort.abort();break}if("skip"!==o&&("skipContent"===o?await e.skipFully():await e.readFully(),a++,this.index(e,s),this.promises.length>0)){try{await Promise.all(this.promises)}catch(e){console.warn(e.toString())}this.promises=[]}}}catch(e){if(e instanceof x.dK)throw e;t(Math.round(s.offset/r*95),`Sorry there was an error downloading. Please try again (${e})`,s.offset,r),console.warn(e)}return this.indexDone(s),t(95,null,s.offset,r),await this.finishIndexing(),t(100,null,r,r),this.metadata}async _finishLoad(){if(this.pages.length){for(const{page:e,textPromise:t}of Object.values(this.pageMap))if(t)try{e.text=await t}catch(e){console.warn("Error adding text: "+e.toString())}this.promises.push(this.db.addPages(this.pages))}this.lists.length&&this.promises.push(this.db.addCuratedPageLists(this.lists,"bookmarks","public"))}}class Z extends G{constructor(e){super(e),this.detectPages=!1}addPage(){}async load(){const e=await new O.ci(this.reader).parse();if(!e)return null;const t=this.parseRecords(e,null);return t&&"revisit"!==e.warcType||await e.readFully(),t}}const X="https://cdn.jsdelivr.net/npm/ipfs-core@0.11.1/dist/index.min.js";let Y=null;class ${constructor(e=!1){this.ipfs=null,this._initingIPFS=null,this.ipfsGC=null,this.customPreload=e,this.preloadNodes=null}async initIPFS(){if(!this.ipfs)try{this._initingIPFS||(this._initingIPFS=this._doInitIPFS()),await this._initingIPFS}catch(e){console.warn(e)}}async _doInitIPFS(){if(!self.IpfsCore){const e=await fetch(X);new Function(await e.text())()}this.ipfs=await self.IpfsCore.create(this.initOptions),this.resetGC(),this.customPreload&&(this.preloadNodes=this.ipfsCustomPreloadURLs||["https://node0.preload.ipfs.io","https://node1.preload.ipfs.io","https://node2.preload.ipfs.io","https://node3.preload.ipfs.io"])}async restart(){await this.ipfs.stop(),this._initingIPFS=null,this.ipfs=null,await this.initIPFS()}get initOptions(){let e={init:{emptyRepo:!0},preload:{enabled:!this.customPreload}};try{e={...e,...self.ipfsOpts}}catch(e){}return e}async runGC(){let e=0;for await(const t of this.ipfs.repo.gc())e++;console.log(`IPFS GC, Removed ${e} blocks`)}async resetGC(){this.ipfsGC&&clearInterval(this.ipfsGC),this.ipfsGC=setInterval((()=>this.runGC()),6e5)}async getFileSize(e){const t=e.slice(e.lastIndexOf("/")+1);this.customPreload&&await this.cacheDirToPreload(e);for await(const r of this.ipfs.ls(e,{preload:!1}))if(r.name==t&&"file"===r.type)return r.size;return null}async cat(e,t){return this.resetGC(),this.customPreload&&await this.preloadCat(e,t),this.ipfs.cat(e,t)}getPreloadURL(){if(!this.preloadNodes||!this.preloadNodes.length)return null;const e=parseInt(Math.random()*this.preloadNodes.length);return this.preloadNodes[e]}async cacheDirToPreload(e,t=2e4,r=5){for(let s=0;s<r;s++){const r=this.getPreloadURL();if(!r)return;const s=`${r}/api/v0/ls?${new URLSearchParams({arg:e})}`,i=new AbortController,n=i.signal;try{if(await Promise.race([fetch(s,{signal:n,method:"HEAD"}),(0,x._v)(t)]))return!0;i.abort(),await this.restart(),await(0,x._v)(500)}catch(e){console.log("try again"),await(0,x._v)(500)}}return!1}preloadCat(e,t){const r=this.getPreloadURL();if(!r)return;const s=e;let i;const{offset:n,length:a}=t;if(void 0!==n||void 0!==a){i=`${r}/api/v0/cat?${new URLSearchParams({arg:s,offset:n,length:a})}`}else{i=`${r}/api/v0/refs?${new URLSearchParams({arg:s,r:"true"})}`}return fetch(i,{method:"HEAD"})}}async function ee(){return Y||(Y=new $(!!self.ipfsCustomPreload)),await Y.initIPFS(),Y}const te="https://helper-proxy.webrecorder.workers.dev";async function re(e){const{url:t}=e,r=t.split(":",1)[0];switch(r){case"blob":return new ne(e);case"http":case"https":return new se(e);case"file":return new ae(e);case"googledrive":return new ie(e)}try{if(self.location&&r===self.location.protocol.split(":")[0])return new se(e)}catch(e){}try{return await fetch(`${r}://localhost`,{method:"HEAD"}),new se(e)}catch(e){}if("ipfs"===r)return new oe(e);throw new Error("Invalid URL: "+t)}class se{constructor({url:e,headers:t,length:r=null,canLoadOnDemand:s=!1}){this.url=e,this.headers=t||{},this.length=r,this.canLoadOnDemand=s,this.isValid=!1}async doInitialFetch(e){const t=new Headers(this.headers);t.set("Range","bytes=0-"),this.isValid=!1;let r=null,s=null;if(e)try{s=await this.retryFetch(this.url,{headers:t,method:"HEAD",cache:"no-store"}),200!==s.status&&206!=s.status||(this.canLoadOnDemand=206===s.status||"bytes"===s.headers.get("Accept-Ranges"),this.isValid=!0)}catch(e){}if(!this.isValid||!this.canLoadOnDemand){r=new AbortController;const i=r.signal;s=await this.retryFetch(this.url,{headers:t,signal:i,cache:"no-store"}),this.canLoadOnDemand=206===s.status||"bytes"===s.headers.get("Accept-Ranges"),this.isValid=206===s.status||200===s.status,e&&(r.abort(),r=null)}if(null===this.length&&(this.length=Number(s.headers.get("Content-Length")),!this.length&&206===s.status)){let e=s.headers.get("Content-Range");e&&(e=e.split("/"),2===e.length&&(this.length=e[1]))}if(null===this.length)try{const e=await fetch(`${te}/c/${this.url}`),t=await e.json();t.size&&(this.length=t.size)}catch(e){console.log("Error fetching from helper: "+e.toString())}return this.length=Number(this.length||0),{response:s,abort:r}}async getLength(){if(null===this.length){const{abort:e}=await this.doInitialFetch(!0);e&&e.abort()}return this.length}async getRange(e,t,r=!1,s=null){const i=new Headers(this.headers);i.set("Range",`bytes=${e}-${e+t-1}`);const n={signal:s,headers:i,cache:"no-store"};let a=null;try{a=await this.retryFetch(this.url,n)}catch(e){throw console.log(e),new x.Dy(this.url)}if(206!=a.status){const e={url:this.url,status:a.status,resp:a};throw 401===a.status?new x.yb(e):403==a.status?new x.$y(e):new x.Dy(e)}return r?a.body:new Uint8Array(await a.arrayBuffer())}async retryFetch(e,t){let r=null,s=1e3;for(let i=0;i<20&&(r=await fetch(e,t),429===r.status);i++)await(0,x._v)(s),s+=2e3;return r}}class ie{constructor({url:e,headers:t,size:r,extra:s}){this.fileId=e.slice("googledrive://".length),this.apiUrl=`https://www.googleapis.com/drive/v3/files/${this.fileId}?alt=media`,this.canLoadOnDemand=!0,this.headers=t,s&&s.publicUrl?this.publicUrl=s.publicUrl:this.publicUrl=null,this.length=r,this.isValid=!1}async getLength(){return this.length}async doInitialFetch(e){let t=null,r=null;if(this.publicUrl){t=new se({url:this.publicUrl,length:this.length});try{r=await t.doInitialFetch(e)}catch(e){}if(!t.isValid&&(r&&r.abort&&r.abort.abort(),await this.refreshPublicUrl())){t=new se({url:this.publicUrl,length:this.length});try{r=await t.doInitialFetch(e)}catch(e){}!t.isValid&&r&&r.abort&&r.abort.abort()}}return t&&t.isValid||(this.publicUrl=null,t=new se({url:this.apiUrl,headers:this.headers,length:this.length}),r=await t.doInitialFetch(e)),this.isValid=t.isValid,this.length||(this.length=t.length),r}async getRange(e,t,r=!1,s){let i=null;if(this.publicUrl){i=new se({url:this.publicUrl,length:this.length});try{return await i.getRange(e,t,r,s)}catch(n){if(await this.refreshPublicUrl()){i=new se({url:this.publicUrl,length:this.length});try{return await i.getRange(e,t,r,s)}catch(e){}}}this.publicUrl=null}i=new se({url:this.apiUrl,headers:this.headers,length:this.length});let n=50;for(;n<2e3;)try{return await i.getRange(e,t,r,s)}catch(e){if(e instanceof x.$y&&e.info&&e.info.resp&&e.info.resp.headers.get("content-type").startsWith("application/json")){const t=await e.info.resp.json();if(t.error&&t.error.errors&&"userRateLimitExceeded"===t.error.errors[0].reason){console.log(`Exponential backoff, waiting for: ${n}`),await(0,x._v)(n),n*=2;continue}}throw e}}async refreshPublicUrl(){try{const e=await fetch(`${te}/g/${this.fileId}`),t=await e.json();if(t.url)return this.publicUrl=t.url,!0}catch(e){}return!1}}class ne{constructor({url:e,blob:t=null,size:r=null,extra:s=null}){this.url=e,this.blob=t,this.size=this.blob?this.blob.size:r,this.arrayBuffer=s&&s.arrayBuffer||null,this.canLoadOnDemand=!0}get length(){return this.size}get isValid(){return!!this.blob}async getLength(){if(!this.blob||!this.blob.size){let e=await fetch(this.url);this.blob=await e.blob(),this.size=this.blob.size}return this.size}async doInitialFetch(e=!1){if(!this.blob)try{const e=await fetch(this.url);this.blob=await e.blob()}catch(e){throw console.warn(e),e}this.arrayBuffer=this.blob.arrayBuffer?await this.blob.arrayBuffer():await this.getArrayBuffer(),this.arrayBuffer=new Uint8Array(this.arrayBuffer);const t=e?null:this.getReadableStream(this.arrayBuffer);return{response:new Response(t)}}async getRange(e,t,r=!1){this.arrayBuffer||await this.doInitialFetch(!0);const s=this.arrayBuffer.slice(e,e+t);return r?this.getReadableStream(s):s}getArrayBuffer(){return new Promise((e=>{const t=new FileReader;t.onloadend=()=>{e(t.result)},t.readAsArrayBuffer(this.blob)}))}getReadableStream(e){return new ReadableStream({start(t){t.enqueue(e),t.close()}})}}class ae{constructor({blob:e,size:t,extra:r,url:s}){this.url=s,this.file=e,this.size=this.blob?this.blob.size:t,this.fileHandle=r.fileHandle,this.canLoadOnDemand=!0}get length(){return this.size}get isValid(){return!!this.file}async getLength(){return void 0===this.size&&await this.initFileObject(),this.size}async initFileObject(){const e={mode:"read"};if("granted"!==await this.fileHandle.queryPermission(e)){if("granted"!==await this.fileHandle.requestPermission(e))throw new x.yb({fileHandle:this.fileHandle})}this.file=await this.fileHandle.getFile(),this.size=this.file.size}async doInitialFetch(e=!1){this.file||await this.initFileObject();const t=e?null:this.file.stream();return{response:new Response(t)}}async getRange(e,t,r=!1){this.file||await this.initFileObject();const s=this.file.slice(e,e+t);return r?s.stream():new Uint8Array(await s.arrayBuffer())}}class oe{constructor({url:e,headers:t}){this.url=e;let r=e.lastIndexOf("#");r<0&&(r=void 0),this.cid=this.url.slice("ipfs://".length,r),this.headers=t,this.length=null,this.canLoadOnDemand=!0,this.httpFallback=new se({url:"https://ipfs.io/ipfs/"+this.cid})}async getLength(){return null===this.length&&await this.doInitialFetch(!0),this.length}async doInitialFetch(e){const t=await ee();try{this.length=await t.getFileSize(this.cid),this.isValid=null!==this.length}catch(t){console.warn(t);const r=await this.httpFallback.doInitialFetch(e);return this.length=this.httpFallback.length,this.isValid=this.httpFallback.isValid,r}let r=206;this.isValid||(r=404);const s=new AbortController;let i;if(e||!this.isValid)i=new Uint8Array([]);else{const e=await t.cat(this.cid,{signal:s.signal});i=this.getReadableStream(e)}return{response:new Response(i,{status:r}),abort:s}}async getRange(e,t,r=!1,s=null){try{const i=await ee(),n=await i.cat(this.cid,{offset:e,length:t,signal:s});if(r)return this.getReadableStream(n);{const e=[];let t=0;for await(const r of n)e.push(r),t+=r.byteLength;return(0,O.zY)(e,t)}}catch(i){return await this.httpFallback.getRange(e,t,r,s)}}getReadableStream(e){return new ReadableStream({start:async t=>{try{for await(const r of e)t.enqueue(r)}catch(e){console.log(e)}t.close()}})}}class le extends W{constructor(e,t=!1){super(e),this.noCache=t,this.useRefCounts=!t,this.streamMap=new Map}async loadRecordFromSource(e){const t=await this.loadSource(e.source),r=new Z(t);return{remote:await r.load()}}async loadPayload(e,t){let r=await super.loadPayload(e,t);if(r&&e.respHeaders&&("warc/revisit"!==e.mime||e.status>=300&&e.status<400))return r;const s=this.streamMap.get(e.url);if(s)return console.log(`Reuse stream for ${e.url}`),new he(s);const{remote:i,hasher:n}=await this.loadRecordFromSource(e);if(!i)return console.log(`No WARC Record Loaded for: ${e.url}`),null;if(!(i.url===e.url||e.method&&e.url.startsWith(i.url)))return console.log(`Wrong url: expected ${e.url}, got ${i.url}`),null;if(i.ts!==e.ts){if(1e3*Math.floor(i.ts/1e3)!==e.ts)return console.log(`Wrong timestamp: expected ${e.ts}, got ${i.ts}`),null}if(i.digest!==e.digest&&e.digest&&i.digest){const t=i.digest.split(":"),r=e.digest.split(":");2===t.length&&2===r.length&&r[1]===t[1]?e.digest=t[0]+":"+r[1]:console.log(`Wrong digest: expected ${e.digest}, got ${i.digest}`)}if(i.origURL){if(n&&console.log("revisit hash: "+n.getHash()),!r&&e.status>=300&&e.status<400&&i.respHeaders){if(e.respHeaders=i.respHeaders,!this.noCache)try{await this.db.put("resources",e)}catch(e){console.log(e)}return new Uint8Array([])}const s=await this.lookupUrl(i.origURL,i.origTS,{...t,noRevisits:!0});if(!s)return null;const a=t&&t.depth||0;if(!r&&(a<2?r=await this.loadPayload(s,{...t,depth:a+1}):console.warn("Avoiding revisit lookup loop for: "+JSON.stringify(i)),!r))return null;if(e.respHeaders=i.respHeaders?i.respHeaders:s.respHeaders,e.mime=s.mime,s.extraOpts&&(e.extraOpts=s.extraOpts),!this.noCache){delete e.payload;try{await this.db.put("resources",e)}catch(e){console.log(e)}s.digest===i.digest||r[Symbol.asyncIterator]||await this.commitPayload(r,i.digest)}return r}const a=i.digest;if(!this.noCache&&i.reader&&a&&(i.reader=new de(this,i.reader,a,e.url,this.streamMap,n,e.recordDigest,e.source)),r=i.payload,!r&&!i.reader)return null;try{r&&!this.noCache&&await this.commitPayload(r,a)}catch(t){console.warn(`Payload Update Error: ${e.url}`),console.warn(t)}if(!(e.respHeaders&&e.digest||(e.respHeaders=i.respHeaders,e.digest=a,i.extraOpts&&(e.extraOpts=i.extraOpts),this.noCache)))try{await this.db.put("resources",e)}catch(t){console.warn(`Resource Update Error: ${e.url}`),console.warn(t)}return r||i.reader}async commitPayload(e,t){if(!e||0===e.length)return;const r=this.db.transaction(["payload","digestRef"],"readwrite");try{if(r.objectStore("payload").put({payload:e,digest:t}),this.useRefCounts){const s=await r.objectStore("digestRef").get(t);s&&(s.size=e.length,r.objectStore("digestRef").put(s))}await r.done}catch(e){console.warn("Payload Commit Error: "+e)}}}class ce extends le{constructor(e,t,r=!1){super(e,r),this.loader=t}updateHeaders(e){this.loader.headers=e}async loadSource(e){const{start:t,length:r}=e;return await this.loader.getRange(t,r,!0)}}class ue extends le{constructor(e,t,r,s=!1){super(e,s),this.remoteUrlPrefix=t,this.headers=r}updateHeaders(e){this.headers=e}async loadSource(e){const{start:t,length:r}=e,s=(new Headers(this.headers),new URL(e.path,this.remoteUrlPrefix).href),i=await re(s);return await i.getRange(t,r,!0)}}class he extends O.fV{constructor(e){super(),this.chunkstore=e,this.offset=0,this.size=this.chunkstore.totalLength}setLimitSkip(e=-1,t=0){this.offset=t,e>0&&(this.size=e)}setRangeAll(e){this.size=e}getReadableStream(){console.log(`Offset: ${this.offset}, Size: ${this.size}`);const e=this.chunkstore.getChunkIter();return new O.ZI(e,this.size,this.offset).getReadableStream()}}class fe{constructor(e){this.chunks=[],this.size=0,this.done=!1,this.totalLength=e,this.nextChunk=new Promise((e=>this._nextResolve=e))}add(e){this.chunks.push(e),this.size+=e.byteLength,this._nextResolve(!0),this.nextChunk=new Promise((e=>this._nextResolve=e))}concatChunks(){return this._nextResolve(!1),this.done=!0,(0,O.zY)(this.chunks,this.size)}async*getChunkIter(){for(const e of this.chunks)yield e;let e=this.chunks.length;for(;!this.done&&await this.nextChunk;)for(;e<this.chunks.length;e++)yield this.chunks[e]}}class de extends O.fV{constructor(e,t,r,s="",i,n,a,o){super(),this.db=e,this.reader=t,this.digest=r,this.url=s,this.commit=!0,this.fullbuff=null,this.hasher=n,this.expectedHash=a,this.source=o,this.isRange=!1,this.totalLength=-1,this.streamMap=i}setRangeAll(e){this.isRange=!0,this.totalLength=e}setLimitSkip(e=-1,t=0){this.isRange=!0,2!==e||0!==t?((-1!=e||t>0)&&(this.commit=!1),this.reader.setLimitSkip(e,t)):this.fixedSize=2}async*[Symbol.asyncIterator](){let e=null;this.commit&&(e=new fe(this.totalLength),this.isRange&&(console.log(`Store stream for ${this.url}, ${this.totalLength}`),this.streamMap.set(this.url,e)));for await(const t of this.reader)e&&e.add(t),yield t;if(0!==this.reader.limit)console.warn(`Expected payload not consumed, ${this.reader.limit} bytes left`);else{if(!this.isRange&&this.hasher&&this.expectedHash&&this.source){const e=this.hasher.getHash(),{path:t,start:r,length:s}=this.source,i=`${t}:${r}-${s}`;this.db.addVerifyData(i,this.expectedHash,e)}this.commit&&(this.fullbuff=e.concatChunks(),await this.db.commitPayload(this.fullbuff,this.digest))}this.commit&&this.isRange&&(this.streamMap.delete(this.url),console.log(`Delete stream for ${this.url}`))}async _consumeIter(e){for await(const t of e);}async readFully(){return this.fullbuff||await this._consumeIter(this),this.fullbuff}getReadableStream(){const e=super.getReadableStream();if(!this.commit)return e;const t=e.tee();return this._consumeIter(O.UU.fromReadable(t[1].getReader())),this.fixedSize?this.getFixedSizeReader(t[0].getReader(),this.fixedSize):t[0]}getFixedSizeReader(e,t){return new ReadableStream({async start(r){const{value:s,done:i}=await e.read();i||r.enqueue(s.slice(0,t)),r.close(),e.close()}})}}class me extends J{constructor(e){super(),this.har=e,this.pageRefs={}}async load(e){return this.db=e,"string"==typeof this.har&&(this.har=JSON.parse(this.har)),this.parseEntries(this.har),this.parsePages(this.har),await this.finishIndexing(),{}}parsePages(e){for(const t of e.log.pages){if(!t.pageTimings||!t.pageTimings.onLoad)continue;let e;e=t.title&&(t.title.startsWith("http:")||t.title.startsWith("https:"))?t.title:this.pageRefs[t.id];const r=t.title||e,s=t.startedDateTime;this.addPage({url:e,date:s,title:r})}}parseEntries(e){for(const t of e.log.entries){const e=new Date(t.startedDateTime).getTime(),r={};for(const{name:e,value:s}of t.response.headers)r[e]=s;let s=null;const i=new TextEncoder;if(t.response.content&&t.response.content.text)try{s=Uint8Array.from(atob(t.response.content.text),(e=>e.charCodeAt(0)))}catch(e){s=t.response.content.text}else{const e=r["Content-Length"];e&&"0"!==e?(console.log(`Warning: Content-Length ${e} but no content found for ${t.request.url}`),s=i.encode("Sorry, the HAR file did not include the content for this resource.")):s=Uint8Array.from([])}this.addResource({url:t.request.url,ts:e,status:t.response.status,respHeaders:r,payload:s}),t.pageref&&!this.pageRefs[t.pageref]&&(this.pageRefs[t.pageref]=t.request.url)}}}class pe extends G{constructor(e,t,r,s={},i="sha256:"){super(e,t,r),this.cdxindexer=null,this.sourceExtra=s,this.shaPrefix=i}filterRecord(e){switch(e.warcType){case"warcinfo":case"revisit":case"request":return null;case"metadata":return this.shouldIndexMetadataRecord(e)?null:"skip"}const t=e.warcTargetURI,r=new Date(e.warcDate).getTime();if(this.pageMap[r+"/"+t])return e._isPage=!0,null}index(e,t){return e&&(e._offset=t.offset,e._length=t.recordLength),super.index(e,t)}indexReqResponse(e,t,r){if(e._isPage)return super.indexReqResponse(e,t,r);if("warcinfo"===e.warcType)return void this.parseWarcInfo(e);this.cdxindexer||(this.cdxindexer=new O.yN({noSurt:!0},null));const s=this.cdxindexer.indexRecordPair(e,t,r,"");s&&this.addCdx(s)}getSource(e){return{...this.sourceExtra,path:e.filename,start:Number(e.offset),length:Number(e.length)}}addCdx(e){const{url:t,mime:r}=e,s=Number(e.status)||200,i=(0,x.wC)(e.timestamp).getTime(),n=this.getSource(e);let{digest:a,recordDigest:o}=e;a&&-1===a.indexOf(":")&&(a=this.shaPrefix+a);const l={url:t,ts:i,status:s,digest:a,recordDigest:o,mime:r,loaded:!1,source:n};e.method&&(l.method=e.method),e.requestBody&&(l.url=(0,O.CV)(e.url,e.requestBody,e.method)),this.batch.length>=3e3&&this.flush(),this.batch.push(l)}}class ge extends pe{async load(e,t,r){this.db=e;let s=this.reader;s.iterLines||(s=new O.UU(this.reader));let i=0;for await(const e of s.iterLines()){let s,n,a;i+=e.length;let o=e.trimEnd();if(!o.startsWith("{")){const e=o.indexOf(" {");if(e<0)continue;[n,a]=o.split(" ",2),o=o.slice(e)}try{s=JSON.parse(o)}catch(e){console.log("JSON Parser error on: "+o);continue}s.timestamp=a,s.url||(s.url=n,console.warn(`URL missing, using urlkey ${n}`)),t&&this.batch.length>=3e3&&t(Math.round(i/r*100),null,i,r),this.addCdx(s)}await this.finishIndexing(),t&&t(100,null,r,r)}}
/*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT */
function we(e){return null==e}var ye={isNothing:we,isObject:function(e){return"object"==typeof e&&null!==e},toArray:function(e){return Array.isArray(e)?e:we(e)?[]:[e]},repeat:function(e,t){var r,s="";for(r=0;r<t;r+=1)s+=e;return s},isNegativeZero:function(e){return 0===e&&Number.NEGATIVE_INFINITY===1/e},extend:function(e,t){var r,s,i,n;if(t)for(r=0,s=(n=Object.keys(t)).length;r<s;r+=1)e[i=n[r]]=t[i];return e}};function be(e,t){var r="",s=e.reason||"(unknown reason)";return e.mark?(e.mark.name&&(r+='in "'+e.mark.name+'" '),r+="("+(e.mark.line+1)+":"+(e.mark.column+1)+")",!t&&e.mark.snippet&&(r+="\n\n"+e.mark.snippet),s+" "+r):s}function ve(e,t){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=t,this.message=be(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack||""}ve.prototype=Object.create(Error.prototype),ve.prototype.constructor=ve,ve.prototype.toString=function(e){return this.name+": "+be(this,e)};var Ae=ve;function ke(e,t,r,s,i){var n="",a="",o=Math.floor(i/2)-1;return s-t>o&&(t=s-o+(n=" ... ").length),r-s>o&&(r=s+o-(a=" ...").length),{str:n+e.slice(t,r).replace(/\t/g,"")+a,pos:s-t+n.length}}function _e(e,t){return ye.repeat(" ",t-e.length)+e}var Se=function(e,t){if(t=Object.create(t||null),!e.buffer)return null;t.maxLength||(t.maxLength=79),"number"!=typeof t.indent&&(t.indent=1),"number"!=typeof t.linesBefore&&(t.linesBefore=3),"number"!=typeof t.linesAfter&&(t.linesAfter=2);for(var r,s=/\r?\n|\r|\0/g,i=[0],n=[],a=-1;r=s.exec(e.buffer);)n.push(r.index),i.push(r.index+r[0].length),e.position<=r.index&&a<0&&(a=i.length-2);a<0&&(a=i.length-1);var o,l,c="",u=Math.min(e.line+t.linesAfter,n.length).toString().length,h=t.maxLength-(t.indent+u+3);for(o=1;o<=t.linesBefore&&!(a-o<0);o++)l=ke(e.buffer,i[a-o],n[a-o],e.position-(i[a]-i[a-o]),h),c=ye.repeat(" ",t.indent)+_e((e.line-o+1).toString(),u)+" | "+l.str+"\n"+c;for(l=ke(e.buffer,i[a],n[a],e.position,h),c+=ye.repeat(" ",t.indent)+_e((e.line+1).toString(),u)+" | "+l.str+"\n",c+=ye.repeat("-",t.indent+u+3+l.pos)+"^\n",o=1;o<=t.linesAfter&&!(a+o>=n.length);o++)l=ke(e.buffer,i[a+o],n[a+o],e.position-(i[a]-i[a+o]),h),c+=ye.repeat(" ",t.indent)+_e((e.line+o+1).toString(),u)+" | "+l.str+"\n";return c.replace(/\n$/,"")},Ee=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],Ce=["scalar","sequence","mapping"];var Ne=function(e,t){if(t=t||{},Object.keys(t).forEach((function(t){if(-1===Ee.indexOf(t))throw new Ae('Unknown option "'+t+'" is met in definition of "'+e+'" YAML type.')})),this.options=t,this.tag=e,this.kind=t.kind||null,this.resolve=t.resolve||function(){return!0},this.construct=t.construct||function(e){return e},this.instanceOf=t.instanceOf||null,this.predicate=t.predicate||null,this.represent=t.represent||null,this.representName=t.representName||null,this.defaultStyle=t.defaultStyle||null,this.multi=t.multi||!1,this.styleAliases=function(e){var t={};return null!==e&&Object.keys(e).forEach((function(r){e[r].forEach((function(e){t[String(e)]=r}))})),t}(t.styleAliases||null),-1===Ce.indexOf(this.kind))throw new Ae('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')};function Be(e,t){var r=[];return e[t].forEach((function(e){var t=r.length;r.forEach((function(r,s){r.tag===e.tag&&r.kind===e.kind&&r.multi===e.multi&&(t=s)})),r[t]=e})),r}function Ie(e){return this.extend(e)}Ie.prototype.extend=function(e){var t=[],r=[];if(e instanceof Ne)r.push(e);else if(Array.isArray(e))r=r.concat(e);else{if(!e||!Array.isArray(e.implicit)&&!Array.isArray(e.explicit))throw new Ae("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");e.implicit&&(t=t.concat(e.implicit)),e.explicit&&(r=r.concat(e.explicit))}t.forEach((function(e){if(!(e instanceof Ne))throw new Ae("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(e.loadKind&&"scalar"!==e.loadKind)throw new Ae("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(e.multi)throw new Ae("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")})),r.forEach((function(e){if(!(e instanceof Ne))throw new Ae("Specified list of YAML types (or a single Type object) contains a non-Type object.")}));var s=Object.create(Ie.prototype);return s.implicit=(this.implicit||[]).concat(t),s.explicit=(this.explicit||[]).concat(r),s.compiledImplicit=Be(s,"implicit"),s.compiledExplicit=Be(s,"explicit"),s.compiledTypeMap=function(){var e,t,r={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}};function s(e){e.multi?(r.multi[e.kind].push(e),r.multi.fallback.push(e)):r[e.kind][e.tag]=r.fallback[e.tag]=e}for(e=0,t=arguments.length;e<t;e+=1)arguments[e].forEach(s);return r}(s.compiledImplicit,s.compiledExplicit),s};var xe=Ie,Te=new Ne("tag:yaml.org,2002:str",{kind:"scalar",construct:function(e){return null!==e?e:""}}),Re=new Ne("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(e){return null!==e?e:[]}}),Oe=new Ne("tag:yaml.org,2002:map",{kind:"mapping",construct:function(e){return null!==e?e:{}}}),Pe=new xe({explicit:[Te,Re,Oe]});var De=new Ne("tag:yaml.org,2002:null",{kind:"scalar",resolve:function(e){if(null===e)return!0;var t=e.length;return 1===t&&"~"===e||4===t&&("null"===e||"Null"===e||"NULL"===e)},construct:function(){return null},predicate:function(e){return null===e},represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});var Le=new Ne("tag:yaml.org,2002:bool",{kind:"scalar",resolve:function(e){if(null===e)return!1;var t=e.length;return 4===t&&("true"===e||"True"===e||"TRUE"===e)||5===t&&("false"===e||"False"===e||"FALSE"===e)},construct:function(e){return"true"===e||"True"===e||"TRUE"===e},predicate:function(e){return"[object Boolean]"===Object.prototype.toString.call(e)},represent:{lowercase:function(e){return e?"true":"false"},uppercase:function(e){return e?"TRUE":"FALSE"},camelcase:function(e){return e?"True":"False"}},defaultStyle:"lowercase"});function Ue(e){return 48<=e&&e<=55}function Ve(e){return 48<=e&&e<=57}var He=new Ne("tag:yaml.org,2002:int",{kind:"scalar",resolve:function(e){if(null===e)return!1;var t,r,s=e.length,i=0,n=!1;if(!s)return!1;if("-"!==(t=e[i])&&"+"!==t||(t=e[++i]),"0"===t){if(i+1===s)return!0;if("b"===(t=e[++i])){for(i++;i<s;i++)if("_"!==(t=e[i])){if("0"!==t&&"1"!==t)return!1;n=!0}return n&&"_"!==t}if("x"===t){for(i++;i<s;i++)if("_"!==(t=e[i])){if(!(48<=(r=e.charCodeAt(i))&&r<=57||65<=r&&r<=70||97<=r&&r<=102))return!1;n=!0}return n&&"_"!==t}if("o"===t){for(i++;i<s;i++)if("_"!==(t=e[i])){if(!Ue(e.charCodeAt(i)))return!1;n=!0}return n&&"_"!==t}}if("_"===t)return!1;for(;i<s;i++)if("_"!==(t=e[i])){if(!Ve(e.charCodeAt(i)))return!1;n=!0}return!(!n||"_"===t)},construct:function(e){var t,r=e,s=1;if(-1!==r.indexOf("_")&&(r=r.replace(/_/g,"")),"-"!==(t=r[0])&&"+"!==t||("-"===t&&(s=-1),t=(r=r.slice(1))[0]),"0"===r)return 0;if("0"===t){if("b"===r[1])return s*parseInt(r.slice(2),2);if("x"===r[1])return s*parseInt(r.slice(2),16);if("o"===r[1])return s*parseInt(r.slice(2),8)}return s*parseInt(r,10)},predicate:function(e){return"[object Number]"===Object.prototype.toString.call(e)&&e%1==0&&!ye.isNegativeZero(e)},represent:{binary:function(e){return e>=0?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},octal:function(e){return e>=0?"0o"+e.toString(8):"-0o"+e.toString(8).slice(1)},decimal:function(e){return e.toString(10)},hexadecimal:function(e){return e>=0?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),Me=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");var Fe=/^[-+]?[0-9]+e/;var We=new Ne("tag:yaml.org,2002:float",{kind:"scalar",resolve:function(e){return null!==e&&!(!Me.test(e)||"_"===e[e.length-1])},construct:function(e){var t,r;return r="-"===(t=e.replace(/_/g,"").toLowerCase())[0]?-1:1,"+-".indexOf(t[0])>=0&&(t=t.slice(1)),".inf"===t?1===r?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:".nan"===t?NaN:r*parseFloat(t,10)},predicate:function(e){return"[object Number]"===Object.prototype.toString.call(e)&&(e%1!=0||ye.isNegativeZero(e))},represent:function(e,t){var r;if(isNaN(e))switch(t){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(t){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(t){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(ye.isNegativeZero(e))return"-0.0";return r=e.toString(10),Fe.test(r)?r.replace("e",".e"):r},defaultStyle:"lowercase"}),je=Pe.extend({implicit:[De,Le,He,We]}),qe=je,ze=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),Ke=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");var Qe=new Ne("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:function(e){return null!==e&&(null!==ze.exec(e)||null!==Ke.exec(e))},construct:function(e){var t,r,s,i,n,a,o,l,c=0,u=null;if(null===(t=ze.exec(e))&&(t=Ke.exec(e)),null===t)throw new Error("Date resolve error");if(r=+t[1],s=+t[2]-1,i=+t[3],!t[4])return new Date(Date.UTC(r,s,i));if(n=+t[4],a=+t[5],o=+t[6],t[7]){for(c=t[7].slice(0,3);c.length<3;)c+="0";c=+c}return t[9]&&(u=6e4*(60*+t[10]+ +(t[11]||0)),"-"===t[9]&&(u=-u)),l=new Date(Date.UTC(r,s,i,n,a,o,c)),u&&l.setTime(l.getTime()-u),l},instanceOf:Date,represent:function(e){return e.toISOString()}});var Je=new Ne("tag:yaml.org,2002:merge",{kind:"scalar",resolve:function(e){return"<<"===e||null===e}}),Ge="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\n\r";var Ze=new Ne("tag:yaml.org,2002:binary",{kind:"scalar",resolve:function(e){if(null===e)return!1;var t,r,s=0,i=e.length,n=Ge;for(r=0;r<i;r++)if(!((t=n.indexOf(e.charAt(r)))>64)){if(t<0)return!1;s+=6}return s%8==0},construct:function(e){var t,r,s=e.replace(/[\r\n=]/g,""),i=s.length,n=Ge,a=0,o=[];for(t=0;t<i;t++)t%4==0&&t&&(o.push(a>>16&255),o.push(a>>8&255),o.push(255&a)),a=a<<6|n.indexOf(s.charAt(t));return 0===(r=i%4*6)?(o.push(a>>16&255),o.push(a>>8&255),o.push(255&a)):18===r?(o.push(a>>10&255),o.push(a>>2&255)):12===r&&o.push(a>>4&255),new Uint8Array(o)},predicate:function(e){return"[object Uint8Array]"===Object.prototype.toString.call(e)},represent:function(e){var t,r,s="",i=0,n=e.length,a=Ge;for(t=0;t<n;t++)t%3==0&&t&&(s+=a[i>>18&63],s+=a[i>>12&63],s+=a[i>>6&63],s+=a[63&i]),i=(i<<8)+e[t];return 0===(r=n%3)?(s+=a[i>>18&63],s+=a[i>>12&63],s+=a[i>>6&63],s+=a[63&i]):2===r?(s+=a[i>>10&63],s+=a[i>>4&63],s+=a[i<<2&63],s+=a[64]):1===r&&(s+=a[i>>2&63],s+=a[i<<4&63],s+=a[64],s+=a[64]),s}}),Xe=Object.prototype.hasOwnProperty,Ye=Object.prototype.toString;var $e=new Ne("tag:yaml.org,2002:omap",{kind:"sequence",resolve:function(e){if(null===e)return!0;var t,r,s,i,n,a=[],o=e;for(t=0,r=o.length;t<r;t+=1){if(s=o[t],n=!1,"[object Object]"!==Ye.call(s))return!1;for(i in s)if(Xe.call(s,i)){if(n)return!1;n=!0}if(!n)return!1;if(-1!==a.indexOf(i))return!1;a.push(i)}return!0},construct:function(e){return null!==e?e:[]}}),et=Object.prototype.toString;var tt=new Ne("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:function(e){if(null===e)return!0;var t,r,s,i,n,a=e;for(n=new Array(a.length),t=0,r=a.length;t<r;t+=1){if(s=a[t],"[object Object]"!==et.call(s))return!1;if(1!==(i=Object.keys(s)).length)return!1;n[t]=[i[0],s[i[0]]]}return!0},construct:function(e){if(null===e)return[];var t,r,s,i,n,a=e;for(n=new Array(a.length),t=0,r=a.length;t<r;t+=1)s=a[t],i=Object.keys(s),n[t]=[i[0],s[i[0]]];return n}}),rt=Object.prototype.hasOwnProperty;var st=new Ne("tag:yaml.org,2002:set",{kind:"mapping",resolve:function(e){if(null===e)return!0;var t,r=e;for(t in r)if(rt.call(r,t)&&null!==r[t])return!1;return!0},construct:function(e){return null!==e?e:{}}}),it=qe.extend({implicit:[Qe,Je],explicit:[Ze,$e,tt,st]}),nt=Object.prototype.hasOwnProperty,at=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,ot=/[\x85\u2028\u2029]/,lt=/[,\[\]\{\}]/,ct=/^(?:!|!!|![a-z\-]+!)$/i,ut=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function ht(e){return Object.prototype.toString.call(e)}function ft(e){return 10===e||13===e}function dt(e){return 9===e||32===e}function mt(e){return 9===e||32===e||10===e||13===e}function pt(e){return 44===e||91===e||93===e||123===e||125===e}function gt(e){var t;return 48<=e&&e<=57?e-48:97<=(t=32|e)&&t<=102?t-97+10:-1}function wt(e){return 48===e?"\0":97===e?"":98===e?"\b":116===e||9===e?"\t":110===e?"\n":118===e?"\v":102===e?"\f":114===e?"\r":101===e?"":32===e?" ":34===e?'"':47===e?"/":92===e?"\\":78===e?"":95===e?"":76===e?"\u2028":80===e?"\u2029":""}function yt(e){return e<=65535?String.fromCharCode(e):String.fromCharCode(55296+(e-65536>>10),56320+(e-65536&1023))}for(var bt=new Array(256),vt=new Array(256),At=0;At<256;At++)bt[At]=wt(At)?1:0,vt[At]=wt(At);function kt(e,t){this.input=e,this.filename=t.filename||null,this.schema=t.schema||it,this.onWarning=t.onWarning||null,this.legacy=t.legacy||!1,this.json=t.json||!1,this.listener=t.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function _t(e,t){var r={name:e.filename,buffer:e.input.slice(0,-1),position:e.position,line:e.line,column:e.position-e.lineStart};return r.snippet=Se(r),new Ae(t,r)}function St(e,t){throw _t(e,t)}function Et(e,t){e.onWarning&&e.onWarning.call(null,_t(e,t))}var Ct={YAML:function(e,t,r){var s,i,n;null!==e.version&&St(e,"duplication of %YAML directive"),1!==r.length&&St(e,"YAML directive accepts exactly one argument"),null===(s=/^([0-9]+)\.([0-9]+)$/.exec(r[0]))&&St(e,"ill-formed argument of the YAML directive"),i=parseInt(s[1],10),n=parseInt(s[2],10),1!==i&&St(e,"unacceptable YAML version of the document"),e.version=r[0],e.checkLineBreaks=n<2,1!==n&&2!==n&&Et(e,"unsupported YAML version of the document")},TAG:function(e,t,r){var s,i;2!==r.length&&St(e,"TAG directive accepts exactly two arguments"),s=r[0],i=r[1],ct.test(s)||St(e,"ill-formed tag handle (first argument) of the TAG directive"),nt.call(e.tagMap,s)&&St(e,'there is a previously declared suffix for "'+s+'" tag handle'),ut.test(i)||St(e,"ill-formed tag prefix (second argument) of the TAG directive");try{i=decodeURIComponent(i)}catch(t){St(e,"tag prefix is malformed: "+i)}e.tagMap[s]=i}};function Nt(e,t,r,s){var i,n,a,o;if(t<r){if(o=e.input.slice(t,r),s)for(i=0,n=o.length;i<n;i+=1)9===(a=o.charCodeAt(i))||32<=a&&a<=1114111||St(e,"expected valid JSON character");else at.test(o)&&St(e,"the stream contains non-printable characters");e.result+=o}}function Bt(e,t,r,s){var i,n,a,o;for(ye.isObject(r)||St(e,"cannot merge mappings; the provided source object is unacceptable"),a=0,o=(i=Object.keys(r)).length;a<o;a+=1)n=i[a],nt.call(t,n)||(t[n]=r[n],s[n]=!0)}function It(e,t,r,s,i,n,a,o,l){var c,u;if(Array.isArray(i))for(c=0,u=(i=Array.prototype.slice.call(i)).length;c<u;c+=1)Array.isArray(i[c])&&St(e,"nested arrays are not supported inside keys"),"object"==typeof i&&"[object Object]"===ht(i[c])&&(i[c]="[object Object]");if("object"==typeof i&&"[object Object]"===ht(i)&&(i="[object Object]"),i=String(i),null===t&&(t={}),"tag:yaml.org,2002:merge"===s)if(Array.isArray(n))for(c=0,u=n.length;c<u;c+=1)Bt(e,t,n[c],r);else Bt(e,t,n,r);else e.json||nt.call(r,i)||!nt.call(t,i)||(e.line=a||e.line,e.lineStart=o||e.lineStart,e.position=l||e.position,St(e,"duplicated mapping key")),"__proto__"===i?Object.defineProperty(t,i,{configurable:!0,enumerable:!0,writable:!0,value:n}):t[i]=n,delete r[i];return t}function xt(e){var t;10===(t=e.input.charCodeAt(e.position))?e.position++:13===t?(e.position++,10===e.input.charCodeAt(e.position)&&e.position++):St(e,"a line break is expected"),e.line+=1,e.lineStart=e.position,e.firstTabInLine=-1}function Tt(e,t,r){for(var s=0,i=e.input.charCodeAt(e.position);0!==i;){for(;dt(i);)9===i&&-1===e.firstTabInLine&&(e.firstTabInLine=e.position),i=e.input.charCodeAt(++e.position);if(t&&35===i)do{i=e.input.charCodeAt(++e.position)}while(10!==i&&13!==i&&0!==i);if(!ft(i))break;for(xt(e),i=e.input.charCodeAt(e.position),s++,e.lineIndent=0;32===i;)e.lineIndent++,i=e.input.charCodeAt(++e.position)}return-1!==r&&0!==s&&e.lineIndent<r&&Et(e,"deficient indentation"),s}function Rt(e){var t,r=e.position;return!(45!==(t=e.input.charCodeAt(r))&&46!==t||t!==e.input.charCodeAt(r+1)||t!==e.input.charCodeAt(r+2)||(r+=3,0!==(t=e.input.charCodeAt(r))&&!mt(t)))}function Ot(e,t){1===t?e.result+=" ":t>1&&(e.result+=ye.repeat("\n",t-1))}function Pt(e,t){var r,s,i=e.tag,n=e.anchor,a=[],o=!1;if(-1!==e.firstTabInLine)return!1;for(null!==e.anchor&&(e.anchorMap[e.anchor]=a),s=e.input.charCodeAt(e.position);0!==s&&(-1!==e.firstTabInLine&&(e.position=e.firstTabInLine,St(e,"tab characters must not be used in indentation")),45===s)&&mt(e.input.charCodeAt(e.position+1));)if(o=!0,e.position++,Tt(e,!0,-1)&&e.lineIndent<=t)a.push(null),s=e.input.charCodeAt(e.position);else if(r=e.line,Ut(e,t,3,!1,!0),a.push(e.result),Tt(e,!0,-1),s=e.input.charCodeAt(e.position),(e.line===r||e.lineIndent>t)&&0!==s)St(e,"bad indentation of a sequence entry");else if(e.lineIndent<t)break;return!!o&&(e.tag=i,e.anchor=n,e.kind="sequence",e.result=a,!0)}function Dt(e){var t,r,s,i,n=!1,a=!1;if(33!==(i=e.input.charCodeAt(e.position)))return!1;if(null!==e.tag&&St(e,"duplication of a tag property"),60===(i=e.input.charCodeAt(++e.position))?(n=!0,i=e.input.charCodeAt(++e.position)):33===i?(a=!0,r="!!",i=e.input.charCodeAt(++e.position)):r="!",t=e.position,n){do{i=e.input.charCodeAt(++e.position)}while(0!==i&&62!==i);e.position<e.length?(s=e.input.slice(t,e.position),i=e.input.charCodeAt(++e.position)):St(e,"unexpected end of the stream within a verbatim tag")}else{for(;0!==i&&!mt(i);)33===i&&(a?St(e,"tag suffix cannot contain exclamation marks"):(r=e.input.slice(t-1,e.position+1),ct.test(r)||St(e,"named tag handle cannot contain such characters"),a=!0,t=e.position+1)),i=e.input.charCodeAt(++e.position);s=e.input.slice(t,e.position),lt.test(s)&&St(e,"tag suffix cannot contain flow indicator characters")}s&&!ut.test(s)&&St(e,"tag name cannot contain such characters: "+s);try{s=decodeURIComponent(s)}catch(t){St(e,"tag name is malformed: "+s)}return n?e.tag=s:nt.call(e.tagMap,r)?e.tag=e.tagMap[r]+s:"!"===r?e.tag="!"+s:"!!"===r?e.tag="tag:yaml.org,2002:"+s:St(e,'undeclared tag handle "'+r+'"'),!0}function Lt(e){var t,r;if(38!==(r=e.input.charCodeAt(e.position)))return!1;for(null!==e.anchor&&St(e,"duplication of an anchor property"),r=e.input.charCodeAt(++e.position),t=e.position;0!==r&&!mt(r)&&!pt(r);)r=e.input.charCodeAt(++e.position);return e.position===t&&St(e,"name of an anchor node must contain at least one character"),e.anchor=e.input.slice(t,e.position),!0}function Ut(e,t,r,s,i){var n,a,o,l,c,u,h,f,d,m=1,p=!1,g=!1;if(null!==e.listener&&e.listener("open",e),e.tag=null,e.anchor=null,e.kind=null,e.result=null,n=a=o=4===r||3===r,s&&Tt(e,!0,-1)&&(p=!0,e.lineIndent>t?m=1:e.lineIndent===t?m=0:e.lineIndent<t&&(m=-1)),1===m)for(;Dt(e)||Lt(e);)Tt(e,!0,-1)?(p=!0,o=n,e.lineIndent>t?m=1:e.lineIndent===t?m=0:e.lineIndent<t&&(m=-1)):o=!1;if(o&&(o=p||i),1!==m&&4!==r||(f=1===r||2===r?t:t+1,d=e.position-e.lineStart,1===m?o&&(Pt(e,d)||function(e,t,r){var s,i,n,a,o,l,c,u=e.tag,h=e.anchor,f={},d=Object.create(null),m=null,p=null,g=null,w=!1,y=!1;if(-1!==e.firstTabInLine)return!1;for(null!==e.anchor&&(e.anchorMap[e.anchor]=f),c=e.input.charCodeAt(e.position);0!==c;){if(w||-1===e.firstTabInLine||(e.position=e.firstTabInLine,St(e,"tab characters must not be used in indentation")),s=e.input.charCodeAt(e.position+1),n=e.line,63!==c&&58!==c||!mt(s)){if(a=e.line,o=e.lineStart,l=e.position,!Ut(e,r,2,!1,!0))break;if(e.line===n){for(c=e.input.charCodeAt(e.position);dt(c);)c=e.input.charCodeAt(++e.position);if(58===c)mt(c=e.input.charCodeAt(++e.position))||St(e,"a whitespace character is expected after the key-value separator within a block mapping"),w&&(It(e,f,d,m,p,null,a,o,l),m=p=g=null),y=!0,w=!1,i=!1,m=e.tag,p=e.result;else{if(!y)return e.tag=u,e.anchor=h,!0;St(e,"can not read an implicit mapping pair; a colon is missed")}}else{if(!y)return e.tag=u,e.anchor=h,!0;St(e,"can not read a block mapping entry; a multiline key may not be an implicit key")}}else 63===c?(w&&(It(e,f,d,m,p,null,a,o,l),m=p=g=null),y=!0,w=!0,i=!0):w?(w=!1,i=!0):St(e,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),e.position+=1,c=s;if((e.line===n||e.lineIndent>t)&&(w&&(a=e.line,o=e.lineStart,l=e.position),Ut(e,t,4,!0,i)&&(w?p=e.result:g=e.result),w||(It(e,f,d,m,p,g,a,o,l),m=p=g=null),Tt(e,!0,-1),c=e.input.charCodeAt(e.position)),(e.line===n||e.lineIndent>t)&&0!==c)St(e,"bad indentation of a mapping entry");else if(e.lineIndent<t)break}return w&&It(e,f,d,m,p,null,a,o,l),y&&(e.tag=u,e.anchor=h,e.kind="mapping",e.result=f),y}(e,d,f))||function(e,t){var r,s,i,n,a,o,l,c,u,h,f,d,m=!0,p=e.tag,g=e.anchor,w=Object.create(null);if(91===(d=e.input.charCodeAt(e.position)))a=93,c=!1,n=[];else{if(123!==d)return!1;a=125,c=!0,n={}}for(null!==e.anchor&&(e.anchorMap[e.anchor]=n),d=e.input.charCodeAt(++e.position);0!==d;){if(Tt(e,!0,t),(d=e.input.charCodeAt(e.position))===a)return e.position++,e.tag=p,e.anchor=g,e.kind=c?"mapping":"sequence",e.result=n,!0;m?44===d&&St(e,"expected the node content, but found ','"):St(e,"missed comma between flow collection entries"),f=null,o=l=!1,63===d&&mt(e.input.charCodeAt(e.position+1))&&(o=l=!0,e.position++,Tt(e,!0,t)),r=e.line,s=e.lineStart,i=e.position,Ut(e,t,1,!1,!0),h=e.tag,u=e.result,Tt(e,!0,t),d=e.input.charCodeAt(e.position),!l&&e.line!==r||58!==d||(o=!0,d=e.input.charCodeAt(++e.position),Tt(e,!0,t),Ut(e,t,1,!1,!0),f=e.result),c?It(e,n,w,h,u,f,r,s,i):o?n.push(It(e,null,w,h,u,f,r,s,i)):n.push(u),Tt(e,!0,t),44===(d=e.input.charCodeAt(e.position))?(m=!0,d=e.input.charCodeAt(++e.position)):m=!1}St(e,"unexpected end of the stream within a flow collection")}(e,f)?g=!0:(a&&function(e,t){var r,s,i,n,a,o=1,l=!1,c=!1,u=t,h=0,f=!1;if(124===(n=e.input.charCodeAt(e.position)))s=!1;else{if(62!==n)return!1;s=!0}for(e.kind="scalar",e.result="";0!==n;)if(43===(n=e.input.charCodeAt(++e.position))||45===n)1===o?o=43===n?3:2:St(e,"repeat of a chomping mode identifier");else{if(!((i=48<=(a=n)&&a<=57?a-48:-1)>=0))break;0===i?St(e,"bad explicit indentation width of a block scalar; it cannot be less than one"):c?St(e,"repeat of an indentation width identifier"):(u=t+i-1,c=!0)}if(dt(n)){do{n=e.input.charCodeAt(++e.position)}while(dt(n));if(35===n)do{n=e.input.charCodeAt(++e.position)}while(!ft(n)&&0!==n)}for(;0!==n;){for(xt(e),e.lineIndent=0,n=e.input.charCodeAt(e.position);(!c||e.lineIndent<u)&&32===n;)e.lineIndent++,n=e.input.charCodeAt(++e.position);if(!c&&e.lineIndent>u&&(u=e.lineIndent),ft(n))h++;else{if(e.lineIndent<u){3===o?e.result+=ye.repeat("\n",l?1+h:h):1===o&&l&&(e.result+="\n");break}for(s?dt(n)?(f=!0,e.result+=ye.repeat("\n",l?1+h:h)):f?(f=!1,e.result+=ye.repeat("\n",h+1)):0===h?l&&(e.result+=" "):e.result+=ye.repeat("\n",h):e.result+=ye.repeat("\n",l?1+h:h),l=!0,c=!0,h=0,r=e.position;!ft(n)&&0!==n;)n=e.input.charCodeAt(++e.position);Nt(e,r,e.position,!1)}}return!0}(e,f)||function(e,t){var r,s,i;if(39!==(r=e.input.charCodeAt(e.position)))return!1;for(e.kind="scalar",e.result="",e.position++,s=i=e.position;0!==(r=e.input.charCodeAt(e.position));)if(39===r){if(Nt(e,s,e.position,!0),39!==(r=e.input.charCodeAt(++e.position)))return!0;s=e.position,e.position++,i=e.position}else ft(r)?(Nt(e,s,i,!0),Ot(e,Tt(e,!1,t)),s=i=e.position):e.position===e.lineStart&&Rt(e)?St(e,"unexpected end of the document within a single quoted scalar"):(e.position++,i=e.position);St(e,"unexpected end of the stream within a single quoted scalar")}(e,f)||function(e,t){var r,s,i,n,a,o,l;if(34!==(o=e.input.charCodeAt(e.position)))return!1;for(e.kind="scalar",e.result="",e.position++,r=s=e.position;0!==(o=e.input.charCodeAt(e.position));){if(34===o)return Nt(e,r,e.position,!0),e.position++,!0;if(92===o){if(Nt(e,r,e.position,!0),ft(o=e.input.charCodeAt(++e.position)))Tt(e,!1,t);else if(o<256&&bt[o])e.result+=vt[o],e.position++;else if((a=120===(l=o)?2:117===l?4:85===l?8:0)>0){for(i=a,n=0;i>0;i--)(a=gt(o=e.input.charCodeAt(++e.position)))>=0?n=(n<<4)+a:St(e,"expected hexadecimal character");e.result+=yt(n),e.position++}else St(e,"unknown escape sequence");r=s=e.position}else ft(o)?(Nt(e,r,s,!0),Ot(e,Tt(e,!1,t)),r=s=e.position):e.position===e.lineStart&&Rt(e)?St(e,"unexpected end of the document within a double quoted scalar"):(e.position++,s=e.position)}St(e,"unexpected end of the stream within a double quoted scalar")}(e,f)?g=!0:!function(e){var t,r,s;if(42!==(s=e.input.charCodeAt(e.position)))return!1;for(s=e.input.charCodeAt(++e.position),t=e.position;0!==s&&!mt(s)&&!pt(s);)s=e.input.charCodeAt(++e.position);return e.position===t&&St(e,"name of an alias node must contain at least one character"),r=e.input.slice(t,e.position),nt.call(e.anchorMap,r)||St(e,'unidentified alias "'+r+'"'),e.result=e.anchorMap[r],Tt(e,!0,-1),!0}(e)?function(e,t,r){var s,i,n,a,o,l,c,u,h=e.kind,f=e.result;if(mt(u=e.input.charCodeAt(e.position))||pt(u)||35===u||38===u||42===u||33===u||124===u||62===u||39===u||34===u||37===u||64===u||96===u)return!1;if((63===u||45===u)&&(mt(s=e.input.charCodeAt(e.position+1))||r&&pt(s)))return!1;for(e.kind="scalar",e.result="",i=n=e.position,a=!1;0!==u;){if(58===u){if(mt(s=e.input.charCodeAt(e.position+1))||r&&pt(s))break}else if(35===u){if(mt(e.input.charCodeAt(e.position-1)))break}else{if(e.position===e.lineStart&&Rt(e)||r&&pt(u))break;if(ft(u)){if(o=e.line,l=e.lineStart,c=e.lineIndent,Tt(e,!1,-1),e.lineIndent>=t){a=!0,u=e.input.charCodeAt(e.position);continue}e.position=n,e.line=o,e.lineStart=l,e.lineIndent=c;break}}a&&(Nt(e,i,n,!1),Ot(e,e.line-o),i=n=e.position,a=!1),dt(u)||(n=e.position+1),u=e.input.charCodeAt(++e.position)}return Nt(e,i,n,!1),!!e.result||(e.kind=h,e.result=f,!1)}(e,f,1===r)&&(g=!0,null===e.tag&&(e.tag="?")):(g=!0,null===e.tag&&null===e.anchor||St(e,"alias node should not have any properties")),null!==e.anchor&&(e.anchorMap[e.anchor]=e.result)):0===m&&(g=o&&Pt(e,d))),null===e.tag)null!==e.anchor&&(e.anchorMap[e.anchor]=e.result);else if("?"===e.tag){for(null!==e.result&&"scalar"!==e.kind&&St(e,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+e.kind+'"'),l=0,c=e.implicitTypes.length;l<c;l+=1)if((h=e.implicitTypes[l]).resolve(e.result)){e.result=h.construct(e.result),e.tag=h.tag,null!==e.anchor&&(e.anchorMap[e.anchor]=e.result);break}}else if("!"!==e.tag){if(nt.call(e.typeMap[e.kind||"fallback"],e.tag))h=e.typeMap[e.kind||"fallback"][e.tag];else for(h=null,l=0,c=(u=e.typeMap.multi[e.kind||"fallback"]).length;l<c;l+=1)if(e.tag.slice(0,u[l].tag.length)===u[l].tag){h=u[l];break}h||St(e,"unknown tag !<"+e.tag+">"),null!==e.result&&h.kind!==e.kind&&St(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+h.kind+'", not "'+e.kind+'"'),h.resolve(e.result,e.tag)?(e.result=h.construct(e.result,e.tag),null!==e.anchor&&(e.anchorMap[e.anchor]=e.result)):St(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")}return null!==e.listener&&e.listener("close",e),null!==e.tag||null!==e.anchor||g}function Vt(e){var t,r,s,i,n=e.position,a=!1;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap=Object.create(null),e.anchorMap=Object.create(null);0!==(i=e.input.charCodeAt(e.position))&&(Tt(e,!0,-1),i=e.input.charCodeAt(e.position),!(e.lineIndent>0||37!==i));){for(a=!0,i=e.input.charCodeAt(++e.position),t=e.position;0!==i&&!mt(i);)i=e.input.charCodeAt(++e.position);for(s=[],(r=e.input.slice(t,e.position)).length<1&&St(e,"directive name must not be less than one character in length");0!==i;){for(;dt(i);)i=e.input.charCodeAt(++e.position);if(35===i){do{i=e.input.charCodeAt(++e.position)}while(0!==i&&!ft(i));break}if(ft(i))break;for(t=e.position;0!==i&&!mt(i);)i=e.input.charCodeAt(++e.position);s.push(e.input.slice(t,e.position))}0!==i&&xt(e),nt.call(Ct,r)?Ct[r](e,r,s):Et(e,'unknown document directive "'+r+'"')}Tt(e,!0,-1),0===e.lineIndent&&45===e.input.charCodeAt(e.position)&&45===e.input.charCodeAt(e.position+1)&&45===e.input.charCodeAt(e.position+2)?(e.position+=3,Tt(e,!0,-1)):a&&St(e,"directives end mark is expected"),Ut(e,e.lineIndent-1,4,!1,!0),Tt(e,!0,-1),e.checkLineBreaks&&ot.test(e.input.slice(n,e.position))&&Et(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&Rt(e)?46===e.input.charCodeAt(e.position)&&(e.position+=3,Tt(e,!0,-1)):e.position<e.length-1&&St(e,"end of the stream or a document separator is expected")}function Ht(e,t){t=t||{},0!==(e=String(e)).length&&(10!==e.charCodeAt(e.length-1)&&13!==e.charCodeAt(e.length-1)&&(e+="\n"),65279===e.charCodeAt(0)&&(e=e.slice(1)));var r=new kt(e,t),s=e.indexOf("\0");for(-1!==s&&(r.position=s,St(r,"null byte is not allowed in input")),r.input+="\0";32===r.input.charCodeAt(r.position);)r.lineIndent+=1,r.position+=1;for(;r.position<r.length-1;)Vt(r);return r.documents}var Mt={loadAll:function(e,t,r){null!==t&&"object"==typeof t&&void 0===r&&(r=t,t=null);var s=Ht(e,r);if("function"!=typeof t)return s;for(var i=0,n=s.length;i<n;i+=1)t(s[i])},load:function(e,t){var r=Ht(e,t);if(0!==r.length){if(1===r.length)return r[0];throw new Ae("expected a single document in the stream, but found more")}}},Ft=Object.prototype.toString,Wt=Object.prototype.hasOwnProperty,jt=65279,qt={0:"\\0",7:"\\a",8:"\\b",9:"\\t",10:"\\n",11:"\\v",12:"\\f",13:"\\r",27:"\\e",34:'\\"',92:"\\\\",133:"\\N",160:"\\_",8232:"\\L",8233:"\\P"},zt=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],Kt=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function Qt(e){var t,r,s;if(t=e.toString(16).toUpperCase(),e<=255)r="x",s=2;else if(e<=65535)r="u",s=4;else{if(!(e<=4294967295))throw new Ae("code point within a string may not be greater than 0xFFFFFFFF");r="U",s=8}return"\\"+r+ye.repeat("0",s-t.length)+t}function Jt(e){this.schema=e.schema||it,this.indent=Math.max(1,e.indent||2),this.noArrayIndent=e.noArrayIndent||!1,this.skipInvalid=e.skipInvalid||!1,this.flowLevel=ye.isNothing(e.flowLevel)?-1:e.flowLevel,this.styleMap=function(e,t){var r,s,i,n,a,o,l;if(null===t)return{};for(r={},i=0,n=(s=Object.keys(t)).length;i<n;i+=1)a=s[i],o=String(t[a]),"!!"===a.slice(0,2)&&(a="tag:yaml.org,2002:"+a.slice(2)),(l=e.compiledTypeMap.fallback[a])&&Wt.call(l.styleAliases,o)&&(o=l.styleAliases[o]),r[a]=o;return r}(this.schema,e.styles||null),this.sortKeys=e.sortKeys||!1,this.lineWidth=e.lineWidth||80,this.noRefs=e.noRefs||!1,this.noCompatMode=e.noCompatMode||!1,this.condenseFlow=e.condenseFlow||!1,this.quotingType='"'===e.quotingType?2:1,this.forceQuotes=e.forceQuotes||!1,this.replacer="function"==typeof e.replacer?e.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function Gt(e,t){for(var r,s=ye.repeat(" ",t),i=0,n=-1,a="",o=e.length;i<o;)-1===(n=e.indexOf("\n",i))?(r=e.slice(i),i=o):(r=e.slice(i,n+1),i=n+1),r.length&&"\n"!==r&&(a+=s),a+=r;return a}function Zt(e,t){return"\n"+ye.repeat(" ",e.indent*t)}function Xt(e){return 32===e||9===e}function Yt(e){return 32<=e&&e<=126||161<=e&&e<=55295&&8232!==e&&8233!==e||57344<=e&&e<=65533&&e!==jt||65536<=e&&e<=1114111}function $t(e){return Yt(e)&&e!==jt&&13!==e&&10!==e}function er(e,t,r){var s=$t(e),i=s&&!Xt(e);return(r?s:s&&44!==e&&91!==e&&93!==e&&123!==e&&125!==e)&&35!==e&&!(58===t&&!i)||$t(t)&&!Xt(t)&&35===e||58===t&&i}function tr(e,t){var r,s=e.charCodeAt(t);return s>=55296&&s<=56319&&t+1<e.length&&(r=e.charCodeAt(t+1))>=56320&&r<=57343?1024*(s-55296)+r-56320+65536:s}function rr(e){return/^\n* /.test(e)}function sr(e,t,r,s,i,n,a,o){var l,c,u=0,h=null,f=!1,d=!1,m=-1!==s,p=-1,g=Yt(c=tr(e,0))&&c!==jt&&!Xt(c)&&45!==c&&63!==c&&58!==c&&44!==c&&91!==c&&93!==c&&123!==c&&125!==c&&35!==c&&38!==c&&42!==c&&33!==c&&124!==c&&61!==c&&62!==c&&39!==c&&34!==c&&37!==c&&64!==c&&96!==c&&function(e){return!Xt(e)&&58!==e}(tr(e,e.length-1));if(t||a)for(l=0;l<e.length;u>=65536?l+=2:l++){if(!Yt(u=tr(e,l)))return 5;g=g&&er(u,h,o),h=u}else{for(l=0;l<e.length;u>=65536?l+=2:l++){if(10===(u=tr(e,l)))f=!0,m&&(d=d||l-p-1>s&&" "!==e[p+1],p=l);else if(!Yt(u))return 5;g=g&&er(u,h,o),h=u}d=d||m&&l-p-1>s&&" "!==e[p+1]}return f||d?r>9&&rr(e)?5:a?2===n?5:2:d?4:3:!g||a||i(e)?2===n?5:2:1}function ir(e,t,r,s,i){e.dump=function(){if(0===t.length)return 2===e.quotingType?'""':"''";if(!e.noCompatMode&&(-1!==zt.indexOf(t)||Kt.test(t)))return 2===e.quotingType?'"'+t+'"':"'"+t+"'";var n=e.indent*Math.max(1,r),a=-1===e.lineWidth?-1:Math.max(Math.min(e.lineWidth,40),e.lineWidth-n),o=s||e.flowLevel>-1&&r>=e.flowLevel;switch(sr(t,o,e.indent,a,(function(t){return function(e,t){var r,s;for(r=0,s=e.implicitTypes.length;r<s;r+=1)if(e.implicitTypes[r].resolve(t))return!0;return!1}(e,t)}),e.quotingType,e.forceQuotes&&!s,i)){case 1:return t;case 2:return"'"+t.replace(/'/g,"''")+"'";case 3:return"|"+nr(t,e.indent)+ar(Gt(t,n));case 4:return">"+nr(t,e.indent)+ar(Gt(function(e,t){var r,s,i=/(\n+)([^\n]*)/g,n=(o=e.indexOf("\n"),o=-1!==o?o:e.length,i.lastIndex=o,or(e.slice(0,o),t)),a="\n"===e[0]||" "===e[0];var o;for(;s=i.exec(e);){var l=s[1],c=s[2];r=" "===c[0],n+=l+(a||r||""===c?"":"\n")+or(c,t),a=r}return n}(t,a),n));case 5:return'"'+function(e){for(var t,r="",s=0,i=0;i<e.length;s>=65536?i+=2:i++)s=tr(e,i),!(t=qt[s])&&Yt(s)?(r+=e[i],s>=65536&&(r+=e[i+1])):r+=t||Qt(s);return r}(t)+'"';default:throw new Ae("impossible error: invalid scalar style")}}()}function nr(e,t){var r=rr(e)?String(t):"",s="\n"===e[e.length-1];return r+(s&&("\n"===e[e.length-2]||"\n"===e)?"+":s?"":"-")+"\n"}function ar(e){return"\n"===e[e.length-1]?e.slice(0,-1):e}function or(e,t){if(""===e||" "===e[0])return e;for(var r,s,i=/ [^ ]/g,n=0,a=0,o=0,l="";r=i.exec(e);)(o=r.index)-n>t&&(s=a>n?a:o,l+="\n"+e.slice(n,s),n=s+1),a=o;return l+="\n",e.length-n>t&&a>n?l+=e.slice(n,a)+"\n"+e.slice(a+1):l+=e.slice(n),l.slice(1)}function lr(e,t,r,s){var i,n,a,o="",l=e.tag;for(i=0,n=r.length;i<n;i+=1)a=r[i],e.replacer&&(a=e.replacer.call(r,String(i),a)),(ur(e,t+1,a,!0,!0,!1,!0)||void 0===a&&ur(e,t+1,null,!0,!0,!1,!0))&&(s&&""===o||(o+=Zt(e,t)),e.dump&&10===e.dump.charCodeAt(0)?o+="-":o+="- ",o+=e.dump);e.tag=l,e.dump=o||"[]"}function cr(e,t,r){var s,i,n,a,o,l;for(n=0,a=(i=r?e.explicitTypes:e.implicitTypes).length;n<a;n+=1)if(((o=i[n]).instanceOf||o.predicate)&&(!o.instanceOf||"object"==typeof t&&t instanceof o.instanceOf)&&(!o.predicate||o.predicate(t))){if(r?o.multi&&o.representName?e.tag=o.representName(t):e.tag=o.tag:e.tag="?",o.represent){if(l=e.styleMap[o.tag]||o.defaultStyle,"[object Function]"===Ft.call(o.represent))s=o.represent(t,l);else{if(!Wt.call(o.represent,l))throw new Ae("!<"+o.tag+'> tag resolver accepts not "'+l+'" style');s=o.represent[l](t,l)}e.dump=s}return!0}return!1}function ur(e,t,r,s,i,n,a){e.tag=null,e.dump=r,cr(e,r,!1)||cr(e,r,!0);var o,l=Ft.call(e.dump),c=s;s&&(s=e.flowLevel<0||e.flowLevel>t);var u,h,f="[object Object]"===l||"[object Array]"===l;if(f&&(h=-1!==(u=e.duplicates.indexOf(r))),(null!==e.tag&&"?"!==e.tag||h||2!==e.indent&&t>0)&&(i=!1),h&&e.usedDuplicates[u])e.dump="*ref_"+u;else{if(f&&h&&!e.usedDuplicates[u]&&(e.usedDuplicates[u]=!0),"[object Object]"===l)s&&0!==Object.keys(e.dump).length?(!function(e,t,r,s){var i,n,a,o,l,c,u="",h=e.tag,f=Object.keys(r);if(!0===e.sortKeys)f.sort();else if("function"==typeof e.sortKeys)f.sort(e.sortKeys);else if(e.sortKeys)throw new Ae("sortKeys must be a boolean or a function");for(i=0,n=f.length;i<n;i+=1)c="",s&&""===u||(c+=Zt(e,t)),o=r[a=f[i]],e.replacer&&(o=e.replacer.call(r,a,o)),ur(e,t+1,a,!0,!0,!0)&&((l=null!==e.tag&&"?"!==e.tag||e.dump&&e.dump.length>1024)&&(e.dump&&10===e.dump.charCodeAt(0)?c+="?":c+="? "),c+=e.dump,l&&(c+=Zt(e,t)),ur(e,t+1,o,!0,l)&&(e.dump&&10===e.dump.charCodeAt(0)?c+=":":c+=": ",u+=c+=e.dump));e.tag=h,e.dump=u||"{}"}(e,t,e.dump,i),h&&(e.dump="&ref_"+u+e.dump)):(!function(e,t,r){var s,i,n,a,o,l="",c=e.tag,u=Object.keys(r);for(s=0,i=u.length;s<i;s+=1)o="",""!==l&&(o+=", "),e.condenseFlow&&(o+='"'),a=r[n=u[s]],e.replacer&&(a=e.replacer.call(r,n,a)),ur(e,t,n,!1,!1)&&(e.dump.length>1024&&(o+="? "),o+=e.dump+(e.condenseFlow?'"':"")+":"+(e.condenseFlow?"":" "),ur(e,t,a,!1,!1)&&(l+=o+=e.dump));e.tag=c,e.dump="{"+l+"}"}(e,t,e.dump),h&&(e.dump="&ref_"+u+" "+e.dump));else if("[object Array]"===l)s&&0!==e.dump.length?(e.noArrayIndent&&!a&&t>0?lr(e,t-1,e.dump,i):lr(e,t,e.dump,i),h&&(e.dump="&ref_"+u+e.dump)):(!function(e,t,r){var s,i,n,a="",o=e.tag;for(s=0,i=r.length;s<i;s+=1)n=r[s],e.replacer&&(n=e.replacer.call(r,String(s),n)),(ur(e,t,n,!1,!1)||void 0===n&&ur(e,t,null,!1,!1))&&(""!==a&&(a+=","+(e.condenseFlow?"":" ")),a+=e.dump);e.tag=o,e.dump="["+a+"]"}(e,t,e.dump),h&&(e.dump="&ref_"+u+" "+e.dump));else{if("[object String]"!==l){if("[object Undefined]"===l)return!1;if(e.skipInvalid)return!1;throw new Ae("unacceptable kind of an object to dump "+l)}"?"!==e.tag&&ir(e,e.dump,t,n,c)}null!==e.tag&&"?"!==e.tag&&(o=encodeURI("!"===e.tag[0]?e.tag.slice(1):e.tag).replace(/!/g,"%21"),o="!"===e.tag[0]?"!"+o:"tag:yaml.org,2002:"===o.slice(0,18)?"!!"+o.slice(18):"!<"+o+">",e.dump=o+" "+e.dump)}return!0}function hr(e,t){var r,s,i=[],n=[];for(fr(e,i,n),r=0,s=n.length;r<s;r+=1)t.duplicates.push(i[n[r]]);t.usedDuplicates=new Array(s)}function fr(e,t,r){var s,i,n;if(null!==e&&"object"==typeof e)if(-1!==(i=t.indexOf(e)))-1===r.indexOf(i)&&r.push(i);else if(t.push(e),Array.isArray(e))for(i=0,n=e.length;i<n;i+=1)fr(e[i],t,r);else for(i=0,n=(s=Object.keys(e)).length;i<n;i+=1)fr(e[s[i]],t,r)}function dr(e,t){return function(){throw new Error("Function yaml."+e+" is removed in js-yaml 4. Use yaml."+t+" instead, which is now safe by default.")}}const mr={Type:Ne,Schema:xe,FAILSAFE_SCHEMA:Pe,JSON_SCHEMA:je,CORE_SCHEMA:qe,DEFAULT_SCHEMA:it,load:Mt.load,loadAll:Mt.loadAll,dump:{dump:function(e,t){var r=new Jt(t=t||{});r.noRefs||hr(e,r);var s=e;return r.replacer&&(s=r.replacer.call({"":s},"",s)),ur(r,0,s,!0,!0)?r.dump+"\n":""}}.dump,YAMLException:Ae,types:{binary:Ze,float:We,map:Oe,null:De,pairs:tt,set:st,timestamp:Qe,bool:Le,int:He,merge:Je,omap:$e,seq:Re,str:Te},safeLoad:dr("safeLoad","load"),safeLoadAll:dr("safeLoadAll","loadAll"),safeDump:dr("safeDump","dump")};
/*!
 * hash-wasm (https://www.npmjs.com/package/hash-wasm)
 * (c) Dani Biro
 * @license MIT
 */
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
function pr(e,t,r,s){return new(r||(r=Promise))((function(i,n){function a(e){try{l(s.next(e))}catch(e){n(e)}}function o(e){try{l(s.throw(e))}catch(e){n(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,o)}l((s=s.apply(e,t||[])).next())}))}class gr{constructor(){this.mutex=Promise.resolve()}lock(){let e=()=>{};return this.mutex=this.mutex.then((()=>new Promise(e))),new Promise((t=>{e=t}))}dispatch(e){return pr(this,void 0,void 0,(function*(){const t=yield this.lock();try{return yield Promise.resolve(e())}finally{t()}}))}}var wr;const yr="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:r.g,br=null!==(wr=yr.Buffer)&&void 0!==wr?wr:null,vr=yr.TextEncoder?new yr.TextEncoder:null;function Ar(e,t){return(15&e)+(e>>6|e>>3&8)<<4|(15&t)+(t>>6|t>>3&8)}function kr(e,t){const r=t.length>>1;for(let s=0;s<r;s++){const r=s<<1;e[s]=Ar(t.charCodeAt(r),t.charCodeAt(r+1))}}const _r="a".charCodeAt(0)-10,Sr="0".charCodeAt(0);function Er(e,t,r){let s=0;for(let i=0;i<r;i++){let r=t[i]>>>4;e[s++]=r>9?r+_r:r+Sr,r=15&t[i],e[s++]=r>9?r+_r:r+Sr}return String.fromCharCode.apply(null,e)}const Cr=null!==br?e=>{if("string"==typeof e){const t=br.from(e,"utf8");return new Uint8Array(t.buffer,t.byteOffset,t.length)}if(br.isBuffer(e))return new Uint8Array(e.buffer,e.byteOffset,e.length);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Invalid data type!")}:e=>{if("string"==typeof e)return vr.encode(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Invalid data type!")},Nr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Br=new Uint8Array(256);for(let e=0;e<Nr.length;e++)Br[Nr.charCodeAt(e)]=e;function Ir(e){let t=Math.floor(.75*e.length);const r=e.length;return"="===e[r-1]&&(t-=1,"="===e[r-2]&&(t-=1)),t}function xr(e){const t=Ir(e),r=e.length,s=new Uint8Array(t);let i=0;for(let t=0;t<r;t+=4){const r=Br[e.charCodeAt(t)],n=Br[e.charCodeAt(t+1)],a=Br[e.charCodeAt(t+2)],o=Br[e.charCodeAt(t+3)];s[i]=r<<2|n>>4,i+=1,s[i]=(15&n)<<4|a>>2,i+=1,s[i]=(3&a)<<6|63&o,i+=1}return s}const Tr=16384,Rr=new gr,Or=new Map;function Pr(e,t){return pr(this,void 0,void 0,(function*(){let r=null,s=null,i=!1;if("undefined"==typeof WebAssembly)throw new Error("WebAssembly is not supported in this environment!");const n=()=>new DataView(r.exports.memory.buffer).getUint32(r.exports.STATE_SIZE,!0),a=Rr.dispatch((()=>pr(this,void 0,void 0,(function*(){if(!Or.has(e.name)){const t=xr(e.data),r=WebAssembly.compile(t);Or.set(e.name,r)}const t=yield Or.get(e.name);r=yield WebAssembly.instantiate(t,{})})))),o=(e=null)=>{i=!0,r.exports.Hash_Init(e)},l=e=>{if(!i)throw new Error("update() called before init()");(e=>{let t=0;for(;t<e.length;){const i=e.subarray(t,t+Tr);t+=i.length,s.set(i),r.exports.Hash_Update(i.length)}})(Cr(e))},c=new Uint8Array(2*t),u=(e,n=null)=>{if(!i)throw new Error("digest() called before init()");return i=!1,r.exports.Hash_Final(n),"binary"===e?s.slice(0,t):Er(c,s,t)},h=e=>"string"==typeof e?e.length<4096:e.byteLength<Tr;let f=h;switch(e.name){case"argon2":case"scrypt":f=()=>!0;break;case"blake2b":case"blake2s":f=(e,t)=>t<=512&&h(e);break;case"blake3":f=(e,t)=>0===t&&h(e);break;case"xxhash64":case"xxhash3":case"xxhash128":f=()=>!1}return yield(()=>pr(this,void 0,void 0,(function*(){r||(yield a);const e=r.exports.Hash_GetBuffer(),t=r.exports.memory.buffer;s=new Uint8Array(t,e,Tr)})))(),{getMemory:()=>s,writeMemory:(e,t=0)=>{s.set(e,t)},getExports:()=>r.exports,setMemorySize:e=>{r.exports.Hash_SetMemorySize(e);const t=r.exports.Hash_GetBuffer(),i=r.exports.memory.buffer;s=new Uint8Array(i,t,e)},init:o,update:l,digest:u,save:()=>{if(!i)throw new Error("save() can only be called after init() and before digest()");const t=r.exports.Hash_GetState(),s=n(),a=r.exports.memory.buffer,o=new Uint8Array(a,t,s),l=new Uint8Array(4+s);return kr(l,e.hash),l.set(o,4),l},load:t=>{if(!(t instanceof Uint8Array))throw new Error("load() expects an Uint8Array generated by save()");const s=r.exports.Hash_GetState(),a=n(),o=4+a,l=r.exports.memory.buffer;if(t.length!==o)throw new Error(`Bad state length (expected ${o} bytes, got ${t.length})`);if(!function(e,t){if(e.length!==2*t.length)return!1;for(let r=0;r<t.length;r++){const s=r<<1;if(t[r]!==Ar(e.charCodeAt(s),e.charCodeAt(s+1)))return!1}return!0}(e.hash,t.subarray(0,4)))throw new Error("This state was written by an incompatible hash implementation");const c=t.subarray(4);new Uint8Array(l,s,a).set(c),i=!0},calculate:(e,i=null,n=null)=>{if(!f(e,i))return o(i),l(e),u("hex",n);const a=Cr(e);return s.set(a),r.exports.Hash_Calculate(a.length,i,n),Er(c,s,t)},hashLength:t}}))}new gr;new gr;new DataView(new ArrayBuffer(4));new gr;new gr;new gr;new gr;new gr;new gr;new gr;new gr;new gr;var Dr={name:"sha256",data:"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",hash:"817d957e"};new gr;new gr;function Lr(){return Pr(Dr,32).then((e=>{e.init(256);const t={init:()=>(e.init(256),t),update:r=>(e.update(r),t),digest:t=>e.digest(t),save:()=>e.save(),load:r=>(e.load(r),t),blockSize:64,digestSize:32};return t}))}new gr;new gr;new gr;new gr;new ArrayBuffer(8);new gr;new ArrayBuffer(8);new gr;new ArrayBuffer(8);new gr;new gr;new gr;const Ur=4294967295,Vr=65535;class Hr{constructor(e,t){this.start=e,this.length=t}}class Mr extends O.UU{constructor(e,t="gzip",r=!1){super(e,t,r)}async initHasher(){this.hasher=await Lr()}async _loadNext(){const e=await super._loadNext();return e&&this.hasher.update(e),e}getHash(){return"sha256:"+this.hasher.digest("hex")}}class Fr{constructor(e,t=null){this.loader=e,this.entries=t,this.entriesUpdated=!1}async load(e=!1){if(!this.entries||e){const e=await this.loader.getLength(),t=Math.min(65558,e),r=e-t,s=await this.loader.getRange(r,t);try{this.entries=this._loadEntries(s,r)}catch(e){if(e instanceof Hr){const r=await this.loader.getRange(e.start,e.length),i=(0,O.zY)([r,s],e.length+t);this.entries=this._loadEntries(i,e.start)}}this.entriesUpdated=!0}return this.entries}_loadEntries(e,t){const r=e.byteLength;if(!r)return null;const s=new DataView(e.buffer,e.byteOffset,e.byteLength),i=new TextDecoder("utf8"),n=new TextDecoder("ascii"),a={};let o=0,l=0,c=r;for(let t=r-22,i=Math.max(0,t-Vr);t>=i;--t)if(80===e[t]&&75===e[t+1]&&5===e[t+2]&&6===e[t+3]){c=t,l=s.getUint32(t+16,!0),o=s.getUint16(t+8,!0);break}if(l===Ur||o===Vr){if(117853008!==s.getUint32(c-20,!0))return void console.warn("invalid zip64 EOCD locator");const e=this.getUint64(s,c-12,!0)-t;if(101075792!==s.getUint32(e,!0))return void console.warn("invalid zip64 EOCD record");o=this.getUint64(s,e+32,!0),l=this.getUint64(s,e+48,!0)}if(l>=t)l-=t;else if(l<t&&l>0)throw new Hr(l,t-l);if(l>=r||l<0)for(l=-1,o=Vr;++l<r&&80!==e[l]&&75!==e[l+1]&&1!==e[l+2]&&2!==e[l+3];);for(c-=46;--o>=0&&l<c&&1347092738==s.getUint32(l);){const t=s.getUint16(l+8,!0);let r=s.getUint32(l+20,!0),o=s.getUint32(l+24,!0);const c=s.getUint16(l+28,!0),u=s.getUint16(l+30,!0),h=s.getUint16(l+32,!0),f=8===s.getUint16(l+10,!0);let d=s.getUint32(l+42,!0);const m=(2048&t?i:n).decode(e.subarray(l+46,l+46+c));if(r===Ur||o===Ur||d===Ur){let e=l+46+c;const t=e+u-3;for(;e<t;){const t=s.getUint16(e,!0);let i=s.getUint16(e+2,!0);e+=4,1===t&&(o===Ur&&i>=8&&(o=this.getUint64(s,e,!0),e+=8,i-=8),r===Ur&&i>=8&&(r=this.getUint64(s,e,!0),e+=8,i-=8),d===Ur&&i>=8&&(d=this.getUint64(s,e,!0),e+=8,i-=8)),e+=i}}m.endsWith("/")||(a[m]={filename:m,deflate:f,uncompressedSize:o,compressedSize:r,localEntryOffset:d},u||(a[m].offset=30+c+d)),l+=46+c+u+h}return a}getCompressedSize(e){if(null===this.entries)return 0;const t=this.entries[e];return t?isNaN(t.compressedSize)?0:t.compressedSize:0}async loadFile(e,{offset:t=0,length:r=-1,signal:s=null,unzip:i=!1,computeHash:n=null}={}){null===this.entries&&await this.load();const a=this.entries[e];if(!a)return null;if(void 0===a.offset){const e=await this.loader.getRange(a.localEntryOffset,30),t=new DataView(e.buffer,e.byteOffset,e.byteLength),r=t.getUint16(26,!0),s=t.getUint16(28,!0);a.offset=30+r+s+a.localEntryOffset,this.entriesUpdated=!0}r=r<0?a.compressedSize:Math.min(r,a.compressedSize-t),t+=a.offset;let o=(await this.loader.getRange(t,r,!0,s)).getReader(),l=null;const c=e=>n?(l=new Mr(e),l):e;return i?a.deflate?(o=new O.UU(new O.UU(o,"deflate")),o=c(o)):(o=c(o),o=new O.UU(o)):(o=new O.UU(o,a.deflate?"deflate":null),o=c(o)),l&&await l.initHasher(),{reader:o,hasher:l}}getUint64(e,t,r){const s=e.getUint32(t,r),i=e.getUint32(t+4,r),n=r?s+2**32*i:2**32*s+i;return Number.isSafeInteger(n)||console.warn(n,"exceeds MAX_SAFE_INTEGER. Precision may be lost"),n}}var Wr=r(9742),jr=r(9066);function qr(e,t,r){var s;return e instanceof Object==!1?r:null!==(s=e[t])&&void 0!==s?s:r}function zr(e,t=0,r=e.byteLength-t,s=!1){let i="";for(const n of new Uint8Array(e,t,r)){const e=n.toString(16).toUpperCase();1===e.length&&(i+="0"),i+=e,s&&(i+=" ")}return i.trim()}function Kr(e,t){let r=0;if(1===e.length)return e[0];for(let s=e.length-1;s>=0;s--)r+=e[e.length-1-s]*Math.pow(2,t*s);return r}function Qr(e,t,r=-1){const s=r;let i=e,n=0,a=Math.pow(2,t);for(let r=1;r<8;r++){if(e<a){let e;if(s<0)e=new ArrayBuffer(r),n=r;else{if(s<r)return new ArrayBuffer(0);e=new ArrayBuffer(s),n=s}const a=new Uint8Array(e);for(let e=r-1;e>=0;e--){const r=Math.pow(2,e*t);a[n-e-1]=Math.floor(i/r),i-=a[n-e-1]*r}return e}a*=Math.pow(2,t)}return new ArrayBuffer(0)}function Jr(...e){let t=0,r=0;for(const r of e)t+=r.byteLength;const s=new ArrayBuffer(t),i=new Uint8Array(s);for(const t of e)i.set(new Uint8Array(t),r),r+=t.byteLength;return s}function Gr(...e){let t=0,r=0;for(const r of e)t+=r.length;const s=new ArrayBuffer(t),i=new Uint8Array(s);for(const t of e)i.set(t,r),r+=t.length;return i}function Zr(){const e=new Uint8Array(this.valueHex);if(this.valueHex.byteLength>=2){const t=255===e[0]&&128&e[1],r=0===e[0]&&0==(128&e[1]);(t||r)&&this.warnings.push("Needlessly long format")}const t=new ArrayBuffer(this.valueHex.byteLength),r=new Uint8Array(t);for(let e=0;e<this.valueHex.byteLength;e++)r[e]=0;r[0]=128&e[0];const s=Kr(r,8),i=new ArrayBuffer(this.valueHex.byteLength),n=new Uint8Array(i);for(let t=0;t<this.valueHex.byteLength;t++)n[t]=e[t];n[0]&=127;return Kr(n,8)-s}function Xr(e,t){if(e.byteLength!==t.byteLength)return!1;const r=new Uint8Array(e),s=new Uint8Array(t);for(let e=0;e<r.length;e++)if(r[e]!==s[e])return!1;return!0}function Yr(e,t){const r=e.toString(10);if(t<r.length)return"";const s=t-r.length,i=new Array(s);for(let e=0;e<s;e++)i[e]="0";return i.join("").concat(r)}const $r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",es="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=";function ts(e,t=!1,r=!1,s=!1){let i=0,n=0,a=0,o="";const l=t?es:$r;if(s){let t=0;for(let r=0;r<e.length;r++)if(0!==e.charCodeAt(r)){t=r;break}e=e.slice(t)}for(;i<e.length;){const t=e.charCodeAt(i++);i>=e.length&&(n=1);const s=e.charCodeAt(i++);i>=e.length&&(a=1);const c=e.charCodeAt(i++),u=t>>2,h=(3&t)<<4|s>>4;let f=(15&s)<<2|c>>6,d=63&c;1===n?f=d=64:1===a&&(d=64),o+=r?64===f?`${l.charAt(u)}${l.charAt(h)}`:64===d?`${l.charAt(u)}${l.charAt(h)}${l.charAt(f)}`:`${l.charAt(u)}${l.charAt(h)}${l.charAt(f)}${l.charAt(d)}`:`${l.charAt(u)}${l.charAt(h)}${l.charAt(f)}${l.charAt(d)}`}return o}function rs(e,t=!1,r=!1){const s=t?es:$r;function i(e){for(let t=0;t<64;t++)if(s.charAt(t)===e)return t;return 64}function n(e){return 64===e?0:e}let a=0,o="";for(;a<e.length;){const t=i(e.charAt(a++)),r=a>=e.length?0:i(e.charAt(a++)),s=a>=e.length?0:i(e.charAt(a++)),l=a>=e.length?0:i(e.charAt(a++)),c=n(t)<<2|n(r)>>4,u=(15&n(r))<<4|n(s)>>2,h=(3&n(s))<<6|n(l);o+=String.fromCharCode(c),64!==s&&(o+=String.fromCharCode(u)),64!==l&&(o+=String.fromCharCode(h))}if(r){let e=-1;for(let t=o.length-1;t>=0;t--)if(0!==o.charCodeAt(t)){e=t;break}o=-1!==e?o.slice(0,e+1):""}return o}function ss(e){let t="";const r=new Uint8Array(e);for(const e of r)t+=String.fromCharCode(e);return t}function is(e){const t=e.length,r=new ArrayBuffer(t),s=new Uint8Array(r);for(let r=0;r<t;r++)s[r]=e.charCodeAt(r);return r}const ns=Math.log(2);function as(e){const t=Math.log(e)/ns,r=Math.floor(t),s=Math.round(t);return r===s?r:s}function os(e,t){for(const r of t)delete e[r]}
/*!
 * Copyright (c) 2014, GMO GlobalSign
 * Copyright (c) 2015-2022, Peculiar Ventures
 * All rights reserved.
 * 
 * Author 2014-2019, Yury Strozhevsky
 * 
 * Redistribution and use in source and binary forms, with or without modification,
 * are permitted provided that the following conditions are met:
 * 
 * * Redistributions of source code must retain the above copyright notice, this
 *   list of conditions and the following disclaimer.
 * 
 * * Redistributions in binary form must reproduce the above copyright notice, this
 *   list of conditions and the following disclaimer in the documentation and/or
 *   other materials provided with the distribution.
 * 
 * * Neither the name of the copyright holder nor the names of its
 *   contributors may be used to endorse or promote products derived from
 *   this software without specific prior written permission.
 * 
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
 * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
 * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR
 * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
 * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
 * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON
 * ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 * 
 */
function ls(){if("undefined"==typeof BigInt)throw new Error("BigInt is not defined. Your environment doesn't implement BigInt.")}function cs(e){let t=0,r=0;for(let r=0;r<e.length;r++){t+=e[r].byteLength}const s=new Uint8Array(t);for(let t=0;t<e.length;t++){const i=e[t];s.set(new Uint8Array(i),r),r+=i.byteLength}return s.buffer}function us(e,t,r,s){return t instanceof Uint8Array?t.byteLength?r<0?(e.error="Wrong parameter: inputOffset less than zero",!1):s<0?(e.error="Wrong parameter: inputLength less than zero",!1):!(t.byteLength-r-s<0)||(e.error="End of input reached before message was fully decoded (inconsistent offset and length values)",!1):(e.error="Wrong parameter: inputBuffer has zero length",!1):(e.error="Wrong parameter: inputBuffer must be 'Uint8Array'",!1)}class hs{constructor(){this.items=[]}write(e){this.items.push(e)}final(){return cs(this.items)}}const fs=[new Uint8Array([1])],ds="0123456789",ms="name",ps="valueHexView",gs="",ws=new ArrayBuffer(0),ys=new Uint8Array(0),bs="EndOfContent",vs="OCTET STRING",As="BIT STRING";function ks(e){var t;return(t=class extends e{constructor(...e){var t;super(...e);const r=e[0]||{};this.isHexOnly=null!==(t=r.isHexOnly)&&void 0!==t&&t,this.valueHexView=r.valueHex?jr.vJ.toUint8Array(r.valueHex):ys}get valueHex(){return this.valueHexView.slice().buffer}set valueHex(e){this.valueHexView=new Uint8Array(e)}fromBER(e,t,r){const s=e instanceof ArrayBuffer?new Uint8Array(e):e;if(!us(this,s,t,r))return-1;const i=t+r;return this.valueHexView=s.subarray(t,i),this.valueHexView.length?(this.blockLength=r,i):(this.warnings.push("Zero buffer length"),t)}toBER(e=!1){return this.isHexOnly?e?new ArrayBuffer(this.valueHexView.byteLength):this.valueHexView.byteLength===this.valueHexView.buffer.byteLength?this.valueHexView.buffer:this.valueHexView.slice().buffer:(this.error="Flag 'isHexOnly' is not set, abort",ws)}toJSON(){return{...super.toJSON(),isHexOnly:this.isHexOnly,valueHex:jr.ep.ToHex(this.valueHexView)}}}).NAME="hexBlock",t}class _s{constructor({blockLength:e=0,error:t="",warnings:r=[],valueBeforeDecode:s=ys}={}){this.blockLength=e,this.error=t,this.warnings=r,this.valueBeforeDecodeView=jr.vJ.toUint8Array(s)}static blockName(){return this.NAME}get valueBeforeDecode(){return this.valueBeforeDecodeView.slice().buffer}set valueBeforeDecode(e){this.valueBeforeDecodeView=new Uint8Array(e)}toJSON(){return{blockName:this.constructor.NAME,blockLength:this.blockLength,error:this.error,warnings:this.warnings,valueBeforeDecode:jr.ep.ToHex(this.valueBeforeDecodeView)}}}_s.NAME="baseBlock";class Ss extends _s{fromBER(e,t,r){throw TypeError("User need to make a specific function in a class which extends 'ValueBlock'")}toBER(e,t){throw TypeError("User need to make a specific function in a class which extends 'ValueBlock'")}}Ss.NAME="valueBlock";class Es extends(ks(_s)){constructor({idBlock:e={}}={}){var t,r,s,i;super(),e?(this.isHexOnly=null!==(t=e.isHexOnly)&&void 0!==t&&t,this.valueHexView=e.valueHex?jr.vJ.toUint8Array(e.valueHex):ys,this.tagClass=null!==(r=e.tagClass)&&void 0!==r?r:-1,this.tagNumber=null!==(s=e.tagNumber)&&void 0!==s?s:-1,this.isConstructed=null!==(i=e.isConstructed)&&void 0!==i&&i):(this.tagClass=-1,this.tagNumber=-1,this.isConstructed=!1)}toBER(e=!1){let t=0;switch(this.tagClass){case 1:t|=0;break;case 2:t|=64;break;case 3:t|=128;break;case 4:t|=192;break;default:return this.error="Unknown tag class",ws}if(this.isConstructed&&(t|=32),this.tagNumber<31&&!this.isHexOnly){const r=new Uint8Array(1);if(!e){let e=this.tagNumber;e&=31,t|=e,r[0]=t}return r.buffer}if(!this.isHexOnly){const r=Qr(this.tagNumber,7),s=new Uint8Array(r),i=r.byteLength,n=new Uint8Array(i+1);if(n[0]=31|t,!e){for(let e=0;e<i-1;e++)n[e+1]=128|s[e];n[i]=s[i-1]}return n.buffer}const r=new Uint8Array(this.valueHexView.byteLength+1);if(r[0]=31|t,!e){const e=this.valueHexView;for(let t=0;t<e.length-1;t++)r[t+1]=128|e[t];r[this.valueHexView.byteLength]=e[e.length-1]}return r.buffer}fromBER(e,t,r){const s=jr.vJ.toUint8Array(e);if(!us(this,s,t,r))return-1;const i=s.subarray(t,t+r);if(0===i.length)return this.error="Zero buffer length",-1;switch(192&i[0]){case 0:this.tagClass=1;break;case 64:this.tagClass=2;break;case 128:this.tagClass=3;break;case 192:this.tagClass=4;break;default:return this.error="Unknown tag class",-1}this.isConstructed=32==(32&i[0]),this.isHexOnly=!1;const n=31&i[0];if(31!==n)this.tagNumber=n,this.blockLength=1;else{let e=1,t=this.valueHexView=new Uint8Array(255),r=255;for(;128&i[e];){if(t[e-1]=127&i[e],e++,e>=i.length)return this.error="End of input reached before message was fully decoded",-1;if(e===r){r+=255;const e=new Uint8Array(r);for(let r=0;r<t.length;r++)e[r]=t[r];t=this.valueHexView=new Uint8Array(r)}}this.blockLength=e+1,t[e-1]=127&i[e];const s=new Uint8Array(e);for(let r=0;r<e;r++)s[r]=t[r];t=this.valueHexView=new Uint8Array(e),t.set(s),this.blockLength<=9?this.tagNumber=Kr(t,7):(this.isHexOnly=!0,this.warnings.push("Tag too long, represented as hex-coded"))}if(1===this.tagClass&&this.isConstructed)switch(this.tagNumber){case 1:case 2:case 5:case 6:case 9:case 13:case 14:case 23:case 24:case 31:case 32:case 33:case 34:return this.error="Constructed encoding used for primitive type",-1}return t+this.blockLength}toJSON(){return{...super.toJSON(),tagClass:this.tagClass,tagNumber:this.tagNumber,isConstructed:this.isConstructed}}}Es.NAME="identificationBlock";class Cs extends _s{constructor({lenBlock:e={}}={}){var t,r,s;super(),this.isIndefiniteForm=null!==(t=e.isIndefiniteForm)&&void 0!==t&&t,this.longFormUsed=null!==(r=e.longFormUsed)&&void 0!==r&&r,this.length=null!==(s=e.length)&&void 0!==s?s:0}fromBER(e,t,r){const s=jr.vJ.toUint8Array(e);if(!us(this,s,t,r))return-1;const i=s.subarray(t,t+r);if(0===i.length)return this.error="Zero buffer length",-1;if(255===i[0])return this.error="Length block 0xFF is reserved by standard",-1;if(this.isIndefiniteForm=128===i[0],this.isIndefiniteForm)return this.blockLength=1,t+this.blockLength;if(this.longFormUsed=!!(128&i[0]),!1===this.longFormUsed)return this.length=i[0],this.blockLength=1,t+this.blockLength;const n=127&i[0];if(n>8)return this.error="Too big integer",-1;if(n+1>i.length)return this.error="End of input reached before message was fully decoded",-1;const a=t+1,o=s.subarray(a,a+n);return 0===o[n-1]&&this.warnings.push("Needlessly long encoded length"),this.length=Kr(o,8),this.longFormUsed&&this.length<=127&&this.warnings.push("Unnecessary usage of long length form"),this.blockLength=n+1,t+this.blockLength}toBER(e=!1){let t,r;if(this.length>127&&(this.longFormUsed=!0),this.isIndefiniteForm)return t=new ArrayBuffer(1),!1===e&&(r=new Uint8Array(t),r[0]=128),t;if(this.longFormUsed){const s=Qr(this.length,8);if(s.byteLength>127)return this.error="Too big length",ws;if(t=new ArrayBuffer(s.byteLength+1),e)return t;const i=new Uint8Array(s);r=new Uint8Array(t),r[0]=128|s.byteLength;for(let e=0;e<s.byteLength;e++)r[e+1]=i[e];return t}return t=new ArrayBuffer(1),!1===e&&(r=new Uint8Array(t),r[0]=this.length),t}toJSON(){return{...super.toJSON(),isIndefiniteForm:this.isIndefiniteForm,longFormUsed:this.longFormUsed,length:this.length}}}Cs.NAME="lengthBlock";const Ns={};class Bs extends _s{constructor({name:e="",optional:t=!1,primitiveSchema:r,...s}={},i){super(s),this.name=e,this.optional=t,r&&(this.primitiveSchema=r),this.idBlock=new Es(s),this.lenBlock=new Cs(s),this.valueBlock=i?new i(s):new Ss(s)}fromBER(e,t,r){const s=this.valueBlock.fromBER(e,t,this.lenBlock.isIndefiniteForm?r:this.lenBlock.length);return-1===s?(this.error=this.valueBlock.error,s):(this.idBlock.error.length||(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length||(this.blockLength+=this.lenBlock.blockLength),this.valueBlock.error.length||(this.blockLength+=this.valueBlock.blockLength),s)}toBER(e,t){const r=t||new hs;t||Is(this);const s=this.idBlock.toBER(e);if(r.write(s),this.lenBlock.isIndefiniteForm)r.write(new Uint8Array([128]).buffer),this.valueBlock.toBER(e,r),r.write(new ArrayBuffer(2));else{const t=this.valueBlock.toBER(e);this.lenBlock.length=t.byteLength;const s=this.lenBlock.toBER(e);r.write(s),r.write(t)}return t?ws:r.final()}toJSON(){const e={...super.toJSON(),idBlock:this.idBlock.toJSON(),lenBlock:this.lenBlock.toJSON(),valueBlock:this.valueBlock.toJSON(),name:this.name,optional:this.optional};return this.primitiveSchema&&(e.primitiveSchema=this.primitiveSchema.toJSON()),e}toString(e="ascii"){return"ascii"===e?this.onAsciiEncoding():jr.ep.ToHex(this.toBER())}onAsciiEncoding(){return`${this.constructor.NAME} : ${jr.ep.ToHex(this.valueBlock.valueBeforeDecodeView)}`}isEqual(e){if(this===e)return!0;if(!(e instanceof this.constructor))return!1;return Xr(this.toBER(),e.toBER())}}function Is(e){if(e instanceof Ns.Constructed)for(const t of e.valueBlock.value)Is(t)&&(e.lenBlock.isIndefiniteForm=!0);return!!e.lenBlock.isIndefiniteForm}Bs.NAME="BaseBlock";class xs extends Bs{constructor({value:e="",...t}={},r){super(t,r),e&&this.fromString(e)}getValue(){return this.valueBlock.value}setValue(e){this.valueBlock.value=e}fromBER(e,t,r){const s=this.valueBlock.fromBER(e,t,this.lenBlock.isIndefiniteForm?r:this.lenBlock.length);return-1===s?(this.error=this.valueBlock.error,s):(this.fromBuffer(this.valueBlock.valueHexView),this.idBlock.error.length||(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length||(this.blockLength+=this.lenBlock.blockLength),this.valueBlock.error.length||(this.blockLength+=this.valueBlock.blockLength),s)}onAsciiEncoding(){return`${this.constructor.NAME} : '${this.valueBlock.value}'`}}xs.NAME="BaseStringBlock";class Ts extends(ks(Ss)){constructor({isHexOnly:e=!0,...t}={}){super(t),this.isHexOnly=e}}var Rs,Os,Ps,Ds,Ls,Us,Vs,Hs,Ms,Fs,Ws,js,qs,zs,Ks,Qs,Js,Gs,Zs,Xs,Ys,$s,ei,ti,ri,si,ii,ni,ai,oi,li,ci,ui;Ts.NAME="PrimitiveValueBlock";class hi extends Bs{constructor(e={}){super(e,Ts),this.idBlock.isConstructed=!1}}function fi(e,t=0,r=e.length){const s=t;let i=new Bs({},Ss);const n=new _s;if(!us(n,e,t,r))return i.error=n.error,{offset:-1,result:i};if(!e.subarray(t,t+r).length)return i.error="Zero buffer length",{offset:-1,result:i};let a=i.idBlock.fromBER(e,t,r);if(i.idBlock.warnings.length&&i.warnings.concat(i.idBlock.warnings),-1===a)return i.error=i.idBlock.error,{offset:-1,result:i};if(t=a,r-=i.idBlock.blockLength,a=i.lenBlock.fromBER(e,t,r),i.lenBlock.warnings.length&&i.warnings.concat(i.lenBlock.warnings),-1===a)return i.error=i.lenBlock.error,{offset:-1,result:i};if(t=a,r-=i.lenBlock.blockLength,!i.idBlock.isConstructed&&i.lenBlock.isIndefiniteForm)return i.error="Indefinite length form used for primitive encoding form",{offset:-1,result:i};let o=Bs;if(1===i.idBlock.tagClass){if(i.idBlock.tagNumber>=37&&!1===i.idBlock.isHexOnly)return i.error="UNIVERSAL 37 and upper tags are reserved by ASN.1 standard",{offset:-1,result:i};switch(i.idBlock.tagNumber){case 0:if(i.idBlock.isConstructed&&i.lenBlock.length>0)return i.error="Type [UNIVERSAL 0] is reserved",{offset:-1,result:i};o=Ns.EndOfContent;break;case 1:o=Ns.Boolean;break;case 2:o=Ns.Integer;break;case 3:o=Ns.BitString;break;case 4:o=Ns.OctetString;break;case 5:o=Ns.Null;break;case 6:o=Ns.ObjectIdentifier;break;case 10:o=Ns.Enumerated;break;case 12:o=Ns.Utf8String;break;case 13:o=Ns.RelativeObjectIdentifier;break;case 14:o=Ns.TIME;break;case 15:return i.error="[UNIVERSAL 15] is reserved by ASN.1 standard",{offset:-1,result:i};case 16:o=Ns.Sequence;break;case 17:o=Ns.Set;break;case 18:o=Ns.NumericString;break;case 19:o=Ns.PrintableString;break;case 20:o=Ns.TeletexString;break;case 21:o=Ns.VideotexString;break;case 22:o=Ns.IA5String;break;case 23:o=Ns.UTCTime;break;case 24:o=Ns.GeneralizedTime;break;case 25:o=Ns.GraphicString;break;case 26:o=Ns.VisibleString;break;case 27:o=Ns.GeneralString;break;case 28:o=Ns.UniversalString;break;case 29:o=Ns.CharacterString;break;case 30:o=Ns.BmpString;break;case 31:o=Ns.DATE;break;case 32:o=Ns.TimeOfDay;break;case 33:o=Ns.DateTime;break;case 34:o=Ns.Duration;break;default:{const e=i.idBlock.isConstructed?new Ns.Constructed:new Ns.Primitive;e.idBlock=i.idBlock,e.lenBlock=i.lenBlock,e.warnings=i.warnings,i=e}}}else o=i.idBlock.isConstructed?Ns.Constructed:Ns.Primitive;return i=function(e,t){if(e instanceof t)return e;const r=new t;return r.idBlock=e.idBlock,r.lenBlock=e.lenBlock,r.warnings=e.warnings,r.valueBeforeDecodeView=e.valueBeforeDecodeView,r}(i,o),a=i.fromBER(e,t,i.lenBlock.isIndefiniteForm?r:i.lenBlock.length),i.valueBeforeDecodeView=e.subarray(s,s+i.blockLength),{offset:a,result:i}}function di(e){if(!e.byteLength){const e=new Bs({},Ss);return e.error="Input buffer has zero length",{offset:-1,result:e}}return fi(jr.vJ.toUint8Array(e).slice(),0,e.byteLength)}Rs=hi,Ns.Primitive=Rs,hi.NAME="PRIMITIVE";class mi extends Ss{constructor({value:e=[],isIndefiniteForm:t=!1,...r}={}){super(r),this.value=e,this.isIndefiniteForm=t}fromBER(e,t,r){const s=jr.vJ.toUint8Array(e);if(!us(this,s,t,r))return-1;if(this.valueBeforeDecodeView=s.subarray(t,t+r),0===this.valueBeforeDecodeView.length)return this.warnings.push("Zero buffer length"),t;let i=t;for(;n=this.isIndefiniteForm,a=r,(n?1:a)>0;){const e=fi(s,i,r);if(-1===e.offset)return this.error=e.result.error,this.warnings.concat(e.result.warnings),-1;if(i=e.offset,this.blockLength+=e.result.blockLength,r-=e.result.blockLength,this.value.push(e.result),this.isIndefiniteForm&&e.result.constructor.NAME===bs)break}var n,a;return this.isIndefiniteForm&&(this.value[this.value.length-1].constructor.NAME===bs?this.value.pop():this.warnings.push("No EndOfContent block encoded")),i}toBER(e,t){const r=t||new hs;for(let t=0;t<this.value.length;t++)this.value[t].toBER(e,r);return t?ws:r.final()}toJSON(){const e={...super.toJSON(),isIndefiniteForm:this.isIndefiniteForm,value:[]};for(const t of this.value)e.value.push(t.toJSON());return e}}mi.NAME="ConstructedValueBlock";class pi extends Bs{constructor(e={}){super(e,mi),this.idBlock.isConstructed=!0}fromBER(e,t,r){this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm;const s=this.valueBlock.fromBER(e,t,this.lenBlock.isIndefiniteForm?r:this.lenBlock.length);return-1===s?(this.error=this.valueBlock.error,s):(this.idBlock.error.length||(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length||(this.blockLength+=this.lenBlock.blockLength),this.valueBlock.error.length||(this.blockLength+=this.valueBlock.blockLength),s)}onAsciiEncoding(){const e=[];for(const t of this.valueBlock.value)e.push(t.toString("ascii").split("\n").map((e=>`  ${e}`)).join("\n"));const t=3===this.idBlock.tagClass?`[${this.idBlock.tagNumber}]`:this.constructor.NAME;return e.length?`${t} :\n${e.join("\n")}`:`${t} :`}}Os=pi,Ns.Constructed=Os,pi.NAME="CONSTRUCTED";class gi extends Ss{fromBER(e,t,r){return t}toBER(e){return ws}}gi.override="EndOfContentValueBlock";class wi extends Bs{constructor(e={}){super(e,gi),this.idBlock.tagClass=1,this.idBlock.tagNumber=0}}Ps=wi,Ns.EndOfContent=Ps,wi.NAME=bs;class yi extends Bs{constructor(e={}){super(e,Ss),this.idBlock.tagClass=1,this.idBlock.tagNumber=5}fromBER(e,t,r){return this.lenBlock.length>0&&this.warnings.push("Non-zero length of value block for Null type"),this.idBlock.error.length||(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length||(this.blockLength+=this.lenBlock.blockLength),this.blockLength+=r,t+r>e.byteLength?(this.error="End of input reached before message was fully decoded (inconsistent offset and length values)",-1):t+r}toBER(e,t){const r=new ArrayBuffer(2);if(!e){const e=new Uint8Array(r);e[0]=5,e[1]=0}return t&&t.write(r),r}onAsciiEncoding(){return`${this.constructor.NAME}`}}Ds=yi,Ns.Null=Ds,yi.NAME="NULL";class bi extends(ks(Ss)){constructor({value:e,...t}={}){super(t),t.valueHex?this.valueHexView=jr.vJ.toUint8Array(t.valueHex):this.valueHexView=new Uint8Array(1),e&&(this.value=e)}get value(){for(const e of this.valueHexView)if(e>0)return!0;return!1}set value(e){this.valueHexView[0]=e?255:0}fromBER(e,t,r){const s=jr.vJ.toUint8Array(e);return us(this,s,t,r)?(this.valueHexView=s.subarray(t,t+r),r>1&&this.warnings.push("Boolean value encoded in more then 1 octet"),this.isHexOnly=!0,Zr.call(this),this.blockLength=r,t+r):-1}toBER(){return this.valueHexView.slice()}toJSON(){return{...super.toJSON(),value:this.value}}}bi.NAME="BooleanValueBlock";class vi extends Bs{constructor(e={}){super(e,bi),this.idBlock.tagClass=1,this.idBlock.tagNumber=1}getValue(){return this.valueBlock.value}setValue(e){this.valueBlock.value=e}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.getValue}`}}Ls=vi,Ns.Boolean=Ls,vi.NAME="BOOLEAN";class Ai extends(ks(mi)){constructor({isConstructed:e=!1,...t}={}){super(t),this.isConstructed=e}fromBER(e,t,r){let s=0;if(this.isConstructed){if(this.isHexOnly=!1,s=mi.prototype.fromBER.call(this,e,t,r),-1===s)return s;for(let e=0;e<this.value.length;e++){const t=this.value[e].constructor.NAME;if(t===bs){if(this.isIndefiniteForm)break;return this.error="EndOfContent is unexpected, OCTET STRING may consists of OCTET STRINGs only",-1}if(t!==vs)return this.error="OCTET STRING may consists of OCTET STRINGs only",-1}}else this.isHexOnly=!0,s=super.fromBER(e,t,r),this.blockLength=r;return s}toBER(e,t){return this.isConstructed?mi.prototype.toBER.call(this,e,t):e?new ArrayBuffer(this.valueHexView.byteLength):this.valueHexView.slice().buffer}toJSON(){return{...super.toJSON(),isConstructed:this.isConstructed}}}Ai.NAME="OctetStringValueBlock";class ki extends Bs{constructor({idBlock:e={},lenBlock:t={},...r}={}){var s,i;null!==(s=r.isConstructed)&&void 0!==s||(r.isConstructed=!!(null===(i=r.value)||void 0===i?void 0:i.length)),super({idBlock:{isConstructed:r.isConstructed,...e},lenBlock:{...t,isIndefiniteForm:!!r.isIndefiniteForm},...r},Ai),this.idBlock.tagClass=1,this.idBlock.tagNumber=4}fromBER(e,t,r){if(this.valueBlock.isConstructed=this.idBlock.isConstructed,this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm,0===r)return 0===this.idBlock.error.length&&(this.blockLength+=this.idBlock.blockLength),0===this.lenBlock.error.length&&(this.blockLength+=this.lenBlock.blockLength),t;if(!this.valueBlock.isConstructed){const s=(e instanceof ArrayBuffer?new Uint8Array(e):e).subarray(t,t+r);try{if(s.byteLength){const e=fi(s,0,s.byteLength);-1!==e.offset&&e.offset===r&&(this.valueBlock.value=[e.result])}}catch(e){}}return super.fromBER(e,t,r)}onAsciiEncoding(){return this.valueBlock.isConstructed||this.valueBlock.value&&this.valueBlock.value.length?pi.prototype.onAsciiEncoding.call(this):`${this.constructor.NAME} : ${jr.ep.ToHex(this.valueBlock.valueHexView)}`}getValue(){if(!this.idBlock.isConstructed)return this.valueBlock.valueHexView.slice().buffer;const e=[];for(const t of this.valueBlock.value)t instanceof ki&&e.push(t.valueBlock.valueHexView);return jr.vJ.concat(e)}}Us=ki,Ns.OctetString=Us,ki.NAME=vs;class _i extends(ks(mi)){constructor({unusedBits:e=0,isConstructed:t=!1,...r}={}){super(r),this.unusedBits=e,this.isConstructed=t,this.blockLength=this.valueHexView.byteLength}fromBER(e,t,r){if(!r)return t;let s=-1;if(this.isConstructed){if(s=mi.prototype.fromBER.call(this,e,t,r),-1===s)return s;for(const e of this.value){const t=e.constructor.NAME;if(t===bs){if(this.isIndefiniteForm)break;return this.error="EndOfContent is unexpected, BIT STRING may consists of BIT STRINGs only",-1}if(t!==As)return this.error="BIT STRING may consists of BIT STRINGs only",-1;const r=e.valueBlock;if(this.unusedBits>0&&r.unusedBits>0)return this.error='Using of "unused bits" inside constructive BIT STRING allowed for least one only',-1;this.unusedBits=r.unusedBits}return s}const i=jr.vJ.toUint8Array(e);if(!us(this,i,t,r))return-1;const n=i.subarray(t,t+r);if(this.unusedBits=n[0],this.unusedBits>7)return this.error="Unused bits for BitString must be in range 0-7",-1;if(!this.unusedBits){const e=n.subarray(1);try{if(e.byteLength){const t=fi(e,0,e.byteLength);-1!==t.offset&&t.offset===r-1&&(this.value=[t.result])}}catch(e){}}return this.valueHexView=n.subarray(1),this.blockLength=n.length,t+r}toBER(e,t){if(this.isConstructed)return mi.prototype.toBER.call(this,e,t);if(e)return new ArrayBuffer(this.valueHexView.byteLength+1);if(!this.valueHexView.byteLength)return ws;const r=new Uint8Array(this.valueHexView.length+1);return r[0]=this.unusedBits,r.set(this.valueHexView,1),r.buffer}toJSON(){return{...super.toJSON(),unusedBits:this.unusedBits,isConstructed:this.isConstructed}}}_i.NAME="BitStringValueBlock";class Si extends Bs{constructor({idBlock:e={},lenBlock:t={},...r}={}){var s,i;null!==(s=r.isConstructed)&&void 0!==s||(r.isConstructed=!!(null===(i=r.value)||void 0===i?void 0:i.length)),super({idBlock:{isConstructed:r.isConstructed,...e},lenBlock:{...t,isIndefiniteForm:!!r.isIndefiniteForm},...r},_i),this.idBlock.tagClass=1,this.idBlock.tagNumber=3}fromBER(e,t,r){return this.valueBlock.isConstructed=this.idBlock.isConstructed,this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm,super.fromBER(e,t,r)}onAsciiEncoding(){if(this.valueBlock.isConstructed||this.valueBlock.value&&this.valueBlock.value.length)return pi.prototype.onAsciiEncoding.call(this);{const e=[],t=this.valueBlock.valueHexView;for(const r of t)e.push(r.toString(2).padStart(8,"0"));const r=e.join("");return`${this.constructor.NAME} : ${r.substring(0,r.length-this.valueBlock.unusedBits)}`}}}function Ei(e,t){const r=new Uint8Array([0]),s=new Uint8Array(e),i=new Uint8Array(t);let n=s.slice(0);const a=n.length-1,o=i.slice(0),l=o.length-1;let c=0;let u=0;for(let e=l<a?a:l;e>=0;e--,u++){if(!0==u<o.length)c=n[a-u]+o[l-u]+r[0];else c=n[a-u]+r[0];if(r[0]=c/10,!0==u>=n.length)n=Gr(new Uint8Array([c%10]),n);else n[a-u]=c%10}return r[0]>0&&(n=Gr(r,n)),n}function Ci(e){if(e>=fs.length)for(let t=fs.length;t<=e;t++){const e=new Uint8Array([0]);let r=fs[t-1].slice(0);for(let t=r.length-1;t>=0;t--){const s=new Uint8Array([(r[t]<<1)+e[0]]);e[0]=s[0]/10,r[t]=s[0]%10}e[0]>0&&(r=Gr(e,r)),fs.push(r)}return fs[e]}function Ni(e,t){let r=0;const s=new Uint8Array(e),i=new Uint8Array(t),n=s.slice(0),a=n.length-1,o=i.slice(0),l=o.length-1;let c,u=0;for(let e=l;e>=0;e--,u++)if(c=n[a-u]-o[l-u]-r,!0==c<0)r=1,n[a-u]=c+10;else r=0,n[a-u]=c;if(r>0)for(let e=a-l+1;e>=0;e--,u++){if(c=n[a-u]-r,!(c<0)){r=0,n[a-u]=c;break}r=1,n[a-u]=c+10}return n.slice()}Vs=Si,Ns.BitString=Vs,Si.NAME=As;class Bi extends(ks(Ss)){constructor({value:e,...t}={}){super(t),this._valueDec=0,t.valueHex&&this.setValueHex(),void 0!==e&&(this.valueDec=e)}setValueHex(){this.valueHexView.length>=4?(this.warnings.push("Too big Integer for decoding, hex only"),this.isHexOnly=!0,this._valueDec=0):(this.isHexOnly=!1,this.valueHexView.length>0&&(this._valueDec=Zr.call(this)))}set valueDec(e){this._valueDec=e,this.isHexOnly=!1,this.valueHexView=new Uint8Array(function(e){const t=e<0?-1*e:e;let r=128;for(let s=1;s<8;s++){if(t<=r){if(e<0){const e=Qr(r-t,8,s);return new Uint8Array(e)[0]|=128,e}let i=Qr(t,8,s),n=new Uint8Array(i);if(128&n[0]){const e=i.slice(0),t=new Uint8Array(e);i=new ArrayBuffer(i.byteLength+1),n=new Uint8Array(i);for(let r=0;r<e.byteLength;r++)n[r+1]=t[r];n[0]=0}return i}r*=Math.pow(2,8)}return new ArrayBuffer(0)}(e))}get valueDec(){return this._valueDec}fromDER(e,t,r,s=0){const i=this.fromBER(e,t,r);if(-1===i)return i;const n=this.valueHexView;return 0===n[0]&&0!=(128&n[1])?this.valueHexView=n.subarray(1):0!==s&&n.length<s&&(s-n.length>1&&(s=n.length+1),this.valueHexView=n.subarray(s-n.length)),i}toDER(e=!1){const t=this.valueHexView;switch(!0){case 0!=(128&t[0]):{const e=new Uint8Array(this.valueHexView.length+1);e[0]=0,e.set(t,1),this.valueHexView=e}break;case 0===t[0]&&0==(128&t[1]):this.valueHexView=this.valueHexView.subarray(1)}return this.toBER(e)}fromBER(e,t,r){const s=super.fromBER(e,t,r);return-1===s||this.setValueHex(),s}toBER(e){return e?new ArrayBuffer(this.valueHexView.length):this.valueHexView.slice().buffer}toJSON(){return{...super.toJSON(),valueDec:this.valueDec}}toString(){const e=8*this.valueHexView.length-1;let t,r=new Uint8Array(8*this.valueHexView.length/3),s=0;const i=this.valueHexView;let n="",a=!1;for(let a=i.byteLength-1;a>=0;a--){t=i[a];for(let i=0;i<8;i++){if(1==(1&t))if(s===e)r=Ni(Ci(s),r),n="-";else r=Ei(r,Ci(s));s++,t>>=1}}for(let e=0;e<r.length;e++)r[e]&&(a=!0),a&&(n+=ds.charAt(r[e]));return!1===a&&(n+=ds.charAt(0)),n}}Hs=Bi,Bi.NAME="IntegerValueBlock",Object.defineProperty(Hs.prototype,"valueHex",{set:function(e){this.valueHexView=new Uint8Array(e),this.setValueHex()},get:function(){return this.valueHexView.slice().buffer}});class Ii extends Bs{constructor(e={}){super(e,Bi),this.idBlock.tagClass=1,this.idBlock.tagNumber=2}toBigInt(){return ls(),BigInt(this.valueBlock.toString())}static fromBigInt(e){ls();const t=BigInt(e),r=new hs,s=t.toString(16).replace(/^-/,""),i=new Uint8Array(jr.ep.FromHex(s));if(t<0){const e=new Uint8Array(i.length+(128&i[0]?1:0));e[0]|=128;const s=BigInt(`0x${jr.ep.ToHex(e)}`)+t,n=jr.vJ.toUint8Array(jr.ep.FromHex(s.toString(16)));n[0]|=128,r.write(n)}else 128&i[0]&&r.write(new Uint8Array([0])),r.write(i);return new Ii({valueHex:r.final()})}convertToDER(){const e=new Ii({valueHex:this.valueBlock.valueHexView});return e.valueBlock.toDER(),e}convertFromDER(){return new Ii({valueHex:0===this.valueBlock.valueHexView[0]?this.valueBlock.valueHexView.subarray(1):this.valueBlock.valueHexView})}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.valueBlock.toString()}`}}Ms=Ii,Ns.Integer=Ms,Ii.NAME="INTEGER";class xi extends Ii{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=10}}Fs=xi,Ns.Enumerated=Fs,xi.NAME="ENUMERATED";class Ti extends(ks(Ss)){constructor({valueDec:e=-1,isFirstSid:t=!1,...r}={}){super(r),this.valueDec=e,this.isFirstSid=t}fromBER(e,t,r){if(!r)return t;const s=jr.vJ.toUint8Array(e);if(!us(this,s,t,r))return-1;const i=s.subarray(t,t+r);this.valueHexView=new Uint8Array(r);for(let e=0;e<r&&(this.valueHexView[e]=127&i[e],this.blockLength++,0!=(128&i[e]));e++);const n=new Uint8Array(this.blockLength);for(let e=0;e<this.blockLength;e++)n[e]=this.valueHexView[e];return this.valueHexView=n,0!=(128&i[this.blockLength-1])?(this.error="End of input reached before message was fully decoded",-1):(0===this.valueHexView[0]&&this.warnings.push("Needlessly long format of SID encoding"),this.blockLength<=8?this.valueDec=Kr(this.valueHexView,7):(this.isHexOnly=!0,this.warnings.push("Too big SID for decoding, hex only")),t+this.blockLength)}set valueBigInt(e){ls();let t=BigInt(e).toString(2);for(;t.length%7;)t="0"+t;const r=new Uint8Array(t.length/7);for(let e=0;e<r.length;e++)r[e]=parseInt(t.slice(7*e,7*e+7),2)+(e+1<r.length?128:0);this.fromBER(r.buffer,0,r.length)}toBER(e){if(this.isHexOnly){if(e)return new ArrayBuffer(this.valueHexView.byteLength);const t=this.valueHexView,r=new Uint8Array(this.blockLength);for(let e=0;e<this.blockLength-1;e++)r[e]=128|t[e];return r[this.blockLength-1]=t[this.blockLength-1],r.buffer}const t=Qr(this.valueDec,7);if(0===t.byteLength)return this.error="Error during encoding SID value",ws;const r=new Uint8Array(t.byteLength);if(!e){const e=new Uint8Array(t),s=t.byteLength-1;for(let t=0;t<s;t++)r[t]=128|e[t];r[s]=e[s]}return r}toString(){let e="";if(this.isHexOnly)e=jr.ep.ToHex(this.valueHexView);else if(this.isFirstSid){let t=this.valueDec;this.valueDec<=39?e="0.":this.valueDec<=79?(e="1.",t-=40):(e="2.",t-=80),e+=t.toString()}else e=this.valueDec.toString();return e}toJSON(){return{...super.toJSON(),valueDec:this.valueDec,isFirstSid:this.isFirstSid}}}Ti.NAME="sidBlock";class Ri extends Ss{constructor({value:e="",...t}={}){super(t),this.value=[],e&&this.fromString(e)}fromBER(e,t,r){let s=t;for(;r>0;){const t=new Ti;if(s=t.fromBER(e,s,r),-1===s)return this.blockLength=0,this.error=t.error,s;0===this.value.length&&(t.isFirstSid=!0),this.blockLength+=t.blockLength,r-=t.blockLength,this.value.push(t)}return s}toBER(e){const t=[];for(let r=0;r<this.value.length;r++){const s=this.value[r].toBER(e);if(0===s.byteLength)return this.error=this.value[r].error,ws;t.push(s)}return cs(t)}fromString(e){this.value=[];let t=0,r=0,s="",i=!1;do{if(r=e.indexOf(".",t),s=-1===r?e.substring(t):e.substring(t,r),t=r+1,i){const e=this.value[0];let t=0;switch(e.valueDec){case 0:break;case 1:t=40;break;case 2:t=80;break;default:return void(this.value=[])}const r=parseInt(s,10);if(isNaN(r))return;e.valueDec=r+t,i=!1}else{const e=new Ti;if(s>Number.MAX_SAFE_INTEGER){ls();const t=BigInt(s);e.valueBigInt=t}else if(e.valueDec=parseInt(s,10),isNaN(e.valueDec))return;this.value.length||(e.isFirstSid=!0,i=!0),this.value.push(e)}}while(-1!==r)}toString(){let e="",t=!1;for(let r=0;r<this.value.length;r++){t=this.value[r].isHexOnly;let s=this.value[r].toString();0!==r&&(e=`${e}.`),t?(s=`{${s}}`,this.value[r].isFirstSid?e=`2.{${s} - 80}`:e+=s):e+=s}return e}toJSON(){const e={...super.toJSON(),value:this.toString(),sidArray:[]};for(let t=0;t<this.value.length;t++)e.sidArray.push(this.value[t].toJSON());return e}}Ri.NAME="ObjectIdentifierValueBlock";class Oi extends Bs{constructor(e={}){super(e,Ri),this.idBlock.tagClass=1,this.idBlock.tagNumber=6}getValue(){return this.valueBlock.toString()}setValue(e){this.valueBlock.fromString(e)}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.valueBlock.toString()||"empty"}`}toJSON(){return{...super.toJSON(),value:this.getValue()}}}Ws=Oi,Ns.ObjectIdentifier=Ws,Oi.NAME="OBJECT IDENTIFIER";class Pi extends(ks(_s)){constructor({valueDec:e=0,...t}={}){super(t),this.valueDec=e}fromBER(e,t,r){if(0===r)return t;const s=jr.vJ.toUint8Array(e);if(!us(this,s,t,r))return-1;const i=s.subarray(t,t+r);this.valueHexView=new Uint8Array(r);for(let e=0;e<r&&(this.valueHexView[e]=127&i[e],this.blockLength++,0!=(128&i[e]));e++);const n=new Uint8Array(this.blockLength);for(let e=0;e<this.blockLength;e++)n[e]=this.valueHexView[e];return this.valueHexView=n,0!=(128&i[this.blockLength-1])?(this.error="End of input reached before message was fully decoded",-1):(0===this.valueHexView[0]&&this.warnings.push("Needlessly long format of SID encoding"),this.blockLength<=8?this.valueDec=Kr(this.valueHexView,7):(this.isHexOnly=!0,this.warnings.push("Too big SID for decoding, hex only")),t+this.blockLength)}toBER(e){if(this.isHexOnly){if(e)return new ArrayBuffer(this.valueHexView.byteLength);const t=this.valueHexView,r=new Uint8Array(this.blockLength);for(let e=0;e<this.blockLength-1;e++)r[e]=128|t[e];return r[this.blockLength-1]=t[this.blockLength-1],r.buffer}const t=Qr(this.valueDec,7);if(0===t.byteLength)return this.error="Error during encoding SID value",ws;const r=new Uint8Array(t.byteLength);if(!e){const e=new Uint8Array(t),s=t.byteLength-1;for(let t=0;t<s;t++)r[t]=128|e[t];r[s]=e[s]}return r.buffer}toString(){let e="";return e=this.isHexOnly?jr.ep.ToHex(this.valueHexView):this.valueDec.toString(),e}toJSON(){return{...super.toJSON(),valueDec:this.valueDec}}}Pi.NAME="relativeSidBlock";class Di extends Ss{constructor({value:e="",...t}={}){super(t),this.value=[],e&&this.fromString(e)}fromBER(e,t,r){let s=t;for(;r>0;){const t=new Pi;if(s=t.fromBER(e,s,r),-1===s)return this.blockLength=0,this.error=t.error,s;this.blockLength+=t.blockLength,r-=t.blockLength,this.value.push(t)}return s}toBER(e,t){const r=[];for(let t=0;t<this.value.length;t++){const s=this.value[t].toBER(e);if(0===s.byteLength)return this.error=this.value[t].error,ws;r.push(s)}return cs(r)}fromString(e){this.value=[];let t=0,r=0,s="";do{r=e.indexOf(".",t),s=-1===r?e.substring(t):e.substring(t,r),t=r+1;const i=new Pi;if(i.valueDec=parseInt(s,10),isNaN(i.valueDec))return!0;this.value.push(i)}while(-1!==r);return!0}toString(){let e="",t=!1;for(let r=0;r<this.value.length;r++){t=this.value[r].isHexOnly;let s=this.value[r].toString();0!==r&&(e=`${e}.`),t?(s=`{${s}}`,e+=s):e+=s}return e}toJSON(){const e={...super.toJSON(),value:this.toString(),sidArray:[]};for(let t=0;t<this.value.length;t++)e.sidArray.push(this.value[t].toJSON());return e}}Di.NAME="RelativeObjectIdentifierValueBlock";class Li extends Bs{constructor(e={}){super(e,Di),this.idBlock.tagClass=1,this.idBlock.tagNumber=13}getValue(){return this.valueBlock.toString()}setValue(e){this.valueBlock.fromString(e)}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.valueBlock.toString()||"empty"}`}toJSON(){return{...super.toJSON(),value:this.getValue()}}}js=Li,Ns.RelativeObjectIdentifier=js,Li.NAME="RelativeObjectIdentifier";class Ui extends pi{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=16}}qs=Ui,Ns.Sequence=qs,Ui.NAME="SEQUENCE";class Vi extends pi{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=17}}zs=Vi,Ns.Set=zs,Vi.NAME="SET";class Hi extends(ks(Ss)){constructor({...e}={}){super(e),this.isHexOnly=!0,this.value=gs}toJSON(){return{...super.toJSON(),value:this.value}}}Hi.NAME="StringValueBlock";class Mi extends Hi{}Mi.NAME="SimpleStringValueBlock";class Fi extends xs{constructor({...e}={}){super(e,Mi)}fromBuffer(e){this.valueBlock.value=String.fromCharCode.apply(null,jr.vJ.toUint8Array(e))}fromString(e){const t=e.length,r=this.valueBlock.valueHexView=new Uint8Array(t);for(let s=0;s<t;s++)r[s]=e.charCodeAt(s);this.valueBlock.value=e}}Fi.NAME="SIMPLE STRING";class Wi extends Fi{fromBuffer(e){this.valueBlock.valueHexView=jr.vJ.toUint8Array(e);try{this.valueBlock.value=jr.ep.ToUtf8String(e)}catch(t){this.warnings.push(`Error during "decodeURIComponent": ${t}, using raw string`),this.valueBlock.value=jr.ep.ToBinary(e)}}fromString(e){this.valueBlock.valueHexView=new Uint8Array(jr.ep.FromUtf8String(e)),this.valueBlock.value=e}}Wi.NAME="Utf8StringValueBlock";class ji extends Wi{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=12}}Ks=ji,Ns.Utf8String=Ks,ji.NAME="UTF8String";class qi extends Fi{fromBuffer(e){this.valueBlock.value=jr.ep.ToUtf16String(e),this.valueBlock.valueHexView=jr.vJ.toUint8Array(e)}fromString(e){this.valueBlock.value=e,this.valueBlock.valueHexView=new Uint8Array(jr.ep.FromUtf16String(e))}}qi.NAME="BmpStringValueBlock";class zi extends qi{constructor({...e}={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=30}}Qs=zi,Ns.BmpString=Qs,zi.NAME="BMPString";class Ki extends Fi{fromBuffer(e){const t=ArrayBuffer.isView(e)?e.slice().buffer:e.slice(0),r=new Uint8Array(t);for(let e=0;e<r.length;e+=4)r[e]=r[e+3],r[e+1]=r[e+2],r[e+2]=0,r[e+3]=0;this.valueBlock.value=String.fromCharCode.apply(null,new Uint32Array(t))}fromString(e){const t=e.length,r=this.valueBlock.valueHexView=new Uint8Array(4*t);for(let s=0;s<t;s++){const t=Qr(e.charCodeAt(s),8),i=new Uint8Array(t);if(i.length>4)continue;const n=4-i.length;for(let e=i.length-1;e>=0;e--)r[4*s+e+n]=i[e]}this.valueBlock.value=e}}Ki.NAME="UniversalStringValueBlock";class Qi extends Ki{constructor({...e}={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=28}}Js=Qi,Ns.UniversalString=Js,Qi.NAME="UniversalString";class Ji extends Fi{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=18}}Gs=Ji,Ns.NumericString=Gs,Ji.NAME="NumericString";class Gi extends Fi{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=19}}Zs=Gi,Ns.PrintableString=Zs,Gi.NAME="PrintableString";class Zi extends Fi{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=20}}Xs=Zi,Ns.TeletexString=Xs,Zi.NAME="TeletexString";class Xi extends Fi{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=21}}Ys=Xi,Ns.VideotexString=Ys,Xi.NAME="VideotexString";class Yi extends Fi{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=22}}$s=Yi,Ns.IA5String=$s,Yi.NAME="IA5String";class $i extends Fi{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=25}}ei=$i,Ns.GraphicString=ei,$i.NAME="GraphicString";class en extends Fi{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=26}}ti=en,Ns.VisibleString=ti,en.NAME="VisibleString";class tn extends Fi{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=27}}ri=tn,Ns.GeneralString=ri,tn.NAME="GeneralString";class rn extends Fi{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=29}}si=rn,Ns.CharacterString=si,rn.NAME="CharacterString";class sn extends en{constructor({value:e,valueDate:t,...r}={}){if(super(r),this.year=0,this.month=0,this.day=0,this.hour=0,this.minute=0,this.second=0,e){this.fromString(e),this.valueBlock.valueHexView=new Uint8Array(e.length);for(let t=0;t<e.length;t++)this.valueBlock.valueHexView[t]=e.charCodeAt(t)}t&&(this.fromDate(t),this.valueBlock.valueHexView=new Uint8Array(this.toBuffer())),this.idBlock.tagClass=1,this.idBlock.tagNumber=23}fromBuffer(e){this.fromString(String.fromCharCode.apply(null,jr.vJ.toUint8Array(e)))}toBuffer(){const e=this.toString(),t=new ArrayBuffer(e.length),r=new Uint8Array(t);for(let t=0;t<e.length;t++)r[t]=e.charCodeAt(t);return t}fromDate(e){this.year=e.getUTCFullYear(),this.month=e.getUTCMonth()+1,this.day=e.getUTCDate(),this.hour=e.getUTCHours(),this.minute=e.getUTCMinutes(),this.second=e.getUTCSeconds()}toDate(){return new Date(Date.UTC(this.year,this.month-1,this.day,this.hour,this.minute,this.second))}fromString(e){const t=/(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})Z/gi.exec(e);if(null===t)return void(this.error="Wrong input string for conversion");const r=parseInt(t[1],10);this.year=r>=50?1900+r:2e3+r,this.month=parseInt(t[2],10),this.day=parseInt(t[3],10),this.hour=parseInt(t[4],10),this.minute=parseInt(t[5],10),this.second=parseInt(t[6],10)}toString(e="iso"){if("iso"===e){const e=new Array(7);return e[0]=Yr(this.year<2e3?this.year-1900:this.year-2e3,2),e[1]=Yr(this.month,2),e[2]=Yr(this.day,2),e[3]=Yr(this.hour,2),e[4]=Yr(this.minute,2),e[5]=Yr(this.second,2),e[6]="Z",e.join("")}return super.toString(e)}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.toDate().toISOString()}`}toJSON(){return{...super.toJSON(),year:this.year,month:this.month,day:this.day,hour:this.hour,minute:this.minute,second:this.second}}}ii=sn,Ns.UTCTime=ii,sn.NAME="UTCTime";class nn extends sn{constructor(e={}){var t;super(e),null!==(t=this.millisecond)&&void 0!==t||(this.millisecond=0),this.idBlock.tagClass=1,this.idBlock.tagNumber=24}fromDate(e){super.fromDate(e),this.millisecond=e.getUTCMilliseconds()}toDate(){return new Date(Date.UTC(this.year,this.month-1,this.day,this.hour,this.minute,this.second,this.millisecond))}fromString(e){let t,r=!1,s="",i="",n=0,a=0,o=0;if("Z"===e[e.length-1])s=e.substring(0,e.length-1),r=!0;else{const t=new Number(e[e.length-1]);if(isNaN(t.valueOf()))throw new Error("Wrong input string for conversion");s=e}if(r){if(-1!==s.indexOf("+"))throw new Error("Wrong input string for conversion");if(-1!==s.indexOf("-"))throw new Error("Wrong input string for conversion")}else{let e=1,t=s.indexOf("+"),r="";if(-1===t&&(t=s.indexOf("-"),e=-1),-1!==t){if(r=s.substring(t+1),s=s.substring(0,t),2!==r.length&&4!==r.length)throw new Error("Wrong input string for conversion");let i=parseInt(r.substring(0,2),10);if(isNaN(i.valueOf()))throw new Error("Wrong input string for conversion");if(a=e*i,4===r.length){if(i=parseInt(r.substring(2,4),10),isNaN(i.valueOf()))throw new Error("Wrong input string for conversion");o=e*i}}}let l=s.indexOf(".");if(-1===l&&(l=s.indexOf(",")),-1!==l){const e=new Number(`0${s.substring(l)}`);if(isNaN(e.valueOf()))throw new Error("Wrong input string for conversion");n=e.valueOf(),i=s.substring(0,l)}else i=s;switch(!0){case 8===i.length:if(t=/(\d{4})(\d{2})(\d{2})/gi,-1!==l)throw new Error("Wrong input string for conversion");break;case 10===i.length:if(t=/(\d{4})(\d{2})(\d{2})(\d{2})/gi,-1!==l){let e=60*n;this.minute=Math.floor(e),e=60*(e-this.minute),this.second=Math.floor(e),e=1e3*(e-this.second),this.millisecond=Math.floor(e)}break;case 12===i.length:if(t=/(\d{4})(\d{2})(\d{2})(\d{2})(\d{2})/gi,-1!==l){let e=60*n;this.second=Math.floor(e),e=1e3*(e-this.second),this.millisecond=Math.floor(e)}break;case 14===i.length:if(t=/(\d{4})(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})/gi,-1!==l){const e=1e3*n;this.millisecond=Math.floor(e)}break;default:throw new Error("Wrong input string for conversion")}const c=t.exec(i);if(null===c)throw new Error("Wrong input string for conversion");for(let e=1;e<c.length;e++)switch(e){case 1:this.year=parseInt(c[e],10);break;case 2:this.month=parseInt(c[e],10);break;case 3:this.day=parseInt(c[e],10);break;case 4:this.hour=parseInt(c[e],10)+a;break;case 5:this.minute=parseInt(c[e],10)+o;break;case 6:this.second=parseInt(c[e],10);break;default:throw new Error("Wrong input string for conversion")}if(!1===r){const e=new Date(this.year,this.month,this.day,this.hour,this.minute,this.second,this.millisecond);this.year=e.getUTCFullYear(),this.month=e.getUTCMonth(),this.day=e.getUTCDay(),this.hour=e.getUTCHours(),this.minute=e.getUTCMinutes(),this.second=e.getUTCSeconds(),this.millisecond=e.getUTCMilliseconds()}}toString(e="iso"){if("iso"===e){const e=[];return e.push(Yr(this.year,4)),e.push(Yr(this.month,2)),e.push(Yr(this.day,2)),e.push(Yr(this.hour,2)),e.push(Yr(this.minute,2)),e.push(Yr(this.second,2)),0!==this.millisecond&&(e.push("."),e.push(Yr(this.millisecond,3))),e.push("Z"),e.join("")}return super.toString(e)}toJSON(){return{...super.toJSON(),millisecond:this.millisecond}}}ni=nn,Ns.GeneralizedTime=ni,nn.NAME="GeneralizedTime";class an extends ji{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=31}}ai=an,Ns.DATE=ai,an.NAME="DATE";class on extends ji{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=32}}oi=on,Ns.TimeOfDay=oi,on.NAME="TimeOfDay";class ln extends ji{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=33}}li=ln,Ns.DateTime=li,ln.NAME="DateTime";class cn extends ji{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=34}}ci=cn,Ns.Duration=ci,cn.NAME="Duration";class un extends ji{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=14}}ui=un,Ns.TIME=ui,un.NAME="TIME";class hn{constructor({name:e="",optional:t=!1}={}){this.name=e,this.optional=t}}class fn extends hn{constructor({value:e=[],...t}={}){super(t),this.value=e}}class dn extends hn{constructor({value:e=new hn,local:t=!1,...r}={}){super(r),this.value=e,this.local=t}}class mn{constructor({data:e=ys}={}){this.dataView=jr.vJ.toUint8Array(e)}get data(){return this.dataView.slice().buffer}set data(e){this.dataView=jr.vJ.toUint8Array(e)}fromBER(e,t,r){const s=t+r;return this.dataView=jr.vJ.toUint8Array(e).subarray(t,s),s}toBER(e){return this.dataView.slice().buffer}}function pn(e,t,r){if(r instanceof fn){for(let s=0;s<r.value.length;s++){if(pn(e,t,r.value[s]).verified)return{verified:!0,result:e}}{const e={verified:!1,result:{error:"Wrong values for Choice type"}};return r.hasOwnProperty(ms)&&(e.name=r.name),e}}if(r instanceof hn)return r.hasOwnProperty(ms)&&(e[r.name]=t),{verified:!0,result:e};if(e instanceof Object==!1)return{verified:!1,result:{error:"Wrong root object"}};if(t instanceof Object==!1)return{verified:!1,result:{error:"Wrong ASN.1 data"}};if(r instanceof Object==!1)return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if("idBlock"in r==!1)return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if("fromBER"in r.idBlock==!1)return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if("toBER"in r.idBlock==!1)return{verified:!1,result:{error:"Wrong ASN.1 schema"}};const s=r.idBlock.toBER(!1);if(0===s.byteLength)return{verified:!1,result:{error:"Error encoding idBlock for ASN.1 schema"}};if(-1===r.idBlock.fromBER(s,0,s.byteLength))return{verified:!1,result:{error:"Error decoding idBlock for ASN.1 schema"}};if(!1===r.idBlock.hasOwnProperty("tagClass"))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(r.idBlock.tagClass!==t.idBlock.tagClass)return{verified:!1,result:e};if(!1===r.idBlock.hasOwnProperty("tagNumber"))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(r.idBlock.tagNumber!==t.idBlock.tagNumber)return{verified:!1,result:e};if(!1===r.idBlock.hasOwnProperty("isConstructed"))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(r.idBlock.isConstructed!==t.idBlock.isConstructed)return{verified:!1,result:e};if(!("isHexOnly"in r.idBlock))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(r.idBlock.isHexOnly!==t.idBlock.isHexOnly)return{verified:!1,result:e};if(r.idBlock.isHexOnly){if(ps in r.idBlock==!1)return{verified:!1,result:{error:"Wrong ASN.1 schema"}};const s=r.idBlock.valueHexView,i=t.idBlock.valueHexView;if(s.length!==i.length)return{verified:!1,result:e};for(let t=0;t<s.length;t++)if(s[t]!==i[1])return{verified:!1,result:e}}if(r.name&&(r.name=r.name.replace(/^\s+|\s+$/g,gs),r.name&&(e[r.name]=t)),r instanceof Ns.Constructed){let s=0,i={verified:!1,result:{error:"Unknown error"}},n=r.valueBlock.value.length;if(n>0&&r.valueBlock.value[0]instanceof dn&&(n=t.valueBlock.value.length),0===n)return{verified:!0,result:e};if(0===t.valueBlock.value.length&&0!==r.valueBlock.value.length){let t=!0;for(let e=0;e<r.valueBlock.value.length;e++)t=t&&(r.valueBlock.value[e].optional||!1);return t?{verified:!0,result:e}:(r.name&&(r.name=r.name.replace(/^\s+|\s+$/g,gs),r.name&&delete e[r.name]),e.error="Inconsistent object length",{verified:!1,result:e})}for(let a=0;a<n;a++)if(a-s>=t.valueBlock.value.length){if(!1===r.valueBlock.value[a].optional){const t={verified:!1,result:e};return e.error="Inconsistent length between ASN.1 data and schema",r.name&&(r.name=r.name.replace(/^\s+|\s+$/g,gs),r.name&&(delete e[r.name],t.name=r.name)),t}}else if(r.valueBlock.value[0]instanceof dn){if(i=pn(e,t.valueBlock.value[a],r.valueBlock.value[0].value),!1===i.verified){if(!r.valueBlock.value[0].optional)return r.name&&(r.name=r.name.replace(/^\s+|\s+$/g,gs),r.name&&delete e[r.name]),i;s++}if(ms in r.valueBlock.value[0]&&r.valueBlock.value[0].name.length>0){let s={};s="local"in r.valueBlock.value[0]&&r.valueBlock.value[0].local?t:e,void 0===s[r.valueBlock.value[0].name]&&(s[r.valueBlock.value[0].name]=[]),s[r.valueBlock.value[0].name].push(t.valueBlock.value[a])}}else if(i=pn(e,t.valueBlock.value[a-s],r.valueBlock.value[a]),!1===i.verified){if(!r.valueBlock.value[a].optional)return r.name&&(r.name=r.name.replace(/^\s+|\s+$/g,gs),r.name&&delete e[r.name]),i;s++}if(!1===i.verified){const t={verified:!1,result:e};return r.name&&(r.name=r.name.replace(/^\s+|\s+$/g,gs),r.name&&(delete e[r.name],t.name=r.name)),t}return{verified:!0,result:e}}if(r.primitiveSchema&&ps in t.valueBlock){const s=fi(t.valueBlock.valueHexView);if(-1===s.offset){const t={verified:!1,result:s.result};return r.name&&(r.name=r.name.replace(/^\s+|\s+$/g,gs),r.name&&(delete e[r.name],t.name=r.name)),t}return pn(e,s.result,r.primitiveSchema)}return{verified:!0,result:e}}class gn{constructor(e={}){if("view"in e)this.fromUint8Array(e.view);else if("buffer"in e)this.fromArrayBuffer(e.buffer);else if("string"in e)this.fromString(e.string);else if("hexstring"in e)this.fromHexString(e.hexstring);else if("length"in e&&e.length>0){if(this.length=e.length,e.stub)for(let t=0;t<this._view.length;t++)this._view[t]=e.stub}else this.length=0}set buffer(e){this._buffer=e,this._view=new Uint8Array(this._buffer)}get buffer(){return this._buffer}set view(e){this._buffer=new ArrayBuffer(e.length),this._view=new Uint8Array(this._buffer),this._view.set(e)}get view(){return this._view}get length(){return this.view.byteLength}set length(e){this._buffer=new ArrayBuffer(e),this._view=new Uint8Array(this._buffer)}clear(){this._buffer=new ArrayBuffer(0),this._view=new Uint8Array(this._buffer)}fromArrayBuffer(e){this._buffer=e,this._view=new Uint8Array(this._buffer)}fromUint8Array(e){this.fromArrayBuffer(new Uint8Array(e).buffer)}fromString(e){const t=e.length;this.length=t;for(let r=0;r<t;r++)this.view[r]=e.charCodeAt(r)}toString(e=0,t=this.view.length-e){let r="";(e>=this.view.length||e<0)&&(e=0),(t>=this.view.length||t<0)&&(t=this.view.length-e);for(let s=e;s<e+t;s++)r+=String.fromCharCode(this.view[s]);return r}fromHexString(e){const t=e.length;this.buffer=new ArrayBuffer(t>>1),this.view=new Uint8Array(this.buffer);const r=new Map;r.set("0",0),r.set("1",1),r.set("2",2),r.set("3",3),r.set("4",4),r.set("5",5),r.set("6",6),r.set("7",7),r.set("8",8),r.set("9",9),r.set("A",10),r.set("a",10),r.set("B",11),r.set("b",11),r.set("C",12),r.set("c",12),r.set("D",13),r.set("d",13),r.set("E",14),r.set("e",14),r.set("F",15),r.set("f",15);let s=0,i=0;for(let n=0;n<t;n++)n%2?(i|=r.get(e.charAt(n)),this.view[s]=i,s++):i=r.get(e.charAt(n))<<4}toHexString(e=0,t=this.view.length-e){let r="";(e>=this.view.length||e<0)&&(e=0),(t>=this.view.length||t<0)&&(t=this.view.length-e);for(let s=e;s<e+t;s++){const e=this.view[s].toString(16).toUpperCase();r=r+(1==e.length?"0":"")+e}return r}copy(e=0,t=this.length-e){if(!e&&!this.length)return new gn;if(e<0||e>this.length-1)throw new Error(`Wrong start position: ${e}`);return new gn({buffer:this._buffer.slice(e,e+t)})}slice(e=0,t=this.length){if(!e&&!this.length)return new gn;if(e<0||e>this.length-1)throw new Error(`Wrong start position: ${e}`);return new gn({buffer:this._buffer.slice(e,t)})}realloc(e){const t=new ArrayBuffer(e),r=new Uint8Array(t);e>this._view.length?r.set(this._view):r.set(new Uint8Array(this._buffer,0,e)),this._buffer=t,this._view=new Uint8Array(this._buffer)}append(e){const t=this.length,r=e.length,s=e._view.subarray();this.realloc(t+r),this._view.set(s,t)}insert(e,t=0,r=this.length-t){return!(t>this.length-1)&&(r>this.length-t&&(r=this.length-t),r>e.length&&(r=e.length),r==e.length?this._view.set(e._view,t):this._view.set(e._view.subarray(0,r),t),!0)}isEqual(e){if(this.length!=e.length)return!1;for(let t=0;t<e.length;t++)if(this.view[t]!=e.view[t])return!1;return!0}isEqualView(e){if(e.length!=this.view.length)return!1;for(let t=0;t<e.length;t++)if(this.view[t]!=e[t])return!1;return!0}findPattern(e,t,r,s){const{start:i,length:n,backward:a}=this.prepareFindParameters(t,r,s),o=e.length;if(o>n)return-1;const l=[];for(let t=0;t<o;t++)l.push(e.view[t]);for(let e=0;e<=n-o;e++){let t=!0;const r=a?i-o-e:i+e;for(let e=0;e<o;e++)if(this.view[e+r]!=l[e]){t=!1;break}if(t)return a?i-o-e:i+o+e}return-1}findFirstIn(e,t,r,s){const{start:i,length:n,backward:a}=this.prepareFindParameters(t,r,s),o={id:-1,position:a?0:i+n,length:0};for(let t=0;t<e.length;t++){const r=this.findPattern(e[t],i,n,a);if(-1!=r){let s=!1;const i=e[t].length;a?r-i>=o.position-o.length&&(s=!0):r-i<=o.position-o.length&&(s=!0),s&&(o.position=r,o.id=t,o.length=i)}}return o}findAllIn(e,t,r){let{start:s,length:i}=this.prepareFindParameters(t,r);const n=[];let a={id:-1,position:s};for(;;){const t=a.position;if(a=this.findFirstIn(e,a.position,i),-1==a.id)break;i-=a.position-t,n.push({id:a.id,position:a.position})}return n}findAllPatternIn(e,t,r){const{start:s,length:i}=this.prepareFindParameters(t,r),n=[],a=e.length;if(a>i)return-1;const o=Array.from(e.view);for(let e=0;e<=i-a;e++){let t=!0;const r=s+e;for(let e=0;e<a;e++)if(this.view[e+r]!=o[e]){t=!1;break}t&&(n.push(s+a+e),e+=a-1)}return n}findFirstNotIn(e,t,r,s){let{start:i,length:n,backward:a}=this.prepareFindParameters(t,r,s);const o={left:{id:-1,position:i},right:{id:-1,position:0},value:new gn};let l=n;for(;l>0;){if(o.right=this.findFirstIn(e,a?i-n+l:i+n-l,l,a),-1==o.right.id){n=l,a?i-=n:i=o.left.position,o.value=new gn({buffer:this._buffer.slice(i,i+n)});break}if(o.right.position!=(a?o.left.position-e[o.right.id].length:o.left.position+e[o.right.id].length)){a?(i=o.right.position+e[o.right.id].length,n=o.left.position-o.right.position-e[o.right.id].length):(i=o.left.position,n=o.right.position-o.left.position-e[o.right.id].length),o.value=new gn({buffer:this._buffer.slice(i,i+n)});break}o.left=o.right,l-=e[o.right.id].length}if(a){const e=o.right;o.right=o.left,o.left=e}return o}findAllNotIn(e,t,r){let{start:s,length:i}=this.prepareFindParameters(t,r);const n=[];let a={left:{id:-1,position:s},right:{id:-1,position:s},value:new gn};do{const t=a.right.position;a=this.findFirstNotIn(e,a.right.position,i),i-=a.right.position-t,n.push({left:{id:a.left.id,position:a.left.position},right:{id:a.right.id,position:a.right.position},value:a.value})}while(-1!=a.right.id);return n}findFirstSequence(e,t,r,s){let{start:i,length:n,backward:a}=this.prepareFindParameters(t,r,s);const o=this.skipNotPatterns(e,i,n,a);if(-1==o)return{position:-1,value:new gn};const l=this.skipPatterns(e,o,n-(a?i-o:o-i),a);a?(i=l,n=o-l):(i=o,n=l-o);return{position:l,value:new gn({buffer:this._buffer.slice(i,i+n)})}}findAllSequences(e,t,r){let{start:s,length:i}=this.prepareFindParameters(t,r);const n=[];let a={position:s,value:new gn};do{const t=a.position;a=this.findFirstSequence(e,a.position,i),-1!=a.position&&(i-=a.position-t,n.push({position:a.position,value:a.value}))}while(-1!=a.position);return n}findPairedPatterns(e,t,r,s){const i=[];if(e.isEqual(t))return i;const{start:n,length:a}=this.prepareFindParameters(r,s);let o=0;const l=this.findAllPatternIn(e,n,a);if(!Array.isArray(l)||0==l.length)return i;const c=this.findAllPatternIn(t,n,a);if(!Array.isArray(c)||0==c.length)return i;for(;o<l.length&&0!=c.length;)if(l[0]!=c[0]){if(l[o]>c[0])break;for(;l[o]<c[0]&&(o++,!(o>=l.length)););i.push({left:l[o-1],right:c[0]}),l.splice(o-1,1),c.splice(0,1),o=0}else i.push({left:l[0],right:c[0]}),l.splice(0,1),c.splice(0,1);return i.sort(((e,t)=>e.left-t.left)),i}findPairedArrays(e,t,r,s){const{start:i,length:n}=this.prepareFindParameters(r,s),a=[];let o=0;const l=this.findAllIn(e,i,n);if(0==l.length)return a;const c=this.findAllIn(t,i,n);if(0==c.length)return a;for(;o<l.length&&0!=c.length;)if(l[0].position!=c[0].position){if(l[o].position>c[0].position)break;for(;l[o].position<c[0].position&&(o++,!(o>=l.length)););a.push({left:l[o-1],right:c[0]}),l.splice(o-1,1),c.splice(0,1),o=0}else a.push({left:l[0],right:c[0]}),l.splice(0,1),c.splice(0,1);return a.sort(((e,t)=>e.left.position-t.left.position)),a}replacePattern(e,t,r,s,i=null){let n,a=[];const o={status:-1,searchPatternPositions:[],replacePatternPositions:[]},{start:l,length:c}=this.prepareFindParameters(r,s);if(null==i){if(a=this.findAllIn([e],l,c),0==a.length)return o}else a=i;o.searchPatternPositions.push(...Array.from(a,(e=>e.position)));const u=e.length-t.length,h=new ArrayBuffer(this.view.length-a.length*u),f=new Uint8Array(h);for(f.set(new Uint8Array(this.buffer,0,l)),n=0;n<a.length;n++){const r=0==n?l:a[n-1].position;f.set(new Uint8Array(this.buffer,r,a[n].position-e.length-r),r-n*u),f.set(t.view,a[n].position-e.length-n*u),o.replacePatternPositions.push(a[n].position-e.length-n*u)}return n--,f.set(new Uint8Array(this.buffer,a[n].position,this.length-a[n].position),a[n].position-e.length+t.length-n*u),this.buffer=h,this.view=new Uint8Array(this.buffer),o.status=1,o}skipPatterns(e,t,r,s){const{start:i,length:n,backward:a}=this.prepareFindParameters(t,r,s);let o=i;for(let t=0;t<e.length;t++){const r=e[t].length,s=a?o-r:o;let l=!0;for(let i=0;i<r;i++)if(this.view[i+s]!=e[t].view[i]){l=!1;break}if(l)if(t=-1,a){if(o-=r,o<=0)return o}else if(o+=r,o>=i+n)return o}return o}skipNotPatterns(e,t,r,s){const{start:i,length:n,backward:a}=this.prepareFindParameters(t,r,s);let o=-1;for(let t=0;t<n;t++){for(let r=0;r<e.length;r++){const s=e[r].length,n=a?i-t-s:i+t;let l=!0;for(let t=0;t<s;t++)if(this.view[t+n]!=e[r].view[t]){l=!1;break}if(l){o=a?i-t:i+t;break}}if(-1!=o)break}return o}prepareFindParameters(e=null,t=null,r=!1){return null===e&&(e=r?this.length:0),e>this.length&&(e=this.length),r?(null===t&&(t=e),t>e&&(t=e)):(null===t&&(t=this.length-e),t>this.length-e&&(t=this.length-e)),{start:e,length:t,backward:r}}}class wn{constructor(e={}){this._stream=new gn,this._length=0,this._start=0,this.backward=!1,this.appendBlock=0,this.prevLength=0,this.prevStart=0,this.stream="view"in e?new gn({view:e.view}):"buffer"in e?new gn({buffer:e.buffer}):"string"in e?new gn({string:e.string}):"hexstring"in e?new gn({hexstring:e.hexstring}):"stream"in e?e.stream.slice():new gn,"backward"in e&&e.backward&&(this.backward=e.backward,this._start=this.stream.length),"length"in e&&e.length>0&&(this._length=e.length),"start"in e&&e.start&&e.start>0&&(this._start=e.start),"appendBlock"in e&&e.appendBlock&&e.appendBlock>0&&(this.appendBlock=e.appendBlock)}set stream(e){this._stream=e,this.prevLength=this._length,this._length=e.length,this.prevStart=this._start,this._start=0}get stream(){return this._stream}set length(e){this.prevLength=this._length,this._length=e}get length(){return this.appendBlock?this.start:this._length}set start(e){e>this.stream.length||(this.prevStart=this._start,this.prevLength=this._length,this._length-=this.backward?this._start-e:e-this._start,this._start=e)}get start(){return this._start}get buffer(){return this._stream.buffer.slice(0,this._length)}resetPosition(){this._start=this.prevStart,this._length=this.prevLength}findPattern(e,t=null){(null==t||t>this.length)&&(t=this.length);const r=this.stream.findPattern(e,this.start,this.length,this.backward);if(-1==r)return r;if(this.backward){if(r<this.start-e.length-t)return-1}else if(r>this.start+e.length+t)return-1;return this.start=r,r}findFirstIn(e,t=null){(null==t||t>this.length)&&(t=this.length);const r=this.stream.findFirstIn(e,this.start,this.length,this.backward);if(-1==r.id)return r;if(this.backward){if(r.position<this.start-e[r.id].length-t)return{id:-1,position:this.backward?0:this.start+this.length}}else if(r.position>this.start+e[r.id].length+t)return{id:-1,position:this.backward?0:this.start+this.length};return this.start=r.position,r}findAllIn(e){const t=this.backward?this.start-this.length:this.start;return this.stream.findAllIn(e,t,this.length)}findFirstNotIn(e,t=null){(null==t||t>this._length)&&(t=this._length);const r=this._stream.findFirstNotIn(e,this._start,this._length,this.backward);if(-1==r.left.id&&-1==r.right.id)return r;if(this.backward){if(-1!=r.right.id&&r.right.position<this._start-e[r.right.id].length-t)return{left:{id:-1,position:this._start},right:{id:-1,position:0},value:new gn}}else if(-1!=r.left.id&&r.left.position>this._start+e[r.left.id].length+t)return{left:{id:-1,position:this._start},right:{id:-1,position:0},value:new gn};return this.backward?-1==r.left.id?this.start=0:this.start=r.left.position:-1==r.right.id?this.start=this._start+this._length:this.start=r.right.position,r}findAllNotIn(e){const t=this.backward?this._start-this._length:this._start;return this._stream.findAllNotIn(e,t,this._length)}findFirstSequence(e,t=null,r=null){(null==t||t>this._length)&&(t=this._length),(null==r||r>t)&&(r=t);const s=this._stream.findFirstSequence(e,this._start,t,this.backward);if(0==s.value.length)return s;if(this.backward){if(s.position<this._start-s.value.length-r)return{position:-1,value:new gn}}else if(s.position>this._start+s.value.length+r)return{position:-1,value:new gn};return this.start=s.position,s}findAllSequences(e){const t=this.backward?this.start-this.length:this.start;return this.stream.findAllSequences(e,t,this.length)}findPairedPatterns(e,t,r=null){(null==r||r>this.length)&&(r=this.length);const s=this.backward?this.start-this.length:this.start,i=this.stream.findPairedPatterns(e,t,s,this.length);if(i.length)if(this.backward){if(i[0].right<this.start-t.length-r)return[]}else if(i[0].left>this.start+e.length+r)return[];return i}findPairedArrays(e,t,r=null){(null==r||r>this.length)&&(r=this.length);const s=this.backward?this.start-this.length:this.start,i=this.stream.findPairedArrays(e,t,s,this.length);if(i.length)if(this.backward){if(i[0].right.position<this.start-t[i[0].right.id].length-r)return[]}else if(i[0].left.position>this.start+e[i[0].left.id].length+r)return[];return i}replacePattern(e,t){const r=this.backward?this.start-this.length:this.start;return this.stream.replacePattern(e,t,r,this.length)}skipPatterns(e){const t=this.stream.skipPatterns(e,this.start,this.length,this.backward);return this.start=t,t}skipNotPatterns(e){const t=this.stream.skipNotPatterns(e,this.start,this.length,this.backward);return-1==t?-1:(this.start=t,t)}append(e){this.beforeAppend(e.length),this._stream.view.set(e.view,this._start),this._length+=2*e.length,this.start=this._start+e.length,this.prevLength-=2*e.length}appendView(e){this.beforeAppend(e.length),this._stream.view.set(e,this._start),this._length+=2*e.length,this.start=this._start+e.length,this.prevLength-=2*e.length}appendChar(e){this.beforeAppend(1),this._stream.view[this._start]=e,this._length+=2,this.start=this._start+1,this.prevLength-=2}appendUint16(e){this.beforeAppend(2);const t=new Uint16Array([e]),r=new Uint8Array(t.buffer);this.stream.view[this._start]=r[1],this._stream.view[this._start+1]=r[0],this._length+=4,this.start=this._start+2,this.prevLength-=4}appendUint24(e){this.beforeAppend(3);const t=new Uint32Array([e]),r=new Uint8Array(t.buffer);this._stream.view[this._start]=r[2],this._stream.view[this._start+1]=r[1],this._stream.view[this._start+2]=r[0],this._length+=6,this.start=this._start+3,this.prevLength-=6}appendUint32(e){this.beforeAppend(4);const t=new Uint32Array([e]),r=new Uint8Array(t.buffer);this._stream.view[this._start]=r[3],this._stream.view[this._start+1]=r[2],this._stream.view[this._start+2]=r[1],this._stream.view[this._start+3]=r[0],this._length+=8,this.start=this._start+4,this.prevLength-=8}appendInt16(e){this.beforeAppend(2);const t=new Int16Array([e]),r=new Uint8Array(t.buffer);this._stream.view[this._start]=r[1],this._stream.view[this._start+1]=r[0],this._length+=4,this.start=this._start+2,this.prevLength-=4}appendInt32(e){this.beforeAppend(4);const t=new Int32Array([e]),r=new Uint8Array(t.buffer);this._stream.view[this._start]=r[3],this._stream.view[this._start+1]=r[2],this._stream.view[this._start+2]=r[1],this._stream.view[this._start+3]=r[0],this._length+=8,this.start=this._start+4,this.prevLength-=8}getBlock(e,t=!0){if(this._length<=0)return new Uint8Array(0);let r;if(this._length<e&&(e=this._length),this.backward){const t=this._stream.view.subarray(this._length-e,this._length);r=new Uint8Array(e);for(let s=0;s<e;s++)r[e-1-s]=t[s]}else r=this._stream.view.subarray(this._start,this._start+e);return t&&(this.start+=this.backward?-1*e:e),r}getUint16(e=!0){const t=this.getBlock(2,e);if(t.length<2)return 0;const r=new Uint16Array(1),s=new Uint8Array(r.buffer);return s[0]=t[1],s[1]=t[0],r[0]}getInt16(e=!0){const t=this.getBlock(2,e);if(t.length<2)return 0;const r=new Int16Array(1),s=new Uint8Array(r.buffer);return s[0]=t[1],s[1]=t[0],r[0]}getUint24(e=!0){const t=this.getBlock(3,e);if(t.length<3)return 0;const r=new Uint32Array(1),s=new Uint8Array(r.buffer);for(let e=3;e>=1;e--)s[3-e]=t[e-1];return r[0]}getUint32(e=!0){const t=this.getBlock(4,e);if(t.length<4)return 0;const r=new Uint32Array(1),s=new Uint8Array(r.buffer);for(let e=3;e>=0;e--)s[3-e]=t[e];return r[0]}getInt32(e=!0){const t=this.getBlock(4,e);if(t.length<4)return 0;const r=new Int32Array(1),s=new Uint8Array(r.buffer);for(let e=3;e>=0;e--)s[3-e]=t[e];return r[0]}beforeAppend(e){this._start+e>this._stream.length&&(e>this.appendBlock&&(this.appendBlock=e+wn.APPEND_BLOCK),this._stream.realloc(this._stream.length+this.appendBlock))}}wn.APPEND_BLOCK=1e3;var yn=r(4155);
/*!
 * Copyright (c) 2014, GlobalSign
 * Copyright (c) 2015-2019, Peculiar Ventures
 * All rights reserved.
 * 
 * Author 2014-2019, Yury Strozhevsky
 * 
 * Redistribution and use in source and binary forms, with or without modification,
 * are permitted provided that the following conditions are met:
 * 
 * * Redistributions of source code must retain the above copyright notice, this
 *   list of conditions and the following disclaimer.
 * 
 * * Redistributions in binary form must reproduce the above copyright notice, this
 *   list of conditions and the following disclaimer in the documentation and/or
 *   other materials provided with the distribution.
 * 
 * * Neither the name of the {organization} nor the names of its
 *   contributors may be used to endorse or promote products derived from
 *   this software without specific prior written permission.
 * 
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
 * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
 * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR
 * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
 * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
 * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON
 * ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 * 
 */const bn=new ArrayBuffer(0),vn="";class An extends TypeError{constructor(){super(...arguments),this.name=An.NAME}static isType(e,t){if("string"==typeof t){if("Array"===t&&Array.isArray(e))return!0;if("ArrayBuffer"===t&&e instanceof ArrayBuffer)return!0;if("ArrayBufferView"===t&&ArrayBuffer.isView(e))return!0;if(typeof e===t)return!0}else if(e instanceof t)return!0;return!1}static assert(e,t,...r){for(const t of r)if(this.isType(e,t))return;const s=r.map((e=>e instanceof Function&&"name"in e?e.name:`${e}`));throw new An(`Parameter '${t}' is not of type ${s.length>1?`(${s.join(" or ")})`:s[0]}`)}}An.NAME="ArgumentError";class kn extends TypeError{constructor(e,t=null,r){super(),this.name=kn.NAME,this.field=e,t&&(this.target=t),this.message=r||`Absent mandatory parameter '${e}' ${t?` in '${t}'`:vn}`}static assert(...e){let t,r,s=null;"string"==typeof e[0]?(s=e[0],t=e[1],r=e.slice(2)):(t=e[0],r=e.slice(1)),An.assert(t,"parameters","object");for(const e of r){const r=t[e];if(null==r)throw new kn(e,s)}}static assertEmpty(e,t,r){if(null==e)throw new kn(t,r)}}kn.NAME="ParameterError";class _n extends Error{static assertSchema(e,t){if(!e.verified)throw new Error(`Object's schema was not verified against input data for ${t}`)}static assert(e,t){if(-1===e.offset)throw new _n(`Error during parsing of ASN.1 data. Data is not correct for '${t}'.`)}constructor(e){super(e),this.name="AsnError"}}class Sn{static blockName(){return this.CLASS_NAME}static fromBER(e){const t=di(e);_n.assert(t,this.name);try{return new this({schema:t.result})}catch(e){throw new _n(`Cannot create '${this.CLASS_NAME}' from ASN.1 object`)}}static defaultValues(e){throw new Error(`Invalid member name for ${this.CLASS_NAME} class: ${e}`)}static schema(e={}){throw new Error(`Method '${this.CLASS_NAME}.schema' should be overridden`)}get className(){return this.constructor.CLASS_NAME}toString(e="hex"){let t;try{t=this.toSchema()}catch{t=this.toSchema(!0)}return jr.ep.ToString(t.toBER(),e)}}function En(e){let t=!1,r=vn;const s=e.trim();for(let e=0;e<s.length;e++)32===s.charCodeAt(e)?!1===t&&(t=!0):(t&&(r+=" ",t=!1),r+=s[e]);return r.toLowerCase()}Sn.CLASS_NAME="PkiObject";const Cn="type",Nn="value";class Bn extends Sn{constructor(e={}){super(),this.type=qr(e,Cn,Bn.defaultValues(Cn)),this.value=qr(e,Nn,Bn.defaultValues(Nn)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Cn:return vn;case Nn:return{};default:return super.defaultValues(e)}}static schema(e={}){const t=qr(e,"names",{});return new Ui({name:t.blockName||vn,value:[new Oi({name:t.type||vn}),new hn({name:t.value||vn})]})}fromSchema(e){os(e,[Cn,"typeValue"]);const t=pn(e,e,Bn.schema({names:{type:Cn,value:"typeValue"}}));_n.assertSchema(t,this.className),this.type=t.result.type.valueBlock.toString(),this.value=t.result.typeValue}toSchema(){return new Ui({value:[new Oi({value:this.type}),this.value]})}toJSON(){const e={type:this.type};return 0!==Object.keys(this.value).length?e.value=this.value.toJSON():e.value=this.value,e}isEqual(e){const t=[ji.blockName(),zi.blockName(),Qi.blockName(),Ji.blockName(),Gi.blockName(),Zi.blockName(),Xi.blockName(),Yi.blockName(),$i.blockName(),en.blockName(),tn.blockName(),rn.blockName()];if(e instanceof ArrayBuffer)return jr.vJ.isEqual(this.value.valueBeforeDecodeView,e);if(e.constructor.blockName()===Bn.blockName()){if(this.type!==e.type)return!1;const r=[!1,!1],s=this.value.constructor.blockName();for(const i of t)s===i&&(r[0]=!0),e.value.constructor.blockName()===i&&(r[1]=!0);if(r[0]!==r[1])return!1;if(r[0]&&r[1]){const t=En(this.value.valueBlock.value),r=En(e.value.valueBlock.value);if(0!==t.localeCompare(r))return!1}else if(!jr.vJ.isEqual(this.value.valueBeforeDecodeView,e.value.valueBeforeDecodeView))return!1;return!0}return!1}}Bn.CLASS_NAME="AttributeTypeAndValue";const In="typesAndValues",xn="valueBeforeDecode";class Tn extends Sn{constructor(e={}){super(),this.typesAndValues=qr(e,In,Tn.defaultValues(In)),this.valueBeforeDecode=qr(e,xn,Tn.defaultValues(xn)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case In:return[];case xn:return bn;default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case In:return 0===t.length;case xn:return 0===t.byteLength;default:return super.defaultValues(e)}}static schema(e={}){const t=qr(e,"names",{});return new Ui({name:t.blockName||vn,value:[new dn({name:t.repeatedSequence||vn,value:new Vi({value:[new dn({name:t.repeatedSet||vn,value:Bn.schema(t.typeAndValue||{})})]})})]})}fromSchema(e){os(e,["RDN",In]);const t=pn(e,e,Tn.schema({names:{blockName:"RDN",repeatedSet:In}}));_n.assertSchema(t,this.className),In in t.result&&(this.typesAndValues=Array.from(t.result.typesAndValues,(e=>new Bn({schema:e})))),this.valueBeforeDecode=t.result.RDN.valueBeforeDecodeView.slice().buffer}toSchema(){if(0===this.valueBeforeDecode.byteLength)return new Ui({value:[new Vi({value:Array.from(this.typesAndValues,(e=>e.toSchema()))})]});const e=di(this.valueBeforeDecode);if(_n.assert(e,"RelativeDistinguishedNames"),!(e.result instanceof Ui))throw new Error("ASN.1 result should be SEQUENCE");return e.result}toJSON(){return{typesAndValues:Array.from(this.typesAndValues,(e=>e.toJSON()))}}isEqual(e){if(e instanceof Tn){if(this.typesAndValues.length!==e.typesAndValues.length)return!1;for(const[t,r]of this.typesAndValues.entries())if(!1===r.isEqual(e.typesAndValues[t]))return!1;return!0}return e instanceof ArrayBuffer&&Xr(this.valueBeforeDecode,e)}}Tn.CLASS_NAME="RelativeDistinguishedNames";const Rn="type",On="value";function Pn(e={},t=!1){const r=qr(e,"names",{});return new Ui({optional:t,value:[new pi({optional:!0,idBlock:{tagClass:2,tagNumber:1},name:r.country_name||vn,value:[new fn({value:[new Ji,new Gi]})]}),new pi({optional:!0,idBlock:{tagClass:2,tagNumber:2},name:r.administration_domain_name||vn,value:[new fn({value:[new Ji,new Gi]})]}),new hi({optional:!0,idBlock:{tagClass:3,tagNumber:0},name:r.network_address||vn,isHexOnly:!0}),new hi({optional:!0,idBlock:{tagClass:3,tagNumber:1},name:r.terminal_identifier||vn,isHexOnly:!0}),new pi({optional:!0,idBlock:{tagClass:3,tagNumber:2},name:r.private_domain_name||vn,value:[new fn({value:[new Ji,new Gi]})]}),new hi({optional:!0,idBlock:{tagClass:3,tagNumber:3},name:r.organization_name||vn,isHexOnly:!0}),new hi({optional:!0,name:r.numeric_user_identifier||vn,idBlock:{tagClass:3,tagNumber:4},isHexOnly:!0}),new pi({optional:!0,name:r.personal_name||vn,idBlock:{tagClass:3,tagNumber:5},value:[new hi({idBlock:{tagClass:3,tagNumber:0},isHexOnly:!0}),new hi({optional:!0,idBlock:{tagClass:3,tagNumber:1},isHexOnly:!0}),new hi({optional:!0,idBlock:{tagClass:3,tagNumber:2},isHexOnly:!0}),new hi({optional:!0,idBlock:{tagClass:3,tagNumber:3},isHexOnly:!0})]}),new pi({optional:!0,name:r.organizational_unit_names||vn,idBlock:{tagClass:3,tagNumber:6},value:[new dn({value:new Gi})]})]})}function Dn(e=!1){return new Ui({optional:e,value:[new Gi,new Gi]})}function Ln(e=!1){return new Vi({optional:e,value:[new hi({optional:!0,idBlock:{tagClass:3,tagNumber:0},isHexOnly:!0}),new pi({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[new hn]})]})}class Un extends Sn{constructor(e={}){super(),this.type=qr(e,Rn,Un.defaultValues(Rn)),this.value=qr(e,On,Un.defaultValues(On)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Rn:return 9;case On:return{};default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case Rn:return t===Un.defaultValues(e);case On:return 0===Object.keys(t).length;default:return super.defaultValues(e)}}static schema(e={}){const t=qr(e,"names",{});return new fn({value:[new pi({idBlock:{tagClass:3,tagNumber:0},name:t.blockName||vn,value:[new Oi,new pi({idBlock:{tagClass:3,tagNumber:0},value:[new hn]})]}),new hi({name:t.blockName||vn,idBlock:{tagClass:3,tagNumber:1}}),new hi({name:t.blockName||vn,idBlock:{tagClass:3,tagNumber:2}}),new pi({idBlock:{tagClass:3,tagNumber:3},name:t.blockName||vn,value:[Pn(t.builtInStandardAttributes||{},!1),Dn(!0),Ln(!0)]}),new pi({idBlock:{tagClass:3,tagNumber:4},name:t.blockName||vn,value:[Tn.schema(t.directoryName||{})]}),new pi({idBlock:{tagClass:3,tagNumber:5},name:t.blockName||vn,value:[new pi({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new fn({value:[new Zi,new Gi,new Qi,new ji,new zi]})]}),new pi({idBlock:{tagClass:3,tagNumber:1},value:[new fn({value:[new Zi,new Gi,new Qi,new ji,new zi]})]})]}),new hi({name:t.blockName||vn,idBlock:{tagClass:3,tagNumber:6}}),new hi({name:t.blockName||vn,idBlock:{tagClass:3,tagNumber:7}}),new hi({name:t.blockName||vn,idBlock:{tagClass:3,tagNumber:8}})]})}fromSchema(e){os(e,["blockName","otherName","rfc822Name","dNSName","x400Address","directoryName","ediPartyName","uniformResourceIdentifier","iPAddress","registeredID"]);const t=pn(e,e,Un.schema({names:{blockName:"blockName",otherName:"otherName",rfc822Name:"rfc822Name",dNSName:"dNSName",x400Address:"x400Address",directoryName:{names:{blockName:"directoryName"}},ediPartyName:"ediPartyName",uniformResourceIdentifier:"uniformResourceIdentifier",iPAddress:"iPAddress",registeredID:"registeredID"}}));switch(_n.assertSchema(t,this.className),this.type=t.result.blockName.idBlock.tagNumber,this.type){case 0:this.value=t.result.blockName;break;case 1:case 2:case 6:{const e=t.result.blockName;e.idBlock.tagClass=1,e.idBlock.tagNumber=22;const r=di(e.toBER(!1));_n.assert(r,"GeneralName value"),this.value=r.result.valueBlock.value}break;case 3:this.value=t.result.blockName;break;case 4:this.value=new Tn({schema:t.result.directoryName});break;case 5:this.value=t.result.ediPartyName;break;case 7:this.value=new ki({valueHex:t.result.blockName.valueBlock.valueHex});break;case 8:{const e=t.result.blockName;e.idBlock.tagClass=1,e.idBlock.tagNumber=6;const r=di(e.toBER(!1));_n.assert(r,"GeneralName registeredID"),this.value=r.result.valueBlock.toString()}}}toSchema(){switch(this.type){case 0:case 3:case 5:return new pi({idBlock:{tagClass:3,tagNumber:this.type},value:[this.value]});case 1:case 2:case 6:{const e=new Yi({value:this.value});return e.idBlock.tagClass=3,e.idBlock.tagNumber=this.type,e}case 4:return new pi({idBlock:{tagClass:3,tagNumber:4},value:[this.value.toSchema()]});case 7:{const e=this.value;return e.idBlock.tagClass=3,e.idBlock.tagNumber=this.type,e}case 8:{const e=new Oi({value:this.value});return e.idBlock.tagClass=3,e.idBlock.tagNumber=this.type,e}default:return Un.schema()}}toJSON(){const e={type:this.type,value:vn};if("string"==typeof this.value)e.value=this.value;else try{e.value=this.value.toJSON()}catch(e){}return e}}Un.CLASS_NAME="GeneralName";const Vn="accessMethod",Hn="accessLocation",Mn=[Vn,Hn];class Fn extends Sn{constructor(e={}){super(),this.accessMethod=qr(e,Vn,Fn.defaultValues(Vn)),this.accessLocation=qr(e,Hn,Fn.defaultValues(Hn)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Vn:return vn;case Hn:return new Un;default:return super.defaultValues(e)}}static schema(e={}){const t=qr(e,"names",{});return new Ui({name:t.blockName||vn,value:[new Oi({name:t.accessMethod||vn}),Un.schema(t.accessLocation||{})]})}fromSchema(e){os(e,Mn);const t=pn(e,e,Fn.schema({names:{accessMethod:Vn,accessLocation:{names:{blockName:Hn}}}}));_n.assertSchema(t,this.className),this.accessMethod=t.result.accessMethod.valueBlock.toString(),this.accessLocation=new Un({schema:t.result.accessLocation})}toSchema(){return new Ui({value:[new Oi({value:this.accessMethod}),this.accessLocation.toSchema()]})}toJSON(){return{accessMethod:this.accessMethod,accessLocation:this.accessLocation.toJSON()}}}Fn.CLASS_NAME="AccessDescription";const Wn="seconds",jn="millis",qn="micros";class zn extends Sn{constructor(e={}){super(),Wn in e&&(this.seconds=qr(e,Wn,zn.defaultValues(Wn))),jn in e&&(this.millis=qr(e,jn,zn.defaultValues(jn))),qn in e&&(this.micros=qr(e,qn,zn.defaultValues(qn))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Wn:case jn:case qn:return 0;default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case Wn:case jn:case qn:return t===zn.defaultValues(e);default:return super.defaultValues(e)}}static schema(e={}){const t=qr(e,"names",{});return new Ui({name:t.blockName||vn,optional:!0,value:[new Ii({optional:!0,name:t.seconds||vn}),new hi({name:t.millis||vn,optional:!0,idBlock:{tagClass:3,tagNumber:0}}),new hi({name:t.micros||vn,optional:!0,idBlock:{tagClass:3,tagNumber:1}})]})}fromSchema(e){os(e,[Wn,jn,qn]);const t=pn(e,e,zn.schema({names:{seconds:Wn,millis:jn,micros:qn}}));if(_n.assertSchema(t,this.className),"seconds"in t.result&&(this.seconds=t.result.seconds.valueBlock.valueDec),"millis"in t.result){const e=new Ii({valueHex:t.result.millis.valueBlock.valueHex});this.millis=e.valueBlock.valueDec}if("micros"in t.result){const e=new Ii({valueHex:t.result.micros.valueBlock.valueHex});this.micros=e.valueBlock.valueDec}}toSchema(){const e=[];if(void 0!==this.seconds&&e.push(new Ii({value:this.seconds})),void 0!==this.millis){const t=new Ii({value:this.millis});e.push(new hi({idBlock:{tagClass:3,tagNumber:0},valueHex:t.valueBlock.valueHexView}))}if(void 0!==this.micros){const t=new Ii({value:this.micros});e.push(new hi({idBlock:{tagClass:3,tagNumber:1},valueHex:t.valueBlock.valueHexView}))}return new Ui({value:e})}toJSON(){const e={};return void 0!==this.seconds&&(e.seconds=this.seconds),void 0!==this.millis&&(e.millis=this.millis),void 0!==this.micros&&(e.micros=this.micros),e}}zn.CLASS_NAME="Accuracy";const Kn="algorithmId",Qn="algorithmParams",Jn="algorithm",Gn="params",Zn=[Jn,Gn];class Xn extends Sn{constructor(e={}){super(),this.algorithmId=qr(e,Kn,Xn.defaultValues(Kn)),Qn in e&&(this.algorithmParams=qr(e,Qn,Xn.defaultValues(Qn))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Kn:return vn;case Qn:return new hn;default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case Kn:return t===vn;case Qn:return t instanceof hn;default:return super.defaultValues(e)}}static schema(e={}){const t=qr(e,"names",{});return new Ui({name:t.blockName||vn,optional:t.optional||!1,value:[new Oi({name:t.algorithmIdentifier||vn}),new hn({name:t.algorithmParams||vn,optional:!0})]})}fromSchema(e){os(e,Zn);const t=pn(e,e,Xn.schema({names:{algorithmIdentifier:Jn,algorithmParams:Gn}}));_n.assertSchema(t,this.className),this.algorithmId=t.result.algorithm.valueBlock.toString(),Gn in t.result&&(this.algorithmParams=t.result.params)}toSchema(){const e=[];return e.push(new Oi({value:this.algorithmId})),!this.algorithmParams||this.algorithmParams instanceof hn||e.push(this.algorithmParams),new Ui({value:e})}toJSON(){const e={algorithmId:this.algorithmId};return!this.algorithmParams||this.algorithmParams instanceof hn||(e.algorithmParams=this.algorithmParams.toJSON()),e}isEqual(e){return e instanceof Xn&&(this.algorithmId===e.algorithmId&&(this.algorithmParams?!!e.algorithmParams&&JSON.stringify(this.algorithmParams)===JSON.stringify(e.algorithmParams):!e.algorithmParams))}}Xn.CLASS_NAME="AlgorithmIdentifier";const Yn="altNames",$n=[Yn];class ea extends Sn{constructor(e={}){super(),this.altNames=qr(e,Yn,ea.defaultValues(Yn)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){return e===Yn?[]:super.defaultValues(e)}static schema(e={}){const t=qr(e,"names",{});return new Ui({name:t.blockName||vn,value:[new dn({name:t.altNames||vn,value:Un.schema()})]})}fromSchema(e){os(e,$n);const t=pn(e,e,ea.schema({names:{altNames:Yn}}));_n.assertSchema(t,this.className),Yn in t.result&&(this.altNames=Array.from(t.result.altNames,(e=>new Un({schema:e}))))}toSchema(){return new Ui({value:Array.from(this.altNames,(e=>e.toSchema()))})}toJSON(){return{altNames:Array.from(this.altNames,(e=>e.toJSON()))}}}ea.CLASS_NAME="AltName";const ta="type",ra="values",sa=[ta,ra];class ia extends Sn{constructor(e={}){super(),this.type=qr(e,ta,ia.defaultValues(ta)),this.values=qr(e,ra,ia.defaultValues(ra)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case ta:return vn;case ra:return[];default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case ta:return t===vn;case ra:return 0===t.length;default:return super.defaultValues(e)}}static schema(e={}){const t=qr(e,"names",{});return new Ui({name:t.blockName||vn,value:[new Oi({name:t.type||vn}),new Vi({name:t.setName||vn,value:[new dn({name:t.values||vn,value:new hn})]})]})}fromSchema(e){os(e,sa);const t=pn(e,e,ia.schema({names:{type:ta,values:ra}}));_n.assertSchema(t,this.className),this.type=t.result.type.valueBlock.toString(),this.values=t.result.values}toSchema(){return new Ui({value:[new Oi({value:this.type}),new Vi({value:this.values})]})}toJSON(){return{type:this.type,values:Array.from(this.values,(e=>e.toJSON()))}}}ia.CLASS_NAME="Attribute";const na="notBeforeTime",aa="notAfterTime",oa=[na,aa];class la extends Sn{constructor(e={}){super(),this.notBeforeTime=qr(e,na,la.defaultValues(na)),this.notAfterTime=qr(e,aa,la.defaultValues(aa)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case na:case aa:return new Date(0,0,0);default:return super.defaultValues(e)}}static schema(e={}){const t=qr(e,"names",{});return new Ui({name:t.blockName||vn,value:[new nn({name:t.notBeforeTime||vn}),new nn({name:t.notAfterTime||vn})]})}fromSchema(e){os(e,oa);const t=pn(e,e,la.schema({names:{notBeforeTime:na,notAfterTime:aa}}));_n.assertSchema(t,this.className),this.notBeforeTime=t.result.notBeforeTime.toDate(),this.notAfterTime=t.result.notAfterTime.toDate()}toSchema(){return new Ui({value:[new nn({valueDate:this.notBeforeTime}),new nn({valueDate:this.notAfterTime})]})}toJSON(){return{notBeforeTime:this.notBeforeTime,notAfterTime:this.notAfterTime}}}la.CLASS_NAME="AttCertValidityPeriod";const ca="names",ua="generalNames";class ha extends Sn{constructor(e={}){super(),this.names=qr(e,ca,ha.defaultValues(ca)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){return"names"===e?[]:super.defaultValues(e)}static schema(e={},t=!1){const r=qr(e,ca,{});return new Ui({optional:t,name:r.blockName||vn,value:[new dn({name:r.generalNames||vn,value:Un.schema()})]})}fromSchema(e){os(e,[ca,ua]);const t=pn(e,e,ha.schema({names:{blockName:ca,generalNames:ua}}));_n.assertSchema(t,this.className),this.names=Array.from(t.result.generalNames,(e=>new Un({schema:e})))}toSchema(){return new Ui({value:Array.from(this.names,(e=>e.toSchema()))})}toJSON(){return{names:Array.from(this.names,(e=>e.toJSON()))}}}ha.CLASS_NAME="GeneralNames";const fa="2.5.29.17",da="2.5.29.18",ma="2.5.29.19",pa="2.5.29.28",ga="2.5.29.29",wa="2.5.29.30",ya="2.5.29.31",ba="2.5.29.46",va="2.5.29.32",Aa="2.5.29.32.0",ka="2.5.29.33",_a="2.5.29.35",Sa="2.5.29.36",Ea="1.3.6.1.5.5.7.1.1",Ca="1.3.6.1.4.1.11129.2.4.2",Na="1.2.840.113549.1.7.1",Ba="1.2.840.113549.1.7.2",Ia="1.2.840.113549.1.7.3",xa="1.2.840.113549.1.7.6",Ta="1.2.840.113549.1.9.22.1",Ra="1.2.840.113549.1.9.22.3",Oa="1.2.840.113549.1.9.23.1",Pa="1.3.6.1.5.5.7.48",Da=`${Pa}.1.1`,La="keyIdentifier",Ua="authorityCertIssuer",Va="authorityCertSerialNumber",Ha=[La,Ua,Va];class Ma extends Sn{constructor(e={}){super(),La in e&&(this.keyIdentifier=qr(e,La,Ma.defaultValues(La))),Ua in e&&(this.authorityCertIssuer=qr(e,Ua,Ma.defaultValues(Ua))),Va in e&&(this.authorityCertSerialNumber=qr(e,Va,Ma.defaultValues(Va))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case La:return new ki;case Ua:return[];case Va:return new Ii;default:return super.defaultValues(e)}}static schema(e={}){const t=qr(e,"names",{});return new Ui({name:t.blockName||vn,value:[new hi({name:t.keyIdentifier||vn,optional:!0,idBlock:{tagClass:3,tagNumber:0}}),new pi({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[new dn({name:t.authorityCertIssuer||vn,value:Un.schema()})]}),new hi({name:t.authorityCertSerialNumber||vn,optional:!0,idBlock:{tagClass:3,tagNumber:2}})]})}fromSchema(e){os(e,Ha);const t=pn(e,e,Ma.schema({names:{keyIdentifier:La,authorityCertIssuer:Ua,authorityCertSerialNumber:Va}}));_n.assertSchema(t,this.className),La in t.result&&(this.keyIdentifier=new ki({valueHex:t.result.keyIdentifier.valueBlock.valueHex})),Ua in t.result&&(this.authorityCertIssuer=Array.from(t.result.authorityCertIssuer,(e=>new Un({schema:e})))),Va in t.result&&(this.authorityCertSerialNumber=new Ii({valueHex:t.result.authorityCertSerialNumber.valueBlock.valueHex}))}toSchema(){const e=[];return this.keyIdentifier&&e.push(new hi({idBlock:{tagClass:3,tagNumber:0},valueHex:this.keyIdentifier.valueBlock.valueHexView})),this.authorityCertIssuer&&e.push(new pi({idBlock:{tagClass:3,tagNumber:1},value:Array.from(this.authorityCertIssuer,(e=>e.toSchema()))})),this.authorityCertSerialNumber&&e.push(new hi({idBlock:{tagClass:3,tagNumber:2},valueHex:this.authorityCertSerialNumber.valueBlock.valueHexView})),new Ui({value:e})}toJSON(){const e={};return this.keyIdentifier&&(e.keyIdentifier=this.keyIdentifier.toJSON()),this.authorityCertIssuer&&(e.authorityCertIssuer=Array.from(this.authorityCertIssuer,(e=>e.toJSON()))),this.authorityCertSerialNumber&&(e.authorityCertSerialNumber=this.authorityCertSerialNumber.toJSON()),e}}Ma.CLASS_NAME="AuthorityKeyIdentifier";const Fa="pathLenConstraint",Wa="cA";class ja extends Sn{constructor(e={}){super(),this.cA=qr(e,Wa,!1),Fa in e&&(this.pathLenConstraint=qr(e,Fa,0)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){return e!==Wa&&super.defaultValues(e)}static schema(e={}){const t=qr(e,"names",{});return new Ui({name:t.blockName||vn,value:[new vi({optional:!0,name:t.cA||vn}),new Ii({optional:!0,name:t.pathLenConstraint||vn})]})}fromSchema(e){os(e,[Wa,Fa]);const t=pn(e,e,ja.schema({names:{cA:Wa,pathLenConstraint:Fa}}));_n.assertSchema(t,this.className),Wa in t.result&&(this.cA=t.result.cA.valueBlock.value),Fa in t.result&&(t.result.pathLenConstraint.valueBlock.isHexOnly?this.pathLenConstraint=t.result.pathLenConstraint:this.pathLenConstraint=t.result.pathLenConstraint.valueBlock.valueDec)}toSchema(){const e=[];return this.cA!==ja.defaultValues(Wa)&&e.push(new vi({value:this.cA})),Fa in this&&(this.pathLenConstraint instanceof Ii?e.push(this.pathLenConstraint):e.push(new Ii({value:this.pathLenConstraint}))),new Ui({value:e})}toJSON(){const e={};return this.cA!==ja.defaultValues(Wa)&&(e.cA=this.cA),Fa in this&&(this.pathLenConstraint instanceof Ii?e.pathLenConstraint=this.pathLenConstraint.toJSON():e.pathLenConstraint=this.pathLenConstraint),e}}ja.CLASS_NAME="BasicConstraints";const qa="certificateIndex",za="keyIndex";class Ka extends Sn{constructor(e={}){super(),this.certificateIndex=qr(e,qa,Ka.defaultValues(qa)),this.keyIndex=qr(e,za,Ka.defaultValues(za)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case qa:case za:return 0;default:return super.defaultValues(e)}}static schema(){return new Ii}fromSchema(e){if(e.constructor.blockName()!==Ii.blockName())throw new Error("Object's schema was not verified against input data for CAVersion");let t=e.valueBlock.valueHex.slice(0);const r=new Uint8Array(t);switch(!0){case t.byteLength<4:{const e=new ArrayBuffer(4);new Uint8Array(e).set(r,4-t.byteLength),t=e.slice(0)}break;case t.byteLength>4:{const e=new ArrayBuffer(4);new Uint8Array(e).set(r.slice(0,4)),t=e.slice(0)}}const s=t.slice(0,2),i=new Uint8Array(s);let n=i[0];i[0]=i[1],i[1]=n;const a=new Uint16Array(s);this.keyIndex=a[0];const o=t.slice(2),l=new Uint8Array(o);n=l[0],l[0]=l[1],l[1]=n;const c=new Uint16Array(o);this.certificateIndex=c[0]}toSchema(){const e=new ArrayBuffer(2);new Uint16Array(e)[0]=this.certificateIndex;const t=new Uint8Array(e);let r=t[0];t[0]=t[1],t[1]=r;const s=new ArrayBuffer(2);new Uint16Array(s)[0]=this.keyIndex;const i=new Uint8Array(s);return r=i[0],i[0]=i[1],i[1]=r,new Ii({valueHex:Jr(s,e)})}toJSON(){return{certificateIndex:this.certificateIndex,keyIndex:this.keyIndex}}}Ka.CLASS_NAME="CAVersion";const Qa="policyQualifierId",Ja="qualifier",Ga=[Qa,Ja];class Za extends Sn{constructor(e={}){super(),this.policyQualifierId=qr(e,Qa,Za.defaultValues(Qa)),this.qualifier=qr(e,Ja,Za.defaultValues(Ja)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Qa:return vn;case Ja:return new hn;default:return super.defaultValues(e)}}static schema(e={}){const t=qr(e,"names",{});return new Ui({name:t.blockName||vn,value:[new Oi({name:t.policyQualifierId||vn}),new hn({name:t.qualifier||vn})]})}fromSchema(e){os(e,Ga);const t=pn(e,e,Za.schema({names:{policyQualifierId:Qa,qualifier:Ja}}));_n.assertSchema(t,this.className),this.policyQualifierId=t.result.policyQualifierId.valueBlock.toString(),this.qualifier=t.result.qualifier}toSchema(){return new Ui({value:[new Oi({value:this.policyQualifierId}),this.qualifier]})}toJSON(){return{policyQualifierId:this.policyQualifierId,qualifier:this.qualifier.toJSON()}}}Za.CLASS_NAME="PolicyQualifierInfo";const Xa="policyIdentifier",Ya="policyQualifiers",$a=[Xa,Ya];class eo extends Sn{constructor(e={}){super(),this.policyIdentifier=qr(e,Xa,eo.defaultValues(Xa)),Ya in e&&(this.policyQualifiers=qr(e,Ya,eo.defaultValues(Ya))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Xa:return vn;case Ya:return[];default:return super.defaultValues(e)}}static schema(e={}){const t=qr(e,"names",{});return new Ui({name:t.blockName||vn,value:[new Oi({name:t.policyIdentifier||vn}),new Ui({optional:!0,value:[new dn({name:t.policyQualifiers||vn,value:Za.schema()})]})]})}fromSchema(e){os(e,$a);const t=pn(e,e,eo.schema({names:{policyIdentifier:Xa,policyQualifiers:Ya}}));_n.assertSchema(t,this.className),this.policyIdentifier=t.result.policyIdentifier.valueBlock.toString(),Ya in t.result&&(this.policyQualifiers=Array.from(t.result.policyQualifiers,(e=>new Za({schema:e}))))}toSchema(){const e=[];return e.push(new Oi({value:this.policyIdentifier})),this.policyQualifiers&&e.push(new Ui({value:Array.from(this.policyQualifiers,(e=>e.toSchema()))})),new Ui({value:e})}toJSON(){const e={policyIdentifier:this.policyIdentifier};return this.policyQualifiers&&(e.policyQualifiers=Array.from(this.policyQualifiers,(e=>e.toJSON()))),e}}eo.CLASS_NAME="PolicyInformation";const to="certificatePolicies",ro=[to];class so extends Sn{constructor(e={}){super(),this.certificatePolicies=qr(e,to,so.defaultValues(to)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){return e===to?[]:super.defaultValues(e)}static schema(e={}){const t=qr(e,"names",{});return new Ui({name:t.blockName||vn,value:[new dn({name:t.certificatePolicies||vn,value:eo.schema()})]})}fromSchema(e){os(e,ro);const t=pn(e,e,so.schema({names:{certificatePolicies:to}}));_n.assertSchema(t,this.className),this.certificatePolicies=Array.from(t.result.certificatePolicies,(e=>new eo({schema:e})))}toSchema(){return new Ui({value:Array.from(this.certificatePolicies,(e=>e.toSchema()))})}toJSON(){return{certificatePolicies:Array.from(this.certificatePolicies,(e=>e.toJSON()))}}}so.CLASS_NAME="CertificatePolicies";const io="templateID",no="templateMajorVersion",ao="templateMinorVersion",oo=[io,no,ao];class lo extends Sn{constructor(e={}){super(),this.templateID=qr(e,io,lo.defaultValues(io)),no in e&&(this.templateMajorVersion=qr(e,no,lo.defaultValues(no))),ao in e&&(this.templateMinorVersion=qr(e,ao,lo.defaultValues(ao))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case io:return vn;case no:case ao:return 0;default:return super.defaultValues(e)}}static schema(e={}){const t=qr(e,"names",{});return new Ui({name:t.blockName||vn,value:[new Oi({name:t.templateID||vn}),new Ii({name:t.templateMajorVersion||vn,optional:!0}),new Ii({name:t.templateMinorVersion||vn,optional:!0})]})}fromSchema(e){os(e,oo);const t=pn(e,e,lo.schema({names:{templateID:io,templateMajorVersion:no,templateMinorVersion:ao}}));_n.assertSchema(t,this.className),this.templateID=t.result.templateID.valueBlock.toString(),no in t.result&&(this.templateMajorVersion=t.result.templateMajorVersion.valueBlock.valueDec),ao in t.result&&(this.templateMinorVersion=t.result.templateMinorVersion.valueBlock.valueDec)}toSchema(){const e=[];return e.push(new Oi({value:this.templateID})),no in this&&e.push(new Ii({value:this.templateMajorVersion})),ao in this&&e.push(new Ii({value:this.templateMinorVersion})),new Ui({value:e})}toJSON(){const e={templateID:this.templateID};return no in this&&(e.templateMajorVersion=this.templateMajorVersion),ao in this&&(e.templateMinorVersion=this.templateMinorVersion),e}}const co="distributionPoint",uo="distributionPointNames",ho="reasons",fo="cRLIssuer",mo="cRLIssuerNames",po=[co,uo,ho,fo,mo];class go extends Sn{constructor(e={}){super(),co in e&&(this.distributionPoint=qr(e,co,go.defaultValues(co))),ho in e&&(this.reasons=qr(e,ho,go.defaultValues(ho))),fo in e&&(this.cRLIssuer=qr(e,fo,go.defaultValues(fo))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case co:return[];case ho:return new Si;case fo:return[];default:return super.defaultValues(e)}}static schema(e={}){const t=qr(e,"names",{});return new Ui({name:t.blockName||vn,value:[new pi({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new fn({value:[new pi({name:t.distributionPoint||vn,optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new dn({name:t.distributionPointNames||vn,value:Un.schema()})]}),new pi({name:t.distributionPoint||vn,optional:!0,idBlock:{tagClass:3,tagNumber:1},value:Tn.schema().valueBlock.value})]})]}),new hi({name:t.reasons||vn,optional:!0,idBlock:{tagClass:3,tagNumber:1}}),new pi({name:t.cRLIssuer||vn,optional:!0,idBlock:{tagClass:3,tagNumber:2},value:[new dn({name:t.cRLIssuerNames||vn,value:Un.schema()})]})]})}fromSchema(e){os(e,po);const t=pn(e,e,go.schema({names:{distributionPoint:co,distributionPointNames:uo,reasons:ho,cRLIssuer:fo,cRLIssuerNames:mo}}));_n.assertSchema(t,this.className),co in t.result&&(0===t.result.distributionPoint.idBlock.tagNumber&&(this.distributionPoint=Array.from(t.result.distributionPointNames,(e=>new Un({schema:e})))),1===t.result.distributionPoint.idBlock.tagNumber&&(this.distributionPoint=new Tn({schema:new Ui({value:t.result.distributionPoint.valueBlock.value})}))),ho in t.result&&(this.reasons=new Si({valueHex:t.result.reasons.valueBlock.valueHex})),fo in t.result&&(this.cRLIssuer=Array.from(t.result.cRLIssuerNames,(e=>new Un({schema:e}))))}toSchema(){const e=[];if(this.distributionPoint){let t;t=this.distributionPoint instanceof Array?new pi({idBlock:{tagClass:3,tagNumber:0},value:Array.from(this.distributionPoint,(e=>e.toSchema()))}):new pi({idBlock:{tagClass:3,tagNumber:1},value:[this.distributionPoint.toSchema()]}),e.push(new pi({idBlock:{tagClass:3,tagNumber:0},value:[t]}))}return this.reasons&&e.push(new hi({idBlock:{tagClass:3,tagNumber:1},valueHex:this.reasons.valueBlock.valueHexView})),this.cRLIssuer&&e.push(new pi({idBlock:{tagClass:3,tagNumber:2},value:Array.from(this.cRLIssuer,(e=>e.toSchema()))})),new Ui({value:e})}toJSON(){const e={};return this.distributionPoint&&(this.distributionPoint instanceof Array?e.distributionPoint=Array.from(this.distributionPoint,(e=>e.toJSON())):e.distributionPoint=this.distributionPoint.toJSON()),this.reasons&&(e.reasons=this.reasons.toJSON()),this.cRLIssuer&&(e.cRLIssuer=Array.from(this.cRLIssuer,(e=>e.toJSON()))),e}}go.CLASS_NAME="DistributionPoint";const wo="distributionPoints",yo=[wo];class bo extends Sn{constructor(e={}){super(),this.distributionPoints=qr(e,wo,bo.defaultValues(wo)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){return e===wo?[]:super.defaultValues(e)}static schema(e={}){const t=qr(e,"names",{});return new Ui({name:t.blockName||vn,value:[new dn({name:t.distributionPoints||vn,value:go.schema()})]})}fromSchema(e){os(e,yo);const t=pn(e,e,bo.schema({names:{distributionPoints:wo}}));_n.assertSchema(t,this.className),this.distributionPoints=Array.from(t.result.distributionPoints,(e=>new go({schema:e})))}toSchema(){return new Ui({value:Array.from(this.distributionPoints,(e=>e.toSchema()))})}toJSON(){return{distributionPoints:Array.from(this.distributionPoints,(e=>e.toJSON()))}}}bo.CLASS_NAME="CRLDistributionPoints";const vo="keyPurposes",Ao=[vo];class ko extends Sn{constructor(e={}){super(),this.keyPurposes=qr(e,vo,ko.defaultValues(vo)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){return e===vo?[]:super.defaultValues(e)}static schema(e={}){const t=qr(e,"names",{});return new Ui({name:t.blockName||vn,value:[new dn({name:t.keyPurposes||vn,value:new Oi})]})}fromSchema(e){os(e,Ao);const t=pn(e,e,ko.schema({names:{keyPurposes:vo}}));_n.assertSchema(t,this.className),this.keyPurposes=Array.from(t.result.keyPurposes,(e=>e.valueBlock.toString()))}toSchema(){return new Ui({value:Array.from(this.keyPurposes,(e=>new Oi({value:e})))})}toJSON(){return{keyPurposes:Array.from(this.keyPurposes)}}}ko.CLASS_NAME="ExtKeyUsage";const _o="accessDescriptions";class So extends Sn{constructor(e={}){super(),this.accessDescriptions=qr(e,_o,So.defaultValues(_o)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){return e===_o?[]:super.defaultValues(e)}static schema(e={}){const t=qr(e,"names",{});return new Ui({name:t.blockName||vn,value:[new dn({name:t.accessDescriptions||vn,value:Fn.schema()})]})}fromSchema(e){os(e,[_o]);const t=pn(e,e,So.schema({names:{accessDescriptions:_o}}));_n.assertSchema(t,this.className),this.accessDescriptions=Array.from(t.result.accessDescriptions,(e=>new Fn({schema:e})))}toSchema(){return new Ui({value:Array.from(this.accessDescriptions,(e=>e.toSchema()))})}toJSON(){return{accessDescriptions:Array.from(this.accessDescriptions,(e=>e.toJSON()))}}}So.CLASS_NAME="InfoAccess";const Eo="distributionPoint",Co="distributionPointNames",No="onlyContainsUserCerts",Bo="onlyContainsCACerts",Io="onlySomeReasons",xo="indirectCRL",To="onlyContainsAttributeCerts",Ro=[Eo,Co,No,Bo,Io,xo,To];class Oo extends Sn{constructor(e={}){super(),Eo in e&&(this.distributionPoint=qr(e,Eo,Oo.defaultValues(Eo))),this.onlyContainsUserCerts=qr(e,No,Oo.defaultValues(No)),this.onlyContainsCACerts=qr(e,Bo,Oo.defaultValues(Bo)),Io in e&&(this.onlySomeReasons=qr(e,Io,Oo.defaultValues(Io))),this.indirectCRL=qr(e,xo,Oo.defaultValues(xo)),this.onlyContainsAttributeCerts=qr(e,To,Oo.defaultValues(To)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Eo:return[];case No:case Bo:return!1;case Io:return 0;case xo:case To:return!1;default:return super.defaultValues(e)}}static schema(e={}){const t=qr(e,"names",{});return new Ui({name:t.blockName||vn,value:[new pi({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new fn({value:[new pi({name:t.distributionPoint||vn,idBlock:{tagClass:3,tagNumber:0},value:[new dn({name:t.distributionPointNames||vn,value:Un.schema()})]}),new pi({name:t.distributionPoint||vn,idBlock:{tagClass:3,tagNumber:1},value:Tn.schema().valueBlock.value})]})]}),new hi({name:t.onlyContainsUserCerts||vn,optional:!0,idBlock:{tagClass:3,tagNumber:1}}),new hi({name:t.onlyContainsCACerts||vn,optional:!0,idBlock:{tagClass:3,tagNumber:2}}),new hi({name:t.onlySomeReasons||vn,optional:!0,idBlock:{tagClass:3,tagNumber:3}}),new hi({name:t.indirectCRL||vn,optional:!0,idBlock:{tagClass:3,tagNumber:4}}),new hi({name:t.onlyContainsAttributeCerts||vn,optional:!0,idBlock:{tagClass:3,tagNumber:5}})]})}fromSchema(e){os(e,Ro);const t=pn(e,e,Oo.schema({names:{distributionPoint:Eo,distributionPointNames:Co,onlyContainsUserCerts:No,onlyContainsCACerts:Bo,onlySomeReasons:Io,indirectCRL:xo,onlyContainsAttributeCerts:To}}));if(_n.assertSchema(t,this.className),Eo in t.result)switch(!0){case 0===t.result.distributionPoint.idBlock.tagNumber:this.distributionPoint=Array.from(t.result.distributionPointNames,(e=>new Un({schema:e})));break;case 1===t.result.distributionPoint.idBlock.tagNumber:this.distributionPoint=new Tn({schema:new Ui({value:t.result.distributionPoint.valueBlock.value})});break;default:throw new Error("Unknown tagNumber for distributionPoint: {$asn1.result.distributionPoint.idBlock.tagNumber}")}if(No in t.result){const e=new Uint8Array(t.result.onlyContainsUserCerts.valueBlock.valueHex);this.onlyContainsUserCerts=0!==e[0]}if(Bo in t.result){const e=new Uint8Array(t.result.onlyContainsCACerts.valueBlock.valueHex);this.onlyContainsCACerts=0!==e[0]}if(Io in t.result){const e=new Uint8Array(t.result.onlySomeReasons.valueBlock.valueHex);this.onlySomeReasons=e[0]}if(xo in t.result){const e=new Uint8Array(t.result.indirectCRL.valueBlock.valueHex);this.indirectCRL=0!==e[0]}if(To in t.result){const e=new Uint8Array(t.result.onlyContainsAttributeCerts.valueBlock.valueHex);this.onlyContainsAttributeCerts=0!==e[0]}}toSchema(){const e=[];if(this.distributionPoint){let t;this.distributionPoint instanceof Array?t=new pi({idBlock:{tagClass:3,tagNumber:0},value:Array.from(this.distributionPoint,(e=>e.toSchema()))}):(t=this.distributionPoint.toSchema(),t.idBlock.tagClass=3,t.idBlock.tagNumber=1),e.push(new pi({idBlock:{tagClass:3,tagNumber:0},value:[t]}))}if(this.onlyContainsUserCerts!==Oo.defaultValues(No)&&e.push(new hi({idBlock:{tagClass:3,tagNumber:1},valueHex:new Uint8Array([255]).buffer})),this.onlyContainsCACerts!==Oo.defaultValues(Bo)&&e.push(new hi({idBlock:{tagClass:3,tagNumber:2},valueHex:new Uint8Array([255]).buffer})),void 0!==this.onlySomeReasons){const t=new ArrayBuffer(1);new Uint8Array(t)[0]=this.onlySomeReasons,e.push(new hi({idBlock:{tagClass:3,tagNumber:3},valueHex:t}))}return this.indirectCRL!==Oo.defaultValues(xo)&&e.push(new hi({idBlock:{tagClass:3,tagNumber:4},valueHex:new Uint8Array([255]).buffer})),this.onlyContainsAttributeCerts!==Oo.defaultValues(To)&&e.push(new hi({idBlock:{tagClass:3,tagNumber:5},valueHex:new Uint8Array([255]).buffer})),new Ui({value:e})}toJSON(){const e={};return this.distributionPoint&&(this.distributionPoint instanceof Array?e.distributionPoint=Array.from(this.distributionPoint,(e=>e.toJSON())):e.distributionPoint=this.distributionPoint.toJSON()),this.onlyContainsUserCerts!==Oo.defaultValues(No)&&(e.onlyContainsUserCerts=this.onlyContainsUserCerts),this.onlyContainsCACerts!==Oo.defaultValues(Bo)&&(e.onlyContainsCACerts=this.onlyContainsCACerts),Io in this&&(e.onlySomeReasons=this.onlySomeReasons),this.indirectCRL!==Oo.defaultValues(xo)&&(e.indirectCRL=this.indirectCRL),this.onlyContainsAttributeCerts!==Oo.defaultValues(To)&&(e.onlyContainsAttributeCerts=this.onlyContainsAttributeCerts),e}}Oo.CLASS_NAME="IssuingDistributionPoint";const Po="base",Do="minimum",Lo="maximum",Uo=[Po,Do,Lo];class Vo extends Sn{constructor(e={}){super(),this.base=qr(e,Po,Vo.defaultValues(Po)),this.minimum=qr(e,Do,Vo.defaultValues(Do)),Lo in e&&(this.maximum=qr(e,Lo,Vo.defaultValues(Lo))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Po:return new Un;case Do:case Lo:return 0;default:return super.defaultValues(e)}}static schema(e={}){const t=qr(e,"names",{});return new Ui({name:t.blockName||vn,value:[Un.schema(t.base||{}),new pi({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new Ii({name:t.minimum||vn})]}),new pi({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[new Ii({name:t.maximum||vn})]})]})}fromSchema(e){os(e,Uo);const t=pn(e,e,Vo.schema({names:{base:{names:{blockName:Po}},minimum:Do,maximum:Lo}}));_n.assertSchema(t,this.className),this.base=new Un({schema:t.result.base}),Do in t.result&&(t.result.minimum.valueBlock.isHexOnly?this.minimum=t.result.minimum:this.minimum=t.result.minimum.valueBlock.valueDec),Lo in t.result&&(t.result.maximum.valueBlock.isHexOnly?this.maximum=t.result.maximum:this.maximum=t.result.maximum.valueBlock.valueDec)}toSchema(){const e=[];if(e.push(this.base.toSchema()),0!==this.minimum){let t=0;t=this.minimum instanceof Ii?this.minimum:new Ii({value:this.minimum}),e.push(new pi({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[t]}))}if(Lo in this){let t=0;t=this.maximum instanceof Ii?this.maximum:new Ii({value:this.maximum}),e.push(new pi({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[t]}))}return new Ui({value:e})}toJSON(){const e={base:this.base.toJSON()};return 0!==this.minimum&&("number"==typeof this.minimum?e.minimum=this.minimum:e.minimum=this.minimum.toJSON()),void 0!==this.maximum&&("number"==typeof this.maximum?e.maximum=this.maximum:e.maximum=this.maximum.toJSON()),e}}Vo.CLASS_NAME="GeneralSubtree";const Ho="permittedSubtrees",Mo="excludedSubtrees",Fo=[Ho,Mo];class Wo extends Sn{constructor(e={}){super(),Ho in e&&(this.permittedSubtrees=qr(e,Ho,Wo.defaultValues(Ho))),Mo in e&&(this.excludedSubtrees=qr(e,Mo,Wo.defaultValues(Mo))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Ho:case Mo:return[];default:return super.defaultValues(e)}}static schema(e={}){const t=qr(e,"names",{});return new Ui({name:t.blockName||vn,value:[new pi({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new dn({name:t.permittedSubtrees||vn,value:Vo.schema()})]}),new pi({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[new dn({name:t.excludedSubtrees||vn,value:Vo.schema()})]})]})}fromSchema(e){os(e,Fo);const t=pn(e,e,Wo.schema({names:{permittedSubtrees:Ho,excludedSubtrees:Mo}}));_n.assertSchema(t,this.className),Ho in t.result&&(this.permittedSubtrees=Array.from(t.result.permittedSubtrees,(e=>new Vo({schema:e})))),Mo in t.result&&(this.excludedSubtrees=Array.from(t.result.excludedSubtrees,(e=>new Vo({schema:e}))))}toSchema(){const e=[];return this.permittedSubtrees&&e.push(new pi({idBlock:{tagClass:3,tagNumber:0},value:Array.from(this.permittedSubtrees,(e=>e.toSchema()))})),this.excludedSubtrees&&e.push(new pi({idBlock:{tagClass:3,tagNumber:1},value:Array.from(this.excludedSubtrees,(e=>e.toSchema()))})),new Ui({value:e})}toJSON(){const e={};return this.permittedSubtrees&&(e.permittedSubtrees=Array.from(this.permittedSubtrees,(e=>e.toJSON()))),this.excludedSubtrees&&(e.excludedSubtrees=Array.from(this.excludedSubtrees,(e=>e.toJSON()))),e}}Wo.CLASS_NAME="NameConstraints";const jo="requireExplicitPolicy",qo="inhibitPolicyMapping",zo=[jo,qo];class Ko extends Sn{constructor(e={}){super(),jo in e&&(this.requireExplicitPolicy=qr(e,jo,Ko.defaultValues(jo))),qo in e&&(this.inhibitPolicyMapping=qr(e,qo,Ko.defaultValues(qo))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case jo:case qo:return 0;default:return super.defaultValues(e)}}static schema(e={}){const t=qr(e,"names",{});return new Ui({name:t.blockName||vn,value:[new hi({name:t.requireExplicitPolicy||vn,optional:!0,idBlock:{tagClass:3,tagNumber:0}}),new hi({name:t.inhibitPolicyMapping||vn,optional:!0,idBlock:{tagClass:3,tagNumber:1}})]})}fromSchema(e){os(e,zo);const t=pn(e,e,Ko.schema({names:{requireExplicitPolicy:jo,inhibitPolicyMapping:qo}}));if(_n.assertSchema(t,this.className),jo in t.result){const e=t.result.requireExplicitPolicy;e.idBlock.tagClass=1,e.idBlock.tagNumber=2;const r=di(e.toBER(!1));_n.assert(r,"Integer"),this.requireExplicitPolicy=r.result.valueBlock.valueDec}if(qo in t.result){const e=t.result.inhibitPolicyMapping;e.idBlock.tagClass=1,e.idBlock.tagNumber=2;const r=di(e.toBER(!1));_n.assert(r,"Integer"),this.inhibitPolicyMapping=r.result.valueBlock.valueDec}}toSchema(){const e=[];if(jo in this){const t=new Ii({value:this.requireExplicitPolicy});t.idBlock.tagClass=3,t.idBlock.tagNumber=0,e.push(t)}if(qo in this){const t=new Ii({value:this.inhibitPolicyMapping});t.idBlock.tagClass=3,t.idBlock.tagNumber=1,e.push(t)}return new Ui({value:e})}toJSON(){const e={};return jo in this&&(e.requireExplicitPolicy=this.requireExplicitPolicy),qo in this&&(e.inhibitPolicyMapping=this.inhibitPolicyMapping),e}}Ko.CLASS_NAME="PolicyConstraints";const Qo="issuerDomainPolicy",Jo="subjectDomainPolicy",Go=[Qo,Jo];class Zo extends Sn{constructor(e={}){super(),this.issuerDomainPolicy=qr(e,Qo,Zo.defaultValues(Qo)),this.subjectDomainPolicy=qr(e,Jo,Zo.defaultValues(Jo)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Qo:case Jo:return vn;default:return super.defaultValues(e)}}static schema(e={}){const t=qr(e,"names",{});return new Ui({name:t.blockName||vn,value:[new Oi({name:t.issuerDomainPolicy||vn}),new Oi({name:t.subjectDomainPolicy||vn})]})}fromSchema(e){os(e,Go);const t=pn(e,e,Zo.schema({names:{issuerDomainPolicy:Qo,subjectDomainPolicy:Jo}}));_n.assertSchema(t,this.className),this.issuerDomainPolicy=t.result.issuerDomainPolicy.valueBlock.toString(),this.subjectDomainPolicy=t.result.subjectDomainPolicy.valueBlock.toString()}toSchema(){return new Ui({value:[new Oi({value:this.issuerDomainPolicy}),new Oi({value:this.subjectDomainPolicy})]})}toJSON(){return{issuerDomainPolicy:this.issuerDomainPolicy,subjectDomainPolicy:this.subjectDomainPolicy}}}Zo.CLASS_NAME="PolicyMapping";const Xo="mappings",Yo=[Xo];class $o extends Sn{constructor(e={}){super(),this.mappings=qr(e,Xo,$o.defaultValues(Xo)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){return e===Xo?[]:super.defaultValues(e)}static schema(e={}){const t=qr(e,"names",{});return new Ui({name:t.blockName||vn,value:[new dn({name:t.mappings||vn,value:Zo.schema()})]})}fromSchema(e){os(e,Yo);const t=pn(e,e,$o.schema({names:{mappings:Xo}}));_n.assertSchema(t,this.className),this.mappings=Array.from(t.result.mappings,(e=>new Zo({schema:e})))}toSchema(){return new Ui({value:Array.from(this.mappings,(e=>e.toSchema()))})}toJSON(){return{mappings:Array.from(this.mappings,(e=>e.toJSON()))}}}$o.CLASS_NAME="PolicyMappings";const el="notBefore",tl="notAfter",rl=[el,tl];class sl extends Sn{constructor(e={}){super(),el in e&&(this.notBefore=qr(e,el,sl.defaultValues(el))),tl in e&&(this.notAfter=qr(e,tl,sl.defaultValues(tl))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case el:case tl:return new Date;default:return super.defaultValues(e)}}static schema(e={}){const t=qr(e,"names",{});return new Ui({name:t.blockName||vn,value:[new hi({name:t.notBefore||vn,optional:!0,idBlock:{tagClass:3,tagNumber:0}}),new hi({name:t.notAfter||vn,optional:!0,idBlock:{tagClass:3,tagNumber:1}})]})}fromSchema(e){os(e,rl);const t=pn(e,e,sl.schema({names:{notBefore:el,notAfter:tl}}));if(_n.assertSchema(t,this.className),el in t.result){const e=new nn;e.fromBuffer(t.result.notBefore.valueBlock.valueHex),this.notBefore=e.toDate()}if(tl in t.result){const e=new nn({valueHex:t.result.notAfter.valueBlock.valueHex});e.fromBuffer(t.result.notAfter.valueBlock.valueHex),this.notAfter=e.toDate()}}toSchema(){const e=[];return el in this&&e.push(new hi({idBlock:{tagClass:3,tagNumber:0},valueHex:new nn({valueDate:this.notBefore}).valueBlock.valueHexView})),tl in this&&e.push(new hi({idBlock:{tagClass:3,tagNumber:1},valueHex:new nn({valueDate:this.notAfter}).valueBlock.valueHexView})),new Ui({value:e})}toJSON(){const e={};return this.notBefore&&(e.notBefore=this.notBefore),this.notAfter&&(e.notAfter=this.notAfter),e}}sl.CLASS_NAME="PrivateKeyUsagePeriod";const il="id",nl="type",al="values",ol=[il,nl],ll=[al];class cl extends Sn{constructor(e={}){super(),this.id=qr(e,il,cl.defaultValues(il)),nl in e&&(this.type=qr(e,nl,cl.defaultValues(nl))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case il:return vn;case nl:return new yi;default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case il:return t===vn;case nl:return t instanceof yi;default:return super.defaultValues(e)}}static schema(e={}){const t=qr(e,"names",{});return new Ui({name:t.blockName||vn,value:[new Oi({name:t.id||vn}),new hn({name:t.type||vn,optional:!0})]})}fromSchema(e){os(e,ol);const t=pn(e,e,cl.schema({names:{id:il,type:nl}}));_n.assertSchema(t,this.className),this.id=t.result.id.valueBlock.toString(),nl in t.result&&(this.type=t.result.type)}toSchema(){const e=[new Oi({value:this.id})];return nl in this&&e.push(this.type),new Ui({value:e})}toJSON(){const e={id:this.id};return this.type&&(e.type=this.type.toJSON()),e}}cl.CLASS_NAME="QCStatement";class ul extends Sn{constructor(e={}){super(),this.values=qr(e,al,ul.defaultValues(al)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){return e===al?[]:super.defaultValues(e)}static compareWithDefault(e,t){return e===al?0===t.length:super.defaultValues(e)}static schema(e={}){const t=qr(e,"names",{});return new Ui({name:t.blockName||vn,value:[new dn({name:t.values||vn,value:cl.schema(t.value||{})})]})}fromSchema(e){os(e,ll);const t=pn(e,e,ul.schema({names:{values:al}}));_n.assertSchema(t,this.className),this.values=Array.from(t.result.values,(e=>new cl({schema:e})))}toSchema(){return new Ui({value:Array.from(this.values,(e=>e.toSchema()))})}toJSON(){return{values:Array.from(this.values,(e=>e.toJSON()))}}}var hl;ul.CLASS_NAME="QCStatements";class fl{static register(e,t,r){this.namedCurves[e.toLowerCase()]=this.namedCurves[t]={name:e,id:t,size:r}}static find(e){return this.namedCurves[e.toLowerCase()]||null}}hl=fl,fl.namedCurves={},hl.register("P-256","1.2.840.10045.3.1.7",32),hl.register("P-384","1.3.132.0.34",48),hl.register("P-521","1.3.132.0.35",66),hl.register("brainpoolP256r1","1.3.36.3.3.2.8.1.1.7",32),hl.register("brainpoolP384r1","1.3.36.3.3.2.8.1.1.11",48),hl.register("brainpoolP512r1","1.3.36.3.3.2.8.1.1.13",64);const dl="x",ml="y",pl="namedCurve";class gl extends Sn{constructor(e={}){super(),this.x=qr(e,dl,gl.defaultValues(dl)),this.y=qr(e,ml,gl.defaultValues(ml)),this.namedCurve=qr(e,pl,gl.defaultValues(pl)),e.json&&this.fromJSON(e.json),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case dl:case ml:return bn;case pl:return vn;default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case dl:case ml:return t instanceof ArrayBuffer&&Xr(t,gl.defaultValues(e));case pl:return"string"==typeof t&&t===gl.defaultValues(e);default:return super.defaultValues(e)}}static schema(){return new mn}fromSchema(e){const t=jr.vJ.toUint8Array(e);if(4!==t[0])throw new Error("Object's schema was not verified against input data for ECPublicKey");const r=fl.find(this.namedCurve);if(!r)throw new Error(`Incorrect curve OID: ${this.namedCurve}`);const s=r.size;if(t.byteLength!==2*s+1)throw new Error("Object's schema was not verified against input data for ECPublicKey");this.namedCurve=r.name,this.x=t.slice(1,s+1).buffer,this.y=t.slice(1+s,2*s+1).buffer}toSchema(){return new mn({data:Jr(new Uint8Array([4]).buffer,this.x,this.y)})}toJSON(){const e=fl.find(this.namedCurve);return{crv:e?e.name:this.namedCurve,x:ts(ss(this.x),!0,!0,!1),y:ts(ss(this.y),!0,!0,!1)}}fromJSON(e){kn.assert("json",e,"crv","x","y");let t=0;const r=fl.find(e.crv);r&&(this.namedCurve=r.id,t=r.size);const s=is(rs(e.x,!0));if(s.byteLength<t){this.x=new ArrayBuffer(t);const e=new Uint8Array(this.x),r=new Uint8Array(s);e.set(r,1)}else this.x=s.slice(0,t);const i=is(rs(e.y,!0));if(i.byteLength<t){this.y=new ArrayBuffer(t);const e=new Uint8Array(this.y),r=new Uint8Array(i);e.set(r,1)}else this.y=i.slice(0,t)}}gl.CLASS_NAME="ECPublicKey";const wl="modulus",yl="publicExponent",bl=[wl,yl];class vl extends Sn{constructor(e={}){super(),this.modulus=qr(e,wl,vl.defaultValues(wl)),this.publicExponent=qr(e,yl,vl.defaultValues(yl)),e.json&&this.fromJSON(e.json),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case wl:case yl:return new Ii;default:return super.defaultValues(e)}}static schema(e={}){const t=qr(e,"names",{});return new Ui({name:t.blockName||vn,value:[new Ii({name:t.modulus||vn}),new Ii({name:t.publicExponent||vn})]})}fromSchema(e){os(e,bl);const t=pn(e,e,vl.schema({names:{modulus:wl,publicExponent:yl}}));_n.assertSchema(t,this.className),this.modulus=t.result.modulus.convertFromDER(256),this.publicExponent=t.result.publicExponent}toSchema(){return new Ui({value:[this.modulus.convertToDER(),this.publicExponent]})}toJSON(){return{n:jr.ep.ToBase64Url(this.modulus.valueBlock.valueHexView),e:jr.ep.ToBase64Url(this.publicExponent.valueBlock.valueHexView)}}fromJSON(e){kn.assert("json",e,"n","e");const t=is(rs(e.n,!0));this.modulus=new Ii({valueHex:t.slice(0,Math.pow(2,as(t.byteLength)))}),this.publicExponent=new Ii({valueHex:is(rs(e.e,!0)).slice(0,3)})}}vl.CLASS_NAME="RSAPublicKey";const Al="algorithm",kl="subjectPublicKey",_l=[Al,kl];class Sl extends Sn{constructor(e={}){super(),this.algorithm=qr(e,Al,Sl.defaultValues(Al)),this.subjectPublicKey=qr(e,kl,Sl.defaultValues(kl));const t=qr(e,"parsedKey",null);t&&(this.parsedKey=t),e.json&&this.fromJSON(e.json),e.schema&&this.fromSchema(e.schema)}get parsedKey(){if(void 0===this._parsedKey){switch(this.algorithm.algorithmId){case"1.2.840.10045.2.1":if("algorithmParams"in this.algorithm&&this.algorithm.algorithmParams.constructor.blockName()===Oi.blockName())try{this._parsedKey=new gl({namedCurve:this.algorithm.algorithmParams.valueBlock.toString(),schema:this.subjectPublicKey.valueBlock.valueHexView})}catch(e){}break;case"1.2.840.113549.1.1.1":{const e=di(this.subjectPublicKey.valueBlock.valueHexView);if(-1!==e.offset)try{this._parsedKey=new vl({schema:e.result})}catch(e){}}}this._parsedKey||(this._parsedKey=null)}return this._parsedKey||void 0}set parsedKey(e){this._parsedKey=e}static defaultValues(e){switch(e){case Al:return new Xn;case kl:return new Si;default:return super.defaultValues(e)}}static schema(e={}){const t=qr(e,"names",{});return new Ui({name:t.blockName||vn,value:[Xn.schema(t.algorithm||{}),new Si({name:t.subjectPublicKey||vn})]})}fromSchema(e){os(e,_l);const t=pn(e,e,Sl.schema({names:{algorithm:{names:{blockName:Al}},subjectPublicKey:kl}}));_n.assertSchema(t,this.className),this.algorithm=new Xn({schema:t.result.algorithm}),this.subjectPublicKey=t.result.subjectPublicKey}toSchema(){return new Ui({value:[this.algorithm.toSchema(),this.subjectPublicKey]})}toJSON(){if(!this.parsedKey)return{algorithm:this.algorithm.toJSON(),subjectPublicKey:this.subjectPublicKey.toJSON()};const e={};switch(this.algorithm.algorithmId){case"1.2.840.10045.2.1":e.kty="EC";break;case"1.2.840.113549.1.1.1":e.kty="RSA"}const t=this.parsedKey.toJSON();return Object.assign(e,t),e}fromJSON(e){if("kty"in e){switch(e.kty.toUpperCase()){case"EC":this.parsedKey=new gl({json:e}),this.algorithm=new Xn({algorithmId:"1.2.840.10045.2.1",algorithmParams:new Oi({value:this.parsedKey.namedCurve})});break;case"RSA":this.parsedKey=new vl({json:e}),this.algorithm=new Xn({algorithmId:"1.2.840.113549.1.1.1",algorithmParams:new yi});break;default:throw new Error(`Invalid value for "kty" parameter: ${e.kty}`)}this.subjectPublicKey=new Si({valueHex:this.parsedKey.toSchema().toBER(!1)})}}async importKey(e,t=Bc(!0)){try{if(!e)throw new Error("Need to provide publicKey input parameter");const r=di(await t.exportKey("spki",e));try{this.fromSchema(r.result)}catch(e){throw new Error("Error during initializing object from schema")}}catch(e){const t=e instanceof Error?e.message:`${e}`;throw new Error(`Error during exporting public key: ${t}`)}}}Sl.CLASS_NAME="PublicKeyInfo";const El="version",Cl="privateKey",Nl="namedCurve",Bl="publicKey",Il=[El,Cl,Nl,Bl];class xl extends Sn{constructor(e={}){super(),this.version=qr(e,El,xl.defaultValues(El)),this.privateKey=qr(e,Cl,xl.defaultValues(Cl)),Nl in e&&(this.namedCurve=qr(e,Nl,xl.defaultValues(Nl))),Bl in e&&(this.publicKey=qr(e,Bl,xl.defaultValues(Bl))),e.json&&this.fromJSON(e.json),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case El:return 1;case Cl:return new ki;case Nl:return vn;case Bl:return new gl;default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case El:return t===xl.defaultValues(e);case Cl:return t.isEqual(xl.defaultValues(e));case Nl:return t===vn;case Bl:return gl.compareWithDefault(Nl,t.namedCurve)&&gl.compareWithDefault("x",t.x)&&gl.compareWithDefault("y",t.y);default:return super.defaultValues(e)}}static schema(e={}){const t=qr(e,"names",{});return new Ui({name:t.blockName||vn,value:[new Ii({name:t.version||vn}),new ki({name:t.privateKey||vn}),new pi({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new Oi({name:t.namedCurve||vn})]}),new pi({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[new Si({name:t.publicKey||vn})]})]})}fromSchema(e){os(e,Il);const t=pn(e,e,xl.schema({names:{version:El,privateKey:Cl,namedCurve:Nl,publicKey:Bl}}));if(_n.assertSchema(t,this.className),this.version=t.result.version.valueBlock.valueDec,this.privateKey=t.result.privateKey,Nl in t.result&&(this.namedCurve=t.result.namedCurve.valueBlock.toString()),Bl in t.result){const e={schema:t.result.publicKey.valueBlock.valueHex};Nl in this&&(e.namedCurve=this.namedCurve),this.publicKey=new gl(e)}}toSchema(){const e=[new Ii({value:this.version}),this.privateKey];return this.namedCurve&&e.push(new pi({idBlock:{tagClass:3,tagNumber:0},value:[new Oi({value:this.namedCurve})]})),this.publicKey&&e.push(new pi({idBlock:{tagClass:3,tagNumber:1},value:[new Si({valueHex:this.publicKey.toSchema().toBER(!1)})]})),new Ui({value:e})}toJSON(){if(!this.namedCurve||xl.compareWithDefault(Nl,this.namedCurve))throw new Error('Not enough information for making JSON: absent "namedCurve" value');const e=fl.find(this.namedCurve),t={crv:e?e.name:this.namedCurve,d:jr.ep.ToBase64Url(this.privateKey.valueBlock.valueHexView)};if(this.publicKey){const e=this.publicKey.toJSON();t.x=e.x,t.y=e.y}return t}fromJSON(e){kn.assert("json",e,"crv","d");let t=0;const r=fl.find(e.crv);r&&(this.namedCurve=r.id,t=r.size);const s=jr.ep.FromBase64Url(e.d);if(s.byteLength<t){const e=new ArrayBuffer(t),r=new Uint8Array(e),i=new Uint8Array(s);r.set(i,1),this.privateKey=new ki({valueHex:e})}else this.privateKey=new ki({valueHex:s.slice(0,t)});e.x&&e.y&&(this.publicKey=new gl({json:e}))}}xl.CLASS_NAME="ECPrivateKey";const Tl="prime",Rl="exponent",Ol="coefficient",Pl=[Tl,Rl,Ol];class Dl extends Sn{constructor(e={}){super(),this.prime=qr(e,Tl,Dl.defaultValues(Tl)),this.exponent=qr(e,Rl,Dl.defaultValues(Rl)),this.coefficient=qr(e,Ol,Dl.defaultValues(Ol)),e.json&&this.fromJSON(e.json),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Tl:case Rl:case Ol:return new Ii;default:return super.defaultValues(e)}}static schema(e={}){const t=qr(e,"names",{});return new Ui({name:t.blockName||vn,value:[new Ii({name:t.prime||vn}),new Ii({name:t.exponent||vn}),new Ii({name:t.coefficient||vn})]})}fromSchema(e){os(e,Pl);const t=pn(e,e,Dl.schema({names:{prime:Tl,exponent:Rl,coefficient:Ol}}));_n.assertSchema(t,this.className),this.prime=t.result.prime.convertFromDER(),this.exponent=t.result.exponent.convertFromDER(),this.coefficient=t.result.coefficient.convertFromDER()}toSchema(){return new Ui({value:[this.prime.convertToDER(),this.exponent.convertToDER(),this.coefficient.convertToDER()]})}toJSON(){return{r:jr.ep.ToBase64Url(this.prime.valueBlock.valueHexView),d:jr.ep.ToBase64Url(this.exponent.valueBlock.valueHexView),t:jr.ep.ToBase64Url(this.coefficient.valueBlock.valueHexView)}}fromJSON(e){kn.assert("json",e,"r","d","r"),this.prime=new Ii({valueHex:jr.ep.FromBase64Url(e.r)}),this.exponent=new Ii({valueHex:jr.ep.FromBase64Url(e.d)}),this.coefficient=new Ii({valueHex:jr.ep.FromBase64Url(e.t)})}}Dl.CLASS_NAME="OtherPrimeInfo";const Ll="version",Ul="modulus",Vl="publicExponent",Hl="privateExponent",Ml="prime1",Fl="prime2",Wl="exponent1",jl="exponent2",ql="coefficient",zl="otherPrimeInfos",Kl=[Ll,Ul,Vl,Hl,Ml,Fl,Wl,jl,ql,zl];class Ql extends Sn{constructor(e={}){super(),this.version=qr(e,Ll,Ql.defaultValues(Ll)),this.modulus=qr(e,Ul,Ql.defaultValues(Ul)),this.publicExponent=qr(e,Vl,Ql.defaultValues(Vl)),this.privateExponent=qr(e,Hl,Ql.defaultValues(Hl)),this.prime1=qr(e,Ml,Ql.defaultValues(Ml)),this.prime2=qr(e,Fl,Ql.defaultValues(Fl)),this.exponent1=qr(e,Wl,Ql.defaultValues(Wl)),this.exponent2=qr(e,jl,Ql.defaultValues(jl)),this.coefficient=qr(e,ql,Ql.defaultValues(ql)),zl in e&&(this.otherPrimeInfos=qr(e,zl,Ql.defaultValues(zl))),e.json&&this.fromJSON(e.json),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Ll:return 0;case Ul:case Vl:case Hl:case Ml:case Fl:case Wl:case jl:case ql:return new Ii;case zl:return[];default:return super.defaultValues(e)}}static schema(e={}){const t=qr(e,"names",{});return new Ui({name:t.blockName||vn,value:[new Ii({name:t.version||vn}),new Ii({name:t.modulus||vn}),new Ii({name:t.publicExponent||vn}),new Ii({name:t.privateExponent||vn}),new Ii({name:t.prime1||vn}),new Ii({name:t.prime2||vn}),new Ii({name:t.exponent1||vn}),new Ii({name:t.exponent2||vn}),new Ii({name:t.coefficient||vn}),new Ui({optional:!0,value:[new dn({name:t.otherPrimeInfosName||vn,value:Dl.schema(t.otherPrimeInfo||{})})]})]})}fromSchema(e){os(e,Kl);const t=pn(e,e,Ql.schema({names:{version:Ll,modulus:Ul,publicExponent:Vl,privateExponent:Hl,prime1:Ml,prime2:Fl,exponent1:Wl,exponent2:jl,coefficient:ql,otherPrimeInfo:{names:{blockName:zl}}}}));_n.assertSchema(t,this.className),this.version=t.result.version.valueBlock.valueDec,this.modulus=t.result.modulus.convertFromDER(256),this.publicExponent=t.result.publicExponent,this.privateExponent=t.result.privateExponent.convertFromDER(256),this.prime1=t.result.prime1.convertFromDER(128),this.prime2=t.result.prime2.convertFromDER(128),this.exponent1=t.result.exponent1.convertFromDER(128),this.exponent2=t.result.exponent2.convertFromDER(128),this.coefficient=t.result.coefficient.convertFromDER(128),zl in t.result&&(this.otherPrimeInfos=Array.from(t.result.otherPrimeInfos,(e=>new Dl({schema:e}))))}toSchema(){const e=[];return e.push(new Ii({value:this.version})),e.push(this.modulus.convertToDER()),e.push(this.publicExponent),e.push(this.privateExponent.convertToDER()),e.push(this.prime1.convertToDER()),e.push(this.prime2.convertToDER()),e.push(this.exponent1.convertToDER()),e.push(this.exponent2.convertToDER()),e.push(this.coefficient.convertToDER()),this.otherPrimeInfos&&e.push(new Ui({value:Array.from(this.otherPrimeInfos,(e=>e.toSchema()))})),new Ui({value:e})}toJSON(){const e={n:jr.ep.ToBase64Url(this.modulus.valueBlock.valueHexView),e:jr.ep.ToBase64Url(this.publicExponent.valueBlock.valueHexView),d:jr.ep.ToBase64Url(this.privateExponent.valueBlock.valueHexView),p:jr.ep.ToBase64Url(this.prime1.valueBlock.valueHexView),q:jr.ep.ToBase64Url(this.prime2.valueBlock.valueHexView),dp:jr.ep.ToBase64Url(this.exponent1.valueBlock.valueHexView),dq:jr.ep.ToBase64Url(this.exponent2.valueBlock.valueHexView),qi:jr.ep.ToBase64Url(this.coefficient.valueBlock.valueHexView)};return this.otherPrimeInfos&&(e.oth=Array.from(this.otherPrimeInfos,(e=>e.toJSON()))),e}fromJSON(e){kn.assert("json",e,"n","e","d","p","q","dp","dq","qi"),this.modulus=new Ii({valueHex:jr.ep.FromBase64Url(e.n)}),this.publicExponent=new Ii({valueHex:jr.ep.FromBase64Url(e.e)}),this.privateExponent=new Ii({valueHex:jr.ep.FromBase64Url(e.d)}),this.prime1=new Ii({valueHex:jr.ep.FromBase64Url(e.p)}),this.prime2=new Ii({valueHex:jr.ep.FromBase64Url(e.q)}),this.exponent1=new Ii({valueHex:jr.ep.FromBase64Url(e.dp)}),this.exponent2=new Ii({valueHex:jr.ep.FromBase64Url(e.dq)}),this.coefficient=new Ii({valueHex:jr.ep.FromBase64Url(e.qi)}),e.oth&&(this.otherPrimeInfos=Array.from(e.oth,(e=>new Dl({json:e}))))}}Ql.CLASS_NAME="RSAPrivateKey";const Jl="version",Gl="privateKeyAlgorithm",Zl="privateKey",Xl="attributes",Yl="parsedKey",$l=[Jl,Gl,Zl,Xl];class ec extends Sn{constructor(e={}){super(),this.version=qr(e,Jl,ec.defaultValues(Jl)),this.privateKeyAlgorithm=qr(e,Gl,ec.defaultValues(Gl)),this.privateKey=qr(e,Zl,ec.defaultValues(Zl)),Xl in e&&(this.attributes=qr(e,Xl,ec.defaultValues(Xl))),Yl in e&&(this.parsedKey=qr(e,Yl,ec.defaultValues(Yl))),e.json&&this.fromJSON(e.json),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Jl:return 0;case Gl:return new Xn;case Zl:return new ki;case Xl:return[];case Yl:return{};default:return super.defaultValues(e)}}static schema(e={}){const t=qr(e,"names",{});return new Ui({name:t.blockName||vn,value:[new Ii({name:t.version||vn}),Xn.schema(t.privateKeyAlgorithm||{}),new ki({name:t.privateKey||vn}),new pi({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new dn({name:t.attributes||vn,value:ia.schema()})]})]})}fromSchema(e){os(e,$l);const t=pn(e,e,ec.schema({names:{version:Jl,privateKeyAlgorithm:{names:{blockName:Gl}},privateKey:Zl,attributes:Xl}}));switch(_n.assertSchema(t,this.className),this.version=t.result.version.valueBlock.valueDec,this.privateKeyAlgorithm=new Xn({schema:t.result.privateKeyAlgorithm}),this.privateKey=t.result.privateKey,Xl in t.result&&(this.attributes=Array.from(t.result.attributes,(e=>new ia({schema:e})))),this.privateKeyAlgorithm.algorithmId){case"1.2.840.113549.1.1.1":{const e=di(this.privateKey.valueBlock.valueHexView);-1!==e.offset&&(this.parsedKey=new Ql({schema:e.result}))}break;case"1.2.840.10045.2.1":if("algorithmParams"in this.privateKeyAlgorithm&&this.privateKeyAlgorithm.algorithmParams instanceof Oi){const e=di(this.privateKey.valueBlock.valueHexView);-1!==e.offset&&(this.parsedKey=new xl({namedCurve:this.privateKeyAlgorithm.algorithmParams.valueBlock.toString(),schema:e.result}))}}}toSchema(){const e=[new Ii({value:this.version}),this.privateKeyAlgorithm.toSchema(),this.privateKey];return this.attributes&&e.push(new pi({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:Array.from(this.attributes,(e=>e.toSchema()))})),new Ui({value:e})}toJSON(){if(!this.parsedKey){const e={version:this.version,privateKeyAlgorithm:this.privateKeyAlgorithm.toJSON(),privateKey:this.privateKey.toJSON()};return this.attributes&&(e.attributes=Array.from(this.attributes,(e=>e.toJSON()))),e}const e={};switch(this.privateKeyAlgorithm.algorithmId){case"1.2.840.10045.2.1":e.kty="EC";break;case"1.2.840.113549.1.1.1":e.kty="RSA"}const t=this.parsedKey.toJSON();return Object.assign(e,t),e}fromJSON(e){if("kty"in e){switch(e.kty.toUpperCase()){case"EC":this.parsedKey=new xl({json:e}),this.privateKeyAlgorithm=new Xn({algorithmId:"1.2.840.10045.2.1",algorithmParams:new Oi({value:this.parsedKey.namedCurve})});break;case"RSA":this.parsedKey=new Ql({json:e}),this.privateKeyAlgorithm=new Xn({algorithmId:"1.2.840.113549.1.1.1",algorithmParams:new yi});break;default:throw new Error(`Invalid value for "kty" parameter: ${e.kty}`)}this.privateKey=new ki({valueHex:this.parsedKey.toSchema().toBER(!1)})}}}ec.CLASS_NAME="PrivateKeyInfo";const tc="contentType",rc="contentEncryptionAlgorithm",sc="encryptedContent",ic=[tc,rc,sc];class nc extends Sn{constructor(e={}){if(super(),this.contentType=qr(e,tc,nc.defaultValues(tc)),this.contentEncryptionAlgorithm=qr(e,rc,nc.defaultValues(rc)),sc in e&&e.encryptedContent&&(this.encryptedContent=e.encryptedContent,1===this.encryptedContent.idBlock.tagClass&&4===this.encryptedContent.idBlock.tagNumber&&!1===this.encryptedContent.idBlock.isConstructed)){const e=new ki({idBlock:{isConstructed:!0},isConstructed:!0});let t=0;const r=this.encryptedContent.valueBlock.valueHexView.slice().buffer;let s=r.byteLength;const i=1024;for(;s>0;){const n=new Uint8Array(r,t,t+i>r.byteLength?r.byteLength-t:i),a=new ArrayBuffer(n.length),o=new Uint8Array(a);for(let e=0;e<o.length;e++)o[e]=n[e];e.valueBlock.value.push(new ki({valueHex:a})),s-=n.length,t+=n.length}this.encryptedContent=e}e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case tc:return vn;case rc:return new Xn;case sc:return new ki;default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case tc:return t===vn;case rc:return t.algorithmId===vn&&"algorithmParams"in t==!1;case sc:return t.isEqual(nc.defaultValues(sc));default:return super.defaultValues(e)}}static schema(e={}){const t=qr(e,"names",{});return new Ui({name:t.blockName||vn,value:[new Oi({name:t.contentType||vn}),Xn.schema(t.contentEncryptionAlgorithm||{}),new fn({value:[new pi({name:t.encryptedContent||vn,idBlock:{tagClass:3,tagNumber:0},value:[new dn({value:new ki})]}),new hi({name:t.encryptedContent||vn,idBlock:{tagClass:3,tagNumber:0}})]})]})}fromSchema(e){os(e,ic);const t=pn(e,e,nc.schema({names:{contentType:tc,contentEncryptionAlgorithm:{names:{blockName:rc}},encryptedContent:sc}}));_n.assertSchema(t,this.className),this.contentType=t.result.contentType.valueBlock.toString(),this.contentEncryptionAlgorithm=new Xn({schema:t.result.contentEncryptionAlgorithm}),sc in t.result&&(this.encryptedContent=t.result.encryptedContent,this.encryptedContent.idBlock.tagClass=1,this.encryptedContent.idBlock.tagNumber=4)}toSchema(){const e={isIndefiniteForm:!1},t=[];if(t.push(new Oi({value:this.contentType})),t.push(this.contentEncryptionAlgorithm.toSchema()),this.encryptedContent){e.isIndefiniteForm=this.encryptedContent.idBlock.isConstructed;const r=this.encryptedContent;r.idBlock.tagClass=3,r.idBlock.tagNumber=0,r.lenBlock.isIndefiniteForm=this.encryptedContent.idBlock.isConstructed,t.push(r)}return new Ui({lenBlock:e,value:t})}toJSON(){const e={contentType:this.contentType,contentEncryptionAlgorithm:this.contentEncryptionAlgorithm.toJSON()};return this.encryptedContent&&(e.encryptedContent=this.encryptedContent.toJSON()),e}getEncryptedContent(){if(!this.encryptedContent)throw new Error("Parameter 'encryptedContent' is undefined");return ki.prototype.getValue.call(this.encryptedContent)}}nc.CLASS_NAME="EncryptedContentInfo";const ac="hashAlgorithm",oc="maskGenAlgorithm",lc="saltLength",cc="trailerField",uc=[ac,oc,lc,cc];class hc extends Sn{constructor(e={}){super(),this.hashAlgorithm=qr(e,ac,hc.defaultValues(ac)),this.maskGenAlgorithm=qr(e,oc,hc.defaultValues(oc)),this.saltLength=qr(e,lc,hc.defaultValues(lc)),this.trailerField=qr(e,cc,hc.defaultValues(cc)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case ac:return new Xn({algorithmId:"1.3.14.3.2.26",algorithmParams:new yi});case oc:return new Xn({algorithmId:"1.2.840.113549.1.1.8",algorithmParams:new Xn({algorithmId:"1.3.14.3.2.26",algorithmParams:new yi}).toSchema()});case lc:return 20;case cc:return 1;default:return super.defaultValues(e)}}static schema(e={}){const t=qr(e,"names",{});return new Ui({name:t.blockName||vn,value:[new pi({idBlock:{tagClass:3,tagNumber:0},optional:!0,value:[Xn.schema(t.hashAlgorithm||{})]}),new pi({idBlock:{tagClass:3,tagNumber:1},optional:!0,value:[Xn.schema(t.maskGenAlgorithm||{})]}),new pi({idBlock:{tagClass:3,tagNumber:2},optional:!0,value:[new Ii({name:t.saltLength||vn})]}),new pi({idBlock:{tagClass:3,tagNumber:3},optional:!0,value:[new Ii({name:t.trailerField||vn})]})]})}fromSchema(e){os(e,uc);const t=pn(e,e,hc.schema({names:{hashAlgorithm:{names:{blockName:ac}},maskGenAlgorithm:{names:{blockName:oc}},saltLength:lc,trailerField:cc}}));_n.assertSchema(t,this.className),ac in t.result&&(this.hashAlgorithm=new Xn({schema:t.result.hashAlgorithm})),oc in t.result&&(this.maskGenAlgorithm=new Xn({schema:t.result.maskGenAlgorithm})),lc in t.result&&(this.saltLength=t.result.saltLength.valueBlock.valueDec),cc in t.result&&(this.trailerField=t.result.trailerField.valueBlock.valueDec)}toSchema(){const e=[];return this.hashAlgorithm.isEqual(hc.defaultValues(ac))||e.push(new pi({idBlock:{tagClass:3,tagNumber:0},value:[this.hashAlgorithm.toSchema()]})),this.maskGenAlgorithm.isEqual(hc.defaultValues(oc))||e.push(new pi({idBlock:{tagClass:3,tagNumber:1},value:[this.maskGenAlgorithm.toSchema()]})),this.saltLength!==hc.defaultValues(lc)&&e.push(new pi({idBlock:{tagClass:3,tagNumber:2},value:[new Ii({value:this.saltLength})]})),this.trailerField!==hc.defaultValues(cc)&&e.push(new pi({idBlock:{tagClass:3,tagNumber:3},value:[new Ii({value:this.trailerField})]})),new Ui({value:e})}toJSON(){const e={};return this.hashAlgorithm.isEqual(hc.defaultValues(ac))||(e.hashAlgorithm=this.hashAlgorithm.toJSON()),this.maskGenAlgorithm.isEqual(hc.defaultValues(oc))||(e.maskGenAlgorithm=this.maskGenAlgorithm.toJSON()),this.saltLength!==hc.defaultValues(lc)&&(e.saltLength=this.saltLength),this.trailerField!==hc.defaultValues(cc)&&(e.trailerField=this.trailerField),e}}hc.CLASS_NAME="RSASSAPSSParams";const fc="salt",dc="iterationCount",mc="keyLength",pc="prf",gc=[fc,dc,mc,pc];class wc extends Sn{constructor(e={}){super(),this.salt=qr(e,fc,wc.defaultValues(fc)),this.iterationCount=qr(e,dc,wc.defaultValues(dc)),mc in e&&(this.keyLength=qr(e,mc,wc.defaultValues(mc))),pc in e&&(this.prf=qr(e,pc,wc.defaultValues(pc))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case fc:return{};case dc:return-1;case mc:return 0;case pc:return new Xn({algorithmId:"1.3.14.3.2.26",algorithmParams:new yi});default:return super.defaultValues(e)}}static schema(e={}){const t=qr(e,"names",{});return new Ui({name:t.blockName||vn,value:[new fn({value:[new ki({name:t.saltPrimitive||vn}),Xn.schema(t.saltConstructed||{})]}),new Ii({name:t.iterationCount||vn}),new Ii({name:t.keyLength||vn,optional:!0}),Xn.schema(t.prf||{names:{optional:!0}})]})}fromSchema(e){os(e,gc);const t=pn(e,e,wc.schema({names:{saltPrimitive:fc,saltConstructed:{names:{blockName:fc}},iterationCount:dc,keyLength:mc,prf:{names:{blockName:pc,optional:!0}}}}));_n.assertSchema(t,this.className),this.salt=t.result.salt,this.iterationCount=t.result.iterationCount.valueBlock.valueDec,mc in t.result&&(this.keyLength=t.result.keyLength.valueBlock.valueDec),pc in t.result&&(this.prf=new Xn({schema:t.result.prf}))}toSchema(){const e=[];return e.push(this.salt),e.push(new Ii({value:this.iterationCount})),mc in this&&wc.defaultValues(mc)!==this.keyLength&&e.push(new Ii({value:this.keyLength})),this.prf&&!1===wc.defaultValues(pc).isEqual(this.prf)&&e.push(this.prf.toSchema()),new Ui({value:e})}toJSON(){const e={salt:this.salt.toJSON(),iterationCount:this.iterationCount};return mc in this&&wc.defaultValues(mc)!==this.keyLength&&(e.keyLength=this.keyLength),this.prf&&!1===wc.defaultValues(pc).isEqual(this.prf)&&(e.prf=this.prf.toJSON()),e}}wc.CLASS_NAME="PBKDF2Params";const yc="keyDerivationFunc",bc="encryptionScheme",vc=[yc,bc];class Ac extends Sn{constructor(e={}){super(),this.keyDerivationFunc=qr(e,yc,Ac.defaultValues(yc)),this.encryptionScheme=qr(e,bc,Ac.defaultValues(bc)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case yc:case bc:return new Xn;default:return super.defaultValues(e)}}static schema(e={}){const t=qr(e,"names",{});return new Ui({name:t.blockName||vn,value:[Xn.schema(t.keyDerivationFunc||{}),Xn.schema(t.encryptionScheme||{})]})}fromSchema(e){os(e,vc);const t=pn(e,e,Ac.schema({names:{keyDerivationFunc:{names:{blockName:yc}},encryptionScheme:{names:{blockName:bc}}}}));_n.assertSchema(t,this.className),this.keyDerivationFunc=new Xn({schema:t.result.keyDerivationFunc}),this.encryptionScheme=new Xn({schema:t.result.encryptionScheme})}toSchema(){return new Ui({value:[this.keyDerivationFunc.toSchema(),this.encryptionScheme.toSchema()]})}toJSON(){return{keyDerivationFunc:this.keyDerivationFunc.toJSON(),encryptionScheme:this.encryptionScheme.toJSON()}}}Ac.CLASS_NAME="PBES2Params";async function kc(e,t,r,s,i,n){let a,o;const l=[];switch(t.toUpperCase()){case"SHA-1":a=20,o=64;break;case"SHA-256":a=32,o=64;break;case"SHA-384":a=48,o=128;break;case"SHA-512":a=64,o=128;break;default:throw new Error("Unsupported hashing algorithm")}const c=new Uint8Array(s),u=new ArrayBuffer(2*s.byteLength+2),h=new Uint8Array(u);for(let e=0;e<c.length;e++)h[2*e]=0,h[2*e+1]=c[e];h[h.length-2]=0,h[h.length-1]=0,s=u.slice(0);const f=new ArrayBuffer(o),d=new Uint8Array(f);for(let e=0;e<f.byteLength;e++)d[e]=3;const m=i.byteLength,p=o*Math.ceil(m/o),g=new ArrayBuffer(p),w=new Uint8Array(g),y=new Uint8Array(i);for(let e=0;e<p;e++)w[e]=y[e%m];const b=s.byteLength,v=o*Math.ceil(b/o),A=new ArrayBuffer(v),k=new Uint8Array(A),_=new Uint8Array(s);for(let e=0;e<v;e++)k[e]=_[e%b];const S=g.byteLength+A.byteLength;let E=new ArrayBuffer(S),C=new Uint8Array(E);C.set(w),C.set(k,w.length);const N=Math.ceil((r>>3)/a);let B=Promise.resolve(E);for(let r=0;r<=N;r++){B=B.then((e=>{const t=new ArrayBuffer(f.byteLength+e.byteLength),r=new Uint8Array(t);return r.set(d),r.set(C,d.length),t}));for(let r=0;r<n;r++)B=B.then((r=>e.digest({name:t},new Uint8Array(r))));B=B.then((e=>{const t=new ArrayBuffer(o),r=new Uint8Array(t);for(let s=0;s<t.byteLength;s++)r[s]=e[s%e.byteLength];const s=Math.ceil(m/o)+Math.ceil(b/o),i=[];let n=0,a=o;for(let e=0;e<s;e++){const e=Array.from(new Uint8Array(E.slice(n,n+a)));n+=o,n+o>E.byteLength&&(a=E.byteLength-n);let s=511;for(let i=t.byteLength-1;i>=0;i--)s>>=8,s+=r[i]+e[i],e[i]=255&s;i.push(...e)}return E=new ArrayBuffer(i.length),C=new Uint8Array(E),C.set(i),l.push(...new Uint8Array(e)),E}))}return B=B.then((()=>{const e=new ArrayBuffer(r>>3);return new Uint8Array(e).set(new Uint8Array(l).slice(0,r>>3)),e})),B}function _c(e){const t="string"==typeof e?{name:e}:e;return"hash"in t?{...t,hash:_c(t.hash)}:t}class Sc extends class{constructor(e){this.crypto=e.crypto,this.subtle="webkitSubtle"in e.crypto?e.crypto.webkitSubtle:e.crypto.subtle,this.name=qr(e,"name",vn)}async encrypt(...e){return this.subtle.encrypt(...e)}async decrypt(...e){return this.subtle.decrypt(...e)}sign(...e){return this.subtle.sign(...e)}async verify(...e){return this.subtle.verify(...e)}async digest(...e){return this.subtle.digest(...e)}async generateKey(...e){return this.subtle.generateKey(...e)}async deriveKey(...e){return this.subtle.deriveKey(...e)}async deriveBits(...e){return this.subtle.deriveBits(...e)}async wrapKey(...e){return this.subtle.wrapKey(...e)}async unwrapKey(...e){return this.subtle.unwrapKey(...e)}exportKey(...e){return this.subtle.exportKey(...e)}importKey(...e){return this.subtle.importKey(...e)}getRandomValues(e){return this.crypto.getRandomValues(e)}}{async importKey(e,t,r,s,i){var n,a,o,l,c,u;let h={};const f=_c(r);switch(e.toLowerCase()){case"raw":return this.subtle.importKey("raw",t,r,s,i);case"spki":{const e=di(jr.vJ.toArrayBuffer(t));_n.assert(e,"keyData");const r=new Sl;try{r.fromSchema(e.result)}catch{throw new An("Incorrect keyData")}switch(f.name.toUpperCase()){case"RSA-PSS":if(!f.hash)throw new kn("hash","algorithm.hash","Incorrect hash algorithm: Hash algorithm is missed");switch(f.hash.name.toUpperCase()){case"SHA-1":h.alg="PS1";break;case"SHA-256":h.alg="PS256";break;case"SHA-384":h.alg="PS384";break;case"SHA-512":h.alg="PS512";break;default:throw new Error(`Incorrect hash algorithm: ${f.hash.name.toUpperCase()}`)}case"RSASSA-PKCS1-V1_5":{if(i=["verify"],h.kty="RSA",h.ext=s,h.key_ops=i,"1.2.840.113549.1.1.1"!==r.algorithm.algorithmId)throw new Error(`Incorrect public key algorithm: ${r.algorithm.algorithmId}`);if(!h.alg){if(!f.hash)throw new kn("hash","algorithm.hash","Incorrect hash algorithm: Hash algorithm is missed");switch(f.hash.name.toUpperCase()){case"SHA-1":h.alg="RS1";break;case"SHA-256":h.alg="RS256";break;case"SHA-384":h.alg="RS384";break;case"SHA-512":h.alg="RS512";break;default:throw new Error(`Incorrect hash algorithm: ${f.hash.name.toUpperCase()}`)}}const e=r.toJSON();Object.assign(h,e)}break;case"ECDSA":i=["verify"];case"ECDH":{if(h={kty:"EC",ext:s,key_ops:i},"1.2.840.10045.2.1"!==r.algorithm.algorithmId)throw new Error(`Incorrect public key algorithm: ${r.algorithm.algorithmId}`);const e=r.toJSON();Object.assign(h,e)}break;case"RSA-OAEP":{if(h.kty="RSA",h.ext=s,h.key_ops=i,"safari"===this.name.toLowerCase())h.alg="RSA-OAEP";else{if(!f.hash)throw new kn("hash","algorithm.hash","Incorrect hash algorithm: Hash algorithm is missed");switch(f.hash.name.toUpperCase()){case"SHA-1":h.alg="RSA-OAEP";break;case"SHA-256":h.alg="RSA-OAEP-256";break;case"SHA-384":h.alg="RSA-OAEP-384";break;case"SHA-512":h.alg="RSA-OAEP-512";break;default:throw new Error(`Incorrect hash algorithm: ${f.hash.name.toUpperCase()}`)}}const e=r.toJSON();Object.assign(h,e)}break;case"RSAES-PKCS1-V1_5":{h.kty="RSA",h.ext=s,h.key_ops=i,h.alg="PS1";const e=r.toJSON();Object.assign(h,e)}break;default:throw new Error(`Incorrect algorithm name: ${f.name.toUpperCase()}`)}}break;case"pkcs8":{const e=new ec,r=di(jr.vJ.toArrayBuffer(t));_n.assert(r,"keyData");try{e.fromSchema(r.result)}catch(e){throw new Error("Incorrect keyData")}if(!e.parsedKey)throw new Error("Incorrect keyData");switch(f.name.toUpperCase()){case"RSA-PSS":switch(null===(n=f.hash)||void 0===n?void 0:n.name.toUpperCase()){case"SHA-1":h.alg="PS1";break;case"SHA-256":h.alg="PS256";break;case"SHA-384":h.alg="PS384";break;case"SHA-512":h.alg="PS512";break;default:throw new Error(`Incorrect hash algorithm: ${null===(a=f.hash)||void 0===a?void 0:a.name.toUpperCase()}`)}case"RSASSA-PKCS1-V1_5":{if(i=["sign"],h.kty="RSA",h.ext=s,h.key_ops=i,"1.2.840.113549.1.1.1"!==e.privateKeyAlgorithm.algorithmId)throw new Error(`Incorrect private key algorithm: ${e.privateKeyAlgorithm.algorithmId}`);if("alg"in h==!1)switch(null===(o=f.hash)||void 0===o?void 0:o.name.toUpperCase()){case"SHA-1":h.alg="RS1";break;case"SHA-256":h.alg="RS256";break;case"SHA-384":h.alg="RS384";break;case"SHA-512":h.alg="RS512";break;default:throw new Error(`Incorrect hash algorithm: ${null===(l=f.hash)||void 0===l?void 0:l.name.toUpperCase()}`)}const t=e.toJSON();Object.assign(h,t)}break;case"ECDSA":i=["sign"];case"ECDH":{if(h={kty:"EC",ext:s,key_ops:i},"1.2.840.10045.2.1"!==e.privateKeyAlgorithm.algorithmId)throw new Error(`Incorrect algorithm: ${e.privateKeyAlgorithm.algorithmId}`);const t=e.toJSON();Object.assign(h,t)}break;case"RSA-OAEP":{if(h.kty="RSA",h.ext=s,h.key_ops=i,"safari"===this.name.toLowerCase())h.alg="RSA-OAEP";else switch(null===(c=f.hash)||void 0===c?void 0:c.name.toUpperCase()){case"SHA-1":h.alg="RSA-OAEP";break;case"SHA-256":h.alg="RSA-OAEP-256";break;case"SHA-384":h.alg="RSA-OAEP-384";break;case"SHA-512":h.alg="RSA-OAEP-512";break;default:throw new Error(`Incorrect hash algorithm: ${null===(u=f.hash)||void 0===u?void 0:u.name.toUpperCase()}`)}const t=e.toJSON();Object.assign(h,t)}break;case"RSAES-PKCS1-V1_5":{i=["decrypt"],h.kty="RSA",h.ext=s,h.key_ops=i,h.alg="PS1";const t=e.toJSON();Object.assign(h,t)}break;default:throw new Error(`Incorrect algorithm name: ${f.name.toUpperCase()}`)}}break;case"jwk":h=t;break;default:throw new Error(`Incorrect format: ${e}`)}if("safari"===this.name.toLowerCase())try{return this.subtle.importKey("jwk",is(JSON.stringify(h)),r,s,i)}catch{return this.subtle.importKey("jwk",h,r,s,i)}return this.subtle.importKey("jwk",h,r,s,i)}async exportKey(e,t){let r=await this.subtle.exportKey("jwk",t);switch("safari"===this.name.toLowerCase()&&r instanceof ArrayBuffer&&(r=JSON.parse(ss(r))),e.toLowerCase()){case"raw":return this.subtle.exportKey("raw",t);case"spki":{const e=new Sl;try{e.fromJSON(r)}catch(e){throw new Error("Incorrect key data")}return e.toSchema().toBER(!1)}case"pkcs8":{const e=new ec;try{e.fromJSON(r)}catch(e){throw new Error("Incorrect key data")}return e.toSchema().toBER(!1)}case"jwk":return r;default:throw new Error(`Incorrect format: ${e}`)}}async convert(e,t,r,s,i,n){if(e.toLowerCase()===t.toLowerCase())return r;const a=await this.importKey(e,r,s,i,n);return this.exportKey(t,a)}getAlgorithmByOID(e,t=!1,r){switch(e){case"1.2.840.113549.1.1.1":return{name:"RSAES-PKCS1-v1_5"};case"1.2.840.113549.1.1.5":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-1"}};case"1.2.840.113549.1.1.11":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"1.2.840.113549.1.1.12":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-384"}};case"1.2.840.113549.1.1.13":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-512"}};case"1.2.840.113549.1.1.10":return{name:"RSA-PSS"};case"1.2.840.113549.1.1.7":return{name:"RSA-OAEP"};case"1.2.840.10045.2.1":case"1.2.840.10045.4.1":return{name:"ECDSA",hash:{name:"SHA-1"}};case"1.2.840.10045.4.3.2":return{name:"ECDSA",hash:{name:"SHA-256"}};case"1.2.840.10045.4.3.3":return{name:"ECDSA",hash:{name:"SHA-384"}};case"1.2.840.10045.4.3.4":return{name:"ECDSA",hash:{name:"SHA-512"}};case"1.3.133.16.840.63.0.2":return{name:"ECDH",kdf:"SHA-1"};case"1.3.132.1.11.1":return{name:"ECDH",kdf:"SHA-256"};case"1.3.132.1.11.2":return{name:"ECDH",kdf:"SHA-384"};case"1.3.132.1.11.3":return{name:"ECDH",kdf:"SHA-512"};case"2.16.840.1.101.3.4.1.2":return{name:"AES-CBC",length:128};case"2.16.840.1.101.3.4.1.22":return{name:"AES-CBC",length:192};case"2.16.840.1.101.3.4.1.42":return{name:"AES-CBC",length:256};case"2.16.840.1.101.3.4.1.6":return{name:"AES-GCM",length:128};case"2.16.840.1.101.3.4.1.26":return{name:"AES-GCM",length:192};case"2.16.840.1.101.3.4.1.46":return{name:"AES-GCM",length:256};case"2.16.840.1.101.3.4.1.4":return{name:"AES-CFB",length:128};case"2.16.840.1.101.3.4.1.24":return{name:"AES-CFB",length:192};case"2.16.840.1.101.3.4.1.44":return{name:"AES-CFB",length:256};case"2.16.840.1.101.3.4.1.5":return{name:"AES-KW",length:128};case"2.16.840.1.101.3.4.1.25":return{name:"AES-KW",length:192};case"2.16.840.1.101.3.4.1.45":return{name:"AES-KW",length:256};case"1.2.840.113549.2.7":return{name:"HMAC",hash:{name:"SHA-1"}};case"1.2.840.113549.2.9":return{name:"HMAC",hash:{name:"SHA-256"}};case"1.2.840.113549.2.10":return{name:"HMAC",hash:{name:"SHA-384"}};case"1.2.840.113549.2.11":return{name:"HMAC",hash:{name:"SHA-512"}};case"1.2.840.113549.1.9.16.3.5":return{name:"DH"};case"1.3.14.3.2.26":return{name:"SHA-1"};case"2.16.840.1.101.3.4.2.1":return{name:"SHA-256"};case"2.16.840.1.101.3.4.2.2":return{name:"SHA-384"};case"2.16.840.1.101.3.4.2.3":return{name:"SHA-512"};case"1.2.840.113549.1.5.12":return{name:"PBKDF2"};case"1.2.840.10045.3.1.7":return{name:"P-256"};case"1.3.132.0.34":return{name:"P-384"};case"1.3.132.0.35":return{name:"P-521"}}if(t)throw new Error(`Unsupported algorithm identifier ${r?`for ${r} `:vn}: ${e}`);return{}}getOIDByAlgorithm(e,t=!1,r){let s=vn;switch(e.name.toUpperCase()){case"RSAES-PKCS1-V1_5":s="1.2.840.113549.1.1.1";break;case"RSASSA-PKCS1-V1_5":switch(e.hash.name.toUpperCase()){case"SHA-1":s="1.2.840.113549.1.1.5";break;case"SHA-256":s="1.2.840.113549.1.1.11";break;case"SHA-384":s="1.2.840.113549.1.1.12";break;case"SHA-512":s="1.2.840.113549.1.1.13"}break;case"RSA-PSS":s="1.2.840.113549.1.1.10";break;case"RSA-OAEP":s="1.2.840.113549.1.1.7";break;case"ECDSA":switch(e.hash.name.toUpperCase()){case"SHA-1":s="1.2.840.10045.4.1";break;case"SHA-256":s="1.2.840.10045.4.3.2";break;case"SHA-384":s="1.2.840.10045.4.3.3";break;case"SHA-512":s="1.2.840.10045.4.3.4"}break;case"ECDH":switch(e.kdf.toUpperCase()){case"SHA-1":s="1.3.133.16.840.63.0.2";break;case"SHA-256":s="1.3.132.1.11.1";break;case"SHA-384":s="1.3.132.1.11.2";break;case"SHA-512":s="1.3.132.1.11.3"}break;case"AES-CTR":break;case"AES-CBC":switch(e.length){case 128:s="2.16.840.1.101.3.4.1.2";break;case 192:s="2.16.840.1.101.3.4.1.22";break;case 256:s="2.16.840.1.101.3.4.1.42"}break;case"AES-CMAC":break;case"AES-GCM":switch(e.length){case 128:s="2.16.840.1.101.3.4.1.6";break;case 192:s="2.16.840.1.101.3.4.1.26";break;case 256:s="2.16.840.1.101.3.4.1.46"}break;case"AES-CFB":switch(e.length){case 128:s="2.16.840.1.101.3.4.1.4";break;case 192:s="2.16.840.1.101.3.4.1.24";break;case 256:s="2.16.840.1.101.3.4.1.44"}break;case"AES-KW":switch(e.length){case 128:s="2.16.840.1.101.3.4.1.5";break;case 192:s="2.16.840.1.101.3.4.1.25";break;case 256:s="2.16.840.1.101.3.4.1.45"}break;case"HMAC":switch(e.hash.name.toUpperCase()){case"SHA-1":s="1.2.840.113549.2.7";break;case"SHA-256":s="1.2.840.113549.2.9";break;case"SHA-384":s="1.2.840.113549.2.10";break;case"SHA-512":s="1.2.840.113549.2.11"}break;case"DH":s="1.2.840.113549.1.9.16.3.5";break;case"SHA-1":s="1.3.14.3.2.26";break;case"SHA-256":s="2.16.840.1.101.3.4.2.1";break;case"SHA-384":s="2.16.840.1.101.3.4.2.2";break;case"SHA-512":s="2.16.840.1.101.3.4.2.3";break;case"CONCAT":case"HKDF":break;case"PBKDF2":s="1.2.840.113549.1.5.12";break;case"P-256":s="1.2.840.10045.3.1.7";break;case"P-384":s="1.3.132.0.34";break;case"P-521":s="1.3.132.0.35"}if(!s&&t)throw new Error(`Unsupported algorithm ${r?`for ${r} `:vn}: ${e.name}`);return s}getAlgorithmParameters(e,t){let r={algorithm:{},usages:[]};switch(e.toUpperCase()){case"RSAES-PKCS1-V1_5":case"RSASSA-PKCS1-V1_5":switch(t.toLowerCase()){case"generatekey":r={algorithm:{name:"RSASSA-PKCS1-v1_5",modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-256"}},usages:["sign","verify"]};break;case"verify":case"sign":case"importkey":r={algorithm:{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},usages:["verify"]};break;default:return{algorithm:{name:"RSASSA-PKCS1-v1_5"},usages:[]}}break;case"RSA-PSS":switch(t.toLowerCase()){case"sign":case"verify":r={algorithm:{name:"RSA-PSS",hash:{name:"SHA-1"},saltLength:20},usages:["sign","verify"]};break;case"generatekey":r={algorithm:{name:"RSA-PSS",modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-1"}},usages:["sign","verify"]};break;case"importkey":r={algorithm:{name:"RSA-PSS",hash:{name:"SHA-1"}},usages:["verify"]};break;default:return{algorithm:{name:"RSA-PSS"},usages:[]}}break;case"RSA-OAEP":switch(t.toLowerCase()){case"encrypt":case"decrypt":r={algorithm:{name:"RSA-OAEP"},usages:["encrypt","decrypt"]};break;case"generatekey":r={algorithm:{name:"RSA-OAEP",modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-256"}},usages:["encrypt","decrypt","wrapKey","unwrapKey"]};break;case"importkey":r={algorithm:{name:"RSA-OAEP",hash:{name:"SHA-256"}},usages:["encrypt"]};break;default:return{algorithm:{name:"RSA-OAEP"},usages:[]}}break;case"ECDSA":switch(t.toLowerCase()){case"generatekey":r={algorithm:{name:"ECDSA",namedCurve:"P-256"},usages:["sign","verify"]};break;case"importkey":r={algorithm:{name:"ECDSA",namedCurve:"P-256"},usages:["verify"]};break;case"verify":case"sign":r={algorithm:{name:"ECDSA",hash:{name:"SHA-256"}},usages:["sign"]};break;default:return{algorithm:{name:"ECDSA"},usages:[]}}break;case"ECDH":switch(t.toLowerCase()){case"exportkey":case"importkey":case"generatekey":r={algorithm:{name:"ECDH",namedCurve:"P-256"},usages:["deriveKey","deriveBits"]};break;case"derivekey":case"derivebits":r={algorithm:{name:"ECDH",namedCurve:"P-256",public:[]},usages:["encrypt","decrypt"]};break;default:return{algorithm:{name:"ECDH"},usages:[]}}break;case"AES-CTR":switch(t.toLowerCase()){case"importkey":case"exportkey":case"generatekey":r={algorithm:{name:"AES-CTR",length:256},usages:["encrypt","decrypt","wrapKey","unwrapKey"]};break;case"decrypt":case"encrypt":r={algorithm:{name:"AES-CTR",counter:new Uint8Array(16),length:10},usages:["encrypt","decrypt","wrapKey","unwrapKey"]};break;default:return{algorithm:{name:"AES-CTR"},usages:[]}}break;case"AES-CBC":switch(t.toLowerCase()){case"importkey":case"exportkey":case"generatekey":r={algorithm:{name:"AES-CBC",length:256},usages:["encrypt","decrypt","wrapKey","unwrapKey"]};break;case"decrypt":case"encrypt":r={algorithm:{name:"AES-CBC",iv:this.getRandomValues(new Uint8Array(16))},usages:["encrypt","decrypt","wrapKey","unwrapKey"]};break;default:return{algorithm:{name:"AES-CBC"},usages:[]}}break;case"AES-GCM":switch(t.toLowerCase()){case"importkey":case"exportkey":case"generatekey":r={algorithm:{name:"AES-GCM",length:256},usages:["encrypt","decrypt","wrapKey","unwrapKey"]};break;case"decrypt":case"encrypt":r={algorithm:{name:"AES-GCM",iv:this.getRandomValues(new Uint8Array(16))},usages:["encrypt","decrypt","wrapKey","unwrapKey"]};break;default:return{algorithm:{name:"AES-GCM"},usages:[]}}break;case"AES-KW":switch(t.toLowerCase()){case"importkey":case"exportkey":case"generatekey":case"wrapkey":case"unwrapkey":r={algorithm:{name:"AES-KW",length:256},usages:["wrapKey","unwrapKey"]};break;default:return{algorithm:{name:"AES-KW"},usages:[]}}break;case"HMAC":switch(t.toLowerCase()){case"sign":case"verify":r={algorithm:{name:"HMAC"},usages:["sign","verify"]};break;case"importkey":case"exportkey":case"generatekey":r={algorithm:{name:"HMAC",length:32,hash:{name:"SHA-256"}},usages:["sign","verify"]};break;default:return{algorithm:{name:"HMAC"},usages:[]}}break;case"HKDF":if("derivekey"!==t.toLowerCase())return{algorithm:{name:"HKDF"},usages:[]};r={algorithm:{name:"HKDF",hash:"SHA-256",salt:new Uint8Array([]),info:new Uint8Array([])},usages:["encrypt","decrypt"]};break;case"PBKDF2":if("derivekey"!==t.toLowerCase())return{algorithm:{name:"PBKDF2"},usages:[]};r={algorithm:{name:"PBKDF2",hash:{name:"SHA-256"},salt:new Uint8Array([]),iterations:1e4},usages:["encrypt","decrypt"]}}return r}getHashAlgorithm(e){let t=vn;switch(e.algorithmId){case"1.2.840.10045.4.1":case"1.2.840.113549.1.1.5":t="SHA-1";break;case"1.2.840.10045.4.3.2":case"1.2.840.113549.1.1.11":t="SHA-256";break;case"1.2.840.10045.4.3.3":case"1.2.840.113549.1.1.12":t="SHA-384";break;case"1.2.840.10045.4.3.4":case"1.2.840.113549.1.1.13":t="SHA-512";break;case"1.2.840.113549.1.1.10":try{const r=new hc({schema:e.algorithmParams});if(r.hashAlgorithm){const e=this.getAlgorithmByOID(r.hashAlgorithm.algorithmId);if(!("name"in e))return vn;t=e.name}else t="SHA-1"}catch{}}return t}async encryptEncryptedContentInfo(e){kn.assert(e,"password","contentEncryptionAlgorithm","hmacHashAlgorithm","iterationCount","contentToEncrypt","contentToEncrypt","contentType");const t=this.getOIDByAlgorithm(e.contentEncryptionAlgorithm,!0,"contentEncryptionAlgorithm"),r=this.getOIDByAlgorithm({name:"PBKDF2"},!0,"PBKDF2"),s=this.getOIDByAlgorithm({name:"HMAC",hash:{name:e.hmacHashAlgorithm}},!0,"hmacHashAlgorithm"),i=new ArrayBuffer(16),n=new Uint8Array(i);this.getRandomValues(n);const a=new ArrayBuffer(64),o=new Uint8Array(a);this.getRandomValues(o);const l=new Uint8Array(e.contentToEncrypt),c=new wc({salt:new ki({valueHex:a}),iterationCount:e.iterationCount,prf:new Xn({algorithmId:s,algorithmParams:new yi})}),u=new Uint8Array(e.password),h=await this.importKey("raw",u,"PBKDF2",!1,["deriveKey"]),f=await this.deriveKey({name:"PBKDF2",hash:{name:e.hmacHashAlgorithm},salt:o,iterations:e.iterationCount},h,e.contentEncryptionAlgorithm,!1,["encrypt"]),d=await this.encrypt({name:e.contentEncryptionAlgorithm.name,iv:n},f,l),m=new Ac({keyDerivationFunc:new Xn({algorithmId:r,algorithmParams:c.toSchema()}),encryptionScheme:new Xn({algorithmId:t,algorithmParams:new ki({valueHex:i})})});return new nc({contentType:e.contentType,contentEncryptionAlgorithm:new Xn({algorithmId:"1.2.840.113549.1.5.13",algorithmParams:m.toSchema()}),encryptedContent:new ki({valueHex:d})})}async decryptEncryptedContentInfo(e){if(kn.assert(e,"password","encryptedContentInfo"),"1.2.840.113549.1.5.13"!==e.encryptedContentInfo.contentEncryptionAlgorithm.algorithmId)throw new Error(`Unknown "contentEncryptionAlgorithm": ${e.encryptedContentInfo.contentEncryptionAlgorithm.algorithmId}`);let t,r;try{t=new Ac({schema:e.encryptedContentInfo.contentEncryptionAlgorithm.algorithmParams})}catch(e){throw new Error('Incorrectly encoded "pbes2Parameters"')}try{r=new wc({schema:t.keyDerivationFunc.algorithmParams})}catch(e){throw new Error('Incorrectly encoded "pbkdf2Params"')}const s=this.getAlgorithmByOID(t.encryptionScheme.algorithmId,!0),i=t.encryptionScheme.algorithmParams.valueBlock.valueHex,n=new Uint8Array(i),a=r.salt.valueBlock.valueHex,o=new Uint8Array(a),l=r.iterationCount;let c="SHA-1";if(r.prf){c=this.getAlgorithmByOID(r.prf.algorithmId,!0).hash.name}const u=await this.importKey("raw",e.password,"PBKDF2",!1,["deriveKey"]),h=await this.deriveKey({name:"PBKDF2",hash:{name:c},salt:o,iterations:l},u,s,!1,["decrypt"]),f=e.encryptedContentInfo.getEncryptedContent();return this.decrypt({name:s.name,iv:n},h,f)}async stampDataWithPassword(e){if(e instanceof Object==!1)throw new Error('Parameters must have type "Object"');let t;switch(kn.assert(e,"password","hashAlgorithm","iterationCount","salt","contentToStamp"),e.hashAlgorithm.toLowerCase()){case"sha-1":t=160;break;case"sha-256":t=256;break;case"sha-384":t=384;break;case"sha-512":t=512;break;default:throw new Error(`Incorrect "parameters.hashAlgorithm" parameter: ${e.hashAlgorithm}`)}const r={name:"HMAC",length:t,hash:{name:e.hashAlgorithm}},s=await kc(this,e.hashAlgorithm,t,e.password,e.salt,e.iterationCount),i=await this.importKey("raw",new Uint8Array(s),r,!1,["sign"]);return this.sign(r,i,new Uint8Array(e.contentToStamp))}async verifyDataStampedWithPassword(e){kn.assert(e,"password","hashAlgorithm","salt","iterationCount","contentToVerify","signatureToVerify");let t=0;switch(e.hashAlgorithm.toLowerCase()){case"sha-1":t=160;break;case"sha-256":t=256;break;case"sha-384":t=384;break;case"sha-512":t=512;break;default:throw new Error(`Incorrect "parameters.hashAlgorithm" parameter: ${e.hashAlgorithm}`)}const r={name:"HMAC",length:t,hash:{name:e.hashAlgorithm}},s=await kc(this,e.hashAlgorithm,t,e.password,e.salt,e.iterationCount),i=await this.importKey("raw",new Uint8Array(s),r,!1,["verify"]);return this.verify(r,i,new Uint8Array(e.signatureToVerify),new Uint8Array(e.contentToVerify))}async getSignatureParameters(e,t="SHA-1"){this.getOIDByAlgorithm({name:t},!0,"hashAlgorithm");const r=new Xn,s=this.getAlgorithmParameters(e.algorithm.name,"sign");if(!Object.keys(s.algorithm).length)throw new Error("Parameter 'algorithm' is empty");const i=s.algorithm;switch(i.hash.name=t,e.algorithm.name.toUpperCase()){case"RSASSA-PKCS1-V1_5":case"ECDSA":r.algorithmId=this.getOIDByAlgorithm(i,!0);break;case"RSA-PSS":{switch(t.toUpperCase()){case"SHA-256":i.saltLength=32;break;case"SHA-384":i.saltLength=48;break;case"SHA-512":i.saltLength=64}const e={};if("SHA-1"!==t.toUpperCase()){const r=this.getOIDByAlgorithm({name:t},!0,"hashAlgorithm");e.hashAlgorithm=new Xn({algorithmId:r,algorithmParams:new yi}),e.maskGenAlgorithm=new Xn({algorithmId:"1.2.840.113549.1.1.8",algorithmParams:e.hashAlgorithm.toSchema()})}20!==i.saltLength&&(e.saltLength=i.saltLength);const s=new hc(e);r.algorithmId="1.2.840.113549.1.1.10",r.algorithmParams=s.toSchema()}break;default:throw new Error(`Unsupported signature algorithm: ${e.algorithm.name}`)}return{signatureAlgorithm:r,parameters:s}}async signWithPrivateKey(e,t,r){const s=await this.sign(r.algorithm,t,e);return"ECDSA"===r.algorithm.name?function(e){if(e.byteLength%2!=0)return bn;const t=e.byteLength/2,r=new ArrayBuffer(t);new Uint8Array(r).set(new Uint8Array(e,0,t));const s=new Ii({valueHex:r}),i=new ArrayBuffer(t);new Uint8Array(i).set(new Uint8Array(e,t,t));const n=new Ii({valueHex:i});return new Ui({value:[s.convertToDER(),n.convertToDER()]}).toBER(!1)}(s):s}fillPublicKeyParameters(e,t){const r={},s=this.getHashAlgorithm(t);if(s===vn)throw new Error(`Unsupported signature algorithm: ${t.algorithmId}`);let i;i="1.2.840.113549.1.1.10"===t.algorithmId?t.algorithmId:e.algorithm.algorithmId;const n=this.getAlgorithmByOID(i,!0);if(r.algorithm=this.getAlgorithmParameters(n.name,"importKey"),"hash"in r.algorithm.algorithm&&(r.algorithm.algorithm.hash.name=s),"ECDSA"===n.name){const t=e.algorithm;if(!t.algorithmParams)throw new Error("Algorithm parameters for ECDSA public key are missed");const s=t.algorithmParams;if("idBlock"in t.algorithmParams&&(1!==s.idBlock.tagClass||6!==s.idBlock.tagNumber))throw new Error("Incorrect type for ECDSA public key parameters");const i=this.getAlgorithmByOID(s.valueBlock.toString(),!0);r.algorithm.algorithm.namedCurve=i.name}return r}async getPublicKey(e,t,r){r||(r=this.fillPublicKeyParameters(e,t));const s=e.toSchema().toBER(!1);return this.importKey("spki",s,r.algorithm.algorithm,!0,r.algorithm.usages)}async verifyWithPublicKey(e,t,r,s,i){let n;if(i){const e={};let t;t="1.2.840.113549.1.1.10"===s.algorithmId?s.algorithmId:r.algorithm.algorithmId;const a=this.getAlgorithmByOID(t,!0);if(e.algorithm=this.getAlgorithmParameters(a.name,"importKey"),"hash"in e.algorithm.algorithm&&(e.algorithm.algorithm.hash.name=i),"ECDSA"===a.name){let t=!1;if("algorithmParams"in r.algorithm==!0&&"idBlock"in r.algorithm.algorithmParams&&1===r.algorithm.algorithmParams.idBlock.tagClass&&6===r.algorithm.algorithmParams.idBlock.tagNumber&&(t=!0),!1===t)throw new Error("Incorrect type for ECDSA public key parameters");const s=this.getAlgorithmByOID(r.algorithm.algorithmParams.valueBlock.toString(),!0);e.algorithm.algorithm.namedCurve=s.name}n=await this.getPublicKey(r,null,e)}else{if(!(i=this.getHashAlgorithm(s)))throw new Error(`Unsupported signature algorithm: ${s.algorithmId}`);n=await this.getPublicKey(r,s)}const a=this.getAlgorithmParameters(n.algorithm.name,"verify");"hash"in a.algorithm&&(a.algorithm.hash.name=i);let o=t.valueBlock.valueHexView;if("ECDSA"===n.algorithm.name){const e=fl.find(n.algorithm.namedCurve);if(!e)throw new Error("Unsupported named curve in use");const t=di(o);_n.assert(t,"Signature value"),o=function(e,t){if(!(e instanceof Ui&&2===e.valueBlock.value.length&&e.valueBlock.value[0]instanceof Ii&&e.valueBlock.value[1]instanceof Ii))return bn;const r=e.valueBlock.value[0].convertFromDER().valueBlock.valueHexView,s=e.valueBlock.value[1].convertFromDER().valueBlock.valueHexView,i=new Uint8Array(2*t);return i.set(r,t-r.byteLength),i.set(s,2*t-s.byteLength),i.buffer}(t.result,e.size)}if("RSA-PSS"===n.algorithm.name){const e=new hc({schema:s.algorithmParams});a.algorithm.saltLength="saltLength"in e?e.saltLength:20;let t="SHA-1";if("hashAlgorithm"in e){t=this.getAlgorithmByOID(e.hashAlgorithm.algorithmId,!0).name}a.algorithm.hash.name=t}return this.verify(a.algorithm,n,o,e)}}let Ec={name:"none",crypto:null};function Cc(e){return!(!e||"object"!=typeof e||!("crypto"in e))}function Nc(e,...t){let s=null;if(1===t.length)s=t[0];else{const e=t[0],r=t[1];Cc(r)&&(s=r),Cc(e)&&(s=e),"subtle"in e&&"getRandomValues"in e&&(s=new Sc({crypto:e}))}if(void 0!==yn&&"pid"in yn&&void 0!==r.g&&"undefined"==typeof window){if(void 0===r.g[yn.pid])r.g[yn.pid]={};else if("object"!=typeof r.g[yn.pid])throw new Error(`Name global.${yn.pid} already exists and it is not an object`);if(void 0===r.g[yn.pid].pkijs)r.g[yn.pid].pkijs={};else if("object"!=typeof r.g[yn.pid].pkijs)throw new Error(`Name global.${yn.pid}.pkijs already exists and it is not an object`);r.g[yn.pid].pkijs.engine={name:e,crypto:s}}else Ec.name!==e&&(Ec={name:e,crypto:s})}function Bc(e=!1){const t=function(){if(void 0!==yn&&"pid"in yn&&void 0!==r.g&&"undefined"==typeof window){let e;try{e=r.g[yn.pid].pkijs.engine}catch(e){throw new Error("Please call 'setEngine' before call to 'getEngine'")}return e}return Ec}();if(!t.crypto&&e)throw new Error("Unable to create WebCrypto object");return t.crypto}async function Ic(e,t,r,s,i){switch(e.toUpperCase()){case"SHA-1":case"SHA-256":case"SHA-384":case"SHA-512":break;default:throw new An(`Unknown hash function: ${e}`)}if(An.assert(t,"zBuffer","ArrayBuffer"),0===t.byteLength)throw new An("'zBuffer' has zero length, error");if(An.assert(s,"SharedInfo","ArrayBuffer"),r>255)throw new An("Please set 'Counter' argument to value less or equal to 255");const n=new ArrayBuffer(4),a=new Uint8Array(n);a[0]=0,a[1]=0,a[2]=0,a[3]=r;let o=bn;o=Jr(o,t),o=Jr(o,n),o=Jr(o,s);return{counter:r,result:await i.digest({name:e},o)}}async function xc(e,t,r,s,i=Bc(!0)){let n=0,a=1;switch(e.toUpperCase()){case"SHA-1":n=160;break;case"SHA-256":n=256;break;case"SHA-384":n=384;break;case"SHA-512":n=512;break;default:throw new An(`Unknown hash function: ${e}`)}if(An.assert(t,"Zbuffer","ArrayBuffer"),0===t.byteLength)throw new An("'Zbuffer' has zero length, error");An.assert(s,"SharedInfo","ArrayBuffer");const o=r/n;Math.floor(o)>0&&(a=Math.floor(o),o-a>0&&a++);const l=[];for(let r=1;r<=a;r++)l.push(await Ic(e,t,r,s,i));let c=bn,u=1,h=!0;for(;h;){h=!1;for(const e of l)if(e.counter===u){c=Jr(c,e.result),h=!0;break}u++}if(r>>=3,c.byteLength>r){const e=new ArrayBuffer(r),t=new Uint8Array(e),s=new Uint8Array(c);for(let e=0;e<r;e++)t[e]=s[e];return e}return c}const Tc="version",Rc="logID",Oc="extensions",Pc="timestamp",Dc="hashAlgorithm",Lc="signatureAlgorithm",Uc="signature",Vc="none",Hc="sha1",Mc="sha224",Fc="sha256",Wc="sha384",jc="sha512",qc="anonymous",zc="ecdsa";class Kc extends Sn{constructor(e={}){super(),this.version=qr(e,Tc,Kc.defaultValues(Tc)),this.logID=qr(e,Rc,Kc.defaultValues(Rc)),this.timestamp=qr(e,Pc,Kc.defaultValues(Pc)),this.extensions=qr(e,Oc,Kc.defaultValues(Oc)),this.hashAlgorithm=qr(e,Dc,Kc.defaultValues(Dc)),this.signatureAlgorithm=qr(e,Lc,Kc.defaultValues(Lc)),this.signature=qr(e,Uc,Kc.defaultValues(Uc)),"stream"in e&&e.stream&&this.fromStream(e.stream),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Tc:return 0;case Rc:case Oc:return bn;case Pc:return new Date(0);case Dc:case Lc:return vn;case Uc:return new hn;default:return super.defaultValues(e)}}fromSchema(e){if(e instanceof mn==!1)throw new Error("Object's schema was not verified against input data for SignedCertificateTimestamp");const t=new wn({stream:new gn({buffer:e.data})});this.fromStream(t)}fromStream(e){const t=e.getUint16();if(this.version=e.getBlock(1)[0],0===this.version){this.logID=new Uint8Array(e.getBlock(32)).buffer.slice(0),this.timestamp=new Date(Kr(new Uint8Array(e.getBlock(8)),8));const r=e.getUint16();switch(this.extensions=new Uint8Array(e.getBlock(r)).buffer.slice(0),e.getBlock(1)[0]){case 0:this.hashAlgorithm=Vc;break;case 1:this.hashAlgorithm="md5";break;case 2:this.hashAlgorithm=Hc;break;case 3:this.hashAlgorithm=Mc;break;case 4:this.hashAlgorithm=Fc;break;case 5:this.hashAlgorithm=Wc;break;case 6:this.hashAlgorithm=jc;break;default:throw new Error("Object's stream was not correct for SignedCertificateTimestamp")}switch(e.getBlock(1)[0]){case 0:this.signatureAlgorithm=qc;break;case 1:this.signatureAlgorithm="rsa";break;case 2:this.signatureAlgorithm="dsa";break;case 3:this.signatureAlgorithm=zc;break;default:throw new Error("Object's stream was not correct for SignedCertificateTimestamp")}const s=e.getUint16(),i=di(new Uint8Array(e.getBlock(s)).buffer.slice(0));if(_n.assert(i,"SignedCertificateTimestamp"),this.signature=i.result,t!==47+r+s)throw new Error("Object's stream was not correct for SignedCertificateTimestamp")}}toSchema(){const e=this.toStream();return new mn({data:e.stream.buffer})}toStream(){const e=new wn;e.appendUint16(47+this.extensions.byteLength+this.signature.valueBeforeDecodeView.byteLength),e.appendChar(this.version),e.appendView(new Uint8Array(this.logID));const t=new ArrayBuffer(8),r=new Uint8Array(t),s=Qr(this.timestamp.valueOf(),8);let i,n;switch(r.set(new Uint8Array(s),8-s.byteLength),e.appendView(r),e.appendUint16(this.extensions.byteLength),this.extensions.byteLength&&e.appendView(new Uint8Array(this.extensions)),this.hashAlgorithm.toLowerCase()){case Vc:i=0;break;case"md5":i=1;break;case Hc:i=2;break;case Mc:i=3;break;case Fc:i=4;break;case Wc:i=5;break;case jc:i=6;break;default:throw new Error(`Incorrect data for hashAlgorithm: ${this.hashAlgorithm}`)}switch(e.appendChar(i),this.signatureAlgorithm.toLowerCase()){case qc:n=0;break;case"rsa":n=1;break;case"dsa":n=2;break;case zc:n=3;break;default:throw new Error(`Incorrect data for signatureAlgorithm: ${this.signatureAlgorithm}`)}e.appendChar(n);const a=this.signature.toBER(!1);return e.appendUint16(a.byteLength),e.appendView(new Uint8Array(a)),e}toJSON(){return{version:this.version,logID:zr(this.logID),timestamp:this.timestamp,extensions:zr(this.extensions),hashAlgorithm:this.hashAlgorithm,signatureAlgorithm:this.signatureAlgorithm,signature:this.signature.toJSON()}}async verify(e,t,r=0,s=Bc(!0)){const i=ts(ss(this.logID));let n=null;const a=new wn;for(const t of e)if(t.log_id===i){n=t.key;break}if(!n)throw new Error(`Public key not found for CT with logId: ${i}`);const o=is(rs(n)),l=Sl.fromBER(o);a.appendChar(0),a.appendChar(0);const c=new ArrayBuffer(8),u=new Uint8Array(c),h=Qr(this.timestamp.valueOf(),8);return u.set(new Uint8Array(h),8-h.byteLength),a.appendView(u),a.appendUint16(r),0===r&&a.appendUint24(t.byteLength),a.appendView(new Uint8Array(t)),a.appendUint16(this.extensions.byteLength),0!==this.extensions.byteLength&&a.appendView(new Uint8Array(this.extensions)),s.verifyWithPublicKey(a.buffer.slice(0,a.length),new ki({valueHex:this.signature.toBER(!1)}),l,{algorithmId:vn},"SHA-256")}}Kc.CLASS_NAME="SignedCertificateTimestamp";const Qc="timestamps";class Jc extends Sn{constructor(e={}){super(),this.timestamps=qr(e,Qc,Jc.defaultValues(Qc)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){return e===Qc?[]:super.defaultValues(e)}static compareWithDefault(e,t){return e===Qc?0===t.length:super.defaultValues(e)}static schema(e={}){var t;const r=qr(e,"names",{});return null!==(t=r.optional)&&void 0!==t||(r.optional=!1),new ki({name:r.blockName||"SignedCertificateTimestampList",optional:r.optional})}fromSchema(e){if(e instanceof ki==!1)throw new Error("Object's schema was not verified against input data for SignedCertificateTimestampList");const t=new wn({stream:new gn({buffer:e.valueBlock.valueHex})});if(t.getUint16()!==t.length)throw new Error("Object's schema was not verified against input data for SignedCertificateTimestampList");for(;t.length;)this.timestamps.push(new Kc({stream:t}))}toSchema(){const e=new wn;let t=0;const r=[];for(const e of this.timestamps){const s=e.toStream();r.push(s),t+=s.stream.buffer.byteLength}e.appendUint16(t);for(const t of r)e.appendView(t.stream.view);return new ki({valueHex:e.stream.buffer.slice(0)})}toJSON(){return{timestamps:Array.from(this.timestamps,(e=>e.toJSON()))}}}Jc.CLASS_NAME="SignedCertificateTimestampList";const Gc="attributes",Zc=[Gc];class Xc extends Sn{constructor(e={}){super(),this.attributes=qr(e,Gc,Xc.defaultValues(Gc)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){return e===Gc?[]:super.defaultValues(e)}static schema(e={}){const t=qr(e,"names",{});return new Ui({name:t.blockName||vn,value:[new dn({name:t.attributes||vn,value:ia.schema()})]})}fromSchema(e){os(e,Zc);const t=pn(e,e,Xc.schema({names:{attributes:Gc}}));_n.assertSchema(t,this.className),this.attributes=Array.from(t.result.attributes,(e=>new ia({schema:e})))}toSchema(){return new Ui({value:Array.from(this.attributes,(e=>e.toSchema()))})}toJSON(){return{attributes:Array.from(this.attributes,(e=>e.toJSON()))}}}Xc.CLASS_NAME="SubjectDirectoryAttributes";class Yc{static getItems(){return this.types||(this.types={},Yc.register(fa,"SubjectAltName",ea),Yc.register(da,"IssuerAltName",ea),Yc.register(_a,"AuthorityKeyIdentifier",Ma),Yc.register(ma,"BasicConstraints",ja),Yc.register("1.3.6.1.4.1.311.21.1","MicrosoftCaVersion",Ka),Yc.register(va,"CertificatePolicies",so),Yc.register("1.3.6.1.4.1.311.21.10","CertificatePoliciesMicrosoft",so),Yc.register("1.3.6.1.4.1.311.21.7","MicrosoftCertTemplateV2",lo),Yc.register(ya,"CRLDistributionPoints",bo),Yc.register(ba,"FreshestCRL",bo),Yc.register("2.5.29.37","ExtKeyUsage",ko),Yc.register(ga,"CertificateIssuer",ha),Yc.register(Ea,"AuthorityInfoAccess",So),Yc.register("1.3.6.1.5.5.7.1.11","SubjectInfoAccess",So),Yc.register(pa,"IssuingDistributionPoint",Oo),Yc.register(wa,"NameConstraints",Wo),Yc.register(Sa,"PolicyConstraints",Ko),Yc.register(ka,"PolicyMappings",$o),Yc.register("2.5.29.16","PrivateKeyUsagePeriod",sl),Yc.register("1.3.6.1.5.5.7.1.3","QCStatements",ul),Yc.register(Ca,"SignedCertificateTimestampList",Jc),Yc.register("2.5.29.9","SubjectDirectoryAttributes",Xc)),this.types}static fromBER(e,t){const r=di(t);if(-1===r.offset)return null;const s=this.find(e);if(s)try{return new s.type({schema:r.result})}catch(t){const r=new s.type;return r.parsingError=`Incorrectly formatted value of extension ${s.name} (${e})`,r}return r.result}static find(e){return this.getItems()[e]||null}static register(e,t,r){this.getItems()[e]={name:t,type:r}}}const $c="extnID",eu="critical",tu="extnValue",ru="parsedValue",su=[$c,eu,tu];class iu extends Sn{constructor(e={}){super(),this.extnID=qr(e,$c,iu.defaultValues($c)),this.critical=qr(e,eu,iu.defaultValues(eu)),this.extnValue=tu in e?new ki({valueHex:e.extnValue}):iu.defaultValues(tu),ru in e&&(this.parsedValue=qr(e,ru,iu.defaultValues(ru))),e.schema&&this.fromSchema(e.schema)}get parsedValue(){if(void 0===this._parsedValue){const e=Yc.fromBER(this.extnID,this.extnValue.valueBlock.valueHexView);this._parsedValue=e}return this._parsedValue||void 0}set parsedValue(e){this._parsedValue=e}static defaultValues(e){switch(e){case $c:return vn;case eu:return!1;case tu:return new ki;case ru:return{};default:return super.defaultValues(e)}}static schema(e={}){const t=qr(e,"names",{});return new Ui({name:t.blockName||vn,value:[new Oi({name:t.extnID||vn}),new vi({name:t.critical||vn,optional:!0}),new ki({name:t.extnValue||vn})]})}fromSchema(e){os(e,su);const t=pn(e,e,iu.schema({names:{extnID:$c,critical:eu,extnValue:tu}}));_n.assertSchema(t,this.className),this.extnID=t.result.extnID.valueBlock.toString(),eu in t.result&&(this.critical=t.result.critical.valueBlock.value),this.extnValue=t.result.extnValue}toSchema(){const e=[];return e.push(new Oi({value:this.extnID})),this.critical!==iu.defaultValues(eu)&&e.push(new vi({value:this.critical})),e.push(this.extnValue),new Ui({value:e})}toJSON(){const e={extnID:this.extnID,extnValue:this.extnValue.toJSON()};return this.critical!==iu.defaultValues(eu)&&(e.critical=this.critical),this.parsedValue&&this.parsedValue.toJSON&&(e.parsedValue=this.parsedValue.toJSON()),e}}iu.CLASS_NAME="Extension";const nu="extensions",au=[nu];class ou extends Sn{constructor(e={}){super(),this.extensions=qr(e,nu,ou.defaultValues(nu)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){return e===nu?[]:super.defaultValues(e)}static schema(e={},t=!1){const r=qr(e,"names",{});return new Ui({optional:t,name:r.blockName||vn,value:[new dn({name:r.extensions||vn,value:iu.schema(r.extension||{})})]})}fromSchema(e){os(e,au);const t=pn(e,e,ou.schema({names:{extensions:nu}}));_n.assertSchema(t,this.className),this.extensions=Array.from(t.result.extensions,(e=>new iu({schema:e})))}toSchema(){return new Ui({value:Array.from(this.extensions,(e=>e.toSchema()))})}toJSON(){return{extensions:this.extensions.map((e=>e.toJSON()))}}}ou.CLASS_NAME="Extensions";const lu="issuer",cu="serialNumber",uu="issuerUID",hu=[lu,cu,uu];class fu extends Sn{constructor(e={}){super(),this.issuer=qr(e,lu,fu.defaultValues(lu)),this.serialNumber=qr(e,cu,fu.defaultValues(cu)),uu in e&&(this.issuerUID=qr(e,uu,fu.defaultValues(uu))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case lu:return new ha;case cu:return new Ii;case uu:return new Si;default:return super.defaultValues(e)}}static schema(e={}){const t=qr(e,"names",{});return new Ui({name:t.blockName||vn,value:[ha.schema(t.issuer||{}),new Ii({name:t.serialNumber||vn}),new Si({optional:!0,name:t.issuerUID||vn})]})}fromSchema(e){os(e,hu);const t=pn(e,e,fu.schema({names:{issuer:{names:{blockName:lu}},serialNumber:cu,issuerUID:uu}}));_n.assertSchema(t,this.className),this.issuer=new ha({schema:t.result.issuer}),this.serialNumber=t.result.serialNumber,uu in t.result&&(this.issuerUID=t.result.issuerUID)}toSchema(){const e=new Ui({value:[this.issuer.toSchema(),this.serialNumber]});return this.issuerUID&&e.valueBlock.value.push(this.issuerUID),e}toJSON(){const e={issuer:this.issuer.toJSON(),serialNumber:this.serialNumber.toJSON()};return this.issuerUID&&(e.issuerUID=this.issuerUID.toJSON()),e}}fu.CLASS_NAME="IssuerSerial";const du="version",mu="baseCertificateID",pu="subjectName",gu="issuer",wu="signature",yu="serialNumber",bu="attrCertValidityPeriod",vu="attributes",Au="issuerUniqueID",ku="extensions",_u=[du,mu,pu,gu,wu,yu,bu,vu,Au,ku];class Su extends Sn{constructor(e={}){super(),this.version=qr(e,du,Su.defaultValues(du)),mu in e&&(this.baseCertificateID=qr(e,mu,Su.defaultValues(mu))),pu in e&&(this.subjectName=qr(e,pu,Su.defaultValues(pu))),this.issuer=qr(e,gu,Su.defaultValues(gu)),this.signature=qr(e,wu,Su.defaultValues(wu)),this.serialNumber=qr(e,yu,Su.defaultValues(yu)),this.attrCertValidityPeriod=qr(e,bu,Su.defaultValues(bu)),this.attributes=qr(e,vu,Su.defaultValues(vu)),Au in e&&(this.issuerUniqueID=qr(e,Au,Su.defaultValues(Au))),ku in e&&(this.extensions=qr(e,ku,Su.defaultValues(ku))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case du:return 0;case mu:return new fu;case pu:case gu:return new ha;case wu:return new Xn;case yu:return new Ii;case bu:return new la;case vu:return[];case Au:return new Si;case ku:return new ou;default:return super.defaultValues(e)}}static schema(e={}){const t=qr(e,"names",{});return new Ui({name:t.blockName||vn,value:[new Ii({name:t.version||vn}),new fn({value:[new pi({name:t.baseCertificateID||vn,idBlock:{tagClass:3,tagNumber:0},value:fu.schema().valueBlock.value}),new pi({name:t.subjectName||vn,idBlock:{tagClass:3,tagNumber:1},value:ha.schema().valueBlock.value})]}),ha.schema({names:{blockName:t.issuer||vn}}),Xn.schema(t.signature||{}),new Ii({name:t.serialNumber||vn}),la.schema(t.attrCertValidityPeriod||{}),new Ui({name:t.attributes||vn,value:[new dn({value:ia.schema()})]}),new Si({optional:!0,name:t.issuerUniqueID||vn}),ou.schema(t.extensions||{},!0)]})}fromSchema(e){os(e,_u);const t=pn(e,e,Su.schema({names:{version:du,baseCertificateID:mu,subjectName:pu,issuer:gu,signature:{names:{blockName:wu}},serialNumber:yu,attrCertValidityPeriod:{names:{blockName:bu}},attributes:vu,issuerUniqueID:Au,extensions:{names:{blockName:ku}}}}));_n.assertSchema(t,this.className),this.version=t.result.version.valueBlock.valueDec,mu in t.result&&(this.baseCertificateID=new fu({schema:new Ui({value:t.result.baseCertificateID.valueBlock.value})})),pu in t.result&&(this.subjectName=new ha({schema:new Ui({value:t.result.subjectName.valueBlock.value})})),this.issuer=t.result.issuer,this.signature=new Xn({schema:t.result.signature}),this.serialNumber=t.result.serialNumber,this.attrCertValidityPeriod=new la({schema:t.result.attrCertValidityPeriod}),this.attributes=Array.from(t.result.attributes.valueBlock.value,(e=>new ia({schema:e}))),Au in t.result&&(this.issuerUniqueID=t.result.issuerUniqueID),ku in t.result&&(this.extensions=new ou({schema:t.result.extensions}))}toSchema(){const e=new Ui({value:[new Ii({value:this.version})]});return this.baseCertificateID&&e.valueBlock.value.push(new pi({idBlock:{tagClass:3,tagNumber:0},value:this.baseCertificateID.toSchema().valueBlock.value})),this.subjectName&&e.valueBlock.value.push(new pi({idBlock:{tagClass:3,tagNumber:1},value:this.subjectName.toSchema().valueBlock.value})),e.valueBlock.value.push(this.issuer.toSchema()),e.valueBlock.value.push(this.signature.toSchema()),e.valueBlock.value.push(this.serialNumber),e.valueBlock.value.push(this.attrCertValidityPeriod.toSchema()),e.valueBlock.value.push(new Ui({value:Array.from(this.attributes,(e=>e.toSchema()))})),this.issuerUniqueID&&e.valueBlock.value.push(this.issuerUniqueID),this.extensions&&e.valueBlock.value.push(this.extensions.toSchema()),e}toJSON(){const e={version:this.version};return this.baseCertificateID&&(e.baseCertificateID=this.baseCertificateID.toJSON()),this.subjectName&&(e.subjectName=this.subjectName.toJSON()),e.issuer=this.issuer.toJSON(),e.signature=this.signature.toJSON(),e.serialNumber=this.serialNumber.toJSON(),e.attrCertValidityPeriod=this.attrCertValidityPeriod.toJSON(),e.attributes=Array.from(this.attributes,(e=>e.toJSON())),this.issuerUniqueID&&(e.issuerUniqueID=this.issuerUniqueID.toJSON()),this.extensions&&(e.extensions=this.extensions.toJSON()),e}}Su.CLASS_NAME="AttributeCertificateInfoV1";const Eu="acinfo",Cu="signatureAlgorithm",Nu="signatureValue",Bu=[Eu,Nu,Cu];class Iu extends Sn{constructor(e={}){super(),this.acinfo=qr(e,Eu,Iu.defaultValues(Eu)),this.signatureAlgorithm=qr(e,Cu,Iu.defaultValues(Cu)),this.signatureValue=qr(e,Nu,Iu.defaultValues(Nu)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Eu:return new Su;case Cu:return new Xn;case Nu:return new Si;default:return super.defaultValues(e)}}static schema(e={}){const t=qr(e,"names",{});return new Ui({name:t.blockName||vn,value:[Su.schema(t.acinfo||{}),Xn.schema(t.signatureAlgorithm||{}),new Si({name:t.signatureValue||vn})]})}fromSchema(e){os(e,Bu);const t=pn(e,e,Iu.schema({names:{acinfo:{names:{blockName:Eu}},signatureAlgorithm:{names:{blockName:Cu}},signatureValue:Nu}}));_n.assertSchema(t,this.className),this.acinfo=new Su({schema:t.result.acinfo}),this.signatureAlgorithm=new Xn({schema:t.result.signatureAlgorithm}),this.signatureValue=t.result.signatureValue}toSchema(){return new Ui({value:[this.acinfo.toSchema(),this.signatureAlgorithm.toSchema(),this.signatureValue]})}toJSON(){return{acinfo:this.acinfo.toJSON(),signatureAlgorithm:this.signatureAlgorithm.toJSON(),signatureValue:this.signatureValue.toJSON()}}}Iu.CLASS_NAME="AttributeCertificateV1";const xu="digestedObjectType",Tu="otherObjectTypeID",Ru="digestAlgorithm",Ou="objectDigest",Pu=[xu,Tu,Ru,Ou];class Du extends Sn{constructor(e={}){super(),this.digestedObjectType=qr(e,xu,Du.defaultValues(xu)),Tu in e&&(this.otherObjectTypeID=qr(e,Tu,Du.defaultValues(Tu))),this.digestAlgorithm=qr(e,Ru,Du.defaultValues(Ru)),this.objectDigest=qr(e,Ou,Du.defaultValues(Ou)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case xu:return new xi;case Tu:return new Oi;case Ru:return new Xn;case Ou:return new Si;default:return super.defaultValues(e)}}static schema(e={}){const t=qr(e,"names",{});return new Ui({name:t.blockName||vn,value:[new xi({name:t.digestedObjectType||vn}),new Oi({optional:!0,name:t.otherObjectTypeID||vn}),Xn.schema(t.digestAlgorithm||{}),new Si({name:t.objectDigest||vn})]})}fromSchema(e){os(e,Pu);const t=pn(e,e,Du.schema({names:{digestedObjectType:xu,otherObjectTypeID:Tu,digestAlgorithm:{names:{blockName:Ru}},objectDigest:Ou}}));_n.assertSchema(t,this.className),this.digestedObjectType=t.result.digestedObjectType,Tu in t.result&&(this.otherObjectTypeID=t.result.otherObjectTypeID),this.digestAlgorithm=new Xn({schema:t.result.digestAlgorithm}),this.objectDigest=t.result.objectDigest}toSchema(){const e=new Ui({value:[this.digestedObjectType]});return this.otherObjectTypeID&&e.valueBlock.value.push(this.otherObjectTypeID),e.valueBlock.value.push(this.digestAlgorithm.toSchema()),e.valueBlock.value.push(this.objectDigest),e}toJSON(){const e={digestedObjectType:this.digestedObjectType.toJSON(),digestAlgorithm:this.digestAlgorithm.toJSON(),objectDigest:this.objectDigest.toJSON()};return this.otherObjectTypeID&&(e.otherObjectTypeID=this.otherObjectTypeID.toJSON()),e}}Du.CLASS_NAME="ObjectDigestInfo";const Lu="issuerName",Uu="baseCertificateID",Vu="objectDigestInfo",Hu=[Lu,Uu,Vu];class Mu extends Sn{constructor(e={}){super(),Lu in e&&(this.issuerName=qr(e,Lu,Mu.defaultValues(Lu))),Uu in e&&(this.baseCertificateID=qr(e,Uu,Mu.defaultValues(Uu))),Vu in e&&(this.objectDigestInfo=qr(e,Vu,Mu.defaultValues(Vu))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Lu:return new ha;case Uu:return new fu;case Vu:return new Du;default:return super.defaultValues(e)}}static schema(e={}){const t=qr(e,"names",{});return new Ui({name:t.blockName||vn,value:[ha.schema({names:{blockName:t.issuerName}},!0),new pi({optional:!0,name:t.baseCertificateID||vn,idBlock:{tagClass:3,tagNumber:0},value:fu.schema().valueBlock.value}),new pi({optional:!0,name:t.objectDigestInfo||vn,idBlock:{tagClass:3,tagNumber:1},value:Du.schema().valueBlock.value})]})}fromSchema(e){os(e,Hu);const t=pn(e,e,Mu.schema({names:{issuerName:Lu,baseCertificateID:Uu,objectDigestInfo:Vu}}));_n.assertSchema(t,this.className),Lu in t.result&&(this.issuerName=new ha({schema:t.result.issuerName})),Uu in t.result&&(this.baseCertificateID=new fu({schema:new Ui({value:t.result.baseCertificateID.valueBlock.value})})),Vu in t.result&&(this.objectDigestInfo=new Du({schema:new Ui({value:t.result.objectDigestInfo.valueBlock.value})}))}toSchema(){const e=new Ui;return this.issuerName&&e.valueBlock.value.push(this.issuerName.toSchema()),this.baseCertificateID&&e.valueBlock.value.push(new pi({idBlock:{tagClass:3,tagNumber:0},value:this.baseCertificateID.toSchema().valueBlock.value})),this.objectDigestInfo&&e.valueBlock.value.push(new pi({idBlock:{tagClass:3,tagNumber:1},value:this.objectDigestInfo.toSchema().valueBlock.value})),e}toJSON(){const e={};return this.issuerName&&(e.issuerName=this.issuerName.toJSON()),this.baseCertificateID&&(e.baseCertificateID=this.baseCertificateID.toJSON()),this.objectDigestInfo&&(e.objectDigestInfo=this.objectDigestInfo.toJSON()),e}}Mu.CLASS_NAME="V2Form";const Fu="baseCertificateID",Wu="entityName",ju="objectDigestInfo",qu=[Fu,Wu,ju];class zu extends Sn{constructor(e={}){super(),Fu in e&&(this.baseCertificateID=qr(e,Fu,zu.defaultValues(Fu))),Wu in e&&(this.entityName=qr(e,Wu,zu.defaultValues(Wu))),ju in e&&(this.objectDigestInfo=qr(e,ju,zu.defaultValues(ju))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Fu:return new fu;case Wu:return new ha;case ju:return new Du;default:return super.defaultValues(e)}}static schema(e={}){const t=qr(e,"names",{});return new Ui({name:t.blockName||vn,value:[new pi({optional:!0,name:t.baseCertificateID||vn,idBlock:{tagClass:3,tagNumber:0},value:fu.schema().valueBlock.value}),new pi({optional:!0,name:t.entityName||vn,idBlock:{tagClass:3,tagNumber:1},value:ha.schema().valueBlock.value}),new pi({optional:!0,name:t.objectDigestInfo||vn,idBlock:{tagClass:3,tagNumber:2},value:Du.schema().valueBlock.value})]})}fromSchema(e){os(e,qu);const t=pn(e,e,zu.schema({names:{baseCertificateID:Fu,entityName:Wu,objectDigestInfo:ju}}));_n.assertSchema(t,this.className),Fu in t.result&&(this.baseCertificateID=new fu({schema:new Ui({value:t.result.baseCertificateID.valueBlock.value})})),Wu in t.result&&(this.entityName=new ha({schema:new Ui({value:t.result.entityName.valueBlock.value})})),ju in t.result&&(this.objectDigestInfo=new Du({schema:new Ui({value:t.result.objectDigestInfo.valueBlock.value})}))}toSchema(){const e=new Ui;return this.baseCertificateID&&e.valueBlock.value.push(new pi({idBlock:{tagClass:3,tagNumber:0},value:this.baseCertificateID.toSchema().valueBlock.value})),this.entityName&&e.valueBlock.value.push(new pi({idBlock:{tagClass:3,tagNumber:1},value:this.entityName.toSchema().valueBlock.value})),this.objectDigestInfo&&e.valueBlock.value.push(new pi({idBlock:{tagClass:3,tagNumber:2},value:this.objectDigestInfo.toSchema().valueBlock.value})),e}toJSON(){const e={};return this.baseCertificateID&&(e.baseCertificateID=this.baseCertificateID.toJSON()),this.entityName&&(e.entityName=this.entityName.toJSON()),this.objectDigestInfo&&(e.objectDigestInfo=this.objectDigestInfo.toJSON()),e}}zu.CLASS_NAME="Holder";const Ku="version",Qu="holder",Ju="issuer",Gu="signature",Zu="serialNumber",Xu="attrCertValidityPeriod",Yu="attributes",$u="issuerUniqueID",eh="extensions",th=[Ku,Qu,Ju,Gu,Zu,Xu,Yu,$u,eh];class rh extends Sn{constructor(e={}){super(),this.version=qr(e,Ku,rh.defaultValues(Ku)),this.holder=qr(e,Qu,rh.defaultValues(Qu)),this.issuer=qr(e,Ju,rh.defaultValues(Ju)),this.signature=qr(e,Gu,rh.defaultValues(Gu)),this.serialNumber=qr(e,Zu,rh.defaultValues(Zu)),this.attrCertValidityPeriod=qr(e,Xu,rh.defaultValues(Xu)),this.attributes=qr(e,Yu,rh.defaultValues(Yu)),$u in e&&(this.issuerUniqueID=qr(e,$u,rh.defaultValues($u))),eh in e&&(this.extensions=qr(e,eh,rh.defaultValues(eh))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Ku:return 1;case Qu:return new zu;case Ju:return{};case Gu:return new Xn;case Zu:return new Ii;case Xu:return new la;case Yu:return[];case $u:return new Si;case eh:return new ou;default:return super.defaultValues(e)}}static schema(e={}){const t=qr(e,"names",{});return new Ui({name:t.blockName||vn,value:[new Ii({name:t.version||vn}),zu.schema(t.holder||{}),new fn({value:[ha.schema({names:{blockName:t.issuer||vn}}),new pi({name:t.issuer||vn,idBlock:{tagClass:3,tagNumber:0},value:Mu.schema().valueBlock.value})]}),Xn.schema(t.signature||{}),new Ii({name:t.serialNumber||vn}),la.schema(t.attrCertValidityPeriod||{}),new Ui({name:t.attributes||vn,value:[new dn({value:ia.schema()})]}),new Si({optional:!0,name:t.issuerUniqueID||vn}),ou.schema(t.extensions||{},!0)]})}fromSchema(e){os(e,th);const t=pn(e,e,rh.schema({names:{version:Ku,holder:{names:{blockName:Qu}},issuer:Ju,signature:{names:{blockName:Gu}},serialNumber:Zu,attrCertValidityPeriod:{names:{blockName:Xu}},attributes:Yu,issuerUniqueID:$u,extensions:{names:{blockName:eh}}}}));if(_n.assertSchema(t,this.className),this.version=t.result.version.valueBlock.valueDec,this.holder=new zu({schema:t.result.holder}),3!==t.result.issuer.idBlock.tagClass)throw new Error("Incorrect value for 'issuer' in AttributeCertificateInfoV2");this.issuer=new Mu({schema:new Ui({value:t.result.issuer.valueBlock.value})}),this.signature=new Xn({schema:t.result.signature}),this.serialNumber=t.result.serialNumber,this.attrCertValidityPeriod=new la({schema:t.result.attrCertValidityPeriod}),this.attributes=Array.from(t.result.attributes.valueBlock.value,(e=>new ia({schema:e}))),$u in t.result&&(this.issuerUniqueID=t.result.issuerUniqueID),eh in t.result&&(this.extensions=new ou({schema:t.result.extensions}))}toSchema(){const e=new Ui({value:[new Ii({value:this.version}),this.holder.toSchema(),new pi({idBlock:{tagClass:3,tagNumber:0},value:this.issuer.toSchema().valueBlock.value}),this.signature.toSchema(),this.serialNumber,this.attrCertValidityPeriod.toSchema(),new Ui({value:Array.from(this.attributes,(e=>e.toSchema()))})]});return this.issuerUniqueID&&e.valueBlock.value.push(this.issuerUniqueID),this.extensions&&e.valueBlock.value.push(this.extensions.toSchema()),e}toJSON(){const e={version:this.version,holder:this.holder.toJSON(),issuer:this.issuer.toJSON(),signature:this.signature.toJSON(),serialNumber:this.serialNumber.toJSON(),attrCertValidityPeriod:this.attrCertValidityPeriod.toJSON(),attributes:Array.from(this.attributes,(e=>e.toJSON()))};return this.issuerUniqueID&&(e.issuerUniqueID=this.issuerUniqueID.toJSON()),this.extensions&&(e.extensions=this.extensions.toJSON()),e}}rh.CLASS_NAME="AttributeCertificateInfoV2";const sh="acinfo",ih="signatureAlgorithm",nh="signatureValue",ah=[sh,ih,nh];class oh extends Sn{constructor(e={}){super(),this.acinfo=qr(e,sh,oh.defaultValues(sh)),this.signatureAlgorithm=qr(e,ih,oh.defaultValues(ih)),this.signatureValue=qr(e,nh,oh.defaultValues(nh)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case sh:return new rh;case ih:return new Xn;case nh:return new Si;default:return super.defaultValues(e)}}static schema(e={}){const t=qr(e,"names",{});return new Ui({name:t.blockName||vn,value:[rh.schema(t.acinfo||{}),Xn.schema(t.signatureAlgorithm||{}),new Si({name:t.signatureValue||vn})]})}fromSchema(e){os(e,ah);const t=pn(e,e,oh.schema({names:{acinfo:{names:{blockName:sh}},signatureAlgorithm:{names:{blockName:ih}},signatureValue:nh}}));_n.assertSchema(t,this.className),this.acinfo=new rh({schema:t.result.acinfo}),this.signatureAlgorithm=new Xn({schema:t.result.signatureAlgorithm}),this.signatureValue=t.result.signatureValue}toSchema(){return new Ui({value:[this.acinfo.toSchema(),this.signatureAlgorithm.toSchema(),this.signatureValue]})}toJSON(){return{acinfo:this.acinfo.toJSON(),signatureAlgorithm:this.signatureAlgorithm.toJSON(),signatureValue:this.signatureValue.toJSON()}}}oh.CLASS_NAME="AttributeCertificateV2";const lh="contentType",ch="content",uh=[lh,ch];class hh extends Sn{constructor(e={}){super(),this.contentType=qr(e,lh,hh.defaultValues(lh)),this.content=qr(e,ch,hh.defaultValues(ch)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case lh:return vn;case ch:return new hn;default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case lh:return"string"==typeof t&&t===this.defaultValues(lh);case ch:return t instanceof hn;default:return super.defaultValues(e)}}static schema(e={}){const t=qr(e,"names",{});return"optional"in t==!1&&(t.optional=!1),new Ui({name:t.blockName||"ContentInfo",optional:t.optional,value:[new Oi({name:t.contentType||lh}),new pi({idBlock:{tagClass:3,tagNumber:0},value:[new hn({name:t.content||ch})]})]})}fromSchema(e){os(e,uh);const t=pn(e,e,hh.schema());_n.assertSchema(t,this.className),this.contentType=t.result.contentType.valueBlock.toString(),this.content=t.result.content}toSchema(){return new Ui({value:[new Oi({value:this.contentType}),new pi({idBlock:{tagClass:3,tagNumber:0},value:[this.content]})]})}toJSON(){const e={contentType:this.contentType};return this.content instanceof hn||(e.content=this.content.toJSON()),e}}hh.CLASS_NAME="ContentInfo",hh.DATA=Na,hh.SIGNED_DATA=Ba,hh.ENVELOPED_DATA=Ia,hh.ENCRYPTED_DATA=xa;const fh="type",dh="value",mh="utcTimeName",ph="generalTimeName",gh=[mh,ph];var wh;!function(e){e[e.UTCTime=0]="UTCTime",e[e.GeneralizedTime=1]="GeneralizedTime",e[e.empty=2]="empty"}(wh||(wh={}));class yh extends Sn{constructor(e={}){super(),this.type=qr(e,fh,yh.defaultValues(fh)),this.value=qr(e,dh,yh.defaultValues(dh)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case fh:return 0;case dh:return new Date(0,0,0);default:return super.defaultValues(e)}}static schema(e={},t=!1){const r=qr(e,"names",{});return new fn({optional:t,value:[new sn({name:r.utcTimeName||vn}),new nn({name:r.generalTimeName||vn})]})}fromSchema(e){os(e,gh);const t=pn(e,e,yh.schema({names:{utcTimeName:mh,generalTimeName:ph}}));_n.assertSchema(t,this.className),mh in t.result&&(this.type=0,this.value=t.result.utcTimeName.toDate()),ph in t.result&&(this.type=1,this.value=t.result.generalTimeName.toDate())}toSchema(){return 0===this.type?new sn({valueDate:this.value}):1===this.type?new nn({valueDate:this.value}):{}}toJSON(){return{type:this.type,value:this.value}}}yh.CLASS_NAME="Time";const bh="tbs",vh="version",Ah="serialNumber",kh="signature",_h="issuer",Sh="notBefore",Eh="notAfter",Ch="subject",Nh="subjectPublicKeyInfo",Bh="issuerUniqueID",Ih="subjectUniqueID",xh="extensions",Th="signatureAlgorithm",Rh="signatureValue",Oh="tbsCertificate",Ph="tbsCertificate.version",Dh="tbsCertificate.serialNumber",Lh="tbsCertificate.signature",Uh="tbsCertificate.issuer",Vh="tbsCertificate.notBefore",Hh="tbsCertificate.notAfter",Mh="tbsCertificate.subject",Fh="tbsCertificate.subjectPublicKeyInfo",Wh="tbsCertificate.issuerUniqueID",jh="tbsCertificate.subjectUniqueID",qh="tbsCertificate.extensions",zh=[Oh,Ph,Dh,Lh,Uh,Vh,Hh,Mh,Fh,Wh,jh,qh,Th,Rh];function Kh(e={}){const t=qr(e,"names",{});return new Ui({name:t.blockName||Oh,value:[new pi({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new Ii({name:t.tbsCertificateVersion||Ph})]}),new Ii({name:t.tbsCertificateSerialNumber||Dh}),Xn.schema(t.signature||{names:{blockName:Lh}}),Tn.schema(t.issuer||{names:{blockName:Uh}}),new Ui({name:t.tbsCertificateValidity||"tbsCertificate.validity",value:[yh.schema(t.notBefore||{names:{utcTimeName:Vh,generalTimeName:Vh}}),yh.schema(t.notAfter||{names:{utcTimeName:Hh,generalTimeName:Hh}})]}),Tn.schema(t.subject||{names:{blockName:Mh}}),Sl.schema(t.subjectPublicKeyInfo||{names:{blockName:Fh}}),new hi({name:t.tbsCertificateIssuerUniqueID||Wh,optional:!0,idBlock:{tagClass:3,tagNumber:1}}),new hi({name:t.tbsCertificateSubjectUniqueID||jh,optional:!0,idBlock:{tagClass:3,tagNumber:2}}),new pi({optional:!0,idBlock:{tagClass:3,tagNumber:3},value:[ou.schema(t.extensions||{names:{blockName:qh}})]})]})}class Qh extends Sn{constructor(e={}){super(),this.tbsView=new Uint8Array(qr(e,bh,Qh.defaultValues(bh))),this.version=qr(e,vh,Qh.defaultValues(vh)),this.serialNumber=qr(e,Ah,Qh.defaultValues(Ah)),this.signature=qr(e,kh,Qh.defaultValues(kh)),this.issuer=qr(e,_h,Qh.defaultValues(_h)),this.notBefore=qr(e,Sh,Qh.defaultValues(Sh)),this.notAfter=qr(e,Eh,Qh.defaultValues(Eh)),this.subject=qr(e,Ch,Qh.defaultValues(Ch)),this.subjectPublicKeyInfo=qr(e,Nh,Qh.defaultValues(Nh)),Bh in e&&(this.issuerUniqueID=qr(e,Bh,Qh.defaultValues(Bh))),Ih in e&&(this.subjectUniqueID=qr(e,Ih,Qh.defaultValues(Ih))),xh in e&&(this.extensions=qr(e,xh,Qh.defaultValues(xh))),this.signatureAlgorithm=qr(e,Th,Qh.defaultValues(Th)),this.signatureValue=qr(e,Rh,Qh.defaultValues(Rh)),e.schema&&this.fromSchema(e.schema)}get tbs(){return jr.vJ.toArrayBuffer(this.tbsView)}set tbs(e){this.tbsView=new Uint8Array(e)}static defaultValues(e){switch(e){case bh:return bn;case vh:return 0;case Ah:return new Ii;case kh:return new Xn;case _h:return new Tn;case Sh:case Eh:return new yh;case Ch:return new Tn;case Nh:return new Sl;case Bh:case Ih:return bn;case xh:return[];case Th:return new Xn;case Rh:return new Si;default:return super.defaultValues(e)}}static schema(e={}){const t=qr(e,"names",{});return new Ui({name:t.blockName||vn,value:[Kh(t.tbsCertificate),Xn.schema(t.signatureAlgorithm||{names:{blockName:Th}}),new Si({name:t.signatureValue||Rh})]})}fromSchema(e){os(e,zh);const t=pn(e,e,Qh.schema({names:{tbsCertificate:{names:{extensions:{names:{extensions:qh}}}}}}));_n.assertSchema(t,this.className),this.tbsView=t.result.tbsCertificate.valueBeforeDecodeView,Ph in t.result&&(this.version=t.result[Ph].valueBlock.valueDec),this.serialNumber=t.result[Dh],this.signature=new Xn({schema:t.result[Lh]}),this.issuer=new Tn({schema:t.result[Uh]}),this.notBefore=new yh({schema:t.result[Vh]}),this.notAfter=new yh({schema:t.result[Hh]}),this.subject=new Tn({schema:t.result[Mh]}),this.subjectPublicKeyInfo=new Sl({schema:t.result[Fh]}),Wh in t.result&&(this.issuerUniqueID=t.result["tbsCertificate.issuerUniqueID"].valueBlock.valueHex),jh in t.result&&(this.subjectUniqueID=t.result["tbsCertificate.subjectUniqueID"].valueBlock.valueHex),qh in t.result&&(this.extensions=Array.from(t.result[qh],(e=>new iu({schema:e})))),this.signatureAlgorithm=new Xn({schema:t.result.signatureAlgorithm}),this.signatureValue=t.result.signatureValue}encodeTBS(){const e=[];return vh in this&&this.version!==Qh.defaultValues(vh)&&e.push(new pi({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new Ii({value:this.version})]})),e.push(this.serialNumber),e.push(this.signature.toSchema()),e.push(this.issuer.toSchema()),e.push(new Ui({value:[this.notBefore.toSchema(),this.notAfter.toSchema()]})),e.push(this.subject.toSchema()),e.push(this.subjectPublicKeyInfo.toSchema()),this.issuerUniqueID&&e.push(new hi({optional:!0,idBlock:{tagClass:3,tagNumber:1},valueHex:this.issuerUniqueID})),this.subjectUniqueID&&e.push(new hi({optional:!0,idBlock:{tagClass:3,tagNumber:2},valueHex:this.subjectUniqueID})),this.extensions&&e.push(new pi({optional:!0,idBlock:{tagClass:3,tagNumber:3},value:[new Ui({value:Array.from(this.extensions,(e=>e.toSchema()))})]})),new Ui({value:e})}toSchema(e=!1){let t;if(!1===e){if(!this.tbsView.byteLength)return Qh.schema().value[0];const e=di(this.tbsView);_n.assert(e,"TBS Certificate"),t=e.result}else t=this.encodeTBS();return new Ui({value:[t,this.signatureAlgorithm.toSchema(),this.signatureValue]})}toJSON(){const e={tbs:jr.ep.ToHex(this.tbsView),version:this.version,serialNumber:this.serialNumber.toJSON(),signature:this.signature.toJSON(),issuer:this.issuer.toJSON(),notBefore:this.notBefore.toJSON(),notAfter:this.notAfter.toJSON(),subject:this.subject.toJSON(),subjectPublicKeyInfo:this.subjectPublicKeyInfo.toJSON(),signatureAlgorithm:this.signatureAlgorithm.toJSON(),signatureValue:this.signatureValue.toJSON()};return vh in this&&this.version!==Qh.defaultValues(vh)&&(e.version=this.version),this.issuerUniqueID&&(e.issuerUniqueID=jr.ep.ToHex(this.issuerUniqueID)),this.subjectUniqueID&&(e.subjectUniqueID=jr.ep.ToHex(this.subjectUniqueID)),this.extensions&&(e.extensions=Array.from(this.extensions,(e=>e.toJSON()))),e}async getPublicKey(e,t=Bc(!0)){return t.getPublicKey(this.subjectPublicKeyInfo,this.signatureAlgorithm,e)}async getKeyHash(e="SHA-1",t=Bc(!0)){return t.digest({name:e},this.subjectPublicKeyInfo.subjectPublicKey.valueBlock.valueHexView)}async sign(e,t="SHA-1",r=Bc(!0)){if(!e)throw new Error("Need to provide a private key for signing");const s=await r.getSignatureParameters(e,t),i=s.parameters;this.signature=s.signatureAlgorithm,this.signatureAlgorithm=s.signatureAlgorithm,this.tbsView=new Uint8Array(this.encodeTBS().toBER());const n=await r.signWithPrivateKey(this.tbsView,e,i);this.signatureValue=new Si({valueHex:n})}async verify(e,t=Bc(!0)){let r;if(e?r=e.subjectPublicKeyInfo:this.issuer.isEqual(this.subject)&&(r=this.subjectPublicKeyInfo),!(r instanceof Sl))throw new Error("Please provide issuer certificate as a parameter");return t.verifyWithPublicKey(this.tbsView,this.signatureValue,r,this.signatureAlgorithm)}}function Jh(e,t=null){if(t&&e.issuer.isEqual(t.issuer)&&e.serialNumber.isEqual(t.serialNumber))return null;let r=!1;if(e.extensions)for(const t of e.extensions)if(t.extnID===ma&&t.parsedValue instanceof ja&&t.parsedValue.cA){r=!0;break}return r?e:null}Qh.CLASS_NAME="Certificate";const Gh="certId",Zh="certValue",Xh="parsedValue",Yh=[Gh,Zh];class $h extends Sn{constructor(e={}){super(),this.certId=qr(e,Gh,$h.defaultValues(Gh)),this.certValue=qr(e,Zh,$h.defaultValues(Zh)),Xh in e&&(this.parsedValue=qr(e,Xh,$h.defaultValues(Xh))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Gh:return vn;case Zh:return new hn;case Xh:return{};default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case Gh:return t===vn;case Zh:return t instanceof hn;case Xh:return t instanceof Object&&0===Object.keys(t).length;default:return super.defaultValues(e)}}static schema(e={}){const t=qr(e,"names",{});return new Ui({name:t.blockName||vn,value:[new Oi({name:t.id||"id"}),new pi({idBlock:{tagClass:3,tagNumber:0},value:[new hn({name:t.value||"value"})]})]})}fromSchema(e){os(e,Yh);const t=pn(e,e,$h.schema({names:{id:Gh,value:Zh}}));_n.assertSchema(t,this.className),this.certId=t.result.certId.valueBlock.toString(),this.certValue=t.result.certValue;const r=this.certValue.valueBlock.valueHexView;switch(this.certId){case Ta:try{this.parsedValue=Qh.fromBER(r)}catch(e){oh.fromBER(r)}break;case Ra:this.parsedValue=oh.fromBER(r);break;default:throw new Error(`Incorrect CERT_ID value in CertBag: ${this.certId}`)}}toSchema(){return Xh in this&&("acinfo"in this.parsedValue?this.certId=Ra:this.certId=Ta,this.certValue=new ki({valueHex:this.parsedValue.toSchema().toBER(!1)})),new Ui({value:[new Oi({value:this.certId}),new pi({idBlock:{tagClass:3,tagNumber:0},value:["toSchema"in this.certValue?this.certValue.toSchema():this.certValue]})]})}toJSON(){return{certId:this.certId,certValue:this.certValue.toJSON()}}}$h.CLASS_NAME="CertBag";const ef="userCertificate",tf="revocationDate",rf="crlEntryExtensions",sf=[ef,tf,rf];class nf extends Sn{constructor(e={}){super(),this.userCertificate=qr(e,ef,nf.defaultValues(ef)),this.revocationDate=qr(e,tf,nf.defaultValues(tf)),rf in e&&(this.crlEntryExtensions=qr(e,rf,nf.defaultValues(rf))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case ef:return new Ii;case tf:return new yh;case rf:return new ou;default:return super.defaultValues(e)}}static schema(e={}){const t=qr(e,"names",{});return new Ui({name:t.blockName||vn,value:[new Ii({name:t.userCertificate||ef}),yh.schema({names:{utcTimeName:t.revocationDate||tf,generalTimeName:t.revocationDate||tf}}),ou.schema({names:{blockName:t.crlEntryExtensions||rf}},!0)]})}fromSchema(e){os(e,sf);const t=pn(e,e,nf.schema());_n.assertSchema(t,this.className),this.userCertificate=t.result.userCertificate,this.revocationDate=new yh({schema:t.result.revocationDate}),rf in t.result&&(this.crlEntryExtensions=new ou({schema:t.result.crlEntryExtensions}))}toSchema(){const e=[this.userCertificate,this.revocationDate.toSchema()];return this.crlEntryExtensions&&e.push(this.crlEntryExtensions.toSchema()),new Ui({value:e})}toJSON(){const e={userCertificate:this.userCertificate.toJSON(),revocationDate:this.revocationDate.toJSON()};return this.crlEntryExtensions&&(e.crlEntryExtensions=this.crlEntryExtensions.toJSON()),e}}nf.CLASS_NAME="RevokedCertificate";const af="tbs",of="version",lf="signature",cf="issuer",uf="thisUpdate",hf="nextUpdate",ff="revokedCertificates",df="crlExtensions",mf="signatureAlgorithm",pf="signatureValue",gf="tbsCertList",wf="tbsCertList.version",yf="tbsCertList.signature",bf="tbsCertList.issuer",vf="tbsCertList.thisUpdate",Af="tbsCertList.nextUpdate",kf="tbsCertList.revokedCertificates",_f="tbsCertList.extensions",Sf=[gf,wf,yf,bf,vf,Af,kf,_f,mf,pf];function Ef(e={}){const t=qr(e,"names",{});return new Ui({name:t.blockName||gf,value:[new Ii({optional:!0,name:t.tbsCertListVersion||wf,value:2}),Xn.schema(t.signature||{names:{blockName:yf}}),Tn.schema(t.issuer||{names:{blockName:bf}}),yh.schema(t.tbsCertListThisUpdate||{names:{utcTimeName:vf,generalTimeName:vf}}),yh.schema(t.tbsCertListNextUpdate||{names:{utcTimeName:Af,generalTimeName:Af}},!0),new Ui({optional:!0,value:[new dn({name:t.tbsCertListRevokedCertificates||kf,value:new Ui({value:[new Ii,yh.schema(),ou.schema({},!0)]})})]}),new pi({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[ou.schema(t.crlExtensions||{names:{blockName:_f}})]})]})}const Cf=[_a,da,"2.5.29.20","2.5.29.27",pa,ba,Ea,"2.5.29.21","2.5.29.24",ga];class Nf extends Sn{constructor(e={}){super(),this.tbsView=new Uint8Array(qr(e,af,Nf.defaultValues(af))),this.version=qr(e,of,Nf.defaultValues(of)),this.signature=qr(e,lf,Nf.defaultValues(lf)),this.issuer=qr(e,cf,Nf.defaultValues(cf)),this.thisUpdate=qr(e,uf,Nf.defaultValues(uf)),hf in e&&(this.nextUpdate=qr(e,hf,Nf.defaultValues(hf))),ff in e&&(this.revokedCertificates=qr(e,ff,Nf.defaultValues(ff))),df in e&&(this.crlExtensions=qr(e,df,Nf.defaultValues(df))),this.signatureAlgorithm=qr(e,mf,Nf.defaultValues(mf)),this.signatureValue=qr(e,pf,Nf.defaultValues(pf)),e.schema&&this.fromSchema(e.schema)}get tbs(){return jr.vJ.toArrayBuffer(this.tbsView)}set tbs(e){this.tbsView=new Uint8Array(e)}static defaultValues(e){switch(e){case af:return bn;case of:return 0;case lf:return new Xn;case cf:return new Tn;case uf:case hf:return new yh;case ff:return[];case df:return new ou;case mf:return new Xn;case pf:return new Si;default:return super.defaultValues(e)}}static schema(e={}){const t=qr(e,"names",{});return new Ui({name:t.blockName||"CertificateList",value:[Ef(e),Xn.schema(t.signatureAlgorithm||{names:{blockName:mf}}),new Si({name:t.signatureValue||pf})]})}fromSchema(e){os(e,Sf);const t=pn(e,e,Nf.schema());_n.assertSchema(t,this.className),this.tbsView=t.result.tbsCertList.valueBeforeDecodeView,wf in t.result&&(this.version=t.result[wf].valueBlock.valueDec),this.signature=new Xn({schema:t.result[yf]}),this.issuer=new Tn({schema:t.result[bf]}),this.thisUpdate=new yh({schema:t.result["tbsCertList.thisUpdate"]}),Af in t.result&&(this.nextUpdate=new yh({schema:t.result["tbsCertList.nextUpdate"]})),kf in t.result&&(this.revokedCertificates=Array.from(t.result["tbsCertList.revokedCertificates"],(e=>new nf({schema:e})))),_f in t.result&&(this.crlExtensions=new ou({schema:t.result[_f]})),this.signatureAlgorithm=new Xn({schema:t.result.signatureAlgorithm}),this.signatureValue=t.result.signatureValue}encodeTBS(){const e=[];return this.version!==Nf.defaultValues(of)&&e.push(new Ii({value:this.version})),e.push(this.signature.toSchema()),e.push(this.issuer.toSchema()),e.push(this.thisUpdate.toSchema()),this.nextUpdate&&e.push(this.nextUpdate.toSchema()),this.revokedCertificates&&e.push(new Ui({value:Array.from(this.revokedCertificates,(e=>e.toSchema()))})),this.crlExtensions&&e.push(new pi({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[this.crlExtensions.toSchema()]})),new Ui({value:e})}toSchema(e=!1){let t;if(e)t=this.encodeTBS();else{if(!this.tbsView.byteLength)return Nf.schema();const e=di(this.tbsView);_n.assert(e,"TBS Certificate Revocation List"),t=e.result}return new Ui({value:[t,this.signatureAlgorithm.toSchema(),this.signatureValue]})}toJSON(){const e={tbs:jr.ep.ToHex(this.tbsView),version:this.version,signature:this.signature.toJSON(),issuer:this.issuer.toJSON(),thisUpdate:this.thisUpdate.toJSON(),signatureAlgorithm:this.signatureAlgorithm.toJSON(),signatureValue:this.signatureValue.toJSON()};return this.version!==Nf.defaultValues(of)&&(e.version=this.version),this.nextUpdate&&(e.nextUpdate=this.nextUpdate.toJSON()),this.revokedCertificates&&(e.revokedCertificates=Array.from(this.revokedCertificates,(e=>e.toJSON()))),this.crlExtensions&&(e.crlExtensions=this.crlExtensions.toJSON()),e}isCertificateRevoked(e){if(!this.issuer.isEqual(e.issuer))return!1;if(!this.revokedCertificates)return!1;for(const t of this.revokedCertificates)if(t.userCertificate.isEqual(e.serialNumber))return!0;return!1}async sign(e,t="SHA-1",r=Bc(!0)){if(!e)throw new Error("Need to provide a private key for signing");const s=await r.getSignatureParameters(e,t),{parameters:i}=s;this.signature=s.signatureAlgorithm,this.signatureAlgorithm=s.signatureAlgorithm,this.tbsView=new Uint8Array(this.encodeTBS().toBER());const n=await r.signWithPrivateKey(this.tbsView,e,i);this.signatureValue=new Si({valueHex:n})}async verify(e={},t=Bc(!0)){let r;if(e.issuerCertificate&&(r=e.issuerCertificate.subjectPublicKeyInfo,!this.issuer.isEqual(e.issuerCertificate.subject)))return!1;if(e.publicKeyInfo&&(r=e.publicKeyInfo),!r)throw new Error("Issuer's certificate must be provided as an input parameter");if(this.crlExtensions)for(const e of this.crlExtensions.extensions)if(e.critical&&!Cf.includes(e.extnID))return!1;return t.verifyWithPublicKey(this.tbsView,this.signatureValue,r,this.signatureAlgorithm)}}Nf.CLASS_NAME="CertificateRevocationList";const Bf="crlId",If="crlValue",xf="parsedValue",Tf=[Bf,If];class Rf extends Sn{constructor(e={}){super(),this.crlId=qr(e,Bf,Rf.defaultValues(Bf)),this.crlValue=qr(e,If,Rf.defaultValues(If)),xf in e&&(this.parsedValue=qr(e,xf,Rf.defaultValues(xf))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Bf:return vn;case If:return new hn;case xf:return{};default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case Bf:return t===vn;case If:return t instanceof hn;case xf:return t instanceof Object&&0===Object.keys(t).length;default:return super.defaultValues(e)}}static schema(e={}){const t=qr(e,"names",{});return new Ui({name:t.blockName||vn,value:[new Oi({name:t.id||"id"}),new pi({idBlock:{tagClass:3,tagNumber:0},value:[new hn({name:t.value||"value"})]})]})}fromSchema(e){os(e,Tf);const t=pn(e,e,Rf.schema({names:{id:Bf,value:If}}));if(_n.assertSchema(t,this.className),this.crlId=t.result.crlId.valueBlock.toString(),this.crlValue=t.result.crlValue,this.crlId!==Oa)throw new Error(`Incorrect CRL_ID value in CRLBag: ${this.crlId}`);this.parsedValue=Nf.fromBER(this.certValue.valueBlock.valueHex)}toSchema(){return this.parsedValue&&(this.crlId=Oa,this.crlValue=new ki({valueHex:this.parsedValue.toSchema().toBER(!1)})),new Ui({value:[new Oi({value:this.crlId}),new pi({idBlock:{tagClass:3,tagNumber:0},value:[this.crlValue.toSchema()]})]})}toJSON(){return{crlId:this.crlId,crlValue:this.crlValue.toJSON()}}}Rf.CLASS_NAME="CRLBag";const Of="version",Pf="encryptedContentInfo",Df="unprotectedAttrs",Lf=[Of,Pf,Df];class Uf extends Sn{constructor(e={}){super(),this.version=qr(e,Of,Uf.defaultValues(Of)),this.encryptedContentInfo=qr(e,Pf,Uf.defaultValues(Pf)),Df in e&&(this.unprotectedAttrs=qr(e,Df,Uf.defaultValues(Df))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Of:return 0;case Pf:return new nc;case Df:return[];default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case Of:return 0===t;case Pf:return nc.compareWithDefault("contentType",t.contentType)&&nc.compareWithDefault("contentEncryptionAlgorithm",t.contentEncryptionAlgorithm)&&nc.compareWithDefault("encryptedContent",t.encryptedContent);case Df:return 0===t.length;default:return super.defaultValues(e)}}static schema(e={}){const t=qr(e,"names",{});return new Ui({name:t.blockName||vn,value:[new Ii({name:t.version||vn}),nc.schema(t.encryptedContentInfo||{}),new pi({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[new dn({name:t.unprotectedAttrs||vn,value:ia.schema()})]})]})}fromSchema(e){os(e,Lf);const t=pn(e,e,Uf.schema({names:{version:Of,encryptedContentInfo:{names:{blockName:Pf}},unprotectedAttrs:Df}}));_n.assertSchema(t,this.className),this.version=t.result.version.valueBlock.valueDec,this.encryptedContentInfo=new nc({schema:t.result.encryptedContentInfo}),Df in t.result&&(this.unprotectedAttrs=Array.from(t.result.unprotectedAttrs,(e=>new ia({schema:e}))))}toSchema(){const e=[];return e.push(new Ii({value:this.version})),e.push(this.encryptedContentInfo.toSchema()),this.unprotectedAttrs&&e.push(new pi({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:Array.from(this.unprotectedAttrs,(e=>e.toSchema()))})),new Ui({value:e})}toJSON(){const e={version:this.version,encryptedContentInfo:this.encryptedContentInfo.toJSON()};return this.unprotectedAttrs&&(e.unprotectedAttrs=Array.from(this.unprotectedAttrs,(e=>e.toJSON()))),e}async encrypt(e){An.assert(e,"parameters","object");const t={...e,contentType:"1.2.840.113549.1.7.1"};this.encryptedContentInfo=await Bc(!0).encryptEncryptedContentInfo(t)}async decrypt(e,t=Bc(!0)){An.assert(e,"parameters","object");const r={...e,encryptedContentInfo:this.encryptedContentInfo};return t.decryptEncryptedContentInfo(r)}}Uf.CLASS_NAME="EncryptedData";const Vf="encryptionAlgorithm",Hf="encryptedData",Mf="parsedValue",Ff=[Vf,Hf];class Wf extends Sn{constructor(e={}){super(),this.encryptionAlgorithm=qr(e,Vf,Wf.defaultValues(Vf)),this.encryptedData=qr(e,Hf,Wf.defaultValues(Hf)),Mf in e&&(this.parsedValue=qr(e,Mf,Wf.defaultValues(Mf))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Vf:return new Xn;case Hf:return new ki;case Mf:return{};default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case Vf:return Xn.compareWithDefault("algorithmId",t.algorithmId)&&"algorithmParams"in t==!1;case Hf:return t.isEqual(Wf.defaultValues(e));case Mf:return t instanceof Object&&0===Object.keys(t).length;default:return super.defaultValues(e)}}static schema(e={}){const t=qr(e,"names",{});return new Ui({name:t.blockName||vn,value:[Xn.schema(t.encryptionAlgorithm||{names:{blockName:Vf}}),new fn({value:[new ki({name:t.encryptedData||Hf}),new ki({idBlock:{isConstructed:!0},name:t.encryptedData||Hf})]})]})}fromSchema(e){os(e,Ff);const t=pn(e,e,Wf.schema({names:{encryptionAlgorithm:{names:{blockName:Vf}},encryptedData:Hf}}));_n.assertSchema(t,this.className),this.encryptionAlgorithm=new Xn({schema:t.result.encryptionAlgorithm}),this.encryptedData=t.result.encryptedData}toSchema(){return new Ui({value:[this.encryptionAlgorithm.toSchema(),this.encryptedData]})}toJSON(){return{encryptionAlgorithm:this.encryptionAlgorithm.toJSON(),encryptedData:this.encryptedData.toJSON()}}async parseInternalValues(e,t=Bc(!0)){const r=new Uf({encryptedContentInfo:new nc({contentEncryptionAlgorithm:this.encryptionAlgorithm,encryptedContent:this.encryptedData})}),s=await r.decrypt(e,t);this.parsedValue=ec.fromBER(s)}async makeInternalValues(e){if(!this.parsedValue)throw new Error('Please initialize "parsedValue" first');const t=new Uf,r={...e,contentToEncrypt:this.parsedValue.toSchema().toBER(!1)};if(await t.encrypt(r),!t.encryptedContentInfo.encryptedContent)throw new Error("The filed `encryptedContent` in EncryptedContentInfo is empty");this.encryptionAlgorithm=t.encryptedContentInfo.contentEncryptionAlgorithm,this.encryptedData=t.encryptedContentInfo.encryptedContent}}Wf.CLASS_NAME="PKCS8ShroudedKeyBag";const jf="secretTypeId",qf="secretValue",zf=[jf,qf];class Kf extends Sn{constructor(e={}){super(),this.secretTypeId=qr(e,jf,Kf.defaultValues(jf)),this.secretValue=qr(e,qf,Kf.defaultValues(qf)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case jf:return vn;case qf:return new hn;default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case jf:return t===vn;case qf:return t instanceof hn;default:return super.defaultValues(e)}}static schema(e={}){const t=qr(e,"names",{});return new Ui({name:t.blockName||vn,value:[new Oi({name:t.id||"id"}),new pi({idBlock:{tagClass:3,tagNumber:0},value:[new hn({name:t.value||"value"})]})]})}fromSchema(e){os(e,zf);const t=pn(e,e,Kf.schema({names:{id:jf,value:qf}}));_n.assertSchema(t,this.className),this.secretTypeId=t.result.secretTypeId.valueBlock.toString(),this.secretValue=t.result.secretValue}toSchema(){return new Ui({value:[new Oi({value:this.secretTypeId}),new pi({idBlock:{tagClass:3,tagNumber:0},value:[this.secretValue.toSchema()]})]})}toJSON(){return{secretTypeId:this.secretTypeId,secretValue:this.secretValue.toJSON()}}}Kf.CLASS_NAME="SecretBag";class Qf{static getItems(){return this.items||(this.items={},Qf.register("1.2.840.113549.1.12.10.1.1",ec),Qf.register("1.2.840.113549.1.12.10.1.2",Wf),Qf.register("1.2.840.113549.1.12.10.1.3",$h),Qf.register("1.2.840.113549.1.12.10.1.4",Rf),Qf.register("1.2.840.113549.1.12.10.1.5",Kf),Qf.register("1.2.840.113549.1.12.10.1.6",ed)),this.items}static register(e,t){this.getItems()[e]=t}static find(e){return this.getItems()[e]||null}}const Jf="bagId",Gf="bagValue",Zf="bagAttributes",Xf=[Jf,Gf,Zf];class Yf extends Sn{constructor(e={}){super(),this.bagId=qr(e,Jf,Yf.defaultValues(Jf)),this.bagValue=qr(e,Gf,Yf.defaultValues(Gf)),Zf in e&&(this.bagAttributes=qr(e,Zf,Yf.defaultValues(Zf))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Jf:return vn;case Gf:return new hn;case Zf:return[];default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case Jf:return t===vn;case Gf:return t instanceof hn;case Zf:return 0===t.length;default:return super.defaultValues(e)}}static schema(e={}){const t=qr(e,"names",{});return new Ui({name:t.blockName||vn,value:[new Oi({name:t.bagId||Jf}),new pi({idBlock:{tagClass:3,tagNumber:0},value:[new hn({name:t.bagValue||Gf})]}),new Vi({optional:!0,value:[new dn({name:t.bagAttributes||Zf,value:ia.schema()})]})]})}fromSchema(e){os(e,Xf);const t=pn(e,e,Yf.schema({names:{bagId:Jf,bagValue:Gf,bagAttributes:Zf}}));_n.assertSchema(t,this.className),this.bagId=t.result.bagId.valueBlock.toString();const r=Qf.find(this.bagId);if(!r)throw new Error(`Invalid BAG_ID for SafeBag: ${this.bagId}`);this.bagValue=new r({schema:t.result.bagValue}),Zf in t.result&&(this.bagAttributes=Array.from(t.result.bagAttributes,(e=>new ia({schema:e}))))}toSchema(){const e=[new Oi({value:this.bagId}),new pi({idBlock:{tagClass:3,tagNumber:0},value:[this.bagValue.toSchema()]})];return this.bagAttributes&&e.push(new Vi({value:Array.from(this.bagAttributes,(e=>e.toSchema()))})),new Ui({value:e})}toJSON(){const e={bagId:this.bagId,bagValue:this.bagValue.toJSON()};return this.bagAttributes&&(e.bagAttributes=Array.from(this.bagAttributes,(e=>e.toJSON()))),e}}Yf.CLASS_NAME="SafeBag";const $f="safeBags";class ed extends Sn{constructor(e={}){super(),this.safeBags=qr(e,$f,ed.defaultValues($f)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){return e===$f?[]:super.defaultValues(e)}static compareWithDefault(e,t){return e===$f?0===t.length:super.defaultValues(e)}static schema(e={}){const t=qr(e,"names",{});return new Ui({name:t.blockName||vn,value:[new dn({name:t.safeBags||vn,value:Yf.schema()})]})}fromSchema(e){os(e,[$f]);const t=pn(e,e,ed.schema({names:{safeBags:$f}}));_n.assertSchema(t,this.className),this.safeBags=Array.from(t.result.safeBags,(e=>new Yf({schema:e})))}toSchema(){return new Ui({value:Array.from(this.safeBags,(e=>e.toSchema()))})}toJSON(){return{safeBags:Array.from(this.safeBags,(e=>e.toJSON()))}}}ed.CLASS_NAME="SafeContents";const td="otherCertFormat",rd="otherCert",sd=[td,rd];class id extends Sn{constructor(e={}){super(),this.otherCertFormat=qr(e,td,id.defaultValues(td)),this.otherCert=qr(e,rd,id.defaultValues(rd)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case td:return vn;case rd:return new hn;default:return super.defaultValues(e)}}static schema(e={}){const t=qr(e,"names",{});return new Ui({name:t.blockName||vn,value:[new Oi({name:t.otherCertFormat||td}),new hn({name:t.otherCert||rd})]})}fromSchema(e){os(e,sd);const t=pn(e,e,id.schema());_n.assertSchema(t,this.className),this.otherCertFormat=t.result.otherCertFormat.valueBlock.toString(),this.otherCert=t.result.otherCert}toSchema(){return new Ui({value:[new Oi({value:this.otherCertFormat}),this.otherCert]})}toJSON(){const e={otherCertFormat:this.otherCertFormat};return this.otherCert instanceof hn||(e.otherCert=this.otherCert.toJSON()),e}}const nd="certificates",ad=[nd];class od extends Sn{constructor(e={}){super(),this.certificates=qr(e,nd,od.defaultValues(nd)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){return e===nd?[]:super.defaultValues(e)}static schema(e={}){const t=qr(e,"names",{});return new Vi({name:t.blockName||vn,value:[new dn({name:t.certificates||nd,value:new fn({value:[Qh.schema(),new pi({idBlock:{tagClass:3,tagNumber:0},value:[new hn]}),new pi({idBlock:{tagClass:3,tagNumber:1},value:[new Ui]}),new pi({idBlock:{tagClass:3,tagNumber:2},value:oh.schema().valueBlock.value}),new pi({idBlock:{tagClass:3,tagNumber:3},value:id.schema().valueBlock.value})]})})]})}fromSchema(e){os(e,ad);const t=pn(e,e,od.schema());_n.assertSchema(t,this.className),this.certificates=Array.from(t.result.certificates||[],(e=>{const t=e.idBlock.tagNumber;if(1===e.idBlock.tagClass)return new Qh({schema:e});const r=new Ui({value:e.valueBlock.value});switch(t){case 1:return 1===r.valueBlock.value[0].valueBlock.value[0].valueBlock.valueDec?new oh({schema:r}):new Iu({schema:r});case 2:return new oh({schema:r});case 3:return new id({schema:r})}return e}))}toSchema(){return new Vi({value:Array.from(this.certificates,(e=>{switch(!0){case e instanceof Qh:return e.toSchema();case e instanceof Iu:return new pi({idBlock:{tagClass:3,tagNumber:1},value:e.toSchema().valueBlock.value});case e instanceof oh:return new pi({idBlock:{tagClass:3,tagNumber:2},value:e.toSchema().valueBlock.value});case e instanceof id:return new pi({idBlock:{tagClass:3,tagNumber:3},value:e.toSchema().valueBlock.value})}return e.toSchema()}))})}toJSON(){return{certificates:Array.from(this.certificates,(e=>e.toJSON()))}}}od.CLASS_NAME="CertificateSet";const ld="otherRevInfoFormat",cd="otherRevInfo",ud=[ld,cd];class hd extends Sn{constructor(e={}){super(),this.otherRevInfoFormat=qr(e,ld,hd.defaultValues(ld)),this.otherRevInfo=qr(e,cd,hd.defaultValues(cd)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case ld:return vn;case cd:return new hn;default:return super.defaultValues(e)}}static schema(e={}){const t=qr(e,"names",{});return new Ui({name:t.blockName||vn,value:[new Oi({name:t.otherRevInfoFormat||ld}),new hn({name:t.otherRevInfo||cd})]})}fromSchema(e){os(e,ud);const t=pn(e,e,hd.schema());_n.assertSchema(t,this.className),this.otherRevInfoFormat=t.result.otherRevInfoFormat.valueBlock.toString(),this.otherRevInfo=t.result.otherRevInfo}toSchema(){return new Ui({value:[new Oi({value:this.otherRevInfoFormat}),this.otherRevInfo]})}toJSON(){const e={otherRevInfoFormat:this.otherRevInfoFormat};return this.otherRevInfo instanceof hn||(e.otherRevInfo=this.otherRevInfo.toJSON()),e}}hd.CLASS_NAME="OtherRevocationInfoFormat";const fd="crls",dd="otherRevocationInfos",md=[fd];class pd extends Sn{constructor(e={}){super(),this.crls=qr(e,fd,pd.defaultValues(fd)),this.otherRevocationInfos=qr(e,dd,pd.defaultValues(dd)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case fd:case dd:return[];default:return super.defaultValues(e)}}static schema(e={}){const t=qr(e,"names",{});return new Vi({name:t.blockName||vn,value:[new dn({name:t.crls||vn,value:new fn({value:[Nf.schema(),new pi({idBlock:{tagClass:3,tagNumber:1},value:[new Oi,new hn]})]})})]})}fromSchema(e){os(e,md);const t=pn(e,e,pd.schema({names:{crls:fd}}));if(_n.assertSchema(t,this.className),t.result.crls)for(const e of t.result.crls)1===e.idBlock.tagClass?this.crls.push(new Nf({schema:e})):this.otherRevocationInfos.push(new hd({schema:e}))}toSchema(){const e=[];return e.push(...Array.from(this.crls,(e=>e.toSchema()))),e.push(...Array.from(this.otherRevocationInfos,(e=>{const t=e.toSchema();return t.idBlock.tagClass=3,t.idBlock.tagNumber=1,t}))),new Vi({value:e})}toJSON(){return{crls:Array.from(this.crls,(e=>e.toJSON())),otherRevocationInfos:Array.from(this.otherRevocationInfos,(e=>e.toJSON()))}}}pd.CLASS_NAME="RevocationInfoChoices";const gd="certs",wd="crls",yd=[gd,wd];class bd extends Sn{constructor(e={}){super(),this.crls=qr(e,wd,bd.defaultValues(wd)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case gd:return new od;case wd:return new pd;default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case gd:return 0===t.certificates.length;case wd:return 0===t.crls.length&&0===t.otherRevocationInfos.length;default:return super.defaultValues(e)}}static schema(e={}){const t=qr(e,"names",{});return new Ui({name:t.blockName||vn,value:[new pi({name:t.certs||vn,optional:!0,idBlock:{tagClass:3,tagNumber:0},value:od.schema().valueBlock.value}),new pi({name:t.crls||vn,optional:!0,idBlock:{tagClass:3,tagNumber:1},value:pd.schema().valueBlock.value})]})}fromSchema(e){os(e,yd);const t=pn(e,e,bd.schema({names:{certs:gd,crls:wd}}));_n.assertSchema(t,this.className),gd in t.result&&(this.certs=new od({schema:new Vi({value:t.result.certs.valueBlock.value})})),wd in t.result&&(this.crls=new pd({schema:new Vi({value:t.result.crls.valueBlock.value})}))}toSchema(){const e=[];return this.certs&&e.push(new pi({idBlock:{tagClass:3,tagNumber:0},value:this.certs.toSchema().valueBlock.value})),this.crls&&e.push(new pi({idBlock:{tagClass:3,tagNumber:1},value:this.crls.toSchema().valueBlock.value})),new Ui({value:e})}toJSON(){const e={};return this.certs&&(e.certs=this.certs.toJSON()),this.crls&&(e.crls=this.crls.toJSON()),e}}bd.CLASS_NAME="OriginatorInfo";const vd="issuer",Ad="serialNumber",kd=[vd,Ad];class _d extends Sn{constructor(e={}){super(),this.issuer=qr(e,vd,_d.defaultValues(vd)),this.serialNumber=qr(e,Ad,_d.defaultValues(Ad)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case vd:return new Tn;case Ad:return new Ii;default:return super.defaultValues(e)}}static schema(e={}){const t=qr(e,"names",{});return new Ui({name:t.blockName||vn,value:[Tn.schema(t.issuer||{}),new Ii({name:t.serialNumber||vn})]})}fromSchema(e){os(e,kd);const t=pn(e,e,_d.schema({names:{issuer:{names:{blockName:vd}},serialNumber:Ad}}));_n.assertSchema(t,this.className),this.issuer=new Tn({schema:t.result.issuer}),this.serialNumber=t.result.serialNumber}toSchema(){return new Ui({value:[this.issuer.toSchema(),this.serialNumber]})}toJSON(){return{issuer:this.issuer.toJSON(),serialNumber:this.serialNumber.toJSON()}}}_d.CLASS_NAME="IssuerAndSerialNumber";const Sd="variant",Ed="value",Cd=["blockName"];class Nd extends Sn{constructor(e={}){super(),this.variant=qr(e,Sd,Nd.defaultValues(Sd)),Ed in e&&(this.value=qr(e,Ed,Nd.defaultValues(Ed))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Sd:return-1;case Ed:return{};default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case Sd:return-1===t;case Ed:return 0===Object.keys(t).length;default:return super.defaultValues(e)}}static schema(e={}){const t=qr(e,"names",{});return new fn({value:[_d.schema({names:{blockName:t.blockName||vn}}),new hi({name:t.blockName||vn,idBlock:{tagClass:3,tagNumber:0}})]})}fromSchema(e){os(e,Cd);const t=pn(e,e,Nd.schema({names:{blockName:"blockName"}}));_n.assertSchema(t,this.className),1===t.result.blockName.idBlock.tagClass?(this.variant=1,this.value=new _d({schema:t.result.blockName})):(this.variant=2,this.value=new ki({valueHex:t.result.blockName.valueBlock.valueHex}))}toSchema(){switch(this.variant){case 1:if(!(this.value instanceof _d))throw new Error("Incorrect type of RecipientIdentifier.value. It should be IssuerAndSerialNumber.");return this.value.toSchema();case 2:if(!(this.value instanceof ki))throw new Error("Incorrect type of RecipientIdentifier.value. It should be ASN.1 OctetString.");return new hi({idBlock:{tagClass:3,tagNumber:0},valueHex:this.value.valueBlock.valueHexView});default:return new hn}}toJSON(){const e={variant:this.variant};return 1!==this.variant&&2!==this.variant||!this.value||(e.value=this.value.toJSON()),e}}Nd.CLASS_NAME="RecipientIdentifier";const Bd="version",Id="rid",xd="keyEncryptionAlgorithm",Td="encryptedKey",Rd="recipientCertificate",Od=[Bd,Id,xd,Td];class Pd extends Sn{constructor(e={}){super(),this.version=qr(e,Bd,Pd.defaultValues(Bd)),this.rid=qr(e,Id,Pd.defaultValues(Id)),this.keyEncryptionAlgorithm=qr(e,xd,Pd.defaultValues(xd)),this.encryptedKey=qr(e,Td,Pd.defaultValues(Td)),this.recipientCertificate=qr(e,Rd,Pd.defaultValues(Rd)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Bd:return-1;case Id:return{};case xd:return new Xn;case Td:return new ki;case Rd:return new Qh;default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case Bd:return t===Pd.defaultValues(Bd);case Id:return 0===Object.keys(t).length;case xd:case Td:return t.isEqual(Pd.defaultValues(e));case Rd:return!1;default:return super.defaultValues(e)}}static schema(e={}){const t=qr(e,"names",{});return new Ui({name:t.blockName||vn,value:[new Ii({name:t.version||vn}),Nd.schema(t.rid||{}),Xn.schema(t.keyEncryptionAlgorithm||{}),new ki({name:t.encryptedKey||vn})]})}fromSchema(e){os(e,Od);const t=pn(e,e,Pd.schema({names:{version:Bd,rid:{names:{blockName:Id}},keyEncryptionAlgorithm:{names:{blockName:xd}},encryptedKey:Td}}));_n.assertSchema(t,this.className),this.version=t.result.version.valueBlock.valueDec,3===t.result.rid.idBlock.tagClass?this.rid=new ki({valueHex:t.result.rid.valueBlock.valueHex}):this.rid=new _d({schema:t.result.rid}),this.keyEncryptionAlgorithm=new Xn({schema:t.result.keyEncryptionAlgorithm}),this.encryptedKey=t.result.encryptedKey}toSchema(){const e=[];return this.rid instanceof _d?(this.version=0,e.push(new Ii({value:this.version})),e.push(this.rid.toSchema())):(this.version=2,e.push(new Ii({value:this.version})),e.push(new hi({idBlock:{tagClass:3,tagNumber:0},valueHex:this.rid.valueBlock.valueHexView}))),e.push(this.keyEncryptionAlgorithm.toSchema()),e.push(this.encryptedKey),new Ui({value:e})}toJSON(){return{version:this.version,rid:this.rid.toJSON(),keyEncryptionAlgorithm:this.keyEncryptionAlgorithm.toJSON(),encryptedKey:this.encryptedKey.toJSON()}}}Pd.CLASS_NAME="KeyTransRecipientInfo";const Dd="algorithm",Ld="publicKey",Ud=[Dd,Ld];class Vd extends Sn{constructor(e={}){super(),this.algorithm=qr(e,Dd,Vd.defaultValues(Dd)),this.publicKey=qr(e,Ld,Vd.defaultValues(Ld)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Dd:return new Xn;case Ld:return new Si;default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case Dd:case Ld:return t.isEqual(Vd.defaultValues(e));default:return super.defaultValues(e)}}static schema(e={}){const t=qr(e,"names",{});return new Ui({name:t.blockName||vn,value:[Xn.schema(t.algorithm||{}),new Si({name:t.publicKey||vn})]})}fromSchema(e){os(e,Ud);const t=pn(e,e,Vd.schema({names:{algorithm:{names:{blockName:Dd}},publicKey:Ld}}));_n.assertSchema(t,this.className),this.algorithm=new Xn({schema:t.result.algorithm}),this.publicKey=t.result.publicKey}toSchema(){return new Ui({value:[this.algorithm.toSchema(),this.publicKey]})}toJSON(){return{algorithm:this.algorithm.toJSON(),publicKey:this.publicKey.toJSON()}}}Vd.CLASS_NAME="OriginatorPublicKey";const Hd="variant",Md="value",Fd=["blockName"];class Wd extends Sn{constructor(e={}){super(),this.variant=qr(e,Hd,Wd.defaultValues(Hd)),Md in e&&(this.value=qr(e,Md,Wd.defaultValues(Md))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Hd:return-1;case Md:return{};default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case Hd:return-1===t;case Md:return 0===Object.keys(t).length;default:return super.defaultValues(e)}}static schema(e={}){const t=qr(e,"names",{});return new fn({value:[_d.schema({names:{blockName:t.blockName||vn}}),new hi({idBlock:{tagClass:3,tagNumber:0},name:t.blockName||vn}),new pi({idBlock:{tagClass:3,tagNumber:1},name:t.blockName||vn,value:Vd.schema().valueBlock.value})]})}fromSchema(e){os(e,Fd);const t=pn(e,e,Wd.schema({names:{blockName:"blockName"}}));_n.assertSchema(t,this.className),1===t.result.blockName.idBlock.tagClass?(this.variant=1,this.value=new _d({schema:t.result.blockName})):0===t.result.blockName.idBlock.tagNumber?(t.result.blockName.idBlock.tagClass=1,t.result.blockName.idBlock.tagNumber=4,this.variant=2,this.value=t.result.blockName):(this.variant=3,this.value=new Vd({schema:new Ui({value:t.result.blockName.valueBlock.value})}))}toSchema(){switch(this.variant){case 1:return this.value.toSchema();case 2:return this.value.idBlock.tagClass=3,this.value.idBlock.tagNumber=0,this.value;case 3:{const e=this.value.toSchema();return e.idBlock.tagClass=3,e.idBlock.tagNumber=1,e}default:return new hn}}toJSON(){const e={variant:this.variant};return 1!==this.variant&&2!==this.variant&&3!==this.variant||(e.value=this.value.toJSON()),e}}Wd.CLASS_NAME="OriginatorIdentifierOrKey";const jd="keyAttrId",qd="keyAttr",zd=[jd,qd];class Kd extends Sn{constructor(e={}){super(),this.keyAttrId=qr(e,jd,Kd.defaultValues(jd)),qd in e&&(this.keyAttr=qr(e,qd,Kd.defaultValues(qd))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case jd:return vn;case qd:return{};default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case jd:return"string"==typeof t&&t===vn;case qd:return 0===Object.keys(t).length;default:return super.defaultValues(e)}}static schema(e={}){const t=qr(e,"names",{});return new Ui({optional:t.optional||!0,name:t.blockName||vn,value:[new Oi({name:t.keyAttrId||vn}),new hn({optional:!0,name:t.keyAttr||vn})]})}fromSchema(e){os(e,zd);const t=pn(e,e,Kd.schema({names:{keyAttrId:jd,keyAttr:qd}}));_n.assertSchema(t,this.className),this.keyAttrId=t.result.keyAttrId.valueBlock.toString(),qd in t.result&&(this.keyAttr=t.result.keyAttr)}toSchema(){const e=[];return e.push(new Oi({value:this.keyAttrId})),qd in this&&e.push(this.keyAttr),new Ui({value:e})}toJSON(){const e={keyAttrId:this.keyAttrId};return qd in this&&(e.keyAttr=this.keyAttr.toJSON()),e}}Kd.CLASS_NAME="OtherKeyAttribute";const Qd="subjectKeyIdentifier",Jd="date",Gd="other",Zd=[Qd,Jd,Gd];class Xd extends Sn{constructor(e={}){super(),this.subjectKeyIdentifier=qr(e,Qd,Xd.defaultValues(Qd)),Jd in e&&(this.date=qr(e,Jd,Xd.defaultValues(Jd))),Gd in e&&(this.other=qr(e,Gd,Xd.defaultValues(Gd))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Qd:return new ki;case Jd:return new nn;case Gd:return new Kd;default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case Qd:return t.isEqual(Xd.defaultValues(Qd));case Jd:return 0===t.year&&0===t.month&&0===t.day&&0===t.hour&&0===t.minute&&0===t.second&&0===t.millisecond;case Gd:return t.keyAttrId===vn&&"keyAttr"in t==!1;default:return super.defaultValues(e)}}static schema(e={}){const t=qr(e,"names",{});return new Ui({name:t.blockName||vn,value:[new ki({name:t.subjectKeyIdentifier||vn}),new nn({optional:!0,name:t.date||vn}),Kd.schema(t.other||{})]})}fromSchema(e){os(e,Zd);const t=pn(e,e,Xd.schema({names:{subjectKeyIdentifier:Qd,date:Jd,other:{names:{blockName:Gd}}}}));_n.assertSchema(t,this.className),this.subjectKeyIdentifier=t.result.subjectKeyIdentifier,Jd in t.result&&(this.date=t.result.date),Gd in t.result&&(this.other=new Kd({schema:t.result.other}))}toSchema(){const e=[];return e.push(this.subjectKeyIdentifier),this.date&&e.push(this.date),this.other&&e.push(this.other.toSchema()),new Ui({value:e})}toJSON(){const e={subjectKeyIdentifier:this.subjectKeyIdentifier.toJSON()};return this.date&&(e.date=this.date.toJSON()),this.other&&(e.other=this.other.toJSON()),e}}Xd.CLASS_NAME="RecipientKeyIdentifier";const Yd="variant",$d="value",em=["blockName"];class tm extends Sn{constructor(e={}){super(),this.variant=qr(e,Yd,tm.defaultValues(Yd)),this.value=qr(e,$d,tm.defaultValues($d)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Yd:return-1;case $d:return{};default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case Yd:return-1===t;case $d:return 0===Object.keys(t).length;default:return super.defaultValues(e)}}static schema(e={}){const t=qr(e,"names",{});return new fn({value:[_d.schema(t.issuerAndSerialNumber||{names:{blockName:t.blockName||vn}}),new pi({name:t.blockName||vn,idBlock:{tagClass:3,tagNumber:0},value:Xd.schema(t.rKeyId||{names:{blockName:t.blockName||vn}}).valueBlock.value})]})}fromSchema(e){os(e,em);const t=pn(e,e,tm.schema({names:{blockName:"blockName"}}));_n.assertSchema(t,this.className),1===t.result.blockName.idBlock.tagClass?(this.variant=1,this.value=new _d({schema:t.result.blockName})):(this.variant=2,this.value=new Xd({schema:new Ui({value:t.result.blockName.valueBlock.value})}))}toSchema(){switch(this.variant){case 1:return this.value.toSchema();case 2:return new pi({idBlock:{tagClass:3,tagNumber:0},value:this.value.toSchema().valueBlock.value});default:return new hn}}toJSON(){const e={variant:this.variant};return 1!==this.variant&&2!==this.variant||(e.value=this.value.toJSON()),e}}tm.CLASS_NAME="KeyAgreeRecipientIdentifier";const rm="rid",sm="encryptedKey",im=[rm,sm];class nm extends Sn{constructor(e={}){super(),this.rid=qr(e,rm,nm.defaultValues(rm)),this.encryptedKey=qr(e,sm,nm.defaultValues(sm)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case rm:return new tm;case sm:return new ki;default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case rm:return-1===t.variant&&"value"in t==!1;case sm:return t.isEqual(nm.defaultValues(sm));default:return super.defaultValues(e)}}static schema(e={}){const t=qr(e,"names",{});return new Ui({name:t.blockName||vn,value:[tm.schema(t.rid||{}),new ki({name:t.encryptedKey||vn})]})}fromSchema(e){os(e,im);const t=pn(e,e,nm.schema({names:{rid:{names:{blockName:rm}},encryptedKey:sm}}));_n.assertSchema(t,this.className),this.rid=new tm({schema:t.result.rid}),this.encryptedKey=t.result.encryptedKey}toSchema(){return new Ui({value:[this.rid.toSchema(),this.encryptedKey]})}toJSON(){return{rid:this.rid.toJSON(),encryptedKey:this.encryptedKey.toJSON()}}}nm.CLASS_NAME="RecipientEncryptedKey";const am="encryptedKeys",om="RecipientEncryptedKeys",lm=[om];class cm extends Sn{constructor(e={}){super(),this.encryptedKeys=qr(e,am,cm.defaultValues(am)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){return e===am?[]:super.defaultValues(e)}static compareWithDefault(e,t){return e===am?0===t.length:super.defaultValues(e)}static schema(e={}){const t=qr(e,"names",{});return new Ui({name:t.blockName||vn,value:[new dn({name:t.RecipientEncryptedKeys||vn,value:nm.schema()})]})}fromSchema(e){os(e,lm);const t=pn(e,e,cm.schema({names:{RecipientEncryptedKeys:om}}));_n.assertSchema(t,this.className),this.encryptedKeys=Array.from(t.result.RecipientEncryptedKeys,(e=>new nm({schema:e})))}toSchema(){return new Ui({value:Array.from(this.encryptedKeys,(e=>e.toSchema()))})}toJSON(){return{encryptedKeys:Array.from(this.encryptedKeys,(e=>e.toJSON()))}}}cm.CLASS_NAME="RecipientEncryptedKeys";const um="version",hm="originator",fm="ukm",dm="keyEncryptionAlgorithm",mm="recipientEncryptedKeys",pm="recipientCertificate",gm="recipientPublicKey",wm=[um,hm,fm,dm,mm];class ym extends Sn{constructor(e={}){super(),this.version=qr(e,um,ym.defaultValues(um)),this.originator=qr(e,hm,ym.defaultValues(hm)),fm in e&&(this.ukm=qr(e,fm,ym.defaultValues(fm))),this.keyEncryptionAlgorithm=qr(e,dm,ym.defaultValues(dm)),this.recipientEncryptedKeys=qr(e,mm,ym.defaultValues(mm)),this.recipientCertificate=qr(e,pm,ym.defaultValues(pm)),this.recipientPublicKey=qr(e,gm,ym.defaultValues(gm)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case um:return 0;case hm:return new Wd;case fm:return new ki;case dm:return new Xn;case mm:return new cm;case pm:return new Qh;case gm:return null;default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case um:return 0===t;case hm:return-1===t.variant&&"value"in t==!1;case fm:return t.isEqual(ym.defaultValues(fm));case dm:return t.algorithmId===vn&&"algorithmParams"in t==!1;case mm:return 0===t.encryptedKeys.length;case pm:case gm:return!1;default:return super.defaultValues(e)}}static schema(e={}){const t=qr(e,"names",{});return new Ui({name:t.blockName||vn,value:[new Ii({name:t.version||vn}),new pi({idBlock:{tagClass:3,tagNumber:0},value:[Wd.schema(t.originator||{})]}),new pi({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[new ki({name:t.ukm||vn})]}),Xn.schema(t.keyEncryptionAlgorithm||{}),cm.schema(t.recipientEncryptedKeys||{})]})}fromSchema(e){os(e,wm);const t=pn(e,e,ym.schema({names:{version:um,originator:{names:{blockName:hm}},ukm:fm,keyEncryptionAlgorithm:{names:{blockName:dm}},recipientEncryptedKeys:{names:{blockName:mm}}}}));_n.assertSchema(t,this.className),this.version=t.result.version.valueBlock.valueDec,this.originator=new Wd({schema:t.result.originator}),fm in t.result&&(this.ukm=t.result.ukm),this.keyEncryptionAlgorithm=new Xn({schema:t.result.keyEncryptionAlgorithm}),this.recipientEncryptedKeys=new cm({schema:t.result.recipientEncryptedKeys})}toSchema(){const e=[];return e.push(new Ii({value:this.version})),e.push(new pi({idBlock:{tagClass:3,tagNumber:0},value:[this.originator.toSchema()]})),this.ukm&&e.push(new pi({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[this.ukm]})),e.push(this.keyEncryptionAlgorithm.toSchema()),e.push(this.recipientEncryptedKeys.toSchema()),new Ui({value:e})}toJSON(){const e={version:this.version,originator:this.originator.toJSON(),keyEncryptionAlgorithm:this.keyEncryptionAlgorithm.toJSON(),recipientEncryptedKeys:this.recipientEncryptedKeys.toJSON()};return this.ukm&&(e.ukm=this.ukm.toJSON()),e}}ym.CLASS_NAME="KeyAgreeRecipientInfo";const bm="keyIdentifier",vm="date",Am="other",km=[bm,vm,Am];class _m extends Sn{constructor(e={}){super(),this.keyIdentifier=qr(e,bm,_m.defaultValues(bm)),vm in e&&(this.date=qr(e,vm,_m.defaultValues(vm))),Am in e&&(this.other=qr(e,Am,_m.defaultValues(Am))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case bm:return new ki;case vm:return new nn;case Am:return new Kd;default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case bm:return t.isEqual(_m.defaultValues(bm));case vm:return 0===t.year&&0===t.month&&0===t.day&&0===t.hour&&0===t.minute&&0===t.second&&0===t.millisecond;case Am:return t.compareWithDefault("keyAttrId",t.keyAttrId)&&"keyAttr"in t==!1;default:return super.defaultValues(e)}}static schema(e={}){const t=qr(e,"names",{});return new Ui({name:t.blockName||vn,value:[new ki({name:t.keyIdentifier||vn}),new nn({optional:!0,name:t.date||vn}),Kd.schema(t.other||{})]})}fromSchema(e){os(e,km);const t=pn(e,e,_m.schema({names:{keyIdentifier:bm,date:vm,other:{names:{blockName:Am}}}}));_n.assertSchema(t,this.className),this.keyIdentifier=t.result.keyIdentifier,vm in t.result&&(this.date=t.result.date),Am in t.result&&(this.other=new Kd({schema:t.result.other}))}toSchema(){const e=[];return e.push(this.keyIdentifier),this.date&&e.push(this.date),this.other&&e.push(this.other.toSchema()),new Ui({value:e})}toJSON(){const e={keyIdentifier:this.keyIdentifier.toJSON()};return this.date&&(e.date=this.date),this.other&&(e.other=this.other.toJSON()),e}}_m.CLASS_NAME="KEKIdentifier";const Sm="version",Em="kekid",Cm="keyEncryptionAlgorithm",Nm="encryptedKey",Bm="preDefinedKEK",Im=[Sm,Em,Cm,Nm];class xm extends Sn{constructor(e={}){super(),this.version=qr(e,Sm,xm.defaultValues(Sm)),this.kekid=qr(e,Em,xm.defaultValues(Em)),this.keyEncryptionAlgorithm=qr(e,Cm,xm.defaultValues(Cm)),this.encryptedKey=qr(e,Nm,xm.defaultValues(Nm)),this.preDefinedKEK=qr(e,Bm,xm.defaultValues(Bm)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Sm:return 0;case Em:return new _m;case Cm:return new Xn;case Nm:return new ki;case Bm:return bn;default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case"KEKRecipientInfo":return t===xm.defaultValues(Sm);case Em:return t.compareWithDefault("keyIdentifier",t.keyIdentifier)&&"date"in t==!1&&"other"in t==!1;case Cm:return t.algorithmId===vn&&"algorithmParams"in t==!1;case Nm:return t.isEqual(xm.defaultValues(Nm));case Bm:return 0===t.byteLength;default:return super.defaultValues(e)}}static schema(e={}){const t=qr(e,"names",{});return new Ui({name:t.blockName||vn,value:[new Ii({name:t.version||vn}),_m.schema(t.kekid||{}),Xn.schema(t.keyEncryptionAlgorithm||{}),new ki({name:t.encryptedKey||vn})]})}fromSchema(e){os(e,Im);const t=pn(e,e,xm.schema({names:{version:Sm,kekid:{names:{blockName:Em}},keyEncryptionAlgorithm:{names:{blockName:Cm}},encryptedKey:Nm}}));_n.assertSchema(t,this.className),this.version=t.result.version.valueBlock.valueDec,this.kekid=new _m({schema:t.result.kekid}),this.keyEncryptionAlgorithm=new Xn({schema:t.result.keyEncryptionAlgorithm}),this.encryptedKey=t.result.encryptedKey}toSchema(){return new Ui({value:[new Ii({value:this.version}),this.kekid.toSchema(),this.keyEncryptionAlgorithm.toSchema(),this.encryptedKey]})}toJSON(){return{version:this.version,kekid:this.kekid.toJSON(),keyEncryptionAlgorithm:this.keyEncryptionAlgorithm.toJSON(),encryptedKey:this.encryptedKey.toJSON()}}}xm.CLASS_NAME="KEKRecipientInfo";const Tm="version",Rm="keyDerivationAlgorithm",Om="keyEncryptionAlgorithm",Pm="encryptedKey",Dm="password",Lm=[Tm,Rm,Om,Pm];class Um extends Sn{constructor(e={}){super(),this.version=qr(e,Tm,Um.defaultValues(Tm)),Rm in e&&(this.keyDerivationAlgorithm=qr(e,Rm,Um.defaultValues(Rm))),this.keyEncryptionAlgorithm=qr(e,Om,Um.defaultValues(Om)),this.encryptedKey=qr(e,Pm,Um.defaultValues(Pm)),this.password=qr(e,Dm,Um.defaultValues(Dm)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Tm:return-1;case Rm:case Om:return new Xn;case Pm:return new ki;case Dm:return bn;default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case Tm:return-1===t;case Rm:case Om:return t.algorithmId===vn&&"algorithmParams"in t==!1;case Pm:return t.isEqual(Um.defaultValues(Pm));case Dm:return 0===t.byteLength;default:return super.defaultValues(e)}}static schema(e={}){const t=qr(e,"names",{});return new Ui({name:t.blockName||vn,value:[new Ii({name:t.version||vn}),new pi({name:t.keyDerivationAlgorithm||vn,optional:!0,idBlock:{tagClass:3,tagNumber:0},value:Xn.schema().valueBlock.value}),Xn.schema(t.keyEncryptionAlgorithm||{}),new ki({name:t.encryptedKey||vn})]})}fromSchema(e){os(e,Lm);const t=pn(e,e,Um.schema({names:{version:Tm,keyDerivationAlgorithm:Rm,keyEncryptionAlgorithm:{names:{blockName:Om}},encryptedKey:Pm}}));_n.assertSchema(t,this.className),this.version=t.result.version.valueBlock.valueDec,Rm in t.result&&(this.keyDerivationAlgorithm=new Xn({schema:new Ui({value:t.result.keyDerivationAlgorithm.valueBlock.value})})),this.keyEncryptionAlgorithm=new Xn({schema:t.result.keyEncryptionAlgorithm}),this.encryptedKey=t.result.encryptedKey}toSchema(){const e=[];return e.push(new Ii({value:this.version})),this.keyDerivationAlgorithm&&e.push(new pi({idBlock:{tagClass:3,tagNumber:0},value:this.keyDerivationAlgorithm.toSchema().valueBlock.value})),e.push(this.keyEncryptionAlgorithm.toSchema()),e.push(this.encryptedKey),new Ui({value:e})}toJSON(){const e={version:this.version,keyEncryptionAlgorithm:this.keyEncryptionAlgorithm.toJSON(),encryptedKey:this.encryptedKey.toJSON()};return this.keyDerivationAlgorithm&&(e.keyDerivationAlgorithm=this.keyDerivationAlgorithm.toJSON()),e}}Um.CLASS_NAME="PasswordRecipientInfo";const Vm="oriType",Hm="oriValue",Mm=[Vm,Hm];class Fm extends Sn{constructor(e={}){super(),this.oriType=qr(e,Vm,Fm.defaultValues(Vm)),this.oriValue=qr(e,Hm,Fm.defaultValues(Hm)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Vm:return vn;case Hm:return{};default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case Vm:return t===vn;case Hm:return 0===Object.keys(t).length;default:return super.defaultValues(e)}}static schema(e={}){const t=qr(e,"names",{});return new Ui({name:t.blockName||vn,value:[new Oi({name:t.oriType||vn}),new hn({name:t.oriValue||vn})]})}fromSchema(e){os(e,Mm);const t=pn(e,e,Fm.schema({names:{oriType:Vm,oriValue:Hm}}));_n.assertSchema(t,this.className),this.oriType=t.result.oriType.valueBlock.toString(),this.oriValue=t.result.oriValue}toSchema(){return new Ui({value:[new Oi({value:this.oriType}),this.oriValue]})}toJSON(){const e={oriType:this.oriType};return Fm.compareWithDefault(Hm,this.oriValue)||(e.oriValue=this.oriValue.toJSON()),e}}Fm.CLASS_NAME="OtherRecipientInfo";const Wm="variant",jm="value",qm=["blockName"];class zm extends Sn{constructor(e={}){super(),this.variant=qr(e,Wm,zm.defaultValues(Wm)),jm in e&&(this.value=qr(e,jm,zm.defaultValues(jm))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Wm:return-1;case jm:return{};default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case Wm:return t===zm.defaultValues(e);case jm:return 0===Object.keys(t).length;default:return super.defaultValues(e)}}static schema(e={}){const t=qr(e,"names",{});return new fn({value:[Pd.schema({names:{blockName:t.blockName||vn}}),new pi({name:t.blockName||vn,idBlock:{tagClass:3,tagNumber:1},value:ym.schema().valueBlock.value}),new pi({name:t.blockName||vn,idBlock:{tagClass:3,tagNumber:2},value:xm.schema().valueBlock.value}),new pi({name:t.blockName||vn,idBlock:{tagClass:3,tagNumber:3},value:Um.schema().valueBlock.value}),new pi({name:t.blockName||vn,idBlock:{tagClass:3,tagNumber:4},value:Fm.schema().valueBlock.value})]})}fromSchema(e){os(e,qm);const t=pn(e,e,zm.schema({names:{blockName:"blockName"}}));if(_n.assertSchema(t,this.className),1===t.result.blockName.idBlock.tagClass)this.variant=1,this.value=new Pd({schema:t.result.blockName});else{const e=new Ui({value:t.result.blockName.valueBlock.value});switch(t.result.blockName.idBlock.tagNumber){case 1:this.variant=2,this.value=new ym({schema:e});break;case 2:this.variant=3,this.value=new xm({schema:e});break;case 3:this.variant=4,this.value=new Um({schema:e});break;case 4:this.variant=5,this.value=new Fm({schema:e});break;default:throw new Error("Incorrect structure of RecipientInfo block")}}}toSchema(){kn.assertEmpty(this.value,"value","RecipientInfo");const e=this.value.toSchema();switch(this.variant){case 1:return e;case 2:case 3:case 4:return e.idBlock.tagClass=3,e.idBlock.tagNumber=this.variant-1,e;default:return new hn}}toJSON(){const e={variant:this.variant};return this.value&&this.variant>=1&&this.variant<=4&&(e.value=this.value.toJSON()),e}}zm.CLASS_NAME="RecipientInfo";const Km="hashAlgorithm",Qm="maskGenAlgorithm",Jm="pSourceAlgorithm",Gm=[Km,Qm,Jm];class Zm extends Sn{constructor(e={}){super(),this.hashAlgorithm=qr(e,Km,Zm.defaultValues(Km)),this.maskGenAlgorithm=qr(e,Qm,Zm.defaultValues(Qm)),this.pSourceAlgorithm=qr(e,Jm,Zm.defaultValues(Jm)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Km:return new Xn({algorithmId:"1.3.14.3.2.26",algorithmParams:new yi});case Qm:return new Xn({algorithmId:"1.2.840.113549.1.1.8",algorithmParams:new Xn({algorithmId:"1.3.14.3.2.26",algorithmParams:new yi}).toSchema()});case Jm:return new Xn({algorithmId:"1.2.840.113549.1.1.9",algorithmParams:new ki({valueHex:new Uint8Array([218,57,163,238,94,107,75,13,50,85,191,239,149,96,24,144,175,216,7,9]).buffer})});default:return super.defaultValues(e)}}static schema(e={}){const t=qr(e,"names",{});return new Ui({name:t.blockName||vn,value:[new pi({idBlock:{tagClass:3,tagNumber:0},optional:!0,value:[Xn.schema(t.hashAlgorithm||{})]}),new pi({idBlock:{tagClass:3,tagNumber:1},optional:!0,value:[Xn.schema(t.maskGenAlgorithm||{})]}),new pi({idBlock:{tagClass:3,tagNumber:2},optional:!0,value:[Xn.schema(t.pSourceAlgorithm||{})]})]})}fromSchema(e){os(e,Gm);const t=pn(e,e,Zm.schema({names:{hashAlgorithm:{names:{blockName:Km}},maskGenAlgorithm:{names:{blockName:Qm}},pSourceAlgorithm:{names:{blockName:Jm}}}}));_n.assertSchema(t,this.className),Km in t.result&&(this.hashAlgorithm=new Xn({schema:t.result.hashAlgorithm})),Qm in t.result&&(this.maskGenAlgorithm=new Xn({schema:t.result.maskGenAlgorithm})),Jm in t.result&&(this.pSourceAlgorithm=new Xn({schema:t.result.pSourceAlgorithm}))}toSchema(){const e=[];return this.hashAlgorithm.isEqual(Zm.defaultValues(Km))||e.push(new pi({idBlock:{tagClass:3,tagNumber:0},value:[this.hashAlgorithm.toSchema()]})),this.maskGenAlgorithm.isEqual(Zm.defaultValues(Qm))||e.push(new pi({idBlock:{tagClass:3,tagNumber:1},value:[this.maskGenAlgorithm.toSchema()]})),this.pSourceAlgorithm.isEqual(Zm.defaultValues(Jm))||e.push(new pi({idBlock:{tagClass:3,tagNumber:2},value:[this.pSourceAlgorithm.toSchema()]})),new Ui({value:e})}toJSON(){const e={};return this.hashAlgorithm.isEqual(Zm.defaultValues(Km))||(e.hashAlgorithm=this.hashAlgorithm.toJSON()),this.maskGenAlgorithm.isEqual(Zm.defaultValues(Qm))||(e.maskGenAlgorithm=this.maskGenAlgorithm.toJSON()),this.pSourceAlgorithm.isEqual(Zm.defaultValues(Jm))||(e.pSourceAlgorithm=this.pSourceAlgorithm.toJSON()),e}}Zm.CLASS_NAME="RSAESOAEPParams";const Xm="keyInfo",Ym="entityUInfo",$m="suppPubInfo",ep=[Xm,Ym,$m];class tp extends Sn{constructor(e={}){super(),this.keyInfo=qr(e,Xm,tp.defaultValues(Xm)),Ym in e&&(this.entityUInfo=qr(e,Ym,tp.defaultValues(Ym))),this.suppPubInfo=qr(e,$m,tp.defaultValues($m)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Xm:return new Xn;case Ym:case $m:return new ki;default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case Xm:case Ym:case $m:return t.isEqual(tp.defaultValues(e));default:return super.defaultValues(e)}}static schema(e={}){const t=qr(e,"names",{});return new Ui({name:t.blockName||vn,value:[Xn.schema(t.keyInfo||{}),new pi({name:t.entityUInfo||vn,idBlock:{tagClass:3,tagNumber:0},optional:!0,value:[new ki]}),new pi({name:t.suppPubInfo||vn,idBlock:{tagClass:3,tagNumber:2},value:[new ki]})]})}fromSchema(e){os(e,ep);const t=pn(e,e,tp.schema({names:{keyInfo:{names:{blockName:Xm}},entityUInfo:Ym,suppPubInfo:$m}}));_n.assertSchema(t,this.className),this.keyInfo=new Xn({schema:t.result.keyInfo}),Ym in t.result&&(this.entityUInfo=t.result.entityUInfo.valueBlock.value[0]),this.suppPubInfo=t.result.suppPubInfo.valueBlock.value[0]}toSchema(){const e=[];return e.push(this.keyInfo.toSchema()),this.entityUInfo&&e.push(new pi({idBlock:{tagClass:3,tagNumber:0},value:[this.entityUInfo]})),e.push(new pi({idBlock:{tagClass:3,tagNumber:2},value:[this.suppPubInfo]})),new Ui({value:e})}toJSON(){const e={keyInfo:this.keyInfo.toJSON(),suppPubInfo:this.suppPubInfo.toJSON()};return this.entityUInfo&&(e.entityUInfo=this.entityUInfo.toJSON()),e}}tp.CLASS_NAME="ECCCMSSharedInfo";const rp="version",sp="originatorInfo",ip="recipientInfos",np="encryptedContentInfo",ap="unprotectedAttrs",op=[rp,sp,ip,np,ap],lp={kdfAlgorithm:"SHA-512",kekEncryptionLength:256},cp={"P-256":256,"P-384":384,"P-521":528};class up extends Sn{constructor(e={}){super(),this.version=qr(e,rp,up.defaultValues(rp)),sp in e&&(this.originatorInfo=qr(e,sp,up.defaultValues(sp))),this.recipientInfos=qr(e,ip,up.defaultValues(ip)),this.encryptedContentInfo=qr(e,np,up.defaultValues(np)),ap in e&&(this.unprotectedAttrs=qr(e,ap,up.defaultValues(ap))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case rp:return 0;case sp:return new bd;case ip:return[];case np:return new nc;case ap:return[];default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case rp:return t===up.defaultValues(e);case sp:return 0===t.certs.certificates.length&&0===t.crls.crls.length;case ip:case ap:return 0===t.length;case np:return nc.compareWithDefault("contentType",t.contentType)&&nc.compareWithDefault("contentEncryptionAlgorithm",t.contentEncryptionAlgorithm)&&nc.compareWithDefault("encryptedContent",t.encryptedContent);default:return super.defaultValues(e)}}static schema(e={}){const t=qr(e,"names",{});return new Ui({name:t.blockName||vn,value:[new Ii({name:t.version||vn}),new pi({name:t.originatorInfo||vn,optional:!0,idBlock:{tagClass:3,tagNumber:0},value:bd.schema().valueBlock.value}),new Vi({value:[new dn({name:t.recipientInfos||vn,value:zm.schema()})]}),nc.schema(t.encryptedContentInfo||{}),new pi({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[new dn({name:t.unprotectedAttrs||vn,value:ia.schema()})]})]})}fromSchema(e){os(e,op);const t=pn(e,e,up.schema({names:{version:rp,originatorInfo:sp,recipientInfos:ip,encryptedContentInfo:{names:{blockName:np}},unprotectedAttrs:ap}}));_n.assertSchema(t,this.className),this.version=t.result.version.valueBlock.valueDec,sp in t.result&&(this.originatorInfo=new bd({schema:new Ui({value:t.result.originatorInfo.valueBlock.value})})),this.recipientInfos=Array.from(t.result.recipientInfos,(e=>new zm({schema:e}))),this.encryptedContentInfo=new nc({schema:t.result.encryptedContentInfo}),ap in t.result&&(this.unprotectedAttrs=Array.from(t.result.unprotectedAttrs,(e=>new ia({schema:e}))))}toSchema(){const e=[];return e.push(new Ii({value:this.version})),this.originatorInfo&&e.push(new pi({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:this.originatorInfo.toSchema().valueBlock.value})),e.push(new Vi({value:Array.from(this.recipientInfos,(e=>e.toSchema()))})),e.push(this.encryptedContentInfo.toSchema()),this.unprotectedAttrs&&e.push(new pi({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:Array.from(this.unprotectedAttrs,(e=>e.toSchema()))})),new Ui({value:e})}toJSON(){const e={version:this.version,recipientInfos:Array.from(this.recipientInfos,(e=>e.toJSON())),encryptedContentInfo:this.encryptedContentInfo.toJSON()};return this.originatorInfo&&(e.originatorInfo=this.originatorInfo.toJSON()),this.unprotectedAttrs&&(e.unprotectedAttrs=Array.from(this.unprotectedAttrs,(e=>e.toJSON()))),e}addRecipientByCertificate(e,t,r,s=Bc(!0)){const i=Object.assign({useOAEP:!0,oaepHashAlgorithm:"SHA-512"},lp,t||{});if(-1!==e.subjectPublicKeyInfo.algorithm.algorithmId.indexOf("1.2.840.113549"))r=1;else{if(-1===e.subjectPublicKeyInfo.algorithm.algorithmId.indexOf("1.2.840.10045"))throw new Error(`Unknown type of certificate's public key: ${e.subjectPublicKeyInfo.algorithm.algorithmId}`);r=2}switch(r){case 1:{let t,r;if(!0===i.useOAEP){t=s.getOIDByAlgorithm({name:"RSA-OAEP"},!0,"keyEncryptionAlgorithm");const e=s.getOIDByAlgorithm({name:i.oaepHashAlgorithm},!0,"RSAES-OAEP-params"),n=new Xn({algorithmId:e,algorithmParams:new yi});r=new Zm({hashAlgorithm:n,maskGenAlgorithm:new Xn({algorithmId:"1.2.840.113549.1.1.8",algorithmParams:n.toSchema()})}).toSchema()}else{if(t=s.getOIDByAlgorithm({name:"RSAES-PKCS1-v1_5"}),t===vn)throw new Error("Can not find OID for RSAES-PKCS1-v1_5");r=new yi}const n=new Pd({version:0,rid:new _d({issuer:e.issuer,serialNumber:e.serialNumber}),keyEncryptionAlgorithm:new Xn({algorithmId:t,algorithmParams:r}),recipientCertificate:e});this.recipientInfos.push(new zm({variant:1,value:n}))}break;case 2:{const t=new tm({variant:1,value:new _d({issuer:e.issuer,serialNumber:e.serialNumber})});this._addKeyAgreeRecipientInfo(t,i,{recipientCertificate:e},s)}break;default:throw new Error(`Unknown "variant" value: ${r}`)}return!0}addRecipientByPreDefinedData(e,t={},r,s=Bc(!0)){if(An.assert(e,"preDefinedData","ArrayBuffer"),!e.byteLength)throw new Error("Pre-defined data could have zero length");if(!t.keyIdentifier){const e=new ArrayBuffer(16),r=new Uint8Array(e);s.getRandomValues(r),t.keyIdentifier=e}switch(t.hmacHashAlgorithm||(t.hmacHashAlgorithm="SHA-512"),void 0===t.iterationCount&&(t.iterationCount=2048),t.keyEncryptionAlgorithm||(t.keyEncryptionAlgorithm={name:"AES-KW",length:256}),t.keyEncryptionAlgorithmParams||(t.keyEncryptionAlgorithmParams=new yi),r){case 1:{const r=s.getOIDByAlgorithm(t.keyEncryptionAlgorithm,!0,"keyEncryptionAlgorithm"),i=new xm({version:4,kekid:new _m({keyIdentifier:new ki({valueHex:t.keyIdentifier})}),keyEncryptionAlgorithm:new Xn({algorithmId:r,algorithmParams:t.keyEncryptionAlgorithmParams}),preDefinedKEK:e});this.recipientInfos.push(new zm({variant:3,value:i}))}break;case 2:{const r=s.getOIDByAlgorithm({name:"PBKDF2"},!0,"keyDerivationAlgorithm"),i=new ArrayBuffer(64),n=new Uint8Array(i);s.getRandomValues(n);const a=s.getOIDByAlgorithm({name:"HMAC",hash:{name:t.hmacHashAlgorithm}},!0,"hmacHashAlgorithm"),o=new wc({salt:new ki({valueHex:i}),iterationCount:t.iterationCount,prf:new Xn({algorithmId:a,algorithmParams:new yi})}),l=s.getOIDByAlgorithm(t.keyEncryptionAlgorithm,!0,"keyEncryptionAlgorithm"),c=new Um({version:0,keyDerivationAlgorithm:new Xn({algorithmId:r,algorithmParams:o.toSchema()}),keyEncryptionAlgorithm:new Xn({algorithmId:l,algorithmParams:t.keyEncryptionAlgorithmParams}),password:e});this.recipientInfos.push(new zm({variant:4,value:c}))}break;default:throw new Error(`Unknown value for "variant": ${r}`)}}addRecipientByKeyIdentifier(e,t,r,s=Bc(!0)){const i=Object.assign({},lp,r||{}),n=new tm({variant:2,value:new Xd({subjectKeyIdentifier:new ki({valueHex:t})})});this._addKeyAgreeRecipientInfo(n,i,{recipientPublicKey:e},s)}_addKeyAgreeRecipientInfo(e,t,r,s=Bc(!0)){const i=new nm({rid:e}),n=s.getOIDByAlgorithm({name:"AES-KW",length:t.kekEncryptionLength},!0,"keyEncryptionAlgorithm"),a=new Xn({algorithmId:n}),o=s.getOIDByAlgorithm({name:"ECDH",kdf:t.kdfAlgorithm},!0,"KeyAgreeRecipientInfo"),l=new ArrayBuffer(64),c=new Uint8Array(l);s.getRandomValues(c);const u={version:3,ukm:new ki({valueHex:l}),keyEncryptionAlgorithm:new Xn({algorithmId:o,algorithmParams:a.toSchema()}),recipientEncryptedKeys:new cm({encryptedKeys:[i]})},h=new ym(Object.assign(u,r));this.recipientInfos.push(new zm({variant:2,value:h}))}async encrypt(e,t,r=Bc(!0)){const s=new ArrayBuffer(16),i=new Uint8Array(s);r.getRandomValues(i);const n=new Uint8Array(t),a=r.getOIDByAlgorithm(e,!0,"contentEncryptionAlgorithm"),o=await r.generateKey(e,!0,["encrypt"]),l=await r.encrypt({name:e.name,iv:i},o,n),c=await r.exportKey("raw",o);this.version=2,this.encryptedContentInfo=new nc({contentType:"1.2.840.113549.1.7.1",contentEncryptionAlgorithm:new Xn({algorithmId:a,algorithmParams:new ki({valueHex:s})}),encryptedContent:new ki({valueHex:l})});const u=async e=>{const t=this.recipientInfos[e].value;let s,i;if(t.recipientPublicKey)s=t.recipientPublicKey.algorithm.namedCurve,i=t.recipientPublicKey;else{if(!t.recipientCertificate)throw new Error("Unsupported RecipientInfo");{const n=t.recipientCertificate.subjectPublicKeyInfo.algorithm.algorithmParams;if(n.constructor.blockName()!==Oi.blockName())throw new Error(`Incorrect "recipientCertificate" for index ${e}`);switch(n.valueBlock.toString()){case"1.2.840.10045.3.1.7":s="P-256";break;case"1.3.132.0.34":s="P-384";break;case"1.3.132.0.35":s="P-521";break;default:throw new Error(`Incorrect curve OID for index ${e}`)}i=await t.recipientCertificate.getPublicKey({algorithm:{algorithm:{name:"ECDH",namedCurve:s},usages:[]}},r)}}const n=cp[s],a=await r.generateKey({name:"ECDH",namedCurve:s},!0,["deriveBits"]),l=await r.exportKey("spki",a.publicKey),c=await r.deriveBits({name:"ECDH",public:i},a.privateKey,n),u=new Xn({schema:t.keyEncryptionAlgorithm.algorithmParams}),h=r.getAlgorithmByOID(u.algorithmId,!0,"aesKWAlgorithm");let f=h.length;const d=new ArrayBuffer(4),m=new Uint8Array(d);for(let e=3;e>=0;e--)m[e]=f,f>>=8;const p=new tp({keyInfo:new Xn({algorithmId:u.algorithmId}),entityUInfo:t.ukm,suppPubInfo:new ki({valueHex:d})}).toSchema().toBER(!1),g=r.getAlgorithmByOID(t.keyEncryptionAlgorithm.algorithmId,!0,"ecdhAlgorithm"),w=await xc(g.kdf,c,h.length,p,r),y=await r.importKey("raw",w,{name:"AES-KW"},!0,["wrapKey"]),b=await r.wrapKey("raw",o,y,{name:"AES-KW"}),v=new Wd;return v.variant=3,v.value=Vd.fromBER(l),t.originator=v,t.recipientEncryptedKeys.encryptedKeys[0].encryptedKey=new ki({valueHex:b}),{ecdhPrivateKey:a.privateKey}},h=async e=>{const t=this.recipientInfos[e].value,s=r.getAlgorithmByOID(t.keyEncryptionAlgorithm.algorithmId,!0,"keyEncryptionAlgorithm");if("RSA-OAEP"===s.name){const e=t.keyEncryptionAlgorithm.algorithmParams,i=new Zm({schema:e});if(s.hash=r.getAlgorithmByOID(i.hashAlgorithm.algorithmId),"name"in s.hash==!1)throw new Error(`Incorrect OID for hash algorithm: ${i.hashAlgorithm.algorithmId}`)}try{const e=await t.recipientCertificate.getPublicKey({algorithm:{algorithm:s,usages:["encrypt","wrapKey"]}},r),i=await r.encrypt(e.algorithm,e,c);t.encryptedKey=new ki({valueHex:i})}catch{}},f=async e=>{const t=this.recipientInfos[e].value,s=r.getAlgorithmByOID(t.keyEncryptionAlgorithm.algorithmId,!0,"kekAlgorithm"),i=await r.importKey("raw",new Uint8Array(t.preDefinedKEK),s,!0,["wrapKey"]),n=await r.wrapKey("raw",o,i,s);t.encryptedKey=new ki({valueHex:n})},d=async e=>{const t=this.recipientInfos[e].value;let s;if(!t.keyDerivationAlgorithm)throw new Error('Please append encoded "keyDerivationAlgorithm"');if(!t.keyDerivationAlgorithm.algorithmParams)throw new Error('Incorrectly encoded "keyDerivationAlgorithm"');try{s=new wc({schema:t.keyDerivationAlgorithm.algorithmParams})}catch(e){throw new Error('Incorrectly encoded "keyDerivationAlgorithm"')}const i=new Uint8Array(t.password),n=await r.importKey("raw",i,"PBKDF2",!1,["deriveKey"]),a=r.getAlgorithmByOID(t.keyEncryptionAlgorithm.algorithmId,!0,"kekAlgorithm");let l="SHA-1";if(s.prf){l=r.getAlgorithmByOID(s.prf.algorithmId,!0,"prfAlgorithm").hash.name}const c=new Uint8Array(s.salt.valueBlock.valueHex),u=s.iterationCount,h=await r.deriveKey({name:"PBKDF2",hash:{name:l},salt:c,iterations:u},n,a,!0,["wrapKey"]),f=await r.wrapKey("raw",o,h,a);t.encryptedKey=new ki({valueHex:f})},m=[];for(let e=0;e<this.recipientInfos.length;e++)switch(this.recipientInfos[e].variant){case 1:m.push(await h(e));break;case 2:m.push(await u(e));break;case 3:m.push(await f(e));break;case 4:m.push(await d(e));break;default:throw new Error(`Unknown recipient type in array with index ${e}`)}return m}async decrypt(e,t,r=Bc(!0)){const s=t||{};if(e+1>this.recipientInfos.length)throw new Error('Maximum value for "index" is: '+(this.recipientInfos.length-1));const i=async e=>{const t=this.recipientInfos[e].value;let i,n,a;const o=t.originator;if(s.recipientCertificate){const t=s.recipientCertificate.subjectPublicKeyInfo.algorithm.algorithmParams;if(t.constructor.blockName()!==Oi.blockName())throw new Error(`Incorrect "recipientCertificate" for index ${e}`);i=t.valueBlock.toString()}else{if(!o.value.algorithm.algorithmParams)throw new Error('Parameter "recipientCertificate" is mandatory for "KeyAgreeRecipientInfo" if algorithm params are missing from originator');{const t=o.value.algorithm.algorithmParams;if(t.constructor.blockName()!==Oi.blockName())throw new Error(`Incorrect originator for index ${e}`);i=t.valueBlock.toString()}}if(!s.recipientPrivateKey)throw new Error('Parameter "recipientPrivateKey" is mandatory for "KeyAgreeRecipientInfo"');switch(i){case"1.2.840.10045.3.1.7":n="P-256",a=256;break;case"1.3.132.0.34":n="P-384",a=384;break;case"1.3.132.0.35":n="P-521",a=528;break;default:throw new Error(`Incorrect curve OID for index ${e}`)}const l=await r.importKey("pkcs8",s.recipientPrivateKey,{name:"ECDH",namedCurve:n},!0,["deriveBits"]);"algorithmParams"in o.value.algorithm==!1&&(o.value.algorithm.algorithmParams=new Oi({value:i}));const c=o.value.toSchema().toBER(!1),u=await r.importKey("spki",c,{name:"ECDH",namedCurve:n},!0,[]),h=await r.deriveBits({name:"ECDH",public:u},l,a);async function f(e){e=e||!1;const s=new Xn({schema:t.keyEncryptionAlgorithm.algorithmParams}),i=r.getAlgorithmByOID(s.algorithmId,!0,"kwAlgorithm");let n=i.length;const a=new ArrayBuffer(4),o=new Uint8Array(a);for(let e=3;e>=0;e--)o[e]=n,n>>=8;const l={algorithmId:s.algorithmId};e&&(l.algorithmParams=new yi);const c=new tp({keyInfo:new Xn(l),entityUInfo:t.ukm,suppPubInfo:new ki({valueHex:a})}).toSchema().toBER(!1),u=r.getAlgorithmByOID(t.keyEncryptionAlgorithm.algorithmId,!0,"ecdhAlgorithm");if(!u.name)throw new Error(`Incorrect OID for key encryption algorithm: ${t.keyEncryptionAlgorithm.algorithmId}`);return xc(u.kdf,h,i.length,c,r)}const d=await f(),m=async e=>r.importKey("raw",e,{name:"AES-KW"},!0,["unwrapKey"]),p=await m(d),g=async e=>{const s=this.encryptedContentInfo.contentEncryptionAlgorithm.algorithmId,i=r.getAlgorithmByOID(s,!0,"contentEncryptionAlgorithm");return r.unwrapKey("raw",t.recipientEncryptedKeys.encryptedKeys[0].encryptedKey.valueBlock.valueHexView,e,{name:"AES-KW"},i,!0,["decrypt"])};try{return await g(p)}catch{const e=await f(!0);return g(await m(e))}},n=async e=>{const t=this.recipientInfos[e].value;if(!s.recipientPrivateKey)throw new Error('Parameter "recipientPrivateKey" is mandatory for "KeyTransRecipientInfo"');const i=r.getAlgorithmByOID(t.keyEncryptionAlgorithm.algorithmId,!0,"keyEncryptionAlgorithm");if("RSA-OAEP"===i.name){const e=t.keyEncryptionAlgorithm.algorithmParams,s=new Zm({schema:e});if(i.hash=r.getAlgorithmByOID(s.hashAlgorithm.algorithmId),"name"in i.hash==!1)throw new Error(`Incorrect OID for hash algorithm: ${s.hashAlgorithm.algorithmId}`)}const n=await r.importKey("pkcs8",s.recipientPrivateKey,i,!0,["decrypt"]),a=await r.decrypt(n.algorithm,n,t.encryptedKey.valueBlock.valueHexView),o=this.encryptedContentInfo.contentEncryptionAlgorithm.algorithmId,l=r.getAlgorithmByOID(o,!0,"contentEncryptionAlgorithm");if("name"in l==!1)throw new Error(`Incorrect "contentEncryptionAlgorithm": ${o}`);return r.importKey("raw",a,l,!0,["decrypt"])},a=async e=>{const t=this.recipientInfos[e].value;if(!s.preDefinedData)throw new Error('Parameter "preDefinedData" is mandatory for "KEKRecipientInfo"');const i=r.getAlgorithmByOID(t.keyEncryptionAlgorithm.algorithmId,!0,"kekAlgorithm"),n=await r.importKey("raw",s.preDefinedData,i,!0,["unwrapKey"]),a=this.encryptedContentInfo.contentEncryptionAlgorithm.algorithmId,o=r.getAlgorithmByOID(a,!0,"contentEncryptionAlgorithm");if(!o.name)throw new Error(`Incorrect "contentEncryptionAlgorithm": ${a}`);return r.unwrapKey("raw",t.encryptedKey.valueBlock.valueHexView,n,i,o,!0,["decrypt"])},o=async e=>{const t=this.recipientInfos[e].value;let i;if(!s.preDefinedData)throw new Error('Parameter "preDefinedData" is mandatory for "KEKRecipientInfo"');if(!t.keyDerivationAlgorithm)throw new Error('Please append encoded "keyDerivationAlgorithm"');if(!t.keyDerivationAlgorithm.algorithmParams)throw new Error('Incorrectly encoded "keyDerivationAlgorithm"');try{i=new wc({schema:t.keyDerivationAlgorithm.algorithmParams})}catch(e){throw new Error('Incorrectly encoded "keyDerivationAlgorithm"')}const n=await r.importKey("raw",s.preDefinedData,"PBKDF2",!1,["deriveKey"]),a=r.getAlgorithmByOID(t.keyEncryptionAlgorithm.algorithmId,!0,"keyEncryptionAlgorithm"),o=i.prf?r.getAlgorithmByOID(i.prf.algorithmId,!0,"prfAlgorithm").hash.name:"SHA-1",l=new Uint8Array(i.salt.valueBlock.valueHex),c=i.iterationCount,u=await r.deriveKey({name:"PBKDF2",hash:{name:o},salt:l,iterations:c},n,a,!0,["unwrapKey"]),h=this.encryptedContentInfo.contentEncryptionAlgorithm.algorithmId,f=r.getAlgorithmByOID(h,!0,"contentEncryptionAlgorithm");return r.unwrapKey("raw",t.encryptedKey.valueBlock.valueHexView,u,a,f,!0,["decrypt"])};let l;switch(this.recipientInfos[e].variant){case 1:l=await n(e);break;case 2:l=await i(e);break;case 3:l=await a(e);break;case 4:l=await o(e);break;default:throw new Error(`Unknown recipient type in array with index ${e}`)}const c=this.encryptedContentInfo.contentEncryptionAlgorithm.algorithmId,u=r.getAlgorithmByOID(c,!0,"contentEncryptionAlgorithm"),h=this.encryptedContentInfo.contentEncryptionAlgorithm.algorithmParams.valueBlock.valueHex,f=new Uint8Array(h);if(!this.encryptedContentInfo.encryptedContent)throw new Error("Required property `encryptedContent` is empty");const d=this.encryptedContentInfo.getEncryptedContent();return r.decrypt({name:u.name,iv:f},l,d)}}up.CLASS_NAME="EnvelopedData";const hp="safeContents",fp="parsedValue",dp="contentInfos";class mp extends Sn{constructor(e={}){super(),this.safeContents=qr(e,hp,mp.defaultValues(hp)),fp in e&&(this.parsedValue=qr(e,fp,mp.defaultValues(fp))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case hp:return[];case fp:return{};default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case hp:return 0===t.length;case fp:return t instanceof Object&&0===Object.keys(t).length;default:return super.defaultValues(e)}}static schema(e={}){const t=qr(e,"names",{});return new Ui({name:t.blockName||vn,value:[new dn({name:t.contentInfos||vn,value:hh.schema()})]})}fromSchema(e){os(e,[dp]);const t=pn(e,e,mp.schema({names:{contentInfos:dp}}));_n.assertSchema(t,this.className),this.safeContents=Array.from(t.result.contentInfos,(e=>new hh({schema:e})))}toSchema(){return new Ui({value:Array.from(this.safeContents,(e=>e.toSchema()))})}toJSON(){return{safeContents:Array.from(this.safeContents,(e=>e.toJSON()))}}async parseInternalValues(e,t=Bc(!0)){if(kn.assert(e,hp),An.assert(e.safeContents,hp,"Array"),e.safeContents.length!==this.safeContents.length)throw new An('Length of "parameters.safeContents" must be equal to "this.safeContents.length"');this.parsedValue={safeContents:[]};for(const[r,s]of this.safeContents.entries()){const i=e.safeContents[r],n=`parameters.safeContents[${r}]`;switch(s.contentType){case Na:{An.assert(s.content,"this.safeContents[j].content",ki);const e=s.content.getValue();this.parsedValue.safeContents.push({privacyMode:0,value:ed.fromBER(e)})}break;case Ia:{const e=new up({schema:s.content});kn.assert(n,i,"recipientCertificate","recipientKey");const r=i,a=r.recipientCertificate,o=r.recipientKey,l=await e.decrypt(0,{recipientCertificate:a,recipientPrivateKey:o},t);this.parsedValue.safeContents.push({privacyMode:2,value:ed.fromBER(l)})}break;case xa:{const e=new Uf({schema:s.content});kn.assert(n,i,"password");const r=i.password,a=await e.decrypt({password:r},t);this.parsedValue.safeContents.push({privacyMode:1,value:ed.fromBER(a)})}break;default:throw new Error(`Unknown "contentType" for AuthenticatedSafe: " ${s.contentType}`)}}}async makeInternalValues(e,t=Bc(!0)){if(!this.parsedValue)throw new Error('Please run "parseValues" first or add "parsedValue" manually');if(An.assert(this.parsedValue,"this.parsedValue","object"),An.assert(this.parsedValue.safeContents,"this.parsedValue.safeContents","Array"),An.assert(e,"parameters","object"),kn.assert(e,"safeContents"),An.assert(e.safeContents,"parameters.safeContents","Array"),e.safeContents.length!==this.parsedValue.safeContents.length)throw new An('Length of "parameters.safeContents" must be equal to "this.parsedValue.safeContents"');this.safeContents=[];for(const[r,s]of this.parsedValue.safeContents.entries())switch(kn.assert("content",s,"privacyMode","value"),An.assert(s.value,"content.value",ed),s.privacyMode){case 0:{const e=s.value.toSchema().toBER(!1);this.safeContents.push(new hh({contentType:"1.2.840.113549.1.7.1",content:new ki({valueHex:e})}))}break;case 1:{const t=new Uf,i=e.safeContents[r];i.contentToEncrypt=s.value.toSchema().toBER(!1),await t.encrypt(i),this.safeContents.push(new hh({contentType:"1.2.840.113549.1.7.6",content:t.toSchema()}))}break;case 2:{const i=new up,n=s.value.toSchema().toBER(!1),a=e.safeContents[r];switch(kn.assert(`parameters.safeContents[${r}]`,a,"encryptingCertificate","encryptionAlgorithm"),!0){case"aes-cbc"===a.encryptionAlgorithm.name.toLowerCase():case"aes-gcm"===a.encryptionAlgorithm.name.toLowerCase():break;default:throw new Error(`Incorrect parameter "encryptionAlgorithm" in "parameters.safeContents[i]": ${a.encryptionAlgorithm}`)}switch(!0){case 128===a.encryptionAlgorithm.length:case 192===a.encryptionAlgorithm.length:case 256===a.encryptionAlgorithm.length:break;default:throw new Error(`Incorrect parameter "encryptionAlgorithm.length" in "parameters.safeContents[i]": ${a.encryptionAlgorithm.length}`)}const o=a.encryptionAlgorithm;i.addRecipientByCertificate(a.encryptingCertificate,{},void 0,t),await i.encrypt(o,n,t),this.safeContents.push(new hh({contentType:"1.2.840.113549.1.7.3",content:i.toSchema()}))}break;default:throw new Error(`Incorrect value for "content.privacyMode": ${s.privacyMode}`)}return this}}mp.CLASS_NAME="AuthenticatedSafe";const pp="hashAlgorithm",gp="issuerNameHash",wp="issuerKeyHash",yp="serialNumber",bp=[pp,gp,wp,yp];class vp extends Sn{constructor(e={}){super(),this.hashAlgorithm=qr(e,pp,vp.defaultValues(pp)),this.issuerNameHash=qr(e,gp,vp.defaultValues(gp)),this.issuerKeyHash=qr(e,wp,vp.defaultValues(wp)),this.serialNumber=qr(e,yp,vp.defaultValues(yp)),e.schema&&this.fromSchema(e.schema)}static async create(e,t,r=Bc(!0)){const s=new vp;return await s.createForCertificate(e,t,r),s}static defaultValues(e){switch(e){case pp:return new Xn;case gp:case wp:return new ki;case yp:return new Ii;default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case pp:return t.algorithmId===vn&&"algorithmParams"in t==!1;case gp:case wp:case yp:return t.isEqual(vp.defaultValues(yp));default:return super.defaultValues(e)}}static schema(e={}){const t=qr(e,"names",{});return new Ui({name:t.blockName||vn,value:[Xn.schema(t.hashAlgorithmObject||{names:{blockName:t.hashAlgorithm||vn}}),new ki({name:t.issuerNameHash||vn}),new ki({name:t.issuerKeyHash||vn}),new Ii({name:t.serialNumber||vn})]})}fromSchema(e){os(e,bp);const t=pn(e,e,vp.schema({names:{hashAlgorithm:pp,issuerNameHash:gp,issuerKeyHash:wp,serialNumber:yp}}));_n.assertSchema(t,this.className),this.hashAlgorithm=new Xn({schema:t.result.hashAlgorithm}),this.issuerNameHash=t.result.issuerNameHash,this.issuerKeyHash=t.result.issuerKeyHash,this.serialNumber=t.result.serialNumber}toSchema(){return new Ui({value:[this.hashAlgorithm.toSchema(),this.issuerNameHash,this.issuerKeyHash,this.serialNumber]})}toJSON(){return{hashAlgorithm:this.hashAlgorithm.toJSON(),issuerNameHash:this.issuerNameHash.toJSON(),issuerKeyHash:this.issuerKeyHash.toJSON(),serialNumber:this.serialNumber.toJSON()}}isEqual(e){return this.hashAlgorithm.algorithmId===e.hashAlgorithm.algorithmId&&(!!jr.vJ.isEqual(this.issuerNameHash.valueBlock.valueHexView,e.issuerNameHash.valueBlock.valueHexView)&&(!!jr.vJ.isEqual(this.issuerKeyHash.valueBlock.valueHexView,e.issuerKeyHash.valueBlock.valueHexView)&&!!this.serialNumber.isEqual(e.serialNumber)))}async createForCertificate(e,t,r=Bc(!0)){kn.assert(t,pp,"issuerCertificate");const s=r.getOIDByAlgorithm({name:t.hashAlgorithm},!0,"hashAlgorithm");this.hashAlgorithm=new Xn({algorithmId:s,algorithmParams:new yi});const i=t.issuerCertificate;this.serialNumber=e.serialNumber;const n=await r.digest({name:t.hashAlgorithm},i.subject.toSchema().toBER(!1));this.issuerNameHash=new ki({valueHex:n});const a=i.subjectPublicKeyInfo.subjectPublicKey.valueBlock.valueHexView,o=await r.digest({name:t.hashAlgorithm},a);this.issuerKeyHash=new ki({valueHex:o})}}vp.CLASS_NAME="CertID";const Ap="certID",kp="certStatus",_p="thisUpdate",Sp="nextUpdate",Ep="singleExtensions",Cp=[Ap,kp,_p,Sp,Ep];class Np extends Sn{constructor(e={}){super(),this.certID=qr(e,Ap,Np.defaultValues(Ap)),this.certStatus=qr(e,kp,Np.defaultValues(kp)),this.thisUpdate=qr(e,_p,Np.defaultValues(_p)),Sp in e&&(this.nextUpdate=qr(e,Sp,Np.defaultValues(Sp))),Ep in e&&(this.singleExtensions=qr(e,Ep,Np.defaultValues(Ep))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Ap:return new vp;case kp:return{};case _p:case Sp:return new Date(0,0,0);case Ep:return[];default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case Ap:return vp.compareWithDefault("hashAlgorithm",t.hashAlgorithm)&&vp.compareWithDefault("issuerNameHash",t.issuerNameHash)&&vp.compareWithDefault("issuerKeyHash",t.issuerKeyHash)&&vp.compareWithDefault("serialNumber",t.serialNumber);case kp:return 0===Object.keys(t).length;case _p:case Sp:return t===Np.defaultValues(e);default:return super.defaultValues(e)}}static schema(e={}){const t=qr(e,"names",{});return new Ui({name:t.blockName||vn,value:[vp.schema(t.certID||{}),new fn({value:[new hi({name:t.certStatus||vn,idBlock:{tagClass:3,tagNumber:0}}),new pi({name:t.certStatus||vn,idBlock:{tagClass:3,tagNumber:1},value:[new nn,new pi({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new xi]})]}),new hi({name:t.certStatus||vn,idBlock:{tagClass:3,tagNumber:2},lenBlock:{length:1}})]}),new nn({name:t.thisUpdate||vn}),new pi({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new nn({name:t.nextUpdate||vn})]}),new pi({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[ou.schema(t.singleExtensions||{})]})]})}fromSchema(e){os(e,Cp);const t=pn(e,e,Np.schema({names:{certID:{names:{blockName:Ap}},certStatus:kp,thisUpdate:_p,nextUpdate:Sp,singleExtensions:{names:{blockName:Ep}}}}));_n.assertSchema(t,this.className),this.certID=new vp({schema:t.result.certID}),this.certStatus=t.result.certStatus,this.thisUpdate=t.result.thisUpdate.toDate(),Sp in t.result&&(this.nextUpdate=t.result.nextUpdate.toDate()),Ep in t.result&&(this.singleExtensions=Array.from(t.result.singleExtensions.valueBlock.value,(e=>new iu({schema:e}))))}toSchema(){const e=[];return e.push(this.certID.toSchema()),e.push(this.certStatus),e.push(new nn({valueDate:this.thisUpdate})),this.nextUpdate&&e.push(new pi({idBlock:{tagClass:3,tagNumber:0},value:[new nn({valueDate:this.nextUpdate})]})),this.singleExtensions&&e.push(new Ui({value:Array.from(this.singleExtensions,(e=>e.toSchema()))})),new Ui({value:e})}toJSON(){const e={certID:this.certID.toJSON(),certStatus:this.certStatus.toJSON(),thisUpdate:this.thisUpdate};return this.nextUpdate&&(e.nextUpdate=this.nextUpdate),this.singleExtensions&&(e.singleExtensions=Array.from(this.singleExtensions,(e=>e.toJSON()))),e}}Np.CLASS_NAME="SingleResponse";const Bp="tbs",Ip="version",xp="responderID",Tp="producedAt",Rp="responses",Op="responseExtensions",Pp="ResponseData",Dp="ResponseData.version",Lp="ResponseData.responderID",Up="ResponseData.producedAt",Vp="ResponseData.responses",Hp="ResponseData.responseExtensions",Mp=[Pp,Dp,Lp,Up,Vp,Hp];class Fp extends Sn{constructor(e={}){super(),this.tbsView=new Uint8Array(qr(e,Bp,Fp.defaultValues(Bp))),Ip in e&&(this.version=qr(e,Ip,Fp.defaultValues(Ip))),this.responderID=qr(e,xp,Fp.defaultValues(xp)),this.producedAt=qr(e,Tp,Fp.defaultValues(Tp)),this.responses=qr(e,Rp,Fp.defaultValues(Rp)),Op in e&&(this.responseExtensions=qr(e,Op,Fp.defaultValues(Op))),e.schema&&this.fromSchema(e.schema)}get tbs(){return jr.vJ.toArrayBuffer(this.tbsView)}set tbs(e){this.tbsView=new Uint8Array(e)}static defaultValues(e){switch(e){case Ip:return 0;case Bp:return bn;case xp:return{};case Tp:return new Date(0,0,0);case Rp:case Op:return[];default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case Bp:return 0===t.byteLength;case xp:return 0===Object.keys(t).length;case Tp:return t===Fp.defaultValues(e);case Rp:case Op:return 0===t.length;default:return super.defaultValues(e)}}static schema(e={}){const t=qr(e,"names",{});return new Ui({name:t.blockName||Pp,value:[new pi({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new Ii({name:t.version||Dp})]}),new fn({value:[new pi({name:t.responderID||Lp,idBlock:{tagClass:3,tagNumber:1},value:[Tn.schema(t.ResponseDataByName||{names:{blockName:"ResponseData.byName"}})]}),new pi({name:t.responderID||Lp,idBlock:{tagClass:3,tagNumber:2},value:[new ki({name:t.ResponseDataByKey||"ResponseData.byKey"})]})]}),new nn({name:t.producedAt||Up}),new Ui({value:[new dn({name:Vp,value:Np.schema(t.response||{})})]}),new pi({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[ou.schema(t.extensions||{names:{blockName:Hp}})]})]})}fromSchema(e){os(e,Mp);const t=pn(e,e,Fp.schema());_n.assertSchema(t,this.className),this.tbsView=t.result.ResponseData.valueBeforeDecodeView,Dp in t.result&&(this.version=t.result[Dp].valueBlock.valueDec),1===t.result[Lp].idBlock.tagNumber?this.responderID=new Tn({schema:t.result[Lp].valueBlock.value[0]}):this.responderID=t.result[Lp].valueBlock.value[0],this.producedAt=t.result[Up].toDate(),this.responses=Array.from(t.result[Vp],(e=>new Np({schema:e}))),Hp in t.result&&(this.responseExtensions=Array.from(t.result[Hp].valueBlock.value,(e=>new iu({schema:e}))))}toSchema(e=!1){let t;if(!1===e){if(!this.tbsView.byteLength)return Fp.schema();const e=di(this.tbsView);_n.assert(e,"TBS Response Data"),t=e.result}else{const e=[];Ip in this&&e.push(new pi({idBlock:{tagClass:3,tagNumber:0},value:[new Ii({value:this.version})]})),this.responderID instanceof Tn?e.push(new pi({idBlock:{tagClass:3,tagNumber:1},value:[this.responderID.toSchema()]})):e.push(new pi({idBlock:{tagClass:3,tagNumber:2},value:[this.responderID]})),e.push(new nn({valueDate:this.producedAt})),e.push(new Ui({value:Array.from(this.responses,(e=>e.toSchema()))})),this.responseExtensions&&e.push(new pi({idBlock:{tagClass:3,tagNumber:1},value:[new Ui({value:Array.from(this.responseExtensions,(e=>e.toSchema()))})]})),t=new Ui({value:e})}return t}toJSON(){const e={};return Ip in this&&(e.version=this.version),this.responderID&&(e.responderID=this.responderID),this.producedAt&&(e.producedAt=this.producedAt),this.responses&&(e.responses=Array.from(this.responses,(e=>e.toJSON()))),this.responseExtensions&&(e.responseExtensions=Array.from(this.responseExtensions,(e=>e.toJSON()))),e}}Fp.CLASS_NAME="ResponseData";const Wp="trustedCerts",jp="certs",qp="crls",zp="ocsps",Kp="checkDate",Qp="findOrigin",Jp="findIssuer";class Gp{constructor(e={}){this.trustedCerts=qr(e,Wp,this.defaultValues(Wp)),this.certs=qr(e,jp,this.defaultValues(jp)),this.crls=qr(e,qp,this.defaultValues(qp)),this.ocsps=qr(e,zp,this.defaultValues(zp)),this.checkDate=qr(e,Kp,this.defaultValues(Kp)),this.findOrigin=qr(e,Qp,this.defaultValues(Qp)),this.findIssuer=qr(e,Jp,this.defaultValues(Jp))}static defaultFindOrigin(e,t){0===e.tbsView.byteLength&&(e.tbsView=new Uint8Array(e.encodeTBS().toBER()));for(const r of t.certs)if(0===r.tbsView.byteLength&&(r.tbsView=new Uint8Array(r.encodeTBS().toBER())),jr.vJ.isEqual(e.tbsView,r.tbsView))return"Intermediate Certificates";for(const r of t.trustedCerts)if(0===r.tbsView.byteLength&&(r.tbsView=new Uint8Array(r.encodeTBS().toBER())),jr.vJ.isEqual(e.tbsView,r.tbsView))return"Trusted Certificates";return"Unknown"}async defaultFindIssuer(e,t,r=Bc(!0)){const s=[];let i=null,n=null,a=null;if(e.subject.isEqual(e.issuer))try{if(await e.verify(void 0,r))return[e]}catch(e){}if(e.extensions)for(const t of e.extensions)if(t.extnID===_a&&t.parsedValue instanceof Ma){t.parsedValue.keyIdentifier?i=t.parsedValue.keyIdentifier:(t.parsedValue.authorityCertIssuer&&(n=t.parsedValue.authorityCertIssuer),t.parsedValue.authorityCertSerialNumber&&(a=t.parsedValue.authorityCertSerialNumber));break}function o(t){if(null!==i&&t.extensions){let e=!1;for(const r of t.extensions)if("2.5.29.14"===r.extnID&&r.parsedValue){e=!0,jr.vJ.isEqual(r.parsedValue.valueBlock.valueHex,i.valueBlock.valueHexView)&&s.push(t);break}if(e)return}let r=!1;null!==a&&(r=t.serialNumber.isEqual(a)),null!==n?t.subject.isEqual(n)&&r&&s.push(t):e.issuer.isEqual(t.subject)&&s.push(t)}for(const e of t.trustedCerts)o(e);for(const e of t.certs)o(e);for(let t=0;t<s.length;t++)try{!1===await e.verify(s[t],r)&&s.splice(t,1)}catch(e){s.splice(t,1)}return s}defaultValues(e){switch(e){case Wp:case jp:case qp:case zp:return[];case Kp:return new Date;case Qp:return Gp.defaultFindOrigin;case Jp:return this.defaultFindIssuer;default:throw new Error(`Invalid member name for CertificateChainValidationEngine class: ${e}`)}}async sort(e=!1,t=Bc(!0)){const r=[],s=async(e,t)=>{const r=[];function i(e){let t=!0;for(let r=0;r<e.length;r++){for(let s=0;s<e.length;s++)if(s!==r&&e[r]===e[s]){t=!1;break}if(!t)break}return t}const n=await this.findIssuer(e,this,t);if(0===n.length)throw new Error("No valid certificate paths found");for(let a=0;a<n.length;a++){if(jr.vJ.isEqual(n[a].tbsView,e.tbsView)){r.push([n[a]]);continue}const o=await s(n[a],t);for(let e=0;e<o.length;e++){const t=o[e].slice();t.splice(0,0,n[a]),i(t)?r.push(t):r.push(o[e])}}return r},i=async e=>{const s=[],i=[],n=[];if(s.push(...r.filter((t=>e.issuer.isEqual(t.subject)))),0===s.length)return{status:1,statusMessage:"No certificate's issuers"};if(i.push(...this.crls.filter((t=>t.issuer.isEqual(e.issuer)))),0===i.length)return{status:2,statusMessage:"No CRLs for specific certificate issuer"};for(let e=0;e<i.length;e++){const r=i[e];if(!(r.nextUpdate&&r.nextUpdate.value<this.checkDate))for(let r=0;r<s.length;r++)try{if(await i[e].verify({issuerCertificate:s[r]},t)){n.push({crl:i[e],certificate:s[r]});break}}catch(e){}}return n.length?{status:0,statusMessage:vn,result:n}:{status:3,statusMessage:"No valid CRLs found"}},n=async(e,r)=>{const s=t.getAlgorithmByOID(e.signatureAlgorithm.algorithmId);if(!s.name)return 1;if(!s.hash)return 1;for(let s=0;s<this.ocsps.length;s++){const i=this.ocsps[s],n=await i.getCertificateStatus(e,r,t);if(n.isForCertificate)return 0===n.status?0:1}return 2};async function a(e,t=!1){let r=!1,s=!1,i=!1,n=!1;if(e.extensions){for(let t=0;t<e.extensions.length;t++){const a=e.extensions[t];if(a.critical&&!a.parsedValue)return{result:!1,resultCode:6,resultMessage:`Unable to parse critical certificate extension: ${a.extnID}`};if("2.5.29.15"===a.extnID){i=!0;const e=new Uint8Array(a.parsedValue.valueBlock.valueHex);4==(4&e[0])&&(s=!0),2==(2&e[0])&&(n=!0)}a.extnID===ma&&"cA"in a.parsedValue&&!0===a.parsedValue.cA&&(r=!0)}if(!0===s&&!1===r)return{result:!1,resultCode:3,resultMessage:'Unable to build certificate chain - using "keyCertSign" flag set without BasicConstraints'};if(!0===i&&!0===r&&!1===s)return{result:!1,resultCode:4,resultMessage:'Unable to build certificate chain - "keyCertSign" flag was not set'};if(!0===r&&!0===i&&t&&!1===n)return{result:!1,resultCode:5,resultMessage:'Unable to build certificate chain - intermediate certificate must have "cRLSign" key usage flag'}}return!1===r?{result:!1,resultCode:7,resultMessage:"Unable to build certificate chain - more than one possible end-user certificate"}:{result:!0,resultCode:0,resultMessage:vn}}r.push(...this.trustedCerts),r.push(...this.certs);for(let e=0;e<r.length;e++)for(let t=0;t<r.length;t++)if(e!==t&&jr.vJ.isEqual(r[e].tbsView,r[t].tbsView)){r.splice(t,1),e=0;break}let o;const l=[r[r.length-1]];if(o=await s(r[r.length-1],t),0===o.length)throw{result:!1,resultCode:60,resultMessage:"Unable to find certificate path"};for(let e=0;e<o.length;e++){let t=!1;for(let r=0;r<o[e].length;r++){const s=o[e][r];for(let e=0;e<this.trustedCerts.length;e++)if(jr.vJ.isEqual(s.tbsView,this.trustedCerts[e].tbsView)){t=!0;break}if(t)break}t||(o.splice(e,1),e=0)}if(0===o.length)throw{result:!1,resultCode:97,resultMessage:"No valid certificate paths found"};let c=o[0].length,u=0;for(let e=0;e<o.length;e++)o[e].length<c&&(c=o[e].length,u=e);for(let e=0;e<o[u].length;e++)l.push(o[u][e]);if(o=await(async(t,r)=>{for(let e=0;e<t.length;e++)if(t[e].notBefore.value>r||t[e].notAfter.value<r)return{result:!1,resultCode:8,resultMessage:"The certificate is either not yet valid or expired"};if(t.length<2)return{result:!1,resultCode:9,resultMessage:"Too short certificate path"};for(let e=t.length-2;e>=0;e--)if(!1===t[e].issuer.isEqual(t[e].subject)&&!1===t[e].issuer.isEqual(t[e+1].subject))return{result:!1,resultCode:10,resultMessage:"Incorrect name chaining"};if(0!==this.crls.length||0!==this.ocsps.length)for(let r=0;r<t.length-1;r++){let s=2,o={status:0,statusMessage:vn};if(0!==this.ocsps.length)switch(s=await n(t[r],t[r+1]),s){case 0:continue;case 1:return{result:!1,resultCode:12,resultMessage:"One of certificates was revoked via OCSP response"}}if(0!==this.crls.length){if(o=await i(t[r]),0===o.status&&o.result)for(let e=0;e<o.result.length;e++){if(o.result[e].crl.isCertificateRevoked(t[r]))return{result:!1,resultCode:12,resultMessage:"One of certificates had been revoked"};if(!1===(await a(o.result[e].certificate,!0)).result)return{result:!1,resultCode:13,resultMessage:"CRL issuer certificate is not a CA certificate or does not have crlSign flag"}}else if(!1===e)throw{result:!1,resultCode:11,resultMessage:`No revocation values found for one of certificates: ${o.statusMessage}`}}else if(2===s)return{result:!1,resultCode:11,resultMessage:"No revocation values found for one of certificates"};if(2===s&&2===o.status&&e){const e=t[r+1];let s=!1;if(e.extensions)for(const t of e.extensions)switch(t.extnID){case ya:case ba:case Ea:s=!0}if(s)throw{result:!1,resultCode:11,resultMessage:`No revocation values found for one of certificates: ${o.statusMessage}`}}}for(const[e,r]of t.entries()){if(!e)continue;if(!(await a(r)).result)return{result:!1,resultCode:14,resultMessage:"One of intermediate certificates is not a CA certificate"}}return{result:!0}})(l,this.checkDate),!1===o.result)throw o;return l}async verify(e={},t=Bc(!0)){function r(e,t){const r=En(e),s=En(t),i=r.split("."),n=s.split("."),a=i.length,o=n.length;if(0===a||0===o||a<o)return!1;for(let e=0;e<a;e++)if(0===i[e].length)return!1;for(let e=0;e<o;e++)if(0===n[e].length){if(0===e){if(1===o)return!1;continue}return!1}for(let e=0;e<o;e++)if(0!==n[o-1-e].length&&0!==i[a-1-e].localeCompare(n[o-1-e]))return!1;return!0}function s(e,t){const s=En(e),i=En(t),n=s.split("@"),a=i.split("@");if(0===n.length||0===a.length||n.length<a.length)return!1;if(1===a.length){if(r(n[1],a[0])){const e=n[1].split("."),t=a[0].split(".");return 0===t[0].length||e.length===t.length}return!1}return 0===s.localeCompare(i)}function i(e,t){let s=En(e);const i=En(t),n=s.split("/");if(i.split("/").length>1)return!1;if(n.length>1)for(let e=0;e<n.length;e++)if(n[e].length>0&&":"!==n[e].charAt(n[e].length-1)){s=n[e].split(":")[0];break}if(r(s,i)){const e=s.split("."),t=i.split(".");return 0===t[0].length||e.length===t.length}return!1}function n(e,t){const r=e.valueBlock.valueHexView,s=t.valueBlock.valueHexView;if(4===r.length&&8===s.length){for(let e=0;e<4;e++)if((r[e]^s[e])&s[e+4])return!1;return!0}if(16===r.length&&32===s.length){for(let e=0;e<16;e++)if((r[e]^s[e])&s[e+16])return!1;return!0}return!1}function a(e,t){if(0===e.typesAndValues.length||0===t.typesAndValues.length)return!0;if(e.typesAndValues.length<t.typesAndValues.length)return!1;let r=!0,s=0;for(let i=0;i<t.typesAndValues.length;i++){let n=!1;for(let a=s;a<e.typesAndValues.length;a++)if(n=e.typesAndValues[a].isEqual(t.typesAndValues[i]),e.typesAndValues[a].type===t.typesAndValues[i].type&&(r=r&&n),!0===n){if(0===s||s===a){s=a+1;break}return!1}if(!1===n)return!1}return 0!==s&&r}try{if(0===this.certs.length)throw new Error("Empty certificate array");const o=e.passedWhenNotRevValues||!1,l=e.initialPolicySet||[Aa],c=e.initialExplicitPolicy||!1,u=e.initialPolicyMappingInhibit||!1,h=e.initialInhibitPolicy||!1,f=e.initialPermittedSubtreesSet||[],d=e.initialExcludedSubtreesSet||[],m=e.initialRequiredNameForms||[];let p=c,g=u,w=h;const y=[!1,!1,!1];let b=0,v=0,A=0,k=f,_=d;const S=m;let E=1;this.certs=await this.sort(o,t);const C=[];C.push(Aa);const N=[],B=new Array(this.certs.length-1);for(let e=0;e<this.certs.length-1;e++)B[e]=!0;N.push(B);const I=new Array(this.certs.length-1),x=new Array(this.certs.length-1);let T=p?this.certs.length-1:-1;for(let e=this.certs.length-2;e>=0;e--,E++){const t=this.certs[e];if(t.extensions){for(let r=0;r<t.extensions.length;r++){const s=t.extensions[r];if(s.extnID===va){x[e]=s.parsedValue;for(let t=0;t<C.length;t++)if(C[t]===Aa){delete N[t][e];break}for(let t=0;t<s.parsedValue.certificatePolicies.length;t++){let r=-1;const i=s.parsedValue.certificatePolicies[t].policyIdentifier;for(let e=0;e<C.length;e++)if(i===C[e]){r=e;break}if(-1===r){C.push(i);const t=new Array(this.certs.length-1);t[e]=!0,N.push(t)}else N[r][e]=!0}}if(s.extnID===ka){if(g)return{result:!1,resultCode:98,resultMessage:"Policy mapping prohibited"};I[e]=s.parsedValue}s.extnID===Sa&&!1===p&&(0===s.parsedValue.requireExplicitPolicy?(p=!0,T=e):!1===y[0]?(y[0]=!0,b=s.parsedValue.requireExplicitPolicy):b=b>s.parsedValue.requireExplicitPolicy?s.parsedValue.requireExplicitPolicy:b,0===s.parsedValue.inhibitPolicyMapping?g=!0:!1===y[1]?(y[1]=!0,v=s.parsedValue.inhibitPolicyMapping+1):v=v>s.parsedValue.inhibitPolicyMapping+1?s.parsedValue.inhibitPolicyMapping+1:v),"2.5.29.54"===s.extnID&&!1===w&&(0===s.parsedValue.valueBlock.valueDec?w=!0:!1===y[2]?(y[2]=!0,A=s.parsedValue.valueBlock.valueDec):A=A>s.parsedValue.valueBlock.valueDec?s.parsedValue.valueBlock.valueDec:A)}if(!0===w){let t=-1;for(let e=0;e<C.length;e++)if(C[e]===Aa){t=e;break}-1!==t&&delete N[0][e]}!1===p&&!0===y[0]&&(b--,0===b&&(p=!0,T=e,y[0]=!1)),!1===g&&!0===y[1]&&(v--,0===v&&(g=!0,y[1]=!1)),!1===w&&!0===y[2]&&(A--,0===A&&(w=!0,y[2]=!1))}}for(let e=0;e<this.certs.length-1;e++)if(e<this.certs.length-2&&void 0!==I[e+1])for(let t=0;t<I[e+1].mappings.length;t++){if(I[e+1].mappings[t].issuerDomainPolicy===Aa||I[e+1].mappings[t].subjectDomainPolicy===Aa)return{result:!1,resultCode:99,resultMessage:'The "anyPolicy" should not be a part of policy mapping scheme'};let r=-1,s=-1;for(let i=0;i<C.length;i++)C[i]===I[e+1].mappings[t].issuerDomainPolicy&&(r=i),C[i]===I[e+1].mappings[t].subjectDomainPolicy&&(s=i);void 0!==N[r][e]&&delete N[r][e];for(let i=0;i<x[e].certificatePolicies.length;i++)if(I[e+1].mappings[t].subjectDomainPolicy===x[e].certificatePolicies[i].policyIdentifier&&-1!==r&&-1!==s)for(let t=0;t<=e;t++)void 0!==N[s][t]&&(N[r][t]=!0,delete N[s][t])}for(let e=0;e<C.length;e++)if(C[e]===Aa)for(let t=0;t<T;t++)delete N[e][t];const R=[];for(let e=0;e<N.length;e++){let t=!0;for(let r=0;r<this.certs.length-1;r++){let s=!1;if(r<T&&C[e]===Aa&&C.length>1){t=!1;break}if(void 0===N[e][r]){if(r>=T)for(let e=0;e<C.length;e++)if(C[e]===Aa){!0===N[e][r]&&(s=!0);break}if(!s){t=!1;break}}}!0===t&&R.push(C[e])}let O=[];if(1===l.length&&l[0]===Aa&&!1===p)O=l;else if(1===R.length&&R[0]===Aa)O=l;else for(let e=0;e<R.length;e++)for(let t=0;t<l.length;t++)if(l[t]===R[e]||l[t]===Aa){O.push(R[e]);break}const P={result:O.length>0,resultCode:0,resultMessage:O.length>0?vn:'Zero "userConstrPolicies" array, no intersections with "authConstrPolicies"',authConstrPolicies:R,userConstrPolicies:O,explicitPolicyIndicator:p,policyMappings:I,certificatePath:this.certs};if(0===O.length)return P;if(!1===P.result)return P;E=1;for(let e=this.certs.length-2;e>=0;e--,E++){const t=this.certs[e];let o=[],l=[],c=[];if(t.extensions)for(let e=0;e<t.extensions.length;e++){const r=t.extensions[e];r.extnID===wa&&("permittedSubtrees"in r.parsedValue&&(l=l.concat(r.parsedValue.permittedSubtrees)),"excludedSubtrees"in r.parsedValue&&(c=c.concat(r.parsedValue.excludedSubtrees))),r.extnID===fa&&(o=o.concat(r.parsedValue.altNames))}let u=S.length<=0;for(let e=0;e<S.length;e++)switch(S[e].base.type){case 4:if(S[e].base.value.typesAndValues.length!==t.subject.typesAndValues.length)continue;u=!0;for(let r=0;r<t.subject.typesAndValues.length;r++)if(t.subject.typesAndValues[r].type!==S[e].base.value.typesAndValues[r].type){u=!1;break}if(!0===u)break}if(!1===u)throw P.result=!1,P.resultCode=21,P.resultMessage="No necessary name form found",P;const h=[[],[],[],[],[]];for(let e=0;e<k.length;e++)switch(k[e].base.type){case 1:h[0].push(k[e]);break;case 2:h[1].push(k[e]);break;case 4:h[2].push(k[e]);break;case 6:h[3].push(k[e]);break;case 7:h[4].push(k[e])}for(let e=0;e<5;e++){let l=!1,c=!1;const u=h[e];for(let h=0;h<u.length;h++){switch(e){case 0:if(o.length>0)for(let e=0;e<o.length;e++)1===o[e].type&&(c=!0,l=l||s(o[e].value,u[h].base.value));else for(let e=0;e<t.subject.typesAndValues.length;e++)"1.2.840.113549.1.9.1"!==t.subject.typesAndValues[e].type&&"0.9.2342.19200300.100.1.3"!==t.subject.typesAndValues[e].type||(c=!0,l=l||s(t.subject.typesAndValues[e].value.valueBlock.value,u[h].base.value));break;case 1:if(o.length>0)for(let e=0;e<o.length;e++)2===o[e].type&&(c=!0,l=l||r(o[e].value,u[h].base.value));break;case 2:c=!0,l=a(t.subject,u[h].base.value);break;case 3:if(o.length>0)for(let e=0;e<o.length;e++)6===o[e].type&&(c=!0,l=l||i(o[e].value,u[h].base.value));break;case 4:if(o.length>0)for(let e=0;e<o.length;e++)7===o[e].type&&(c=!0,l=l||n(o[e].value,u[h].base.value))}if(l)break}if(!1===l&&u.length>0&&c)throw P.result=!1,P.resultCode=41,P.resultMessage='Failed to meet "permitted sub-trees" name constraint',P}let f=!1;for(let e=0;e<_.length;e++){switch(_[e].base.type){case 1:if(o.length>=0)for(let t=0;t<o.length;t++)1===o[t].type&&(f=f||s(o[t].value,_[e].base.value));else for(let r=0;r<t.subject.typesAndValues.length;r++)"1.2.840.113549.1.9.1"!==t.subject.typesAndValues[r].type&&"0.9.2342.19200300.100.1.3"!==t.subject.typesAndValues[r].type||(f=f||s(t.subject.typesAndValues[r].value.valueBlock.value,_[e].base.value));break;case 2:if(o.length>0)for(let t=0;t<o.length;t++)2===o[t].type&&(f=f||r(o[t].value,_[e].base.value));break;case 4:f=f||a(t.subject,_[e].base.value);break;case 6:if(o.length>0)for(let t=0;t<o.length;t++)6===o[t].type&&(f=f||i(o[t].value,_[e].base.value));break;case 7:if(o.length>0)for(let t=0;t<o.length;t++)7===o[t].type&&(f=f||n(o[t].value,_[e].base.value))}if(f)break}if(!0===f)throw P.result=!1,P.resultCode=42,P.resultMessage='Failed to meet "excluded sub-trees" name constraint',P;k=k.concat(l),_=_.concat(c)}return P}catch(e){if(e instanceof Object){if("resultMessage"in e)return e;if("message"in e)return{result:!1,resultCode:-1,resultMessage:e.message}}return{result:!1,resultCode:-1,resultMessage:e}}}}const Zp="tbsResponseData",Xp="signatureAlgorithm",Yp="signature",$p="certs",eg="BasicOCSPResponse",tg="BasicOCSPResponse.tbsResponseData",rg="BasicOCSPResponse.signatureAlgorithm",sg="BasicOCSPResponse.signature",ig="BasicOCSPResponse.certs",ng=[tg,rg,sg,ig];class ag extends Sn{constructor(e={}){super(),this.tbsResponseData=qr(e,Zp,ag.defaultValues(Zp)),this.signatureAlgorithm=qr(e,Xp,ag.defaultValues(Xp)),this.signature=qr(e,Yp,ag.defaultValues(Yp)),$p in e&&(this.certs=qr(e,$p,ag.defaultValues($p))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Zp:return new Fp;case Xp:return new Xn;case Yp:return new Si;case $p:return[];default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case"type":{let e=Fp.compareWithDefault("tbs",t.tbs)&&Fp.compareWithDefault("responderID",t.responderID)&&Fp.compareWithDefault("producedAt",t.producedAt)&&Fp.compareWithDefault("responses",t.responses);return"responseExtensions"in t&&(e=e&&Fp.compareWithDefault("responseExtensions",t.responseExtensions)),e}case Xp:return t.algorithmId===vn&&"algorithmParams"in t==!1;case Yp:return t.isEqual(ag.defaultValues(e));case $p:return 0===t.length;default:return super.defaultValues(e)}}static schema(e={}){const t=qr(e,"names",{});return new Ui({name:t.blockName||eg,value:[Fp.schema(t.tbsResponseData||{names:{blockName:tg}}),Xn.schema(t.signatureAlgorithm||{names:{blockName:rg}}),new Si({name:t.signature||sg}),new pi({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new Ui({value:[new dn({name:ig,value:Qh.schema(t.certs||{})})]})]})]})}fromSchema(e){os(e,ng);const t=pn(e,e,ag.schema());_n.assertSchema(t,this.className),this.tbsResponseData=new Fp({schema:t.result["BasicOCSPResponse.tbsResponseData"]}),this.signatureAlgorithm=new Xn({schema:t.result["BasicOCSPResponse.signatureAlgorithm"]}),this.signature=t.result[sg],ig in t.result&&(this.certs=Array.from(t.result[ig],(e=>new Qh({schema:e}))))}toSchema(){const e=[];return e.push(this.tbsResponseData.toSchema()),e.push(this.signatureAlgorithm.toSchema()),e.push(this.signature),this.certs&&e.push(new pi({idBlock:{tagClass:3,tagNumber:0},value:[new Ui({value:Array.from(this.certs,(e=>e.toSchema()))})]})),new Ui({value:e})}toJSON(){const e={tbsResponseData:this.tbsResponseData.toJSON(),signatureAlgorithm:this.signatureAlgorithm.toJSON(),signature:this.signature.toJSON()};return this.certs&&(e.certs=Array.from(this.certs,(e=>e.toJSON()))),e}async getCertificateStatus(e,t,r=Bc(!0)){const s={isForCertificate:!1,status:2},i={},n=[];for(const s of this.tbsResponseData.responses){const a=r.getAlgorithmByOID(s.certID.hashAlgorithm.algorithmId,!0,"CertID.hashAlgorithm");if(!i[a.name]){i[a.name]=1;const s=new vp;n.push(s),await s.createForCertificate(e,{hashAlgorithm:a.name,issuerCertificate:t},r)}}for(const e of this.tbsResponseData.responses)for(const t of n)if(e.certID.isEqual(t)){s.isForCertificate=!0;try{switch(e.certStatus.idBlock.isConstructed){case!0:1===e.certStatus.idBlock.tagNumber&&(s.status=1);break;case!1:switch(e.certStatus.idBlock.tagNumber){case 0:s.status=0;break;case 2:s.status=2}}}catch(e){}return s}return s}async sign(e,t="SHA-1",r=Bc(!0)){if(!e)throw new Error("Need to provide a private key for signing");const s=await r.getSignatureParameters(e,t),i=s.parameters.algorithm;if(!("name"in i))throw new Error("Empty algorithm");this.signatureAlgorithm=s.signatureAlgorithm,this.tbsResponseData.tbsView=new Uint8Array(this.tbsResponseData.toSchema(!0).toBER());const n=await r.signWithPrivateKey(this.tbsResponseData.tbsView,e,{algorithm:i});this.signature=new Si({valueHex:n})}async verify(e={},t=Bc(!0)){let r=null,s=-1;const i=e.trustedCerts||[];if(!this.certs)throw new Error("No certificates attached to the BasicOCSPResponse");switch(!0){case this.tbsResponseData.responderID instanceof Tn:for(const[e,t]of this.certs.entries())if(t.subject.isEqual(this.tbsResponseData.responderID)){s=e;break}break;case this.tbsResponseData.responderID instanceof ki:for(const[e,r]of this.certs.entries()){if(Xr(await t.digest({name:"sha-1"},r.subjectPublicKeyInfo.subjectPublicKey.valueBlock.valueHexView),this.tbsResponseData.responderID.valueBlock.valueHex)){s=e;break}}break;default:throw new Error("Wrong value for responderID")}if(-1===s)throw new Error("Correct certificate was not found in OCSP response");r=this.certs[s];const n=[r];for(const e of this.certs){const t=await Jh(e,r);t&&n.push(t)}const a=new Gp({certs:n,trustedCerts:i});if(!(await a.verify({},t)).result)throw new Error("Validation of signer's certificate failed");return t.verifyWithPublicKey(this.tbsResponseData.tbsView,this.signature,this.certs[s].subjectPublicKeyInfo,this.signatureAlgorithm)}}ag.CLASS_NAME="BasicOCSPResponse";const og="tbs",lg="version",cg="subject",ug="subjectPublicKeyInfo",hg="attributes",fg="signatureAlgorithm",dg="signatureValue",mg="CertificationRequestInfo",pg=`${mg}.version`,gg=`${mg}.subject`,wg=`${mg}.subjectPublicKeyInfo`,yg=`${mg}.attributes`,bg=[mg,pg,gg,wg,yg,fg,dg];function vg(e={}){const t=qr(e,"names",{});return new Ui({name:t.CertificationRequestInfo||mg,value:[new Ii({name:t.CertificationRequestInfoVersion||pg}),Tn.schema(t.subject||{names:{blockName:gg}}),Sl.schema({names:{blockName:wg}}),new pi({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new dn({optional:!0,name:t.CertificationRequestInfoAttributes||yg,value:ia.schema(t.attributes||{})})]})]})}class Ag extends Sn{constructor(e={}){super(),this.tbsView=new Uint8Array(qr(e,og,Ag.defaultValues(og))),this.version=qr(e,lg,Ag.defaultValues(lg)),this.subject=qr(e,cg,Ag.defaultValues(cg)),this.subjectPublicKeyInfo=qr(e,ug,Ag.defaultValues(ug)),hg in e&&(this.attributes=qr(e,hg,Ag.defaultValues(hg))),this.signatureAlgorithm=qr(e,fg,Ag.defaultValues(fg)),this.signatureValue=qr(e,dg,Ag.defaultValues(dg)),e.schema&&this.fromSchema(e.schema)}get tbs(){return jr.vJ.toArrayBuffer(this.tbsView)}set tbs(e){this.tbsView=new Uint8Array(e)}static defaultValues(e){switch(e){case og:return bn;case lg:return 0;case cg:return new Tn;case ug:return new Sl;case hg:return[];case fg:return new Xn;case dg:return new Si;default:return super.defaultValues(e)}}static schema(e={}){const t=qr(e,"names",{});return new Ui({value:[vg(t.certificationRequestInfo||{}),new Ui({name:t.signatureAlgorithm||fg,value:[new Oi,new hn({optional:!0})]}),new Si({name:t.signatureValue||dg})]})}fromSchema(e){os(e,bg);const t=pn(e,e,Ag.schema());_n.assertSchema(t,this.className),this.tbsView=t.result.CertificationRequestInfo.valueBeforeDecodeView,this.version=t.result[pg].valueBlock.valueDec,this.subject=new Tn({schema:t.result[gg]}),this.subjectPublicKeyInfo=new Sl({schema:t.result[wg]}),yg in t.result&&(this.attributes=Array.from(t.result[yg],(e=>new ia({schema:e})))),this.signatureAlgorithm=new Xn({schema:t.result.signatureAlgorithm}),this.signatureValue=t.result.signatureValue}encodeTBS(){const e=[new Ii({value:this.version}),this.subject.toSchema(),this.subjectPublicKeyInfo.toSchema()];return hg in this&&e.push(new pi({idBlock:{tagClass:3,tagNumber:0},value:Array.from(this.attributes||[],(e=>e.toSchema()))})),new Ui({value:e})}toSchema(e=!1){let t;if(!1===e){if(0===this.tbsView.byteLength)return Ag.schema();const e=di(this.tbsView);_n.assert(e,"PKCS#10 Certificate Request"),t=e.result}else t=this.encodeTBS();return new Ui({value:[t,this.signatureAlgorithm.toSchema(),this.signatureValue]})}toJSON(){const e={tbs:jr.ep.ToHex(this.tbsView),version:this.version,subject:this.subject.toJSON(),subjectPublicKeyInfo:this.subjectPublicKeyInfo.toJSON(),signatureAlgorithm:this.signatureAlgorithm.toJSON(),signatureValue:this.signatureValue.toJSON()};return hg in this&&(e.attributes=Array.from(this.attributes||[],(e=>e.toJSON()))),e}async sign(e,t="SHA-1",r=Bc(!0)){if(!e)throw new Error("Need to provide a private key for signing");const s=await r.getSignatureParameters(e,t),i=s.parameters;this.signatureAlgorithm=s.signatureAlgorithm,this.tbsView=new Uint8Array(this.encodeTBS().toBER());const n=await r.signWithPrivateKey(this.tbsView,e,i);this.signatureValue=new Si({valueHex:n})}async verify(e=Bc(!0)){return e.verifyWithPublicKey(this.tbsView,this.signatureValue,this.subjectPublicKeyInfo,this.signatureAlgorithm)}async getPublicKey(e,t=Bc(!0)){return t.getPublicKey(this.subjectPublicKeyInfo,this.signatureAlgorithm,e)}}Ag.CLASS_NAME="CertificationRequest";const kg="digestAlgorithm",_g="digest",Sg=[kg,_g];class Eg extends Sn{constructor(e={}){super(),this.digestAlgorithm=qr(e,kg,Eg.defaultValues(kg)),this.digest=qr(e,_g,Eg.defaultValues(_g)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case kg:return new Xn;case _g:return new ki;default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case kg:return Xn.compareWithDefault("algorithmId",t.algorithmId)&&"algorithmParams"in t==!1;case _g:return t.isEqual(Eg.defaultValues(e));default:return super.defaultValues(e)}}static schema(e={}){const t=qr(e,"names",{});return new Ui({name:t.blockName||vn,value:[Xn.schema(t.digestAlgorithm||{names:{blockName:kg}}),new ki({name:t.digest||_g})]})}fromSchema(e){os(e,Sg);const t=pn(e,e,Eg.schema({names:{digestAlgorithm:{names:{blockName:kg}},digest:_g}}));_n.assertSchema(t,this.className),this.digestAlgorithm=new Xn({schema:t.result.digestAlgorithm}),this.digest=t.result.digest}toSchema(){return new Ui({value:[this.digestAlgorithm.toSchema(),this.digest]})}toJSON(){return{digestAlgorithm:this.digestAlgorithm.toJSON(),digest:this.digest.toJSON()}}}Eg.CLASS_NAME="DigestInfo";const Cg="eContentType",Ng="eContent",Bg=[Cg,Ng];class Ig extends Sn{constructor(e={}){if(super(),this.eContentType=qr(e,Cg,Ig.defaultValues(Cg)),Ng in e&&(this.eContent=qr(e,Ng,Ig.defaultValues(Ng)),1===this.eContent.idBlock.tagClass&&4===this.eContent.idBlock.tagNumber&&!1===this.eContent.idBlock.isConstructed)){const e=new ki({idBlock:{isConstructed:!0},isConstructed:!0});let t=0;const r=this.eContent.valueBlock.valueHexView.slice().buffer;let s=r.byteLength;for(;s>0;){const i=new Uint8Array(r,t,t+65536>r.byteLength?r.byteLength-t:65536),n=new ArrayBuffer(i.length),a=new Uint8Array(n);for(let e=0;e<a.length;e++)a[e]=i[e];e.valueBlock.value.push(new ki({valueHex:n})),s-=i.length,t+=i.length}this.eContent=e}e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Cg:return vn;case Ng:return new ki;default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case Cg:return t===vn;case Ng:return 1===t.idBlock.tagClass&&4===t.idBlock.tagNumber&&t.isEqual(Ig.defaultValues(Ng));default:return super.defaultValues(e)}}static schema(e={}){const t=qr(e,"names",{});return new Ui({name:t.blockName||vn,value:[new Oi({name:t.eContentType||vn}),new pi({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new hn({name:t.eContent||vn})]})]})}fromSchema(e){os(e,Bg);const t=pn(e,e,Ig.schema({names:{eContentType:Cg,eContent:Ng}}));_n.assertSchema(t,this.className),this.eContentType=t.result.eContentType.valueBlock.toString(),Ng in t.result&&(this.eContent=t.result.eContent)}toSchema(){const e=[];return e.push(new Oi({value:this.eContentType})),this.eContent&&!1===Ig.compareWithDefault(Ng,this.eContent)&&e.push(new pi({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[this.eContent]})),new Ui({value:e})}toJSON(){const e={eContentType:this.eContentType};return this.eContent&&!1===Ig.compareWithDefault(Ng,this.eContent)&&(e.eContent=this.eContent.toJSON()),e}}Ig.CLASS_NAME="EncapsulatedContentInfo";const xg="mac",Tg="macSalt",Rg="iterations",Og=[xg,Tg,Rg];class Pg extends Sn{constructor(e={}){super(),this.mac=qr(e,xg,Pg.defaultValues(xg)),this.macSalt=qr(e,Tg,Pg.defaultValues(Tg)),Rg in e&&(this.iterations=qr(e,Rg,Pg.defaultValues(Rg))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case xg:return new Eg;case Tg:return new ki;case Rg:return 1;default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case xg:return Eg.compareWithDefault("digestAlgorithm",t.digestAlgorithm)&&Eg.compareWithDefault("digest",t.digest);case Tg:return t.isEqual(Pg.defaultValues(e));case Rg:return t===Pg.defaultValues(e);default:return super.defaultValues(e)}}static schema(e={}){const t=qr(e,"names",{});return new Ui({name:t.blockName||vn,optional:t.optional||!0,value:[Eg.schema(t.mac||{names:{blockName:xg}}),new ki({name:t.macSalt||Tg}),new Ii({optional:!0,name:t.iterations||Rg})]})}fromSchema(e){os(e,Og);const t=pn(e,e,Pg.schema({names:{mac:{names:{blockName:xg}},macSalt:Tg,iterations:Rg}}));_n.assertSchema(t,this.className),this.mac=new Eg({schema:t.result.mac}),this.macSalt=t.result.macSalt,Rg in t.result&&(this.iterations=t.result.iterations.valueBlock.valueDec)}toSchema(){const e=[this.mac.toSchema(),this.macSalt];return void 0!==this.iterations&&e.push(new Ii({value:this.iterations})),new Ui({value:e})}toJSON(){const e={mac:this.mac.toJSON(),macSalt:this.macSalt.toJSON()};return void 0!==this.iterations&&(e.iterations=this.iterations),e}}Pg.CLASS_NAME="MacData";const Dg="hashAlgorithm",Lg="hashedMessage",Ug=[Dg,Lg];class Vg extends Sn{constructor(e={}){super(),this.hashAlgorithm=qr(e,Dg,Vg.defaultValues(Dg)),this.hashedMessage=qr(e,Lg,Vg.defaultValues(Lg)),e.schema&&this.fromSchema(e.schema)}static async create(e,t,r=Bc(!0)){const s=r.getOIDByAlgorithm({name:e},!0,"hashAlgorithm"),i=await r.digest(e,t);return new Vg({hashAlgorithm:new Xn({algorithmId:s,algorithmParams:new yi}),hashedMessage:new ki({valueHex:i})})}static defaultValues(e){switch(e){case Dg:return new Xn;case Lg:return new ki;default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case Dg:return t.algorithmId===vn&&"algorithmParams"in t==!1;case Lg:return 0===t.isEqual(Vg.defaultValues(e));default:return super.defaultValues(e)}}static schema(e={}){const t=qr(e,"names",{});return new Ui({name:t.blockName||vn,value:[Xn.schema(t.hashAlgorithm||{}),new ki({name:t.hashedMessage||vn})]})}fromSchema(e){os(e,Ug);const t=pn(e,e,Vg.schema({names:{hashAlgorithm:{names:{blockName:Dg}},hashedMessage:Lg}}));_n.assertSchema(t,this.className),this.hashAlgorithm=new Xn({schema:t.result.hashAlgorithm}),this.hashedMessage=t.result.hashedMessage}toSchema(){return new Ui({value:[this.hashAlgorithm.toSchema(),this.hashedMessage]})}toJSON(){return{hashAlgorithm:this.hashAlgorithm.toJSON(),hashedMessage:this.hashedMessage.toJSON()}}}Vg.CLASS_NAME="MessageImprint";const Hg="reqCert",Mg="singleRequestExtensions",Fg=[Hg,Mg];class Wg extends Sn{constructor(e={}){super(),this.reqCert=qr(e,Hg,Wg.defaultValues(Hg)),Mg in e&&(this.singleRequestExtensions=qr(e,Mg,Wg.defaultValues(Mg))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Hg:return new vp;case Mg:return[];default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case Hg:return t.isEqual(Wg.defaultValues(e));case Mg:return 0===t.length;default:return super.defaultValues(e)}}static schema(e={}){const t=qr(e,"names",{});return new Ui({name:t.blockName||vn,value:[vp.schema(t.reqCert||{}),new pi({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[iu.schema(t.extensions||{names:{blockName:t.singleRequestExtensions||vn}})]})]})}fromSchema(e){os(e,Fg);const t=pn(e,e,Wg.schema({names:{reqCert:{names:{blockName:Hg}},extensions:{names:{blockName:Mg}}}}));_n.assertSchema(t,this.className),this.reqCert=new vp({schema:t.result.reqCert}),Mg in t.result&&(this.singleRequestExtensions=Array.from(t.result.singleRequestExtensions.valueBlock.value,(e=>new iu({schema:e}))))}toSchema(){const e=[];return e.push(this.reqCert.toSchema()),this.singleRequestExtensions&&e.push(new pi({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new Ui({value:Array.from(this.singleRequestExtensions,(e=>e.toSchema()))})]})),new Ui({value:e})}toJSON(){const e={reqCert:this.reqCert.toJSON()};return this.singleRequestExtensions&&(e.singleRequestExtensions=Array.from(this.singleRequestExtensions,(e=>e.toJSON()))),e}}Wg.CLASS_NAME="Request";const jg="tbs",qg="version",zg="requestorName",Kg="requestList",Qg="requestExtensions",Jg="TBSRequest",Gg="TBSRequest.version",Zg="TBSRequest.requestorName",Xg="TBSRequest.requests",Yg="TBSRequest.requestExtensions",$g=[Jg,Gg,Zg,Xg,Yg];class ew extends Sn{constructor(e={}){super(),this.tbsView=new Uint8Array(qr(e,jg,ew.defaultValues(jg))),qg in e&&(this.version=qr(e,qg,ew.defaultValues(qg))),zg in e&&(this.requestorName=qr(e,zg,ew.defaultValues(zg))),this.requestList=qr(e,Kg,ew.defaultValues(Kg)),Qg in e&&(this.requestExtensions=qr(e,Qg,ew.defaultValues(Qg))),e.schema&&this.fromSchema(e.schema)}get tbs(){return jr.vJ.toArrayBuffer(this.tbsView)}set tbs(e){this.tbsView=new Uint8Array(e)}static defaultValues(e){switch(e){case jg:return bn;case qg:return 0;case zg:return new Un;case Kg:case Qg:return[];default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case jg:return 0===t.byteLength;case qg:return t===ew.defaultValues(e);case zg:return t.type===Un.defaultValues("type")&&0===Object.keys(t.value).length;case Kg:case Qg:return 0===t.length;default:return super.defaultValues(e)}}static schema(e={}){const t=qr(e,"names",{});return new Ui({name:t.blockName||Jg,value:[new pi({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new Ii({name:t.TBSRequestVersion||Gg})]}),new pi({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[Un.schema(t.requestorName||{names:{blockName:Zg}})]}),new Ui({name:t.requestList||"TBSRequest.requestList",value:[new dn({name:t.requests||Xg,value:Wg.schema(t.requestNames||{})})]}),new pi({optional:!0,idBlock:{tagClass:3,tagNumber:2},value:[ou.schema(t.extensions||{names:{blockName:t.requestExtensions||Yg}})]})]})}fromSchema(e){os(e,$g);const t=pn(e,e,ew.schema());_n.assertSchema(t,this.className),this.tbsView=t.result.TBSRequest.valueBeforeDecodeView,Gg in t.result&&(this.version=t.result[Gg].valueBlock.valueDec),Zg in t.result&&(this.requestorName=new Un({schema:t.result[Zg]})),this.requestList=Array.from(t.result[Xg],(e=>new Wg({schema:e}))),Yg in t.result&&(this.requestExtensions=Array.from(t.result[Yg].valueBlock.value,(e=>new iu({schema:e}))))}toSchema(e=!1){let t;if(!1===e){if(0===this.tbsView.byteLength)return ew.schema();const e=di(this.tbsView);if(_n.assert(e,"TBS Request"),!(e.result instanceof Ui))throw new Error("ASN.1 result should be SEQUENCE");t=e.result}else{const e=[];void 0!==this.version&&e.push(new pi({idBlock:{tagClass:3,tagNumber:0},value:[new Ii({value:this.version})]})),this.requestorName&&e.push(new pi({idBlock:{tagClass:3,tagNumber:1},value:[this.requestorName.toSchema()]})),e.push(new Ui({value:Array.from(this.requestList,(e=>e.toSchema()))})),this.requestExtensions&&e.push(new pi({idBlock:{tagClass:3,tagNumber:2},value:[new Ui({value:Array.from(this.requestExtensions,(e=>e.toSchema()))})]})),t=new Ui({value:e})}return t}toJSON(){const e={};return null!=this.version&&(e.version=this.version),this.requestorName&&(e.requestorName=this.requestorName.toJSON()),e.requestList=Array.from(this.requestList,(e=>e.toJSON())),this.requestExtensions&&(e.requestExtensions=Array.from(this.requestExtensions,(e=>e.toJSON()))),e}}ew.CLASS_NAME="TBSRequest";const tw="signatureAlgorithm",rw="signature",sw="certs";class iw extends Sn{constructor(e={}){super(),this.signatureAlgorithm=qr(e,tw,iw.defaultValues(tw)),this.signature=qr(e,rw,iw.defaultValues(rw)),sw in e&&(this.certs=qr(e,sw,iw.defaultValues(sw))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case tw:return new Xn;case rw:return new Si;case sw:return[];default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case tw:return t.algorithmId===vn&&"algorithmParams"in t==!1;case rw:return t.isEqual(iw.defaultValues(e));case sw:return 0===t.length;default:return super.defaultValues(e)}}static schema(e={}){const t=qr(e,"names",{});return new Ui({name:t.blockName||vn,value:[Xn.schema(t.signatureAlgorithm||{}),new Si({name:t.signature||vn}),new pi({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new Ui({value:[new dn({name:t.certs||vn,value:Qh.schema({})})]})]})]})}fromSchema(e){os(e,[tw,rw,sw]);const t=pn(e,e,iw.schema({names:{signatureAlgorithm:{names:{blockName:tw}},signature:rw,certs:sw}}));_n.assertSchema(t,this.className),this.signatureAlgorithm=new Xn({schema:t.result.signatureAlgorithm}),this.signature=t.result.signature,sw in t.result&&(this.certs=Array.from(t.result.certs,(e=>new Qh({schema:e}))))}toSchema(){const e=[];return e.push(this.signatureAlgorithm.toSchema()),e.push(this.signature),this.certs&&e.push(new pi({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new Ui({value:Array.from(this.certs,(e=>e.toSchema()))})]})),new Ui({value:e})}toJSON(){const e={signatureAlgorithm:this.signatureAlgorithm.toJSON(),signature:this.signature.toJSON()};return this.certs&&(e.certs=Array.from(this.certs,(e=>e.toJSON()))),e}}iw.CLASS_NAME="Signature";const nw="tbsRequest",aw="optionalSignature",ow=[nw,aw];class lw extends Sn{constructor(e={}){super(),this.tbsRequest=qr(e,nw,lw.defaultValues(nw)),aw in e&&(this.optionalSignature=qr(e,aw,lw.defaultValues(aw))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case nw:return new ew;case aw:return new iw;default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case nw:return ew.compareWithDefault("tbs",t.tbs)&&ew.compareWithDefault("version",t.version)&&ew.compareWithDefault("requestorName",t.requestorName)&&ew.compareWithDefault("requestList",t.requestList)&&ew.compareWithDefault("requestExtensions",t.requestExtensions);case aw:return iw.compareWithDefault("signatureAlgorithm",t.signatureAlgorithm)&&iw.compareWithDefault("signature",t.signature)&&iw.compareWithDefault("certs",t.certs);default:return super.defaultValues(e)}}static schema(e={}){const t=qr(e,"names",{});return new Ui({name:t.blockName||"OCSPRequest",value:[ew.schema(t.tbsRequest||{names:{blockName:nw}}),new pi({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[iw.schema(t.optionalSignature||{names:{blockName:aw}})]})]})}fromSchema(e){os(e,ow);const t=pn(e,e,lw.schema());_n.assertSchema(t,this.className),this.tbsRequest=new ew({schema:t.result.tbsRequest}),aw in t.result&&(this.optionalSignature=new iw({schema:t.result.optionalSignature}))}toSchema(e=!1){const t=[];return t.push(this.tbsRequest.toSchema(e)),this.optionalSignature&&t.push(new pi({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[this.optionalSignature.toSchema()]})),new Ui({value:t})}toJSON(){const e={tbsRequest:this.tbsRequest.toJSON()};return this.optionalSignature&&(e.optionalSignature=this.optionalSignature.toJSON()),e}async createForCertificate(e,t,r=Bc(!0)){const s=new vp;await s.createForCertificate(e,t,r),this.tbsRequest.requestList.push(new Wg({reqCert:s}))}async sign(e,t="SHA-1",r=Bc(!0)){if(kn.assertEmpty(e,"privateKey","OCSPRequest.sign method"),!this.optionalSignature)throw new Error('Need to create "optionalSignature" field before signing');const s=await r.getSignatureParameters(e,t),i=s.parameters;this.optionalSignature.signatureAlgorithm=s.signatureAlgorithm;const n=this.tbsRequest.toSchema(!0).toBER(!1),a=await r.signWithPrivateKey(n,e,i);this.optionalSignature.signature=new Si({valueHex:a})}verify(){}}lw.CLASS_NAME="OCSPRequest";const cw="responseType",uw="response",hw=[cw,uw];class fw extends Sn{constructor(e={}){super(),this.responseType=qr(e,cw,fw.defaultValues(cw)),this.response=qr(e,uw,fw.defaultValues(uw)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case cw:return vn;case uw:return new ki;default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case cw:return t===vn;case uw:return t.isEqual(fw.defaultValues(e));default:return super.defaultValues(e)}}static schema(e={}){const t=qr(e,"names",{});return new Ui({name:t.blockName||vn,value:[new Oi({name:t.responseType||vn}),new ki({name:t.response||vn})]})}fromSchema(e){os(e,hw);const t=pn(e,e,fw.schema({names:{responseType:cw,response:uw}}));_n.assertSchema(t,this.className),this.responseType=t.result.responseType.valueBlock.toString(),this.response=t.result.response}toSchema(){return new Ui({value:[new Oi({value:this.responseType}),this.response]})}toJSON(){return{responseType:this.responseType,response:this.response.toJSON()}}}fw.CLASS_NAME="ResponseBytes";const dw="responseStatus",mw="responseBytes";class pw extends Sn{constructor(e={}){super(),this.responseStatus=qr(e,dw,pw.defaultValues(dw)),mw in e&&(this.responseBytes=qr(e,mw,pw.defaultValues(mw))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case dw:return new xi;case mw:return new fw;default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case dw:return t.isEqual(pw.defaultValues(e));case mw:return fw.compareWithDefault("responseType",t.responseType)&&fw.compareWithDefault("response",t.response);default:return super.defaultValues(e)}}static schema(e={}){const t=qr(e,"names",{});return new Ui({name:t.blockName||"OCSPResponse",value:[new xi({name:t.responseStatus||dw}),new pi({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[fw.schema(t.responseBytes||{names:{blockName:mw}})]})]})}fromSchema(e){os(e,[dw,mw]);const t=pn(e,e,pw.schema());_n.assertSchema(t,this.className),this.responseStatus=t.result.responseStatus,mw in t.result&&(this.responseBytes=new fw({schema:t.result.responseBytes}))}toSchema(){const e=[];return e.push(this.responseStatus),this.responseBytes&&e.push(new pi({idBlock:{tagClass:3,tagNumber:0},value:[this.responseBytes.toSchema()]})),new Ui({value:e})}toJSON(){const e={responseStatus:this.responseStatus.toJSON()};return this.responseBytes&&(e.responseBytes=this.responseBytes.toJSON()),e}async getCertificateStatus(e,t,r=Bc(!0)){let s;const i={isForCertificate:!1,status:2};if(!this.responseBytes)return i;if(this.responseBytes.responseType!==Da)return i;try{const e=di(this.responseBytes.response.valueBlock.valueHexView);_n.assert(e,"Basic OCSP response"),s=new ag({schema:e.result})}catch(e){return i}return s.getCertificateStatus(e,t,r)}async sign(e,t,r=Bc(!0)){var s;if(this.responseBytes&&this.responseBytes.responseType===Da){return ag.fromBER(this.responseBytes.response.valueBlock.valueHexView).sign(e,t,r)}throw new Error(`Unknown ResponseBytes type: ${(null===(s=this.responseBytes)||void 0===s?void 0:s.responseType)||"Unknown"}`)}async verify(e=null,t=Bc(!0)){var r;if(mw in this==!1)throw new Error("Empty ResponseBytes field");if(this.responseBytes&&this.responseBytes.responseType===Da){const r=ag.fromBER(this.responseBytes.response.valueBlock.valueHexView);return null!==e&&(r.certs||(r.certs=[]),r.certs.push(e)),r.verify({},t)}throw new Error(`Unknown ResponseBytes type: ${(null===(r=this.responseBytes)||void 0===r?void 0:r.responseType)||"Unknown"}`)}}pw.CLASS_NAME="OCSPResponse";const gw="type",ww="attributes",yw="encodedValue",bw=[ww];class vw extends Sn{constructor(e={}){super(),this.type=qr(e,gw,vw.defaultValues(gw)),this.attributes=qr(e,ww,vw.defaultValues(ww)),this.encodedValue=qr(e,yw,vw.defaultValues(yw)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case gw:return-1;case ww:return[];case yw:return bn;default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case gw:return t===vw.defaultValues(gw);case ww:return 0===t.length;case yw:return 0===t.byteLength;default:return super.defaultValues(e)}}static schema(e={}){const t=qr(e,"names",{});return new pi({name:t.blockName||vn,optional:!0,idBlock:{tagClass:3,tagNumber:t.tagNumber||0},value:[new dn({name:t.attributes||vn,value:ia.schema()})]})}fromSchema(e){os(e,bw);const t=pn(e,e,vw.schema({names:{tagNumber:this.type,attributes:ww}}));_n.assertSchema(t,this.className),this.type=t.result.idBlock.tagNumber,this.encodedValue=jr.vJ.toArrayBuffer(t.result.valueBeforeDecodeView);if(new Uint8Array(this.encodedValue)[0]=49,ww in t.result!=!1)this.attributes=Array.from(t.result.attributes,(e=>new ia({schema:e})));else if(0===this.type)throw new Error("Wrong structure of SignedUnsignedAttributes")}toSchema(){if(vw.compareWithDefault(gw,this.type)||vw.compareWithDefault(ww,this.attributes))throw new Error('Incorrectly initialized "SignedAndUnsignedAttributes" class');return new pi({optional:!0,idBlock:{tagClass:3,tagNumber:this.type},value:Array.from(this.attributes,(e=>e.toSchema()))})}toJSON(){if(vw.compareWithDefault(gw,this.type)||vw.compareWithDefault(ww,this.attributes))throw new Error('Incorrectly initialized "SignedAndUnsignedAttributes" class');return{type:this.type,attributes:Array.from(this.attributes,(e=>e.toJSON()))}}}vw.CLASS_NAME="SignedAndUnsignedAttributes";const Aw="version",kw="sid",_w="digestAlgorithm",Sw="signedAttrs",Ew="signatureAlgorithm",Cw="signature",Nw="unsignedAttrs",Bw="SignerInfo",Iw="SignerInfo.version",xw="SignerInfo.sid",Tw="SignerInfo.digestAlgorithm",Rw="SignerInfo.signedAttrs",Ow="SignerInfo.signatureAlgorithm",Pw="SignerInfo.signature",Dw="SignerInfo.unsignedAttrs",Lw=[Iw,xw,Tw,Rw,Ow,Pw,Dw];class Uw extends Sn{constructor(e={}){super(),this.version=qr(e,Aw,Uw.defaultValues(Aw)),this.sid=qr(e,kw,Uw.defaultValues(kw)),this.digestAlgorithm=qr(e,_w,Uw.defaultValues(_w)),Sw in e&&(this.signedAttrs=qr(e,Sw,Uw.defaultValues(Sw))),this.signatureAlgorithm=qr(e,Ew,Uw.defaultValues(Ew)),this.signature=qr(e,Cw,Uw.defaultValues(Cw)),Nw in e&&(this.unsignedAttrs=qr(e,Nw,Uw.defaultValues(Nw))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Aw:return 0;case kw:return new hn;case _w:return new Xn;case Sw:return new vw({type:0});case Ew:return new Xn;case Cw:return new ki;case Nw:return new vw({type:1});default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case Aw:return Uw.defaultValues(Aw)===t;case kw:return t instanceof hn;case _w:return t instanceof Xn!=!1&&t.isEqual(Uw.defaultValues(_w));case Sw:return vw.compareWithDefault("type",t.type)&&vw.compareWithDefault("attributes",t.attributes)&&vw.compareWithDefault("encodedValue",t.encodedValue);case Ew:return t instanceof Xn!=!1&&t.isEqual(Uw.defaultValues(Ew));case Cw:case Nw:return vw.compareWithDefault("type",t.type)&&vw.compareWithDefault("attributes",t.attributes)&&vw.compareWithDefault("encodedValue",t.encodedValue);default:return super.defaultValues(e)}}static schema(e={}){const t=qr(e,"names",{});return new Ui({name:Bw,value:[new Ii({name:t.version||Iw}),new fn({value:[_d.schema(t.sidSchema||{names:{blockName:xw}}),new fn({value:[new pi({optional:!0,name:t.sid||xw,idBlock:{tagClass:3,tagNumber:0},value:[new ki]}),new hi({optional:!0,name:t.sid||xw,idBlock:{tagClass:3,tagNumber:0}})]})]}),Xn.schema(t.digestAlgorithm||{names:{blockName:Tw}}),vw.schema(t.signedAttrs||{names:{blockName:Rw,tagNumber:0}}),Xn.schema(t.signatureAlgorithm||{names:{blockName:Ow}}),new ki({name:t.signature||Pw}),vw.schema(t.unsignedAttrs||{names:{blockName:Dw,tagNumber:1}})]})}fromSchema(e){os(e,Lw);const t=pn(e,e,Uw.schema());_n.assertSchema(t,this.className),this.version=t.result[Iw].valueBlock.valueDec;const r=t.result[xw];1===r.idBlock.tagClass?this.sid=new _d({schema:r}):this.sid=r,this.digestAlgorithm=new Xn({schema:t.result[Tw]}),Rw in t.result&&(this.signedAttrs=new vw({type:0,schema:t.result[Rw]})),this.signatureAlgorithm=new Xn({schema:t.result[Ow]}),this.signature=t.result[Pw],Dw in t.result&&(this.unsignedAttrs=new vw({type:1,schema:t.result[Dw]}))}toSchema(){if(Uw.compareWithDefault(kw,this.sid))throw new Error('Incorrectly initialized "SignerInfo" class');const e=[];return e.push(new Ii({value:this.version})),this.sid instanceof _d?e.push(this.sid.toSchema()):e.push(this.sid),e.push(this.digestAlgorithm.toSchema()),this.signedAttrs&&!1===Uw.compareWithDefault(Sw,this.signedAttrs)&&e.push(this.signedAttrs.toSchema()),e.push(this.signatureAlgorithm.toSchema()),e.push(this.signature),this.unsignedAttrs&&!1===Uw.compareWithDefault(Nw,this.unsignedAttrs)&&e.push(this.unsignedAttrs.toSchema()),new Ui({value:e})}toJSON(){if(Uw.compareWithDefault(kw,this.sid))throw new Error('Incorrectly initialized "SignerInfo" class');const e={version:this.version,digestAlgorithm:this.digestAlgorithm.toJSON(),signatureAlgorithm:this.signatureAlgorithm.toJSON(),signature:this.signature.toJSON()};return this.sid instanceof hn||(e.sid=this.sid.toJSON()),this.signedAttrs&&!1===Uw.compareWithDefault(Sw,this.signedAttrs)&&(e.signedAttrs=this.signedAttrs.toJSON()),this.unsignedAttrs&&!1===Uw.compareWithDefault(Nw,this.unsignedAttrs)&&(e.unsignedAttrs=this.unsignedAttrs.toJSON()),e}}Uw.CLASS_NAME="SignerInfo";const Vw="version",Hw="policy",Mw="messageImprint",Fw="serialNumber",Ww="genTime",jw="ordering",qw="nonce",zw="accuracy",Kw="tsa",Qw="extensions",Jw="TSTInfo",Gw="TSTInfo.version",Zw="TSTInfo.policy",Xw="TSTInfo.messageImprint",Yw="TSTInfo.serialNumber",$w="TSTInfo.genTime",ey="TSTInfo.accuracy",ty="TSTInfo.ordering",ry="TSTInfo.nonce",sy="TSTInfo.tsa",iy="TSTInfo.extensions",ny=[Gw,Zw,Xw,Yw,$w,ey,ty,ry,sy,iy];class ay extends Sn{constructor(e={}){super(),this.version=qr(e,Vw,ay.defaultValues(Vw)),this.policy=qr(e,Hw,ay.defaultValues(Hw)),this.messageImprint=qr(e,Mw,ay.defaultValues(Mw)),this.serialNumber=qr(e,Fw,ay.defaultValues(Fw)),this.genTime=qr(e,Ww,ay.defaultValues(Ww)),zw in e&&(this.accuracy=qr(e,zw,ay.defaultValues(zw))),jw in e&&(this.ordering=qr(e,jw,ay.defaultValues(jw))),qw in e&&(this.nonce=qr(e,qw,ay.defaultValues(qw))),Kw in e&&(this.tsa=qr(e,Kw,ay.defaultValues(Kw))),Qw in e&&(this.extensions=qr(e,Qw,ay.defaultValues(Qw))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Vw:return 0;case Hw:return vn;case Mw:return new Vg;case Fw:return new Ii;case Ww:return new Date(0,0,0);case zw:return new zn;case jw:return!1;case qw:return new Ii;case Kw:return new Un;case Qw:return[];default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case Vw:case Hw:case Ww:case jw:return t===ay.defaultValues(jw);case Mw:return Vg.compareWithDefault(Dg,t.hashAlgorithm)&&Vg.compareWithDefault(Lg,t.hashedMessage);case Fw:case qw:return t.isEqual(ay.defaultValues(qw));case zw:return zn.compareWithDefault(Wn,t.seconds)&&zn.compareWithDefault(jn,t.millis)&&zn.compareWithDefault(qn,t.micros);case Kw:return Un.compareWithDefault(Rn,t.type)&&Un.compareWithDefault(On,t.value);case Qw:return 0===t.length;default:return super.defaultValues(e)}}static schema(e={}){const t=qr(e,"names",{});return new Ui({name:t.blockName||Jw,value:[new Ii({name:t.version||Gw}),new Oi({name:t.policy||Zw}),Vg.schema(t.messageImprint||{names:{blockName:Xw}}),new Ii({name:t.serialNumber||Yw}),new nn({name:t.genTime||$w}),zn.schema(t.accuracy||{names:{blockName:ey}}),new vi({name:t.ordering||ty,optional:!0}),new Ii({name:t.nonce||ry,optional:!0}),new pi({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[Un.schema(t.tsa||{names:{blockName:sy}})]}),new pi({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[new dn({name:t.extensions||iy,value:iu.schema(t.extension||{})})]})]})}fromSchema(e){os(e,ny);const t=pn(e,e,ay.schema());_n.assertSchema(t,this.className),this.version=t.result[Gw].valueBlock.valueDec,this.policy=t.result[Zw].valueBlock.toString(),this.messageImprint=new Vg({schema:t.result[Xw]}),this.serialNumber=t.result[Yw],this.genTime=t.result[$w].toDate(),ey in t.result&&(this.accuracy=new zn({schema:t.result[ey]})),ty in t.result&&(this.ordering=t.result[ty].valueBlock.value),ry in t.result&&(this.nonce=t.result[ry]),sy in t.result&&(this.tsa=new Un({schema:t.result[sy]})),iy in t.result&&(this.extensions=Array.from(t.result[iy],(e=>new iu({schema:e}))))}toSchema(){const e=[];return e.push(new Ii({value:this.version})),e.push(new Oi({value:this.policy})),e.push(this.messageImprint.toSchema()),e.push(this.serialNumber),e.push(new nn({valueDate:this.genTime})),this.accuracy&&e.push(this.accuracy.toSchema()),void 0!==this.ordering&&e.push(new vi({value:this.ordering})),this.nonce&&e.push(this.nonce),this.tsa&&e.push(new pi({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[this.tsa.toSchema()]})),this.extensions&&e.push(new pi({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:Array.from(this.extensions,(e=>e.toSchema()))})),new Ui({value:e})}toJSON(){const e={version:this.version,policy:this.policy,messageImprint:this.messageImprint.toJSON(),serialNumber:this.serialNumber.toJSON(),genTime:this.genTime};return this.accuracy&&(e.accuracy=this.accuracy.toJSON()),void 0!==this.ordering&&(e.ordering=this.ordering),this.nonce&&(e.nonce=this.nonce.toJSON()),this.tsa&&(e.tsa=this.tsa.toJSON()),this.extensions&&(e.extensions=Array.from(this.extensions,(e=>e.toJSON()))),e}async verify(e,t=Bc(!0)){if(!e.data)throw new Error('"data" is a mandatory attribute for TST_INFO verification');const r=e.data;if(e.notBefore&&this.genTime<e.notBefore)throw new Error("Generation time for TSTInfo object is less than notBefore value");if(e.notAfter&&this.genTime>e.notAfter)throw new Error("Generation time for TSTInfo object is more than notAfter value");const s=t.getAlgorithmByOID(this.messageImprint.hashAlgorithm.algorithmId,!0,"MessageImprint.hashAlgorithm"),i=await t.digest(s.name,new Uint8Array(r));return jr.vJ.isEqual(i,this.messageImprint.hashedMessage.valueBlock.valueHexView)}}ay.CLASS_NAME="TSTInfo";const oy="version",ly="digestAlgorithms",cy="encapContentInfo",uy="certificates",hy="crls",fy="signerInfos",dy="ocsps",my="SignedData",py="SignedData.version",gy="SignedData.digestAlgorithms",wy="SignedData.encapContentInfo",yy="SignedData.certificates",by="SignedData.crls",vy="SignedData.signerInfos",Ay=[py,gy,wy,yy,by,vy];class ky extends Error{constructor({message:e,code:t=0,date:r=new Date,signatureVerified:s=null,signerCertificate:i=null,signerCertificateVerified:n=null,timestampSerial:a=null}){super(e),this.name="SignedDataVerifyError",this.date=r,this.code=t,this.timestampSerial=a,this.signatureVerified=s,this.signerCertificate=i,this.signerCertificateVerified=n}}class _y extends Sn{constructor(e={}){super(),this.version=qr(e,oy,_y.defaultValues(oy)),this.digestAlgorithms=qr(e,ly,_y.defaultValues(ly)),this.encapContentInfo=qr(e,cy,_y.defaultValues(cy)),uy in e&&(this.certificates=qr(e,uy,_y.defaultValues(uy))),hy in e&&(this.crls=qr(e,hy,_y.defaultValues(hy))),dy in e&&(this.ocsps=qr(e,dy,_y.defaultValues(dy))),this.signerInfos=qr(e,fy,_y.defaultValues(fy)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case oy:return 0;case ly:return[];case cy:return new Ig;case uy:case hy:case dy:case fy:return[];default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case oy:return t===_y.defaultValues(oy);case cy:return Ig.compareWithDefault("eContentType",t.eContentType)&&Ig.compareWithDefault("eContent",t.eContent);case ly:case uy:case hy:case dy:case fy:return 0===t.length;default:return super.defaultValues(e)}}static schema(e={}){const t=qr(e,"names",{});return void 0===t.optional&&(t.optional=!1),new Ui({name:t.blockName||my,optional:t.optional,value:[new Ii({name:t.version||py}),new Vi({value:[new dn({name:t.digestAlgorithms||gy,value:Xn.schema()})]}),Ig.schema(t.encapContentInfo||{names:{blockName:wy}}),new pi({name:t.certificates||yy,optional:!0,idBlock:{tagClass:3,tagNumber:0},value:od.schema().valueBlock.value}),new pi({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:pd.schema(t.crls||{names:{crls:by}}).valueBlock.value}),new Vi({value:[new dn({name:t.signerInfos||vy,value:Uw.schema()})]})]})}fromSchema(e){os(e,Ay);const t=pn(e,e,_y.schema());if(_n.assertSchema(t,this.className),this.version=t.result[py].valueBlock.valueDec,gy in t.result&&(this.digestAlgorithms=Array.from(t.result[gy],(e=>new Xn({schema:e})))),this.encapContentInfo=new Ig({schema:t.result["SignedData.encapContentInfo"]}),yy in t.result){const e=new od({schema:new Vi({value:t.result[yy].valueBlock.value})});this.certificates=e.certificates.slice(0)}by in t.result&&(this.crls=Array.from(t.result[by],(e=>1===e.idBlock.tagClass?new Nf({schema:e}):(e.idBlock.tagClass=1,e.idBlock.tagNumber=16,new hd({schema:e}))))),vy in t.result&&(this.signerInfos=Array.from(t.result[vy],(e=>new Uw({schema:e}))))}toSchema(e=!1){const t=[];if(this.certificates&&this.certificates.length&&this.certificates.some((e=>e instanceof id))||this.crls&&this.crls.length&&this.crls.some((e=>e instanceof hd))?this.version=5:this.certificates&&this.certificates.length&&this.certificates.some((e=>e instanceof oh))?this.version=4:this.certificates&&this.certificates.length&&this.certificates.some((e=>e instanceof Iu))||this.signerInfos.some((e=>3===e.version))||this.encapContentInfo.eContentType!==_y.ID_DATA?this.version=3:this.version=1,t.push(new Ii({value:this.version})),t.push(new Vi({value:Array.from(this.digestAlgorithms,(e=>e.toSchema()))})),t.push(this.encapContentInfo.toSchema()),this.certificates){const e=new od({certificates:this.certificates}).toSchema();t.push(new pi({idBlock:{tagClass:3,tagNumber:0},value:e.valueBlock.value}))}return this.crls&&t.push(new pi({idBlock:{tagClass:3,tagNumber:1},value:Array.from(this.crls,(t=>{if(t instanceof hd){const e=t.toSchema();return e.idBlock.tagClass=3,e.idBlock.tagNumber=1,e}return t.toSchema(e)}))})),t.push(new Vi({value:Array.from(this.signerInfos,(e=>e.toSchema()))})),new Ui({value:t})}toJSON(){const e={version:this.version,digestAlgorithms:Array.from(this.digestAlgorithms,(e=>e.toJSON())),encapContentInfo:this.encapContentInfo.toJSON(),signerInfos:Array.from(this.signerInfos,(e=>e.toJSON()))};return this.certificates&&(e.certificates=Array.from(this.certificates,(e=>e.toJSON()))),this.crls&&(e.crls=Array.from(this.crls,(e=>e.toJSON()))),e}async verify({signer:e=-1,data:t=bn,trustedCerts:r=[],checkDate:s=new Date,checkChain:i=!1,passedWhenNotRevValues:n=!1,extendedMode:a=!1,findOrigin:o=null,findIssuer:l=null}={},c=Bc(!0)){let u=null,h=null;try{let f=bn,d=vn,m=[];const p=this.signerInfos[e];if(!p)throw new ky({date:s,code:1,message:"Unable to get signer by supplied index"});if(!this.certificates)throw new ky({date:s,code:2,message:"No certificates attached to this signed data"});if(p.sid instanceof _d){for(const e of this.certificates)if(e instanceof Qh&&e.issuer.isEqual(p.sid.issuer)&&e.serialNumber.isEqual(p.sid.serialNumber)){u=e;break}}else{const e=p.sid,t=e.idBlock.isConstructed?e.valueBlock.value[0].valueBlock.valueHex:e.valueBlock.valueHex;for(const e of this.certificates){if(!(e instanceof Qh))continue;if(Xr(await c.digest({name:"sha-1"},e.subjectPublicKeyInfo.subjectPublicKey.valueBlock.valueHexView),t)){u=e;break}}}if(!u)throw new ky({date:s,code:3,message:"Unable to find signer certificate"});if("1.2.840.113549.1.9.16.1.4"===this.encapContentInfo.eContentType){if(!this.encapContentInfo.eContent)throw new ky({date:s,code:15,message:"Error during verification: TSTInfo eContent is empty",signatureVerified:null,signerCertificate:u,timestampSerial:h,signerCertificateVerified:!0});let e;try{e=ay.fromBER(this.encapContentInfo.eContent.valueBlock.valueHexView)}catch(e){throw new ky({date:s,code:15,message:"Error during verification: TSTInfo wrong ASN.1 schema ",signatureVerified:null,signerCertificate:u,timestampSerial:h,signerCertificateVerified:!0})}if(s=e.genTime,h=e.serialNumber.valueBlock.valueHexView.slice(),0===t.byteLength)throw new ky({date:s,code:4,message:"Missed detached data input array"});if(!await e.verify({data:t},c))throw new ky({date:s,code:15,message:"Error during verification: TSTInfo verification is failed",signatureVerified:null,signerCertificate:u,timestampSerial:h,signerCertificateVerified:!0})}if(i){const e=this.certificates.filter((e=>e instanceof Qh&&!!Jh(e,u))),t={checkDate:s,certs:e,trustedCerts:r};l&&(t.findIssuer=l),o&&(t.findOrigin=o);const i=new Gp(t);if(i.certs.push(u),this.crls)for(const e of this.crls)"thisUpdate"in e?i.crls.push(e):e.otherRevInfoFormat===Da&&i.ocsps.push(new ag({schema:e.otherRevInfo}));this.ocsps&&i.ocsps.push(...this.ocsps);const a=await i.verify({passedWhenNotRevValues:n},c).catch((e=>{throw new ky({date:s,code:5,message:`Validation of signer's certificate failed with error: ${e instanceof Object?e.resultMessage:e}`,signerCertificate:u,signerCertificateVerified:!1})}));if(a.certificatePath&&(m=a.certificatePath),!a.result)throw new ky({date:s,code:5,message:`Validation of signer's certificate failed: ${a.resultMessage}`,signerCertificate:u,signerCertificateVerified:!1})}const g=c.getAlgorithmByOID(p.digestAlgorithm.algorithmId);if(!("name"in g))throw new ky({date:s,code:7,message:`Unsupported signature algorithm: ${p.digestAlgorithm.algorithmId}`,signerCertificate:u,signerCertificateVerified:!0});d=g.name;const w=this.encapContentInfo.eContent;if(w)t=1===w.idBlock.tagClass&&4===w.idBlock.tagNumber?w.getValue():w.valueBlock.valueBeforeDecodeView;else if(0===t.byteLength)throw new ky({date:s,code:8,message:"Missed detached data input array",signerCertificate:u,signerCertificateVerified:!0});if(p.signedAttrs){let e=!1,t=!1;for(const r of p.signedAttrs.attributes)if("1.2.840.113549.1.9.3"===r.type&&(e=!0),"1.2.840.113549.1.9.4"===r.type&&(t=!0,f=r.values[0].valueBlock.valueHex),e&&t)break;if(!1===e)throw new ky({date:s,code:9,message:'Attribute "content-type" is a mandatory attribute for "signed attributes"',signerCertificate:u,signerCertificateVerified:!0});if(!1===t)throw new ky({date:s,code:10,message:'Attribute "message-digest" is a mandatory attribute for "signed attributes"',signatureVerified:null,signerCertificate:u,signerCertificateVerified:!0})}if(p.signedAttrs){if(!Xr(await c.digest(d,new Uint8Array(t)),f))throw new ky({date:s,code:15,message:"Error during verification: Message digest doesn't match",signatureVerified:null,signerCertificate:u,timestampSerial:h,signerCertificateVerified:!0});t=p.signedAttrs.encodedValue}const y=await c.verifyWithPublicKey(t,p.signature,u.subjectPublicKeyInfo,u.signatureAlgorithm,d);return a?{date:s,code:14,message:vn,signatureVerified:y,signerCertificate:u,timestampSerial:h,signerCertificateVerified:!0,certificatePath:m}:y}catch(e){if(e instanceof ky)throw e;throw new ky({date:s,code:15,message:`Error during verification: ${e instanceof Error?e.message:e}`,signatureVerified:null,signerCertificate:u,timestampSerial:h,signerCertificateVerified:!0})}}async sign(e,t,r="SHA-1",s=bn,i=Bc(!0)){if(!e)throw new Error("Need to provide a private key for signing");const n=i.getOIDByAlgorithm({name:r},!0,"hashAlgorithm");0===this.digestAlgorithms.filter((e=>e.algorithmId===n)).length&&this.digestAlgorithms.push(new Xn({algorithmId:n,algorithmParams:new yi}));const a=this.signerInfos[t];if(!a)throw new RangeError("SignerInfo index is out of range");a.digestAlgorithm=new Xn({algorithmId:n,algorithmParams:new yi});const o=await i.getSignatureParameters(e,r),l=o.parameters;if(a.signatureAlgorithm=o.signatureAlgorithm,a.signedAttrs)if(0!==a.signedAttrs.encodedValue.byteLength)s=a.signedAttrs.encodedValue;else{s=a.signedAttrs.toSchema().toBER();jr.vJ.toUint8Array(s)[0]=49}else{const e=this.encapContentInfo.eContent;if(e)s=1===e.idBlock.tagClass&&4===e.idBlock.tagNumber?e.getValue():e.valueBlock.valueBeforeDecodeView;else if(0===s.byteLength)throw new Error("Missed detached data input array")}const c=await i.signWithPrivateKey(s,e,l);a.signature=new ki({valueHex:c})}}_y.CLASS_NAME="SignedData",_y.ID_DATA=Na;const Sy="version",Ey="authSafe",Cy="macData",Ny="parsedValue",By=[Sy,Ey,Cy];class Iy extends Sn{constructor(e={}){super(),this.version=qr(e,Sy,Iy.defaultValues(Sy)),this.authSafe=qr(e,Ey,Iy.defaultValues(Ey)),Cy in e&&(this.macData=qr(e,Cy,Iy.defaultValues(Cy))),Ny in e&&(this.parsedValue=qr(e,Ny,Iy.defaultValues(Ny))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Sy:return 3;case Ey:return new hh;case Cy:return new Pg;case Ny:return{};default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case Sy:return t===Iy.defaultValues(e);case Ey:return hh.compareWithDefault("contentType",t.contentType)&&hh.compareWithDefault("content",t.content);case Cy:return Pg.compareWithDefault("mac",t.mac)&&Pg.compareWithDefault("macSalt",t.macSalt)&&Pg.compareWithDefault("iterations",t.iterations);case Ny:return t instanceof Object&&0===Object.keys(t).length;default:return super.defaultValues(e)}}static schema(e={}){const t=qr(e,"names",{});return new Ui({name:t.blockName||vn,value:[new Ii({name:t.version||Sy}),hh.schema(t.authSafe||{names:{blockName:Ey}}),Pg.schema(t.macData||{names:{blockName:Cy,optional:!0}})]})}fromSchema(e){os(e,By);const t=pn(e,e,Iy.schema({names:{version:Sy,authSafe:{names:{blockName:Ey}},macData:{names:{blockName:Cy}}}}));_n.assertSchema(t,this.className),this.version=t.result.version.valueBlock.valueDec,this.authSafe=new hh({schema:t.result.authSafe}),Cy in t.result&&(this.macData=new Pg({schema:t.result.macData}))}toSchema(){const e=[new Ii({value:this.version}),this.authSafe.toSchema()];return this.macData&&e.push(this.macData.toSchema()),new Ui({value:e})}toJSON(){const e={version:this.version,authSafe:this.authSafe.toJSON()};return this.macData&&(e.macData=this.macData.toJSON()),e}async makeInternalValues(e={},t=Bc(!0)){if(An.assert(e,"parameters","object"),!this.parsedValue)throw new Error('Please call "parseValues" function first in order to make "parsedValue" data');switch(kn.assertEmpty(this.parsedValue.integrityMode,"integrityMode","parsedValue"),kn.assertEmpty(this.parsedValue.authenticatedSafe,"authenticatedSafe","parsedValue"),this.parsedValue.integrityMode){case 0:{if(!("iterations"in e))throw new kn("iterations");kn.assertEmpty(e.pbkdf2HashAlgorithm,"pbkdf2HashAlgorithm"),kn.assertEmpty(e.hmacHashAlgorithm,"hmacHashAlgorithm"),kn.assertEmpty(e.password,"password");const r=new ArrayBuffer(64),s=new Uint8Array(r);t.getRandomValues(s);const i=this.parsedValue.authenticatedSafe.toSchema().toBER(!1);this.authSafe=new hh({contentType:hh.DATA,content:new ki({valueHex:i})});const n=await t.stampDataWithPassword({password:e.password,hashAlgorithm:e.hmacHashAlgorithm,salt:r,iterationCount:e.iterations,contentToStamp:i});this.macData=new Pg({mac:new Eg({digestAlgorithm:new Xn({algorithmId:t.getOIDByAlgorithm({name:e.hmacHashAlgorithm},!0,"hmacHashAlgorithm")}),digest:new ki({valueHex:n})}),macSalt:new ki({valueHex:r}),iterations:e.iterations})}break;case 1:{if(!("signingCertificate"in e))throw new kn("signingCertificate");kn.assertEmpty(e.privateKey,"privateKey"),kn.assertEmpty(e.hashAlgorithm,"hashAlgorithm");const r=this.parsedValue.authenticatedSafe.toSchema().toBER(!1),s=new _y({version:1,encapContentInfo:new Ig({eContentType:"1.2.840.113549.1.7.1",eContent:new ki({valueHex:r})}),certificates:[e.signingCertificate]}),i=await t.digest({name:e.hashAlgorithm},new Uint8Array(r)),n=[];n.push(new ia({type:"1.2.840.113549.1.9.3",values:[new Oi({value:"1.2.840.113549.1.7.1"})]})),n.push(new ia({type:"1.2.840.113549.1.9.5",values:[new sn({valueDate:new Date})]})),n.push(new ia({type:"1.2.840.113549.1.9.4",values:[new ki({valueHex:i})]})),s.signerInfos.push(new Uw({version:1,sid:new _d({issuer:e.signingCertificate.issuer,serialNumber:e.signingCertificate.serialNumber}),signedAttrs:new vw({type:0,attributes:n})})),await s.sign(e.privateKey,0,e.hashAlgorithm,void 0,t),this.authSafe=new hh({contentType:"1.2.840.113549.1.7.2",content:s.toSchema(!0)})}break;default:throw new Error(`Parameter "integrityMode" has unknown value: ${this.parsedValue.integrityMode}`)}}async parseInternalValues(e,t=Bc(!0)){switch(An.assert(e,"parameters","object"),void 0===e.checkIntegrity&&(e.checkIntegrity=!0),this.parsedValue={},this.authSafe.contentType){case hh.DATA:{kn.assertEmpty(e.password,"password"),this.parsedValue.integrityMode=0,An.assert(this.authSafe.content,"authSafe.content",ki);const r=this.authSafe.content.getValue();if(this.parsedValue.authenticatedSafe=mp.fromBER(r),e.checkIntegrity){if(!this.macData)throw new Error('Absent "macData" value, can not check PKCS#12 data integrity');const s=t.getAlgorithmByOID(this.macData.mac.digestAlgorithm.algorithmId,!0,"digestAlgorithm");if(!await t.verifyDataStampedWithPassword({password:e.password,hashAlgorithm:s.name,salt:jr.vJ.toArrayBuffer(this.macData.macSalt.valueBlock.valueHexView),iterationCount:this.macData.iterations||0,contentToVerify:r,signatureToVerify:jr.vJ.toArrayBuffer(this.macData.mac.digest.valueBlock.valueHexView)}))throw new Error("Integrity for the PKCS#12 data is broken!")}}break;case hh.SIGNED_DATA:{this.parsedValue.integrityMode=1;const e=new _y({schema:this.authSafe.content}),r=e.encapContentInfo.eContent;kn.assert(r,"eContent","cmsSigned.encapContentInfo"),An.assert(r,"eContent",ki);const s=r.getValue();this.parsedValue.authenticatedSafe=mp.fromBER(s);if(!await e.verify({signer:0,checkChain:!1},t))throw new Error("Integrity for the PKCS#12 data is broken!")}break;default:throw new Error(`Incorrect value for "this.authSafe.contentType": ${this.authSafe.contentType}`)}}}Iy.CLASS_NAME="PFX";const xy="status",Ty="statusStrings",Ry="failInfo",Oy=[xy,Ty,Ry];var Py;!function(e){e[e.granted=0]="granted",e[e.grantedWithMods=1]="grantedWithMods",e[e.rejection=2]="rejection",e[e.waiting=3]="waiting",e[e.revocationWarning=4]="revocationWarning",e[e.revocationNotification=5]="revocationNotification"}(Py||(Py={}));class Dy extends Sn{constructor(e={}){super(),this.status=qr(e,xy,Dy.defaultValues(xy)),Ty in e&&(this.statusStrings=qr(e,Ty,Dy.defaultValues(Ty))),Ry in e&&(this.failInfo=qr(e,Ry,Dy.defaultValues(Ry))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case xy:return 2;case Ty:return[];case Ry:return new Si;default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case xy:return t===Dy.defaultValues(e);case Ty:return 0===t.length;case Ry:return t.isEqual(Dy.defaultValues(e));default:return super.defaultValues(e)}}static schema(e={}){const t=qr(e,"names",{});return new Ui({name:t.blockName||vn,value:[new Ii({name:t.status||vn}),new Ui({optional:!0,value:[new dn({name:t.statusStrings||vn,value:new ji})]}),new Si({name:t.failInfo||vn,optional:!0})]})}fromSchema(e){os(e,Oy);const t=pn(e,e,Dy.schema({names:{status:xy,statusStrings:Ty,failInfo:Ry}}));_n.assertSchema(t,this.className);const r=t.result.status;if(!0===r.valueBlock.isHexOnly||r.valueBlock.valueDec<0||r.valueBlock.valueDec>5)throw new Error('PKIStatusInfo "status" has invalid value');this.status=r.valueBlock.valueDec,Ty in t.result&&(this.statusStrings=t.result.statusStrings),Ry in t.result&&(this.failInfo=t.result.failInfo)}toSchema(){const e=[];return e.push(new Ii({value:this.status})),this.statusStrings&&e.push(new Ui({optional:!0,value:this.statusStrings})),this.failInfo&&e.push(this.failInfo),new Ui({value:e})}toJSON(){const e={status:this.status};return this.statusStrings&&(e.statusStrings=Array.from(this.statusStrings,(e=>e.toJSON()))),this.failInfo&&(e.failInfo=this.failInfo.toJSON()),e}}Dy.CLASS_NAME="PKIStatusInfo";const Ly="version",Uy="messageImprint",Vy="reqPolicy",Hy="nonce",My="certReq",Fy="extensions",Wy="TimeStampReq",jy="TimeStampReq.version",qy="TimeStampReq.messageImprint",zy="TimeStampReq.reqPolicy",Ky="TimeStampReq.nonce",Qy="TimeStampReq.certReq",Jy="TimeStampReq.extensions",Gy=[jy,qy,zy,Ky,Qy,Jy];class Zy extends Sn{constructor(e={}){super(),this.version=qr(e,Ly,Zy.defaultValues(Ly)),this.messageImprint=qr(e,Uy,Zy.defaultValues(Uy)),Vy in e&&(this.reqPolicy=qr(e,Vy,Zy.defaultValues(Vy))),Hy in e&&(this.nonce=qr(e,Hy,Zy.defaultValues(Hy))),My in e&&(this.certReq=qr(e,My,Zy.defaultValues(My))),Fy in e&&(this.extensions=qr(e,Fy,Zy.defaultValues(Fy))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Ly:return 0;case Uy:return new Vg;case Vy:return vn;case Hy:return new Ii;case My:return!1;case Fy:return[];default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case Ly:case Vy:case My:return t===Zy.defaultValues(e);case Uy:return Vg.compareWithDefault("hashAlgorithm",t.hashAlgorithm)&&Vg.compareWithDefault("hashedMessage",t.hashedMessage);case Hy:return t.isEqual(Zy.defaultValues(e));case Fy:return 0===t.length;default:return super.defaultValues(e)}}static schema(e={}){const t=qr(e,"names",{});return new Ui({name:t.blockName||Wy,value:[new Ii({name:t.version||jy}),Vg.schema(t.messageImprint||{names:{blockName:qy}}),new Oi({name:t.reqPolicy||zy,optional:!0}),new Ii({name:t.nonce||Ky,optional:!0}),new vi({name:t.certReq||Qy,optional:!0}),new pi({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new dn({name:t.extensions||Jy,value:iu.schema()})]})]})}fromSchema(e){os(e,Gy);const t=pn(e,e,Zy.schema());_n.assertSchema(t,this.className),this.version=t.result[jy].valueBlock.valueDec,this.messageImprint=new Vg({schema:t.result["TimeStampReq.messageImprint"]}),zy in t.result&&(this.reqPolicy=t.result[zy].valueBlock.toString()),Ky in t.result&&(this.nonce=t.result[Ky]),Qy in t.result&&(this.certReq=t.result["TimeStampReq.certReq"].valueBlock.value),Jy in t.result&&(this.extensions=Array.from(t.result[Jy],(e=>new iu({schema:e}))))}toSchema(){const e=[];return e.push(new Ii({value:this.version})),e.push(this.messageImprint.toSchema()),this.reqPolicy&&e.push(new Oi({value:this.reqPolicy})),this.nonce&&e.push(this.nonce),My in this&&!1===Zy.compareWithDefault(My,this.certReq)&&e.push(new vi({value:this.certReq})),this.extensions&&e.push(new pi({idBlock:{tagClass:3,tagNumber:0},value:Array.from(this.extensions,(e=>e.toSchema()))})),new Ui({value:e})}toJSON(){const e={version:this.version,messageImprint:this.messageImprint.toJSON()};return void 0!==this.reqPolicy&&(e.reqPolicy=this.reqPolicy),void 0!==this.nonce&&(e.nonce=this.nonce.toJSON()),void 0!==this.certReq&&!1===Zy.compareWithDefault(My,this.certReq)&&(e.certReq=this.certReq),this.extensions&&(e.extensions=Array.from(this.extensions,(e=>e.toJSON()))),e}}Zy.CLASS_NAME="TimeStampReq";const Xy="status",Yy="timeStampToken",$y="TimeStampResp",eb="TimeStampResp.status",tb="TimeStampResp.timeStampToken",rb=[eb,tb];class sb extends Sn{constructor(e={}){super(),this.status=qr(e,Xy,sb.defaultValues(Xy)),Yy in e&&(this.timeStampToken=qr(e,Yy,sb.defaultValues(Yy))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Xy:return new Dy;case Yy:return new hh;default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case Xy:return Dy.compareWithDefault(Xy,t.status)&&"statusStrings"in t==!1&&"failInfo"in t==!1;case Yy:return t.contentType===vn&&t.content instanceof hn;default:return super.defaultValues(e)}}static schema(e={}){const t=qr(e,"names",{});return new Ui({name:t.blockName||$y,value:[Dy.schema(t.status||{names:{blockName:eb}}),hh.schema(t.timeStampToken||{names:{blockName:tb,optional:!0}})]})}fromSchema(e){os(e,rb);const t=pn(e,e,sb.schema());_n.assertSchema(t,this.className),this.status=new Dy({schema:t.result[eb]}),tb in t.result&&(this.timeStampToken=new hh({schema:t.result[tb]}))}toSchema(){const e=[];return e.push(this.status.toSchema()),this.timeStampToken&&e.push(this.timeStampToken.toSchema()),new Ui({value:e})}toJSON(){const e={status:this.status.toJSON()};return this.timeStampToken&&(e.timeStampToken=this.timeStampToken.toJSON()),e}async sign(e,t,r=Bc(!0)){this.assertContentType();return new _y({schema:this.timeStampToken.content}).sign(e,0,t,void 0,r)}async verify(e={signer:0,trustedCerts:[],data:bn},t=Bc(!0)){this.assertContentType();return new _y({schema:this.timeStampToken.content}).verify(e,t)}assertContentType(){if(!this.timeStampToken)throw new Error("timeStampToken is absent in TSP response");if(this.timeStampToken.contentType!==Ba)throw new Error(`Wrong format of timeStampToken: ${this.timeStampToken.contentType}`)}}sb.CLASS_NAME="TimeStampResp",function(){if("undefined"!=typeof self){if("crypto"in self){let e="webcrypto";"webkitSubtle"in self.crypto&&(e="safari"),Nc(e,new Sc({name:e,crypto}))}}else if("undefined"!=typeof crypto&&"webcrypto"in crypto){const e="NodeJS ^15",t=crypto.webcrypto;Nc(e,new Sc({name:e,crypto:t}))}}();var ib=r(1131);const nb="pages/pages.jsonl",ab="pages/extraPages.jsonl",ob="datapackage.json";class lb{constructor(e,t,r=null){this.loader=e,this.config=t,this.loadId=r,this.canLoadOnDemand=t.onDemand,this.zipreader=null,this.waczname=t.loadUrl}async load(e,t,r){this.zipreader=e.zipreader?e.zipreader:new Fr(this.loader);const s=await this.zipreader.load(!0);let i;this.canLoadOnDemand&&e.fullConfig&&this.loader.arrayBuffer&&this.loader.arrayBuffer.byteLength<=x.vR&&(e.fullConfig.extra||(e.fullConfig.extra={}),e.fullConfig.extra.arrayBuffer=this.loader.arrayBuffer);let n=null;return s["datapackage-digest.json"]&&(n=await this.loadDigestData(e,"datapackage-digest.json")),s[ob]?i=await this.loadMetadata(e,s,ob,n):s["webarchive.yaml"]&&(i=await this.loadMetadataYAML(e,s,"webarchive.yaml")),this.canLoadOnDemand?await e.addWACZFile(this.waczname,s):await this.loadWACZFull(e,s,t,r),i||{}}async loadWACZFull(e,t,r=null,s=0){let i=0;const n=(e,t,n)=>{n+=i,r&&s&&r(Math.round(100*n/s),null,n,s)};for(const r of Object.keys(t)){const t=this.zipreader.getCompressedSize(r);(r.endsWith(".warc.gz")||r.endsWith(".warc"))&&await this.loadWARC(e,r,n,t),i+=t}}async loadWARC(e,t,r,s){const{reader:i}=await this.zipreader.loadFile(t,{unzip:!0}),n=new G(i,null,t);return n.detectPages=!1,await n.load(e,r,s)}async loadTextEntry(e,t,r){const{reader:s,hasher:i}=await this.zipreader.loadFile(t,{computeHash:!!r}),n=(new TextDecoder).decode(await s.readFully());return r&&await e.addVerifyData(t,r,i.getHash()),n}async loadDigestData(e,t){try{const r=JSON.parse(await this.loadTextEntry(e,t));let s;if(r.path===ob&&r.hash&&(s=r.hash),!r.signedData)return void await e.addVerifyData("$signature");let i,{hash:n,signature:a,publicKey:o,domain:l,domainCert:c,created:u}=r.signedData;if(n!==s)return void await e.addVerifyData("$signature");if(a=(0,Wr.toByteArray)(a),c&&l&&!o){const t=c.split("\n\n");let r=(0,Wr.toByteArray)(t[0].replace(/-{5}(BEGIN|END) .*-{5}/gm,"").replace(/\s/gm,""));const s=Qh.fromBER(r),n=(0,x.YU)(await crypto.subtle.digest("SHA-256",r));n&&await e.addVerifyData("certFingerprint",n),o=await s.getPublicKey();try{const e=ib.sc(a.buffer).result.valueBlock.value;if(2===e.length){const t=new Uint8Array(e[0].valueBlock.valueHex),r=new Uint8Array(e[1].valueBlock.valueHex),s=0===t[0]?1:0,i=0===r[0]?1:0;a=Jr(t.slice(s),r.slice(i))}}catch(e){console.log(e)}const l="2.5.4.3";for(const e of s.subject.typesAndValues)if(e.type===l){i=e.value.valueBlock.value;break}}else{const e={name:"ECDSA",namedCurve:"P-384"};o=await crypto.subtle.importKey("spki",(0,Wr.toByteArray)(o),e,!0,["verify"])}const h={name:"ECDSA",hash:"SHA-256"},f=new TextEncoder,d=await crypto.subtle.verify(h,o,a,f.encode(n));return await e.addVerifyData("signature",!0,d),u&&await e.addVerifyData("created",u),l&&await e.addVerifyData("domain",l,i),s}catch(e){console.warn(e)}}async loadMetadata(e,t,r,s){const i=await this.loadTextEntry(e,r,s),n=JSON.parse(i);void 0!==n.config&&e.initConfig&&e.initConfig(n.config);const a=n.metadata||{};let o=null;for(const t of n.resources)t.path===nb?(o=t.hash,await e.addVerifyData(t.path,t.hash)):(t.path.endsWith(".idx")||t.path.endsWith(".cdx"))&&await e.addVerifyData(t.path,t.hash);if(t[nb]){(await ub(e,this.zipreader,this.waczname,nb,o)).hasText&&(e.textIndex=a.textIndex=nb)}return t[ab]&&(e.textIndex=a.textIndex=ab),a}async loadMetadataYAML(e,t,r){const s=await this.loadTextEntry(e,r),i=mr.load(s),n={desc:i.desc,title:i.title};i.textIndex&&(n.textIndex=i.textIndex,i.config||(i.config={}),i.config.textIndex=i.textIndex),void 0!==i.config&&e.initConfig(i.config),n.title||(n.title=this.config.sourceName);const a=i.pages||[];a&&a.length?await e.addPages(a):t["pages.csv"]&&await e.loadPagesCSV(e,"pages.csv");const o=i.pageLists||[];return o&&o.length&&await e.addCuratedPageLists(o,"pages","show"),n}}class cb{constructor(e,t){this.json=e,this.baseUrl=t}async load(e){const t={title:this.json.title,desc:this.json.description},r=this.loadFiles(this.baseUrl);return await e.syncWACZ(r),t}loadFiles(){return this.json.resources.map((e=>new URL(e.path,this.baseUrl).href))}}async function ub(e,t,r,s=nb,i=null){const{reader:n,hasher:a}=await t.loadFile(s,{unzip:!0,computeHash:!0});let o=null,l=[];for await(const t of n.iterLines()){const s=JSON.parse(t);s.wacz=r,o?(l.push(s),500===l.length&&(await e.addPages(l),l=[])):o=s}return l.length&&await e.addPages(l),a&&i&&await e.addVerifyData(s,i,a.getHash()),o}class hb{constructor(e,{cloneResponse:t=!1,allowBody:r=!1,hostProxyOnly:s=!1}={}){if(e=e||{},this.prefix=e.prefix||"",this.proxyPathOnly=e.proxyPathOnly||!1,this.isLive=void 0===e.isLive||e.isLive,this.archivePrefix=e.archivePrefix||"",this.cloneResponse=t,this.allowBody=r,this.hostProxy=e.hostProxy,this.hostProxy instanceof Array){const e={};for(const t of this.hostProxy)e[t.host]=t;this.hostProxy=e}this.hostProxyOnly=s}async getAllPages(){return[]}getFetchUrl(e,t){let r;if(this.hostProxy){r=new URL(e);const t=this.hostProxy[r.host];if(t)return t.prefix+(t.pathOnly?r.pathname+r.search:e)}return this.hostProxyOnly?null:this.proxyPathOnly?(r||(r=new URL(e)),this.prefix+r.pathname+r.search):this.isLive||!t.timestamp?this.prefix+e:this.prefix+this.archivePrefix+t.timestamp+"id_/"+e}async getResource(e,t){const{headers:r,credentials:s,url:i}=e.prepareProxyRequest(t,!0),n=this.getFetchUrl(i,e);if(!n)return null;let a=null;!this.allowBody||"POST"!==e.method&&"PUT"!==e.method||(a=await e.getBody());const o=await fetch(n,{method:e.method,body:a,headers:r,credentials:s,mode:"cors",redirect:"follow"});let l=null;this.cloneResponse&&(l=o.clone());const c=H.g.fromResponse({url:i,response:o,date:new Date,noRW:!1,isLive:this.isLive});return l&&(c.clonedResponse=l),c}}class fb extends le{constructor(e,t=!1){super(e.dbname,t),this.config=e,this.waczfiles={},this.waczhashes={},this.ziploadercache={},this.resHashes={}}_initDB(e,t,r,s){super._initDB(e,t,r,s),t||(e.createObjectStore("ziplines",{keyPath:["waczname","prefix"]}),e.createObjectStore("waczfiles",{keyPath:"waczname"}),e.createObjectStore("verification",{keyPath:"id"}))}async init(){await super.init();const e=await this.db.getAll("waczfiles")||[];for(const t of e)this.waczfiles[t.waczname]=t;await this.initLoader()}initLoader(){}getReaderForWACZ(){throw new Error("Unimplemented here")}getWACZName(){throw new Error("Unimplemented here")}async close(){super.close(),caches.delete("cache:"+this.name.slice("db:".length))}async clearZipData(){const e=["waczfiles","ziplines"];for(const t of e)await this.db.clear(t)}async addVerifyData(e,t,r,s=!1){let i=null;r&&(i=t===r,s&&console.log(`verify ${e}: ${i}`)),await this.db.put("verification",{id:e,expected:t,matched:i})}async getVerifyInfo(){const e=await this.db.getAll("verification");let t=!0,r=!0,s=0,i={};for(const n of e)"domain"===n.id||"created"===n.id||"certFingerprint"===n.id?i[n.id]=n.expected:"signature"===n.id?r=n.matched:null!==n.matched&&(s++,t=t&&n.matched);return i.verified=r&&t,i.numSigs=s,i}async getVerifyExpected(e){const t=await this.db.get("verification",e);return t&&t.expected}async clearAll(){await super.clearAll(),await this.clearZipData()}async addWACZFile(e,t){const r={waczname:e,entries:t,indexType:0};await this.db.put("waczfiles",r),this.waczfiles[e]=r;const s=await this.getWACZHash(e);this.waczhashes[s]=e}async getWACZHash(e){return await(0,x.x5)(e,"sha-256","")}async computeWACZHashes(){for(const e of Object.keys(this.waczfiles)){const t=await this.getWACZHash(e);this.waczhashes[t]=e}}async loadRecordFromSource(e){const{start:t,length:r,path:s}=e.source,i=this.getWACZName(e),n=t,a=await this.getReaderForWACZ(i),{reader:o,hasher:l}=await a.loadFile("archive/"+s,{offset:n,length:r,unzip:!0,computeHash:!0}),c=new Z(o,l);await this.updateEntriesIfNeeded(a,i);return{remote:await c.load(),hasher:l}}async loadWACZ(e){if(!this.waczfiles[e])throw new Error("unknown waczfile: "+e);if(this.waczfiles[e].indexType)return{indexType:this.waczfiles[e].indexType,isNew:!1};const t=await this.getReaderForWACZ(e);await t.load();let r=0;for(const s of Object.keys(this.waczfiles[e].entries))s.endsWith(".cdx")||s.endsWith(".cdxj")?(console.log(`Loading CDX for ${e}`),await this.loadCDX(t,s,e),r=1):s.endsWith(".idx")&&(console.log(`Loading IDX for ${e}`),await this.loadIDX(t,s,e),r=2);return this.waczfiles[e].indexType=r,await this.db.put("waczfiles",this.waczfiles[e]),{indexType:r,isNew:!0}}async loadCDX(e,t,r,s,i){const{reader:n,hasher:a}=await e.loadFile(t,{computeHash:!0}),o=new ge(n,null,r,{wacz:r}),l=await o.load(this,s,i);if(a){const e=await this.getVerifyExpected(t);e&&this.addVerifyData(t,e,a.getHash())}return l}async loadIDX(e,t,r,s,i){const{reader:n,hasher:a}=await e.loadFile(t,{computeHash:!0});let o=[],l="",c=!1,u=0;for await(const e of n.iterLines()){if(u+=e.length,u===e.length&&e.startsWith("!meta")){const t=e.indexOf(" {");if(t<0){console.warn("Invalid Meta Line: "+e);continue}const r=JSON.parse(e.slice(t));r.filename&&(l=r.filename),"cdxj-gzip-1.0"!==r.format&&console.log(`Unknown CDXJ format "${r.format}", archive may not parse correctly`);continue}let t;if(e.indexOf("\t")>0){let[s,i,n,a]=e.split("\t");n=Number(n),a=Number(a),t={waczname:r,prefix:s,filename:i,offset:n,length:a,loaded:!1},c=!0}else{const s=e.indexOf(" {");if(s<0){console.log("Invalid Index Line: "+e);continue}const i=e.slice(0,s);let{offset:n,length:a,filename:o,digest:u}=JSON.parse(e.slice(s));c=i.indexOf(")/")>0,o=o||l,t={waczname:r,prefix:i,filename:o,offset:n,length:a,digest:u,loaded:!1}}s&&s(u/i,u,i),o.push(t)}if(a){const e=await this.getVerifyExpected(t);e&&this.addVerifyData(t,e,a.getHash())}const h=this.db.transaction("ziplines","readwrite");for(const e of o)h.store.put(e);try{await h.done}catch(e){console.log("Error loading ziplines index: ",e)}c&&c!==this.waczfiles[r].useSurt&&(this.waczfiles[r].useSurt=c,await this.db.put("waczfiles",this.waczfiles[r]))}async loadCDXFromIDX(e,t,r=0,s=!1){const i=this.waczfiles[e].useSurt?(0,O.wH)(t):t,n=s?this.prefixUpperBound(i):i+" 9999",a=IDBKeyRange.upperBound([e,n],!0),o=this.db.transaction("ziplines","readonly"),l=[];for await(const t of o.store.iterate(a,"prev")){if(t.value.waczname!==e)break;if(l.unshift(t.value),!t.value.prefix.split(" ")[0].startsWith(i))break}await o.done;const c=[],u=await this.getReaderForWACZ(e),h={wacz:e};l.length>3&&r&&l.sort(((e,t)=>{const s=e.prefix.split(" ")[1],i=t.prefix.split(" ")[1];if(!s||!i)return 0;const n=Math.abs((0,x.wC)(s).getTime()-r),a=Math.abs((0,x.wC)(i).getTime()-r);return n===a?0:n<a?-1:1}));let f=0;for(const t of l){if(t.loaded)continue;const r=e+":"+t.filename+":"+t.offset;let s=this.ziploadercache[r];if(s||(s=this.doCDXLoad(r,t,u,h),this.ziploadercache[r]=s),c.push(s),++f>3)break}return c.length&&await Promise.allSettled(c),await this.updateEntriesIfNeeded(u,e),c.length>0}async doCDXLoad(e,t,r,s){try{const i="indexes/"+t.filename,n={offset:t.offset,length:t.length,unzip:!0,computeHash:!!t.digest},{reader:a,hasher:o}=await r.loadFile(i,n),l=new ge(a,null,null,s);if(await l.load(this),o){const e=o.getHash(),r=`${i}:${t.offset}-${t.length}`;await this.addVerifyData(r,t.digest,e)}t.loaded=!0,await this.db.put("ziplines",t)}catch(e){await(0,x.AJ)(e,this.config)||console.warn(e)}finally{delete this.ziploadercache[e]}}async updateEntriesIfNeeded(e,t){e.entriesUpdated&&(await this.db.put("waczfiles",this.waczfiles[t]),e.entriesUpdated=!1)}async findPageAtUrl(e,t){const r=await this.db.getAllFromIndex("pages","url",e);let s=null,i=Number.MAX_SAFE_INTEGER;for(const e of r){const r=Math.abs(e.ts-t);if(r<1e3)return e;r<i&&(s=e,i=r)}return s}async lookupUrl(e,t,r={}){try{let s=await super.lookupUrl(e,t,r);if(s&&(!r.noRevisits||"warc/revisit"!==s.mime))return s;const{waczname:i}=r;return i&&"local"!==i&&(s=await this.lookupUrlForWACZ(i,e,t,r)),s}catch(e){return console.warn(e),null}}async lookupUrlForWACZ(e,t,r,s){const{indexType:i,isNew:n}=await this.loadWACZ(e);switch(i){case 2:if(!await this.loadCDXFromIDX(e,t,r,!1))return null;break;case 1:if(!n)return null;break;default:return null}return await super.lookupUrl(t,r,s)}async resourcesByUrlAndMime(e,...t){let r=await super.resourcesByUrlAndMime(e,...t);if(r.length>0)return r;for(const s of Object.keys(this.waczfiles))if(s&&"local"!==s){const{indexType:i,isNew:n}=await this.loadWACZ(s);switch(i){case 2:if(!await this.loadCDXFromIDX(s,e,0,!0))continue;break;case 1:if(!n)continue;break;default:continue}const a=await super.resourcesByUrlAndMime(e,...t);a&&a.length&&(r=r.concat(a))}return r}}class db extends fb{async initLoader(){const e=this.config;this.indexLoader=await re({url:e.loadUrl,headers:e.headers,size:e.size,extra:e.extra}),await this.checkUpdates()}getWACZName(e){return e.source.wacz}async checkUpdates(){const{response:e}=await this.indexLoader.doInitialFetch(!1);if(206!==e.status&&200!==e.status)return void console.warn("WACZ update failed from: "+this.config.loadUrl);const t=new cb(await e.json(),this.config.loadUrl).loadFiles();await this.syncWACZ(t)}async syncWACZ(e){const t=[];for(const r of e)this.waczfiles[r]||t.push(this.loadNewWACZ(r));t.length&&await Promise.allSettled(t)}async loadNewWACZ(e){const t=await this.getBlockLoader(e),r=new Fr(t),s=await r.load(!0);await this.addWACZFile(e,s);const i=await this.getVerifyExpected(nb);await ub(this,r,e,nb,i),await this.updateEntriesIfNeeded(r,e)}async getResource(e,t,r,{pageId:s}={}){await this.initing;const i="navigate"===r.request.mode;let n=s,a=null,o=null;if(n){if(Object.keys(this.waczhashes).length||await this.computeWACZHashes(),a=this.waczhashes[n],!a)return null;o=await super.getResource(e,t,r,{waczname:a})}if(o||!i)return o;for(const s of Object.keys(this.waczfiles))if(o=await super.getResource(e,t,r,{waczname:s,noFuzzyCheck:!0}),o){a=s,n=await this.getWACZHash(a);break}return a?Response.redirect(`${t}:${n}/${e.timestamp}mp_/${e.url}`):void 0}async getReaderForWACZ(e){return new Fr(await this.getBlockLoader(e),this.waczfiles[e].entries)}getBlockLoader(e){return re({url:e})}}class mb extends fb{constructor(e,t){super(e,e.noCache),this.zipreader=new Fr(t),this.externalSource=null,this.fuzzyUrlRules=[],this.useSurt=!1,this.fullConfig=e,this.textIndex=e&&e.metadata&&e.metadata.textIndex,e.extraConfig&&this.initConfig(e.extraConfig)}_initDB(e,t,r,s){super._initDB(e,t,r,s),2===t&&this.convertV2WACZDB(e,s)}async convertV2WACZDB(e,t){try{const r=await t.objectStore("ziplines").getAll(),s=await t.objectStore("zipEntries").getAll();e.deleteObjectStore("ziplines"),e.deleteObjectStore("zipEntries"),e.createObjectStore("ziplines",{keyPath:["waczname","prefix"]}),e.createObjectStore("waczfiles",{keyPath:"waczname"}),e.createObjectStore("verification",{keyPath:"id"});const i=this.getWACZName();for(const e of r)e.waczname=i,t.objectStore("ziplines").put(e);const n={waczname:i,entries:s,indexType:r.length>0?2:1};t.objectStore("waczfiles").put(n),await t.done}catch(e){console.warn(e)}}getReaderForWACZ(){return this.zipreader}updateHeaders(e){this.zipreader.loader.headers=e}initConfig(e){if(void 0!==e.decodeResponses&&(this.fullConfig.decode=e.decodeResponses),void 0!==e.useSurt&&(this.useSurt=e.useSurt),e.hostProxy&&(this.externalSource=new hb(e,{hostProxyOnly:!0})),e.fuzzy)for(const[t,r]of e.fuzzy){const e=new RegExp(t);this.fuzzyUrlRules.push({match:e,replace:r})}e.textIndex&&(this.textIndex=e.textIndex)}async getTextIndex(){const e={"Content-Type":"application/ndjson"};if(!this.textIndex)return new Response("",{headers:e});try{await this.zipreader.load()}catch(t){return await(0,x.AJ)(t,this.config),new Response("",{headers:e})}const t=this.zipreader.getCompressedSize(this.textIndex);t>0&&(e["Content-Length"]=""+t);const{reader:r}=await this.zipreader.loadFile(this.textIndex,{unzip:!0});return new Response(r.getReadableStream(),{headers:e})}async getResource(e,t,r,{pageId:s}={}){let i=null;if(this.externalSource&&(i=await this.externalSource.getResource(e,t,r),i))return i;const n=this.getWACZName();if(i=await super.getResource(e,t,r,{pageId:s,waczname:n}),i)return i;if(this.fuzzyUrlRules.length)for(const{match:s,replace:n}of this.fuzzyUrlRules){const a=decodeURIComponent(e.url.replace(s,n));if(a&&a!==e.url&&(e.url=a,i=await super.getResource(e,t,r),i))return i}return null}getWACZName(){return this.config.loadUrl}}class pb{constructor(e){const t=e.extraConfig||{};this.sourceUrl=t.prefix,this.type=t.sourceType||"kiwix",this.notFoundPageUrl=t.notFoundPageUrl}async getAllPages(){return[]}async getResource(e,t){const{url:r,headers:s}=e.prepareProxyRequest(t);let i=s;if("kiwix"===this.type){let t=await this.resolveHeaders(r);if(!t)for(const e of V.getFuzzyCanonsWithArgs(r))if(e!==r&&(t=await this.resolveHeaders(e),t))break;if(!t){if(this.notFoundPageUrl&&"navigate"===e.mode){const e=await fetch(this.notFoundPageUrl);if(200===e.status){const t={"Content-Type":"text/html"},s=await e.text();return new Response(s.replace("$URL",r),{status:404,headers:t})}}return null}let{headers:s,encodedUrl:n,date:a,status:o,statusText:l,hasPayload:c}=t;if(i.has("Range")){const e=i.get("Range");i={Range:e}}let u=null,h=null;c&&(h=await fetch(this.sourceUrl+"A/"+n,{headers:i}),h.body&&(u=new O.UU(h.body.getReader(),!1)),206===h.status&&(o=206,l="Partial Content",s.set("Content-Length",h.headers.get("Content-Length")),s.set("Content-Range",h.headers.get("Content-Range")),s.set("Accept-Ranges","bytes"))),u||(u=new Uint8Array([])),a||(a=new Date),s||(s=new Headers);const f=!1,d=!1;return new H.g({payload:u,status:o,statusText:l,headers:s,url:r,date:a,noRW:d,isLive:f})}}async resolveHeaders(e){const t=e.slice(e.indexOf("//")+2);let r=encodeURI(t);r=encodeURIComponent(t);let s=await fetch(this.sourceUrl+"H/"+r);if(200!==s.status)return null;let i=null,n=null,a=null,o=null,l=!1;try{const t=await O.ci.parse(s.body);if("revisit"===t.warcType){const r=t.warcHeaders.headers.get("WARC-Refers-To-Target-URI");if(r&&r!==e)return await this.resolveHeaders(r)}n=new Date(t.warcDate),t.httpHeaders?(i=t.httpHeaders.headers,a=Number(t.httpHeaders.statusCode),o=t.httpHeaders.statusText,l="0"!==t.httpHeaders.headers.get("Content-Length")):"resource"===t.warcType&&(i=new Headers,i.set("Content-Type",t.warcContentType),i.set("Content-Length",t.warcContentLength),a=200,o="OK",l=t.warcContentLength>0),a||(a=200)}catch(t){console.warn(t),console.warn("Ignoring headers, error parsing headers response for: "+e)}return{encodedUrl:r,headers:i,date:n,status:a,statusText:o,hasPayload:l}}}self.interruptLoads={};class gb{constructor(){this.colldb=null,this.root=null,this.checkIpfs=!0,this._init_db=this._initDB()}async _initDB(){this.colldb=await w("collDB",1,{upgrade:e=>{e.createObjectStore("colls",{keyPath:"name"}).createIndex("type","type")}})}async loadAll(e){if(await this._init_db,e)for(const t of e.split(",")){const e=t.split(":");if(2===e.length){const t={dbname:e[1],sourceName:e[1],decode:!1},r={name:e[0],type:"archive",config:t};console.log("Adding Coll: "+JSON.stringify(r)),await this.colldb.put("colls",r)}}try{const e=(await this.listAll()).map((e=>this._initColl(e)));await Promise.all(e)}catch(e){console.warn(e.toString())}return!0}async listAll(){return await this._init_db,await this.colldb.getAll("colls")}async loadColl(e){await this._init_db;const t=await this.colldb.get("colls",e);return t?await this._initColl(t):null}async reload(e){return this.loadColl(e)}async deleteColl(e){await this._init_db;const t=await this.colldb.get("colls",e);if(!t)return!1;if(t.config.dbname)try{await y(t.config.dbname,{blocked(){console.log(`Unable to delete ${t.config.dbname}, blocked`)}})}catch(e){return console.warn(e),!1}return await this.colldb.delete("colls",e),!0}async updateAuth(e,t){await this._init_db;const r=await this.colldb.get("colls",e);return!!r&&(r.config.headers=t,await this.colldb.put("colls",r),!0)}async updateMetadata(e,t){await this._init_db;const r=await this.colldb.get("colls",e);return!!r&&(r.config.metadata={...r.config.metadata,...t},await this.colldb.put("colls",r),r.config.metadata)}async updateSize(e,t,r,s){await this._init_db;const i=await this.colldb.get("colls",e);if(!i)return!1;const n=i.config.metadata;return n.fullSize=(n.fullSize||0)+t,n.size=(n.size||0)+r,n.mtime=(new Date).getTime(),void 0!==s&&(i.config.decode=s),await this.colldb.put("colls",i),n}async initNewColl(e,t={},r="archive"){await this._init_db;const s=(0,x.kb)(),i="local://"+s,n={name:s,type:r,config:{dbname:"db:"+s,ctime:(new Date).getTime(),decode:!1,metadata:e,sourceUrl:i,extraConfig:t}},a=await this._initColl(n);return await this.colldb.put("colls",n),a}async _initColl(e){const t=await this._initStore(e.type,e.config),r=e.name,s=e.config;return e.config.root&&(this.root=r),this._createCollection({name:r,store:t,config:s})}async _initStore(e,t){let r=null,s=null;switch(e){case"archive":s=new W(t.dbname);break;case"remotesource":r=await re({url:t.loadUrl,headers:t.headers,size:t.size,extra:t.extra}),s=new ce(t.dbname,r,t.noCache);break;case"remoteprefix":s=new ue(t.dbname,t.remotePrefix,t.headers,t.noCache);break;case"wacz":case"remotezip":r=await re({url:t.loadUrl||t.sourceUrl,headers:t.headers,extra:t.extra}),s=new mb(t,r);break;case"remotewarcproxy":s=new pb(t);break;case"live":s=new hb(t.extraConfig);break;case"multiwacz":s=new db(t)}return s?(s.initing&&await s.initing,s):(console.log("no store found: "+e),null)}_createCollection(e){return e}}class wb extends gb{constructor(e){super(),this.registerListener(e)}async hasCollection(e){return await this._init_db,null!=await this.colldb.getKey("colls",e)}registerListener(e){e.addEventListener("message",(e=>{e.waitUntil?e.waitUntil(this._handleMessage(e)):this._handleMessage(e)}))}async _handleMessage(e){await this._init_db;const t=e.source||self;switch(e.data.msg_type){case"addColl":{const r=e.data.name,s=(e,s,i,n,a=null,o=null)=>{t.postMessage({msg_type:"collProgress",name:r,percent:e,error:s,currentSize:i,totalSize:n,fileHandle:a,extraMsg:o})};let i;try{if(i=await this.colldb.get("colls",r),i?e.data.skipExisting||(await this.deleteColl(r),i=await this.addCollection(e.data,s)):i=await this.addCollection(e.data,s),!i){if(e.data.name)try{await y("db:"+e.data.name,{blocked(t){console.log(`Load failed and unable to delete ${e.data.name}: ${t}`)}})}catch(e){console.warn(e)}return}}catch(e){return console.warn(e),void(e instanceof x.yb?s(0,"permission_needed",null,null,e.info&&e.info.fileHandle):s(0,"An unexpected error occured: "+e.toString()))}t.postMessage({msg_type:"collAdded",name:r,sourceUrl:i.config.sourceUrl});break}case"cancelLoad":{const t=e.data.name,r=new Promise((e=>self.interruptLoads[t]=e));await r,await this.deleteColl(t),delete self.interruptLoads[t];break}case"removeColl":{const r=e.data.name;await this.hasCollection(r)&&(await this.deleteColl(r),this.doListAll(t));break}case"listAll":this.doListAll(t);break;case"reload":this.reload(e.data.name)}}async doListAll(e){const t=[],r=await this.listAll();for(const e of r)t.push({name:e.name,prefix:e.name,pageList:[],sourceName:e.config.sourceName});e.postMessage({msg_type:"listAll",colls:t})}async addCollection(e,t){let r=e.name,s=null,i={root:e.root||!1},n=null,a=null;const o=e.file;if(!o||!o.sourceUrl)return t(0,"Invalid Load Request"),!1;if(i.dbname="db:"+r,o.sourceUrl.startsWith("proxy:"))i.sourceUrl=o.sourceUrl,i.extraConfig=e.extraConfig,i.extraConfig.prefix||(i.extraConfig.prefix=o.sourceUrl.slice("proxy:".length)),i.topTemplateUrl=e.topTemplateUrl,i.metadata={},s=e.type||i.extraConfig.type||"remotewarcproxy",n=await this._initStore(s,i);else{let l=null;if(o.newFullImport&&(r=(0,x.kb)(),o.loadUrl=o.loadUrl||o.sourceUrl,o.name=o.name||o.sourceUrl,o.sourceUrl="local://"+r),s="archive",o.newFullImport&&o.importCollId){const e=await this.colldb.get("colls",o.importCollId);if(!e||"archive"!==e.type)return void t(0,"Invalid Existing Collection: "+o.importCollId);i.dbname=e.config.dbname,a=e.config,a.decode=!0}let c=o.loadUrl||o.sourceUrl;c.match(/[\w]+:\/\//)||(c=new URL(c,self.location.href).href),i.decode=!0,i.onDemand=!1,i.loadUrl=c,i.sourceUrl=o.sourceUrl,i.sourceName=o.name||o.sourceUrl;try{if(i.sourceName.match(/https?:\/\//)){const e=new URL(i.sourceName);i.sourceName=e.pathname+e.hash}}catch(e){}if(i.sourceName=i.sourceName.slice(i.sourceName.lastIndexOf("/")+1),i.headers=o.headers,i.size="number"==typeof o.size?o.size:null,i.extra=o.extra,i.loadUrl.startsWith("file://")&&!o.blob&&!i.extra){if(!this._fileHandles||!this._fileHandles[i.sourceUrl])return void t(0,"missing_local_file");i.extra={fileHandle:this._fileHandles[i.sourceUrl]}}i.extraConfig=e.extraConfig,i.noCache=o.noCache;const u=await re({url:c,headers:o.headers,size:o.size,extra:i.extra,blob:o.blob});let h=!1;(i.sourceName.endsWith(".wacz")||i.sourceName.endsWith(".zip"))&&(h=!0);let{abort:f,response:d}=await u.doInitialFetch(h);const m=d.body;if(i.onDemand=u.canLoadOnDemand&&!o.newFullImport,!u.isValid){const e=u.length<=1e3?await d.text():"";return t(0,`Sorry, this URL could not be loaded.\nMake sure this is a valid URL and you have access to this file.\nStatus: ${d.status} ${d.statusText}\nError Details:\n${e}`),f&&f.abort(),!1}if(!u.length)return t(0,"Sorry, this URL could not be loaded because the size of the file is not accessible.\nMake sure this is a valid URL and you have access to this file."),f&&f.abort(),!1;const p=u.length;if(i.sourceName.endsWith(".wacz")||i.sourceName.endsWith(".zip"))if(l=new lb(u,i,r),i.onDemand)n=new mb(i,u),s="wacz";else{if(!u.canLoadOnDemand||!o.newFullImport)return t(0,"Sorry, can't load this WACZ file due to lack of range request support on the server"),f&&f.abort(),!1;n=null,delete i.extra}else i.sourceName.endsWith(".warc")||i.sourceName.endsWith(".warc.gz")?i.noCache||!(p<x.vR)&&i.onDemand?(l=new pe(m,f,r),s="remotesource",n=new ce(i.dbname,u,i.noCache)):l=new G(m,f,r):i.sourceName.endsWith(".cdxj")||i.sourceName.endsWith(".cdx")?(i.remotePrefix=e.remotePrefix||c.slice(0,c.lastIndexOf("/")+1),l=new ge(m,f,r),s="remoteprefix",n=new ue(i.dbname,i.remotePrefix,i.headers,i.noCache)):i.sourceName.endsWith(".har")?(l=new me(await d.json()),i.decode=!1):i.sourceName.endsWith(".json")&&(n=new db(i),l=new cb(await d.json(),i.loadUrl),s="multiwacz");if(!l)return t(0,`The ${i.sourceName} is not a known archive format that could be loaded.`),f&&f.abort(),!1;n||(n=new W(i.dbname)),await n.initing;try{i.metadata=await l.load(n,t,p)}catch(e){return e instanceof x.dK||(t(0,`Unexpected Loading Error: ${e.toString()}`),console.warn(e)),!1}if(a)return await this.updateSize(o.importCollId,p,p,a.decode),{config:a};i.metadata.size||(i.metadata.size=p),i.metadata.title||(i.metadata.title=i.sourceName)}i.ctime=(new Date).getTime(),this._fileHandles&&i.extra&&i.extra.fileHandle&&delete this._fileHandles[i.sourceUrl];const l={name:r,type:s,config:i};return await this.colldb.add("colls",l),l.store=n,l}}},4472:(e,t,r)=>{"use strict";r.d(t,{g:()=>o});var s=r(3942),i=r(1106);const n=new TextEncoder,a=new TextDecoder;class o{static fromResponse({url:e,response:t,date:r,noRW:n,isLive:a}){const l=t.body?new s.UU(t.body.getReader(),!1):null,c=Number(t.headers.get("x-redirect-status")||t.status),u=t.headers.get("x-redirect-statusText")||t.statusText;let h=new Headers(t.headers),f=h.get("x-orig-location");f&&(f.startsWith(self.location.origin)&&(f=f.slice(self.location.origin.length)),h.set("location",f),h.delete("x-orig-location"),h.delete("x-redirect-status"),h.delete("x-redirect-statusText"));let d=null;const m=h.get("x-orig-ts");m&&(r=(0,i.wC)(m),h.delete("x-orig-ts"),m&&f&&(d=m));const p=h.get("memento-datetime");p&&(r=new Date(p));const g=h.get("x-proxy-set-cookie");if(g){const e=[];g.split(",").forEach((t=>{const r=t.split(";",1)[0].trim();r.indexOf("=")>0&&e.push(r)})),h.delete("x-proxy-set-cookie"),e.length&&h.set("x-wabac-preset-cookie",e.join(";"))}return new o({payload:l,status:c,statusText:u,headers:h,url:e,date:r,noRW:n,isLive:a,updateTS:d})}constructor({payload:e,status:t,statusText:r,headers:i,url:n,date:a,extraOpts:o=null,noRW:l=!1,isLive:c=!1,updateTS:u=null}){this.reader=null,this.buffer=null,e&&(e[Symbol.asyncIterator]||e instanceof s.fV)?this.reader=e:this.buffer=e,this.status=t,this.statusText=r,this.headers=i,this.url=n,this.date=a,this.extraOpts=o,this.noRW=l,this.isLive=c,this.updateTS=u}async getText(e=!1){const t=await this.getBuffer();return"string"==typeof t?t:e?a.decode(t):(0,i._Q)(t)}setText(e,t=!1){this.setBuffer(t?n.encode(e):(0,i.qA)(e))}async getBuffer(){return this.buffer||(this.buffer=await this.reader.readFully()),this.buffer}setBuffer(e){this.buffer=e,this.reader=null}setReader(e){e instanceof s.fV?(this.reader=e,this.buffer=null):e.getReader&&(this.reader=new s.UU(e.getReader()),this.buffer=null)}expectedLength(){return this.buffer?this.buffer.length:this.reader&&this.reader.reader?this.reader.reader.length:void 0}createIter(){const e=this.buffer,t=this.reader;return async function*(){if(e)for(let t=0;t<e.length;t+=i.Zz)yield e.slice(t,t+i.Zz);else t&&(yield*t)}()}async*[Symbol.asyncIterator](){yield*this.createIter()}setRange(e){const t=e.match(/^bytes=(\d+)-(\d+)?$/);let r=0;if(this.buffer)r=this.buffer.length;else if(this.reader&&(r=Number(this.headers.get("content-length")),!r))return;if(!t)return this.status=416,this.statusText="Range Not Satisfiable",this.headers.set("Content-Range",`*/${r}`),!1;const s=Number(t[1]),i=Number(t[2])||r-1;return this.buffer?this.buffer=this.buffer.slice(s,i+1):this.reader&&(0!==s||i!==r-1?this.reader.setLimitSkip(i-s+1,s):this.reader.setRangeAll&&this.reader.setRangeAll(r)),this.headers.set("Content-Range",`bytes ${s}-${i}/${r}`),this.headers.set("Content-Length",i-s+1),this.status=206,this.statusText="Partial Content",!0}makeResponse(e=!1){let t=null;(0,i.jI)(this.status)||(t=this.buffer||!this.reader?this.buffer:this.reader.getReadableStream());const r=new Response(t,{status:this.status,statusText:this.statusText,headers:this.headers});return r.date=this.date,e&&(r.headers.set("Cross-Origin-Opener-Policy","same-origin"),r.headers.set("Cross-Origin-Embedder-Policy","require-corp")),r}}},2953:(e,t,r)=>{"use strict";r.d(t,{v:()=>fr,i:()=>hr});var s=r(7709),i=r.n(s);function n(e){let t=e.length;for(;--t>=0;)e[t]=0}const a=256,o=286,l=30,c=15,u=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),h=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),f=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),d=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),m=new Array(576);n(m);const p=new Array(60);n(p);const g=new Array(512);n(g);const w=new Array(256);n(w);const y=new Array(29);n(y);const b=new Array(l);function v(e,t,r,s,i){this.static_tree=e,this.extra_bits=t,this.extra_base=r,this.elems=s,this.max_length=i,this.has_stree=e&&e.length}let A,k,_;function S(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}n(b);const E=e=>e<256?g[e]:g[256+(e>>>7)],C=(e,t)=>{e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255},N=(e,t,r)=>{e.bi_valid>16-r?(e.bi_buf|=t<<e.bi_valid&65535,C(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=r-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=r)},B=(e,t,r)=>{N(e,r[2*t],r[2*t+1])},I=(e,t)=>{let r=0;do{r|=1&e,e>>>=1,r<<=1}while(--t>0);return r>>>1},x=(e,t,r)=>{const s=new Array(16);let i,n,a=0;for(i=1;i<=c;i++)s[i]=a=a+r[i-1]<<1;for(n=0;n<=t;n++){let t=e[2*n+1];0!==t&&(e[2*n]=I(s[t]++,t))}},T=e=>{let t;for(t=0;t<o;t++)e.dyn_ltree[2*t]=0;for(t=0;t<l;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0},R=e=>{e.bi_valid>8?C(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},O=(e,t,r,s)=>{const i=2*t,n=2*r;return e[i]<e[n]||e[i]===e[n]&&s[t]<=s[r]},P=(e,t,r)=>{const s=e.heap[r];let i=r<<1;for(;i<=e.heap_len&&(i<e.heap_len&&O(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!O(t,s,e.heap[i],e.depth));)e.heap[r]=e.heap[i],r=i,i<<=1;e.heap[r]=s},D=(e,t,r)=>{let s,i,n,o,l=0;if(0!==e.last_lit)do{s=e.pending_buf[e.d_buf+2*l]<<8|e.pending_buf[e.d_buf+2*l+1],i=e.pending_buf[e.l_buf+l],l++,0===s?B(e,i,t):(n=w[i],B(e,n+a+1,t),o=u[n],0!==o&&(i-=y[n],N(e,i,o)),s--,n=E(s),B(e,n,r),o=h[n],0!==o&&(s-=b[n],N(e,s,o)))}while(l<e.last_lit);B(e,256,t)},L=(e,t)=>{const r=t.dyn_tree,s=t.stat_desc.static_tree,i=t.stat_desc.has_stree,n=t.stat_desc.elems;let a,o,l,u=-1;for(e.heap_len=0,e.heap_max=573,a=0;a<n;a++)0!==r[2*a]?(e.heap[++e.heap_len]=u=a,e.depth[a]=0):r[2*a+1]=0;for(;e.heap_len<2;)l=e.heap[++e.heap_len]=u<2?++u:0,r[2*l]=1,e.depth[l]=0,e.opt_len--,i&&(e.static_len-=s[2*l+1]);for(t.max_code=u,a=e.heap_len>>1;a>=1;a--)P(e,r,a);l=n;do{a=e.heap[1],e.heap[1]=e.heap[e.heap_len--],P(e,r,1),o=e.heap[1],e.heap[--e.heap_max]=a,e.heap[--e.heap_max]=o,r[2*l]=r[2*a]+r[2*o],e.depth[l]=(e.depth[a]>=e.depth[o]?e.depth[a]:e.depth[o])+1,r[2*a+1]=r[2*o+1]=l,e.heap[1]=l++,P(e,r,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],((e,t)=>{const r=t.dyn_tree,s=t.max_code,i=t.stat_desc.static_tree,n=t.stat_desc.has_stree,a=t.stat_desc.extra_bits,o=t.stat_desc.extra_base,l=t.stat_desc.max_length;let u,h,f,d,m,p,g=0;for(d=0;d<=c;d++)e.bl_count[d]=0;for(r[2*e.heap[e.heap_max]+1]=0,u=e.heap_max+1;u<573;u++)h=e.heap[u],d=r[2*r[2*h+1]+1]+1,d>l&&(d=l,g++),r[2*h+1]=d,h>s||(e.bl_count[d]++,m=0,h>=o&&(m=a[h-o]),p=r[2*h],e.opt_len+=p*(d+m),n&&(e.static_len+=p*(i[2*h+1]+m)));if(0!==g){do{for(d=l-1;0===e.bl_count[d];)d--;e.bl_count[d]--,e.bl_count[d+1]+=2,e.bl_count[l]--,g-=2}while(g>0);for(d=l;0!==d;d--)for(h=e.bl_count[d];0!==h;)f=e.heap[--u],f>s||(r[2*f+1]!==d&&(e.opt_len+=(d-r[2*f+1])*r[2*f],r[2*f+1]=d),h--)}})(e,t),x(r,u,e.bl_count)},U=(e,t,r)=>{let s,i,n=-1,a=t[1],o=0,l=7,c=4;for(0===a&&(l=138,c=3),t[2*(r+1)+1]=65535,s=0;s<=r;s++)i=a,a=t[2*(s+1)+1],++o<l&&i===a||(o<c?e.bl_tree[2*i]+=o:0!==i?(i!==n&&e.bl_tree[2*i]++,e.bl_tree[32]++):o<=10?e.bl_tree[34]++:e.bl_tree[36]++,o=0,n=i,0===a?(l=138,c=3):i===a?(l=6,c=3):(l=7,c=4))},V=(e,t,r)=>{let s,i,n=-1,a=t[1],o=0,l=7,c=4;for(0===a&&(l=138,c=3),s=0;s<=r;s++)if(i=a,a=t[2*(s+1)+1],!(++o<l&&i===a)){if(o<c)do{B(e,i,e.bl_tree)}while(0!=--o);else 0!==i?(i!==n&&(B(e,i,e.bl_tree),o--),B(e,16,e.bl_tree),N(e,o-3,2)):o<=10?(B(e,17,e.bl_tree),N(e,o-3,3)):(B(e,18,e.bl_tree),N(e,o-11,7));o=0,n=i,0===a?(l=138,c=3):i===a?(l=6,c=3):(l=7,c=4)}};let H=!1;const M=(e,t,r,s)=>{N(e,0+(s?1:0),3),((e,t,r,s)=>{R(e),s&&(C(e,r),C(e,~r)),e.pending_buf.set(e.window.subarray(t,t+r),e.pending),e.pending+=r})(e,t,r,!0)};var F=(e,t,r,s)=>{let i,n,o=0;e.level>0?(2===e.strm.data_type&&(e.strm.data_type=(e=>{let t,r=4093624447;for(t=0;t<=31;t++,r>>>=1)if(1&r&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<a;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0})(e)),L(e,e.l_desc),L(e,e.d_desc),o=(e=>{let t;for(U(e,e.dyn_ltree,e.l_desc.max_code),U(e,e.dyn_dtree,e.d_desc.max_code),L(e,e.bl_desc),t=18;t>=3&&0===e.bl_tree[2*d[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t})(e),i=e.opt_len+3+7>>>3,n=e.static_len+3+7>>>3,n<=i&&(i=n)):i=n=r+5,r+4<=i&&-1!==t?M(e,t,r,s):4===e.strategy||n===i?(N(e,2+(s?1:0),3),D(e,m,p)):(N(e,4+(s?1:0),3),((e,t,r,s)=>{let i;for(N(e,t-257,5),N(e,r-1,5),N(e,s-4,4),i=0;i<s;i++)N(e,e.bl_tree[2*d[i]+1],3);V(e,e.dyn_ltree,t-1),V(e,e.dyn_dtree,r-1)})(e,e.l_desc.max_code+1,e.d_desc.max_code+1,o+1),D(e,e.dyn_ltree,e.dyn_dtree)),T(e),s&&R(e)},W={_tr_init:e=>{H||((()=>{let e,t,r,s,i;const n=new Array(16);for(r=0,s=0;s<28;s++)for(y[s]=r,e=0;e<1<<u[s];e++)w[r++]=s;for(w[r-1]=s,i=0,s=0;s<16;s++)for(b[s]=i,e=0;e<1<<h[s];e++)g[i++]=s;for(i>>=7;s<l;s++)for(b[s]=i<<7,e=0;e<1<<h[s]-7;e++)g[256+i++]=s;for(t=0;t<=c;t++)n[t]=0;for(e=0;e<=143;)m[2*e+1]=8,e++,n[8]++;for(;e<=255;)m[2*e+1]=9,e++,n[9]++;for(;e<=279;)m[2*e+1]=7,e++,n[7]++;for(;e<=287;)m[2*e+1]=8,e++,n[8]++;for(x(m,287,n),e=0;e<l;e++)p[2*e+1]=5,p[2*e]=I(e,5);A=new v(m,u,257,o,c),k=new v(p,h,0,l,c),_=new v(new Array(0),f,0,19,7)})(),H=!0),e.l_desc=new S(e.dyn_ltree,A),e.d_desc=new S(e.dyn_dtree,k),e.bl_desc=new S(e.bl_tree,_),e.bi_buf=0,e.bi_valid=0,T(e)},_tr_stored_block:M,_tr_flush_block:F,_tr_tally:(e,t,r)=>(e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&r,e.last_lit++,0===t?e.dyn_ltree[2*r]++:(e.matches++,t--,e.dyn_ltree[2*(w[r]+a+1)]++,e.dyn_dtree[2*E(t)]++),e.last_lit===e.lit_bufsize-1),_tr_align:e=>{N(e,2,3),B(e,256,m),(e=>{16===e.bi_valid?(C(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)})(e)}};var j=(e,t,r,s)=>{let i=65535&e|0,n=e>>>16&65535|0,a=0;for(;0!==r;){a=r>2e3?2e3:r,r-=a;do{i=i+t[s++]|0,n=n+i|0}while(--a);i%=65521,n%=65521}return i|n<<16|0};const q=new Uint32Array((()=>{let e,t=[];for(var r=0;r<256;r++){e=r;for(var s=0;s<8;s++)e=1&e?3988292384^e>>>1:e>>>1;t[r]=e}return t})());var z=(e,t,r,s)=>{const i=q,n=s+r;e^=-1;for(let r=s;r<n;r++)e=e>>>8^i[255&(e^t[r])];return-1^e},K={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Q={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:J,_tr_stored_block:G,_tr_flush_block:Z,_tr_tally:X,_tr_align:Y}=W,{Z_NO_FLUSH:$,Z_PARTIAL_FLUSH:ee,Z_FULL_FLUSH:te,Z_FINISH:re,Z_BLOCK:se,Z_OK:ie,Z_STREAM_END:ne,Z_STREAM_ERROR:ae,Z_DATA_ERROR:oe,Z_BUF_ERROR:le,Z_DEFAULT_COMPRESSION:ce,Z_FILTERED:ue,Z_HUFFMAN_ONLY:he,Z_RLE:fe,Z_FIXED:de,Z_DEFAULT_STRATEGY:me,Z_UNKNOWN:pe,Z_DEFLATED:ge}=Q,we=258,ye=262,be=103,ve=113,Ae=666,ke=(e,t)=>(e.msg=K[t],t),_e=e=>(e<<1)-(e>4?9:0),Se=e=>{let t=e.length;for(;--t>=0;)e[t]=0};let Ee=(e,t,r)=>(t<<e.hash_shift^r)&e.hash_mask;const Ce=e=>{const t=e.state;let r=t.pending;r>e.avail_out&&(r=e.avail_out),0!==r&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+r),e.next_out),e.next_out+=r,t.pending_out+=r,e.total_out+=r,e.avail_out-=r,t.pending-=r,0===t.pending&&(t.pending_out=0))},Ne=(e,t)=>{Z(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,Ce(e.strm)},Be=(e,t)=>{e.pending_buf[e.pending++]=t},Ie=(e,t)=>{e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t},xe=(e,t,r,s)=>{let i=e.avail_in;return i>s&&(i=s),0===i?0:(e.avail_in-=i,t.set(e.input.subarray(e.next_in,e.next_in+i),r),1===e.state.wrap?e.adler=j(e.adler,t,i,r):2===e.state.wrap&&(e.adler=z(e.adler,t,i,r)),e.next_in+=i,e.total_in+=i,i)},Te=(e,t)=>{let r,s,i=e.max_chain_length,n=e.strstart,a=e.prev_length,o=e.nice_match;const l=e.strstart>e.w_size-ye?e.strstart-(e.w_size-ye):0,c=e.window,u=e.w_mask,h=e.prev,f=e.strstart+we;let d=c[n+a-1],m=c[n+a];e.prev_length>=e.good_match&&(i>>=2),o>e.lookahead&&(o=e.lookahead);do{if(r=t,c[r+a]===m&&c[r+a-1]===d&&c[r]===c[n]&&c[++r]===c[n+1]){n+=2,r++;do{}while(c[++n]===c[++r]&&c[++n]===c[++r]&&c[++n]===c[++r]&&c[++n]===c[++r]&&c[++n]===c[++r]&&c[++n]===c[++r]&&c[++n]===c[++r]&&c[++n]===c[++r]&&n<f);if(s=we-(f-n),n=f-we,s>a){if(e.match_start=t,a=s,s>=o)break;d=c[n+a-1],m=c[n+a]}}}while((t=h[t&u])>l&&0!=--i);return a<=e.lookahead?a:e.lookahead},Re=e=>{const t=e.w_size;let r,s,i,n,a;do{if(n=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-ye)){e.window.set(e.window.subarray(t,t+t),0),e.match_start-=t,e.strstart-=t,e.block_start-=t,s=e.hash_size,r=s;do{i=e.head[--r],e.head[r]=i>=t?i-t:0}while(--s);s=t,r=s;do{i=e.prev[--r],e.prev[r]=i>=t?i-t:0}while(--s);n+=t}if(0===e.strm.avail_in)break;if(s=xe(e.strm,e.window,e.strstart+e.lookahead,n),e.lookahead+=s,e.lookahead+e.insert>=3)for(a=e.strstart-e.insert,e.ins_h=e.window[a],e.ins_h=Ee(e,e.ins_h,e.window[a+1]);e.insert&&(e.ins_h=Ee(e,e.ins_h,e.window[a+3-1]),e.prev[a&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=a,a++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<ye&&0!==e.strm.avail_in)},Oe=(e,t)=>{let r,s;for(;;){if(e.lookahead<ye){if(Re(e),e.lookahead<ye&&t===$)return 1;if(0===e.lookahead)break}if(r=0,e.lookahead>=3&&(e.ins_h=Ee(e,e.ins_h,e.window[e.strstart+3-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==r&&e.strstart-r<=e.w_size-ye&&(e.match_length=Te(e,r)),e.match_length>=3)if(s=X(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){e.match_length--;do{e.strstart++,e.ins_h=Ee(e,e.ins_h,e.window[e.strstart+3-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=Ee(e,e.ins_h,e.window[e.strstart+1]);else s=X(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(s&&(Ne(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<2?e.strstart:2,t===re?(Ne(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(Ne(e,!1),0===e.strm.avail_out)?1:2},Pe=(e,t)=>{let r,s,i;for(;;){if(e.lookahead<ye){if(Re(e),e.lookahead<ye&&t===$)return 1;if(0===e.lookahead)break}if(r=0,e.lookahead>=3&&(e.ins_h=Ee(e,e.ins_h,e.window[e.strstart+3-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==r&&e.prev_length<e.max_lazy_match&&e.strstart-r<=e.w_size-ye&&(e.match_length=Te(e,r),e.match_length<=5&&(e.strategy===ue||3===e.match_length&&e.strstart-e.match_start>4096)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){i=e.strstart+e.lookahead-3,s=X(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=i&&(e.ins_h=Ee(e,e.ins_h,e.window[e.strstart+3-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=2,e.strstart++,s&&(Ne(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if(s=X(e,0,e.window[e.strstart-1]),s&&Ne(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(s=X(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,t===re?(Ne(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(Ne(e,!1),0===e.strm.avail_out)?1:2};function De(e,t,r,s,i){this.good_length=e,this.max_lazy=t,this.nice_length=r,this.max_chain=s,this.func=i}const Le=[new De(0,0,0,0,((e,t)=>{let r=65535;for(r>e.pending_buf_size-5&&(r=e.pending_buf_size-5);;){if(e.lookahead<=1){if(Re(e),0===e.lookahead&&t===$)return 1;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;const s=e.block_start+r;if((0===e.strstart||e.strstart>=s)&&(e.lookahead=e.strstart-s,e.strstart=s,Ne(e,!1),0===e.strm.avail_out))return 1;if(e.strstart-e.block_start>=e.w_size-ye&&(Ne(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===re?(Ne(e,!0),0===e.strm.avail_out?3:4):(e.strstart>e.block_start&&(Ne(e,!1),e.strm.avail_out),1)})),new De(4,4,8,4,Oe),new De(4,5,16,8,Oe),new De(4,6,32,32,Oe),new De(4,4,16,16,Pe),new De(8,16,32,32,Pe),new De(8,16,128,128,Pe),new De(8,32,128,256,Pe),new De(32,128,258,1024,Pe),new De(32,258,258,4096,Pe)];function Ue(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=ge,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),Se(this.dyn_ltree),Se(this.dyn_dtree),Se(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),Se(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),Se(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const Ve=e=>{if(!e||!e.state)return ke(e,ae);e.total_in=e.total_out=0,e.data_type=pe;const t=e.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?42:ve,e.adler=2===t.wrap?0:1,t.last_flush=$,J(t),ie},He=e=>{const t=Ve(e);var r;return t===ie&&((r=e.state).window_size=2*r.w_size,Se(r.head),r.max_lazy_match=Le[r.level].max_lazy,r.good_match=Le[r.level].good_length,r.nice_match=Le[r.level].nice_length,r.max_chain_length=Le[r.level].max_chain,r.strstart=0,r.block_start=0,r.lookahead=0,r.insert=0,r.match_length=r.prev_length=2,r.match_available=0,r.ins_h=0),t},Me=(e,t,r,s,i,n)=>{if(!e)return ae;let a=1;if(t===ce&&(t=6),s<0?(a=0,s=-s):s>15&&(a=2,s-=16),i<1||i>9||r!==ge||s<8||s>15||t<0||t>9||n<0||n>de)return ke(e,ae);8===s&&(s=9);const o=new Ue;return e.state=o,o.strm=e,o.wrap=a,o.gzhead=null,o.w_bits=s,o.w_size=1<<o.w_bits,o.w_mask=o.w_size-1,o.hash_bits=i+7,o.hash_size=1<<o.hash_bits,o.hash_mask=o.hash_size-1,o.hash_shift=~~((o.hash_bits+3-1)/3),o.window=new Uint8Array(2*o.w_size),o.head=new Uint16Array(o.hash_size),o.prev=new Uint16Array(o.w_size),o.lit_bufsize=1<<i+6,o.pending_buf_size=4*o.lit_bufsize,o.pending_buf=new Uint8Array(o.pending_buf_size),o.d_buf=1*o.lit_bufsize,o.l_buf=3*o.lit_bufsize,o.level=t,o.strategy=n,o.method=r,He(e)};var Fe={deflateInit:(e,t)=>Me(e,t,ge,15,8,me),deflateInit2:Me,deflateReset:He,deflateResetKeep:Ve,deflateSetHeader:(e,t)=>e&&e.state?2!==e.state.wrap?ae:(e.state.gzhead=t,ie):ae,deflate:(e,t)=>{let r,s;if(!e||!e.state||t>se||t<0)return e?ke(e,ae):ae;const i=e.state;if(!e.output||!e.input&&0!==e.avail_in||i.status===Ae&&t!==re)return ke(e,0===e.avail_out?le:ae);i.strm=e;const n=i.last_flush;if(i.last_flush=t,42===i.status)if(2===i.wrap)e.adler=0,Be(i,31),Be(i,139),Be(i,8),i.gzhead?(Be(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),Be(i,255&i.gzhead.time),Be(i,i.gzhead.time>>8&255),Be(i,i.gzhead.time>>16&255),Be(i,i.gzhead.time>>24&255),Be(i,9===i.level?2:i.strategy>=he||i.level<2?4:0),Be(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(Be(i,255&i.gzhead.extra.length),Be(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(e.adler=z(e.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=69):(Be(i,0),Be(i,0),Be(i,0),Be(i,0),Be(i,0),Be(i,9===i.level?2:i.strategy>=he||i.level<2?4:0),Be(i,3),i.status=ve);else{let t=ge+(i.w_bits-8<<4)<<8,r=-1;r=i.strategy>=he||i.level<2?0:i.level<6?1:6===i.level?2:3,t|=r<<6,0!==i.strstart&&(t|=32),t+=31-t%31,i.status=ve,Ie(i,t),0!==i.strstart&&(Ie(i,e.adler>>>16),Ie(i,65535&e.adler)),e.adler=1}if(69===i.status)if(i.gzhead.extra){for(r=i.pending;i.gzindex<(65535&i.gzhead.extra.length)&&(i.pending!==i.pending_buf_size||(i.gzhead.hcrc&&i.pending>r&&(e.adler=z(e.adler,i.pending_buf,i.pending-r,r)),Ce(e),r=i.pending,i.pending!==i.pending_buf_size));)Be(i,255&i.gzhead.extra[i.gzindex]),i.gzindex++;i.gzhead.hcrc&&i.pending>r&&(e.adler=z(e.adler,i.pending_buf,i.pending-r,r)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=73)}else i.status=73;if(73===i.status)if(i.gzhead.name){r=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>r&&(e.adler=z(e.adler,i.pending_buf,i.pending-r,r)),Ce(e),r=i.pending,i.pending===i.pending_buf_size)){s=1;break}s=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0,Be(i,s)}while(0!==s);i.gzhead.hcrc&&i.pending>r&&(e.adler=z(e.adler,i.pending_buf,i.pending-r,r)),0===s&&(i.gzindex=0,i.status=91)}else i.status=91;if(91===i.status)if(i.gzhead.comment){r=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>r&&(e.adler=z(e.adler,i.pending_buf,i.pending-r,r)),Ce(e),r=i.pending,i.pending===i.pending_buf_size)){s=1;break}s=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0,Be(i,s)}while(0!==s);i.gzhead.hcrc&&i.pending>r&&(e.adler=z(e.adler,i.pending_buf,i.pending-r,r)),0===s&&(i.status=be)}else i.status=be;if(i.status===be&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&Ce(e),i.pending+2<=i.pending_buf_size&&(Be(i,255&e.adler),Be(i,e.adler>>8&255),e.adler=0,i.status=ve)):i.status=ve),0!==i.pending){if(Ce(e),0===e.avail_out)return i.last_flush=-1,ie}else if(0===e.avail_in&&_e(t)<=_e(n)&&t!==re)return ke(e,le);if(i.status===Ae&&0!==e.avail_in)return ke(e,le);if(0!==e.avail_in||0!==i.lookahead||t!==$&&i.status!==Ae){let r=i.strategy===he?((e,t)=>{let r;for(;;){if(0===e.lookahead&&(Re(e),0===e.lookahead)){if(t===$)return 1;break}if(e.match_length=0,r=X(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,r&&(Ne(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===re?(Ne(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(Ne(e,!1),0===e.strm.avail_out)?1:2})(i,t):i.strategy===fe?((e,t)=>{let r,s,i,n;const a=e.window;for(;;){if(e.lookahead<=we){if(Re(e),e.lookahead<=we&&t===$)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=3&&e.strstart>0&&(i=e.strstart-1,s=a[i],s===a[++i]&&s===a[++i]&&s===a[++i])){n=e.strstart+we;do{}while(s===a[++i]&&s===a[++i]&&s===a[++i]&&s===a[++i]&&s===a[++i]&&s===a[++i]&&s===a[++i]&&s===a[++i]&&i<n);e.match_length=we-(n-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=3?(r=X(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(r=X(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),r&&(Ne(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===re?(Ne(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(Ne(e,!1),0===e.strm.avail_out)?1:2})(i,t):Le[i.level].func(i,t);if(3!==r&&4!==r||(i.status=Ae),1===r||3===r)return 0===e.avail_out&&(i.last_flush=-1),ie;if(2===r&&(t===ee?Y(i):t!==se&&(G(i,0,0,!1),t===te&&(Se(i.head),0===i.lookahead&&(i.strstart=0,i.block_start=0,i.insert=0))),Ce(e),0===e.avail_out))return i.last_flush=-1,ie}return t!==re?ie:i.wrap<=0?ne:(2===i.wrap?(Be(i,255&e.adler),Be(i,e.adler>>8&255),Be(i,e.adler>>16&255),Be(i,e.adler>>24&255),Be(i,255&e.total_in),Be(i,e.total_in>>8&255),Be(i,e.total_in>>16&255),Be(i,e.total_in>>24&255)):(Ie(i,e.adler>>>16),Ie(i,65535&e.adler)),Ce(e),i.wrap>0&&(i.wrap=-i.wrap),0!==i.pending?ie:ne)},deflateEnd:e=>{if(!e||!e.state)return ae;const t=e.state.status;return 42!==t&&69!==t&&73!==t&&91!==t&&t!==be&&t!==ve&&t!==Ae?ke(e,ae):(e.state=null,t===ve?ke(e,oe):ie)},deflateSetDictionary:(e,t)=>{let r=t.length;if(!e||!e.state)return ae;const s=e.state,i=s.wrap;if(2===i||1===i&&42!==s.status||s.lookahead)return ae;if(1===i&&(e.adler=j(e.adler,t,r,0)),s.wrap=0,r>=s.w_size){0===i&&(Se(s.head),s.strstart=0,s.block_start=0,s.insert=0);let e=new Uint8Array(s.w_size);e.set(t.subarray(r-s.w_size,r),0),t=e,r=s.w_size}const n=e.avail_in,a=e.next_in,o=e.input;for(e.avail_in=r,e.next_in=0,e.input=t,Re(s);s.lookahead>=3;){let e=s.strstart,t=s.lookahead-2;do{s.ins_h=Ee(s,s.ins_h,s.window[e+3-1]),s.prev[e&s.w_mask]=s.head[s.ins_h],s.head[s.ins_h]=e,e++}while(--t);s.strstart=e,s.lookahead=2,Re(s)}return s.strstart+=s.lookahead,s.block_start=s.strstart,s.insert=s.lookahead,s.lookahead=0,s.match_length=s.prev_length=2,s.match_available=0,e.next_in=a,e.input=o,e.avail_in=n,s.wrap=i,ie},deflateInfo:"pako deflate (from Nodeca project)"};const We=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var je=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const r=t.shift();if(r){if("object"!=typeof r)throw new TypeError(r+"must be non-object");for(const t in r)We(r,t)&&(e[t]=r[t])}}return e},qe=e=>{let t=0;for(let r=0,s=e.length;r<s;r++)t+=e[r].length;const r=new Uint8Array(t);for(let t=0,s=0,i=e.length;t<i;t++){let i=e[t];r.set(i,s),s+=i.length}return r};let ze=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){ze=!1}const Ke=new Uint8Array(256);for(let e=0;e<256;e++)Ke[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;Ke[254]=Ke[254]=1;var Qe=e=>{if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(e);let t,r,s,i,n,a=e.length,o=0;for(i=0;i<a;i++)r=e.charCodeAt(i),55296==(64512&r)&&i+1<a&&(s=e.charCodeAt(i+1),56320==(64512&s)&&(r=65536+(r-55296<<10)+(s-56320),i++)),o+=r<128?1:r<2048?2:r<65536?3:4;for(t=new Uint8Array(o),n=0,i=0;n<o;i++)r=e.charCodeAt(i),55296==(64512&r)&&i+1<a&&(s=e.charCodeAt(i+1),56320==(64512&s)&&(r=65536+(r-55296<<10)+(s-56320),i++)),r<128?t[n++]=r:r<2048?(t[n++]=192|r>>>6,t[n++]=128|63&r):r<65536?(t[n++]=224|r>>>12,t[n++]=128|r>>>6&63,t[n++]=128|63&r):(t[n++]=240|r>>>18,t[n++]=128|r>>>12&63,t[n++]=128|r>>>6&63,t[n++]=128|63&r);return t},Je=(e,t)=>{const r=t||e.length;if("function"==typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(e.subarray(0,t));let s,i;const n=new Array(2*r);for(i=0,s=0;s<r;){let t=e[s++];if(t<128){n[i++]=t;continue}let a=Ke[t];if(a>4)n[i++]=65533,s+=a-1;else{for(t&=2===a?31:3===a?15:7;a>1&&s<r;)t=t<<6|63&e[s++],a--;a>1?n[i++]=65533:t<65536?n[i++]=t:(t-=65536,n[i++]=55296|t>>10&1023,n[i++]=56320|1023&t)}}return((e,t)=>{if(t<65534&&e.subarray&&ze)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let r="";for(let s=0;s<t;s++)r+=String.fromCharCode(e[s]);return r})(n,i)},Ge=(e,t)=>{(t=t||e.length)>e.length&&(t=e.length);let r=t-1;for(;r>=0&&128==(192&e[r]);)r--;return r<0||0===r?t:r+Ke[e[r]]>t?r:t};var Ze=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0};const Xe=Object.prototype.toString,{Z_NO_FLUSH:Ye,Z_SYNC_FLUSH:$e,Z_FULL_FLUSH:et,Z_FINISH:tt,Z_OK:rt,Z_STREAM_END:st,Z_DEFAULT_COMPRESSION:it,Z_DEFAULT_STRATEGY:nt,Z_DEFLATED:at}=Q;function ot(e){this.options=je({level:it,method:at,chunkSize:16384,windowBits:15,memLevel:8,strategy:nt},e||{});let t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Ze,this.strm.avail_out=0;let r=Fe.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(r!==rt)throw new Error(K[r]);if(t.header&&Fe.deflateSetHeader(this.strm,t.header),t.dictionary){let e;if(e="string"==typeof t.dictionary?Qe(t.dictionary):"[object ArrayBuffer]"===Xe.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,r=Fe.deflateSetDictionary(this.strm,e),r!==rt)throw new Error(K[r]);this._dict_set=!0}}function lt(e,t){const r=new ot(t);if(r.push(e,!0),r.err)throw r.msg||K[r.err];return r.result}ot.prototype.push=function(e,t){const r=this.strm,s=this.options.chunkSize;let i,n;if(this.ended)return!1;for(n=t===~~t?t:!0===t?tt:Ye,"string"==typeof e?r.input=Qe(e):"[object ArrayBuffer]"===Xe.call(e)?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;;)if(0===r.avail_out&&(r.output=new Uint8Array(s),r.next_out=0,r.avail_out=s),(n===$e||n===et)&&r.avail_out<=6)this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;else{if(i=Fe.deflate(r,n),i===st)return r.next_out>0&&this.onData(r.output.subarray(0,r.next_out)),i=Fe.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===rt;if(0!==r.avail_out){if(n>0&&r.next_out>0)this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;else if(0===r.avail_in)break}else this.onData(r.output)}return!0},ot.prototype.onData=function(e){this.chunks.push(e)},ot.prototype.onEnd=function(e){e===rt&&(this.result=qe(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var ct={Deflate:ot,deflate:lt,deflateRaw:function(e,t){return(t=t||{}).raw=!0,lt(e,t)},gzip:function(e,t){return(t=t||{}).gzip=!0,lt(e,t)},constants:Q};var ut=function(e,t){let r,s,i,n,a,o,l,c,u,h,f,d,m,p,g,w,y,b,v,A,k,_,S,E;const C=e.state;r=e.next_in,S=e.input,s=r+(e.avail_in-5),i=e.next_out,E=e.output,n=i-(t-e.avail_out),a=i+(e.avail_out-257),o=C.dmax,l=C.wsize,c=C.whave,u=C.wnext,h=C.window,f=C.hold,d=C.bits,m=C.lencode,p=C.distcode,g=(1<<C.lenbits)-1,w=(1<<C.distbits)-1;e:do{d<15&&(f+=S[r++]<<d,d+=8,f+=S[r++]<<d,d+=8),y=m[f&g];t:for(;;){if(b=y>>>24,f>>>=b,d-=b,b=y>>>16&255,0===b)E[i++]=65535&y;else{if(!(16&b)){if(0==(64&b)){y=m[(65535&y)+(f&(1<<b)-1)];continue t}if(32&b){C.mode=12;break e}e.msg="invalid literal/length code",C.mode=30;break e}v=65535&y,b&=15,b&&(d<b&&(f+=S[r++]<<d,d+=8),v+=f&(1<<b)-1,f>>>=b,d-=b),d<15&&(f+=S[r++]<<d,d+=8,f+=S[r++]<<d,d+=8),y=p[f&w];r:for(;;){if(b=y>>>24,f>>>=b,d-=b,b=y>>>16&255,!(16&b)){if(0==(64&b)){y=p[(65535&y)+(f&(1<<b)-1)];continue r}e.msg="invalid distance code",C.mode=30;break e}if(A=65535&y,b&=15,d<b&&(f+=S[r++]<<d,d+=8,d<b&&(f+=S[r++]<<d,d+=8)),A+=f&(1<<b)-1,A>o){e.msg="invalid distance too far back",C.mode=30;break e}if(f>>>=b,d-=b,b=i-n,A>b){if(b=A-b,b>c&&C.sane){e.msg="invalid distance too far back",C.mode=30;break e}if(k=0,_=h,0===u){if(k+=l-b,b<v){v-=b;do{E[i++]=h[k++]}while(--b);k=i-A,_=E}}else if(u<b){if(k+=l+u-b,b-=u,b<v){v-=b;do{E[i++]=h[k++]}while(--b);if(k=0,u<v){b=u,v-=b;do{E[i++]=h[k++]}while(--b);k=i-A,_=E}}}else if(k+=u-b,b<v){v-=b;do{E[i++]=h[k++]}while(--b);k=i-A,_=E}for(;v>2;)E[i++]=_[k++],E[i++]=_[k++],E[i++]=_[k++],v-=3;v&&(E[i++]=_[k++],v>1&&(E[i++]=_[k++]))}else{k=i-A;do{E[i++]=E[k++],E[i++]=E[k++],E[i++]=E[k++],v-=3}while(v>2);v&&(E[i++]=E[k++],v>1&&(E[i++]=E[k++]))}break}}break}}while(r<s&&i<a);v=d>>3,r-=v,d-=v<<3,f&=(1<<d)-1,e.next_in=r,e.next_out=i,e.avail_in=r<s?s-r+5:5-(r-s),e.avail_out=i<a?a-i+257:257-(i-a),C.hold=f,C.bits=d};const ht=15,ft=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),dt=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),mt=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),pt=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var gt=(e,t,r,s,i,n,a,o)=>{const l=o.bits;let c,u,h,f,d,m,p=0,g=0,w=0,y=0,b=0,v=0,A=0,k=0,_=0,S=0,E=null,C=0;const N=new Uint16Array(16),B=new Uint16Array(16);let I,x,T,R=null,O=0;for(p=0;p<=ht;p++)N[p]=0;for(g=0;g<s;g++)N[t[r+g]]++;for(b=l,y=ht;y>=1&&0===N[y];y--);if(b>y&&(b=y),0===y)return i[n++]=20971520,i[n++]=20971520,o.bits=1,0;for(w=1;w<y&&0===N[w];w++);for(b<w&&(b=w),k=1,p=1;p<=ht;p++)if(k<<=1,k-=N[p],k<0)return-1;if(k>0&&(0===e||1!==y))return-1;for(B[1]=0,p=1;p<ht;p++)B[p+1]=B[p]+N[p];for(g=0;g<s;g++)0!==t[r+g]&&(a[B[t[r+g]]++]=g);if(0===e?(E=R=a,m=19):1===e?(E=ft,C-=257,R=dt,O-=257,m=256):(E=mt,R=pt,m=-1),S=0,g=0,p=w,d=n,v=b,A=0,h=-1,_=1<<b,f=_-1,1===e&&_>852||2===e&&_>592)return 1;for(;;){I=p-A,a[g]<m?(x=0,T=a[g]):a[g]>m?(x=R[O+a[g]],T=E[C+a[g]]):(x=96,T=0),c=1<<p-A,u=1<<v,w=u;do{u-=c,i[d+(S>>A)+u]=I<<24|x<<16|T|0}while(0!==u);for(c=1<<p-1;S&c;)c>>=1;if(0!==c?(S&=c-1,S+=c):S=0,g++,0==--N[p]){if(p===y)break;p=t[r+a[g]]}if(p>b&&(S&f)!==h){for(0===A&&(A=b),d+=w,v=p-A,k=1<<v;v+A<y&&(k-=N[v+A],!(k<=0));)v++,k<<=1;if(_+=1<<v,1===e&&_>852||2===e&&_>592)return 1;h=S&f,i[h]=b<<24|v<<16|d-n|0}}return 0!==S&&(i[d+S]=p-A<<24|64<<16|0),o.bits=b,0};const{Z_FINISH:wt,Z_BLOCK:yt,Z_TREES:bt,Z_OK:vt,Z_STREAM_END:At,Z_NEED_DICT:kt,Z_STREAM_ERROR:_t,Z_DATA_ERROR:St,Z_MEM_ERROR:Et,Z_BUF_ERROR:Ct,Z_DEFLATED:Nt}=Q,Bt=12,It=30,xt=e=>(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24);function Tt(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Rt=e=>{if(!e||!e.state)return _t;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=1,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(852),t.distcode=t.distdyn=new Int32Array(592),t.sane=1,t.back=-1,vt},Ot=e=>{if(!e||!e.state)return _t;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,Rt(e)},Pt=(e,t)=>{let r;if(!e||!e.state)return _t;const s=e.state;return t<0?(r=0,t=-t):(r=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?_t:(null!==s.window&&s.wbits!==t&&(s.window=null),s.wrap=r,s.wbits=t,Ot(e))},Dt=(e,t)=>{if(!e)return _t;const r=new Tt;e.state=r,r.window=null;const s=Pt(e,t);return s!==vt&&(e.state=null),s};let Lt,Ut,Vt=!0;const Ht=e=>{if(Vt){Lt=new Int32Array(512),Ut=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(gt(1,e.lens,0,288,Lt,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;gt(2,e.lens,0,32,Ut,0,e.work,{bits:5}),Vt=!1}e.lencode=Lt,e.lenbits=9,e.distcode=Ut,e.distbits=5},Mt=(e,t,r,s)=>{let i;const n=e.state;return null===n.window&&(n.wsize=1<<n.wbits,n.wnext=0,n.whave=0,n.window=new Uint8Array(n.wsize)),s>=n.wsize?(n.window.set(t.subarray(r-n.wsize,r),0),n.wnext=0,n.whave=n.wsize):(i=n.wsize-n.wnext,i>s&&(i=s),n.window.set(t.subarray(r-s,r-s+i),n.wnext),(s-=i)?(n.window.set(t.subarray(r-s,r),0),n.wnext=s,n.whave=n.wsize):(n.wnext+=i,n.wnext===n.wsize&&(n.wnext=0),n.whave<n.wsize&&(n.whave+=i))),0};var Ft={inflateReset:Ot,inflateReset2:Pt,inflateResetKeep:Rt,inflateInit:e=>Dt(e,15),inflateInit2:Dt,inflate:(e,t)=>{let r,s,i,n,a,o,l,c,u,h,f,d,m,p,g,w,y,b,v,A,k,_,S=0;const E=new Uint8Array(4);let C,N;const B=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return _t;r=e.state,r.mode===Bt&&(r.mode=13),a=e.next_out,i=e.output,l=e.avail_out,n=e.next_in,s=e.input,o=e.avail_in,c=r.hold,u=r.bits,h=o,f=l,_=vt;e:for(;;)switch(r.mode){case 1:if(0===r.wrap){r.mode=13;break}for(;u<16;){if(0===o)break e;o--,c+=s[n++]<<u,u+=8}if(2&r.wrap&&35615===c){r.check=0,E[0]=255&c,E[1]=c>>>8&255,r.check=z(r.check,E,2,0),c=0,u=0,r.mode=2;break}if(r.flags=0,r.head&&(r.head.done=!1),!(1&r.wrap)||(((255&c)<<8)+(c>>8))%31){e.msg="incorrect header check",r.mode=It;break}if((15&c)!==Nt){e.msg="unknown compression method",r.mode=It;break}if(c>>>=4,u-=4,k=8+(15&c),0===r.wbits)r.wbits=k;else if(k>r.wbits){e.msg="invalid window size",r.mode=It;break}r.dmax=1<<r.wbits,e.adler=r.check=1,r.mode=512&c?10:Bt,c=0,u=0;break;case 2:for(;u<16;){if(0===o)break e;o--,c+=s[n++]<<u,u+=8}if(r.flags=c,(255&r.flags)!==Nt){e.msg="unknown compression method",r.mode=It;break}if(57344&r.flags){e.msg="unknown header flags set",r.mode=It;break}r.head&&(r.head.text=c>>8&1),512&r.flags&&(E[0]=255&c,E[1]=c>>>8&255,r.check=z(r.check,E,2,0)),c=0,u=0,r.mode=3;case 3:for(;u<32;){if(0===o)break e;o--,c+=s[n++]<<u,u+=8}r.head&&(r.head.time=c),512&r.flags&&(E[0]=255&c,E[1]=c>>>8&255,E[2]=c>>>16&255,E[3]=c>>>24&255,r.check=z(r.check,E,4,0)),c=0,u=0,r.mode=4;case 4:for(;u<16;){if(0===o)break e;o--,c+=s[n++]<<u,u+=8}r.head&&(r.head.xflags=255&c,r.head.os=c>>8),512&r.flags&&(E[0]=255&c,E[1]=c>>>8&255,r.check=z(r.check,E,2,0)),c=0,u=0,r.mode=5;case 5:if(1024&r.flags){for(;u<16;){if(0===o)break e;o--,c+=s[n++]<<u,u+=8}r.length=c,r.head&&(r.head.extra_len=c),512&r.flags&&(E[0]=255&c,E[1]=c>>>8&255,r.check=z(r.check,E,2,0)),c=0,u=0}else r.head&&(r.head.extra=null);r.mode=6;case 6:if(1024&r.flags&&(d=r.length,d>o&&(d=o),d&&(r.head&&(k=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(s.subarray(n,n+d),k)),512&r.flags&&(r.check=z(r.check,s,d,n)),o-=d,n+=d,r.length-=d),r.length))break e;r.length=0,r.mode=7;case 7:if(2048&r.flags){if(0===o)break e;d=0;do{k=s[n+d++],r.head&&k&&r.length<65536&&(r.head.name+=String.fromCharCode(k))}while(k&&d<o);if(512&r.flags&&(r.check=z(r.check,s,d,n)),o-=d,n+=d,k)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=8;case 8:if(4096&r.flags){if(0===o)break e;d=0;do{k=s[n+d++],r.head&&k&&r.length<65536&&(r.head.comment+=String.fromCharCode(k))}while(k&&d<o);if(512&r.flags&&(r.check=z(r.check,s,d,n)),o-=d,n+=d,k)break e}else r.head&&(r.head.comment=null);r.mode=9;case 9:if(512&r.flags){for(;u<16;){if(0===o)break e;o--,c+=s[n++]<<u,u+=8}if(c!==(65535&r.check)){e.msg="header crc mismatch",r.mode=It;break}c=0,u=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=Bt;break;case 10:for(;u<32;){if(0===o)break e;o--,c+=s[n++]<<u,u+=8}e.adler=r.check=xt(c),c=0,u=0,r.mode=11;case 11:if(0===r.havedict)return e.next_out=a,e.avail_out=l,e.next_in=n,e.avail_in=o,r.hold=c,r.bits=u,kt;e.adler=r.check=1,r.mode=Bt;case Bt:if(t===yt||t===bt)break e;case 13:if(r.last){c>>>=7&u,u-=7&u,r.mode=27;break}for(;u<3;){if(0===o)break e;o--,c+=s[n++]<<u,u+=8}switch(r.last=1&c,c>>>=1,u-=1,3&c){case 0:r.mode=14;break;case 1:if(Ht(r),r.mode=20,t===bt){c>>>=2,u-=2;break e}break;case 2:r.mode=17;break;case 3:e.msg="invalid block type",r.mode=It}c>>>=2,u-=2;break;case 14:for(c>>>=7&u,u-=7&u;u<32;){if(0===o)break e;o--,c+=s[n++]<<u,u+=8}if((65535&c)!=(c>>>16^65535)){e.msg="invalid stored block lengths",r.mode=It;break}if(r.length=65535&c,c=0,u=0,r.mode=15,t===bt)break e;case 15:r.mode=16;case 16:if(d=r.length,d){if(d>o&&(d=o),d>l&&(d=l),0===d)break e;i.set(s.subarray(n,n+d),a),o-=d,n+=d,l-=d,a+=d,r.length-=d;break}r.mode=Bt;break;case 17:for(;u<14;){if(0===o)break e;o--,c+=s[n++]<<u,u+=8}if(r.nlen=257+(31&c),c>>>=5,u-=5,r.ndist=1+(31&c),c>>>=5,u-=5,r.ncode=4+(15&c),c>>>=4,u-=4,r.nlen>286||r.ndist>30){e.msg="too many length or distance symbols",r.mode=It;break}r.have=0,r.mode=18;case 18:for(;r.have<r.ncode;){for(;u<3;){if(0===o)break e;o--,c+=s[n++]<<u,u+=8}r.lens[B[r.have++]]=7&c,c>>>=3,u-=3}for(;r.have<19;)r.lens[B[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,C={bits:r.lenbits},_=gt(0,r.lens,0,19,r.lencode,0,r.work,C),r.lenbits=C.bits,_){e.msg="invalid code lengths set",r.mode=It;break}r.have=0,r.mode=19;case 19:for(;r.have<r.nlen+r.ndist;){for(;S=r.lencode[c&(1<<r.lenbits)-1],g=S>>>24,w=S>>>16&255,y=65535&S,!(g<=u);){if(0===o)break e;o--,c+=s[n++]<<u,u+=8}if(y<16)c>>>=g,u-=g,r.lens[r.have++]=y;else{if(16===y){for(N=g+2;u<N;){if(0===o)break e;o--,c+=s[n++]<<u,u+=8}if(c>>>=g,u-=g,0===r.have){e.msg="invalid bit length repeat",r.mode=It;break}k=r.lens[r.have-1],d=3+(3&c),c>>>=2,u-=2}else if(17===y){for(N=g+3;u<N;){if(0===o)break e;o--,c+=s[n++]<<u,u+=8}c>>>=g,u-=g,k=0,d=3+(7&c),c>>>=3,u-=3}else{for(N=g+7;u<N;){if(0===o)break e;o--,c+=s[n++]<<u,u+=8}c>>>=g,u-=g,k=0,d=11+(127&c),c>>>=7,u-=7}if(r.have+d>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=It;break}for(;d--;)r.lens[r.have++]=k}}if(r.mode===It)break;if(0===r.lens[256]){e.msg="invalid code -- missing end-of-block",r.mode=It;break}if(r.lenbits=9,C={bits:r.lenbits},_=gt(1,r.lens,0,r.nlen,r.lencode,0,r.work,C),r.lenbits=C.bits,_){e.msg="invalid literal/lengths set",r.mode=It;break}if(r.distbits=6,r.distcode=r.distdyn,C={bits:r.distbits},_=gt(2,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,C),r.distbits=C.bits,_){e.msg="invalid distances set",r.mode=It;break}if(r.mode=20,t===bt)break e;case 20:r.mode=21;case 21:if(o>=6&&l>=258){e.next_out=a,e.avail_out=l,e.next_in=n,e.avail_in=o,r.hold=c,r.bits=u,ut(e,f),a=e.next_out,i=e.output,l=e.avail_out,n=e.next_in,s=e.input,o=e.avail_in,c=r.hold,u=r.bits,r.mode===Bt&&(r.back=-1);break}for(r.back=0;S=r.lencode[c&(1<<r.lenbits)-1],g=S>>>24,w=S>>>16&255,y=65535&S,!(g<=u);){if(0===o)break e;o--,c+=s[n++]<<u,u+=8}if(w&&0==(240&w)){for(b=g,v=w,A=y;S=r.lencode[A+((c&(1<<b+v)-1)>>b)],g=S>>>24,w=S>>>16&255,y=65535&S,!(b+g<=u);){if(0===o)break e;o--,c+=s[n++]<<u,u+=8}c>>>=b,u-=b,r.back+=b}if(c>>>=g,u-=g,r.back+=g,r.length=y,0===w){r.mode=26;break}if(32&w){r.back=-1,r.mode=Bt;break}if(64&w){e.msg="invalid literal/length code",r.mode=It;break}r.extra=15&w,r.mode=22;case 22:if(r.extra){for(N=r.extra;u<N;){if(0===o)break e;o--,c+=s[n++]<<u,u+=8}r.length+=c&(1<<r.extra)-1,c>>>=r.extra,u-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=23;case 23:for(;S=r.distcode[c&(1<<r.distbits)-1],g=S>>>24,w=S>>>16&255,y=65535&S,!(g<=u);){if(0===o)break e;o--,c+=s[n++]<<u,u+=8}if(0==(240&w)){for(b=g,v=w,A=y;S=r.distcode[A+((c&(1<<b+v)-1)>>b)],g=S>>>24,w=S>>>16&255,y=65535&S,!(b+g<=u);){if(0===o)break e;o--,c+=s[n++]<<u,u+=8}c>>>=b,u-=b,r.back+=b}if(c>>>=g,u-=g,r.back+=g,64&w){e.msg="invalid distance code",r.mode=It;break}r.offset=y,r.extra=15&w,r.mode=24;case 24:if(r.extra){for(N=r.extra;u<N;){if(0===o)break e;o--,c+=s[n++]<<u,u+=8}r.offset+=c&(1<<r.extra)-1,c>>>=r.extra,u-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=It;break}r.mode=25;case 25:if(0===l)break e;if(d=f-l,r.offset>d){if(d=r.offset-d,d>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=It;break}d>r.wnext?(d-=r.wnext,m=r.wsize-d):m=r.wnext-d,d>r.length&&(d=r.length),p=r.window}else p=i,m=a-r.offset,d=r.length;d>l&&(d=l),l-=d,r.length-=d;do{i[a++]=p[m++]}while(--d);0===r.length&&(r.mode=21);break;case 26:if(0===l)break e;i[a++]=r.length,l--,r.mode=21;break;case 27:if(r.wrap){for(;u<32;){if(0===o)break e;o--,c|=s[n++]<<u,u+=8}if(f-=l,e.total_out+=f,r.total+=f,f&&(e.adler=r.check=r.flags?z(r.check,i,f,a-f):j(r.check,i,f,a-f)),f=l,(r.flags?c:xt(c))!==r.check){e.msg="incorrect data check",r.mode=It;break}c=0,u=0}r.mode=28;case 28:if(r.wrap&&r.flags){for(;u<32;){if(0===o)break e;o--,c+=s[n++]<<u,u+=8}if(c!==(4294967295&r.total)){e.msg="incorrect length check",r.mode=It;break}c=0,u=0}r.mode=29;case 29:_=At;break e;case It:_=St;break e;case 31:return Et;default:return _t}return e.next_out=a,e.avail_out=l,e.next_in=n,e.avail_in=o,r.hold=c,r.bits=u,(r.wsize||f!==e.avail_out&&r.mode<It&&(r.mode<27||t!==wt))&&Mt(e,e.output,e.next_out,f-e.avail_out),h-=e.avail_in,f-=e.avail_out,e.total_in+=h,e.total_out+=f,r.total+=f,r.wrap&&f&&(e.adler=r.check=r.flags?z(r.check,i,f,e.next_out-f):j(r.check,i,f,e.next_out-f)),e.data_type=r.bits+(r.last?64:0)+(r.mode===Bt?128:0)+(20===r.mode||15===r.mode?256:0),(0===h&&0===f||t===wt)&&_===vt&&(_=Ct),_},inflateEnd:e=>{if(!e||!e.state)return _t;let t=e.state;return t.window&&(t.window=null),e.state=null,vt},inflateGetHeader:(e,t)=>{if(!e||!e.state)return _t;const r=e.state;return 0==(2&r.wrap)?_t:(r.head=t,t.done=!1,vt)},inflateSetDictionary:(e,t)=>{const r=t.length;let s,i,n;return e&&e.state?(s=e.state,0!==s.wrap&&11!==s.mode?_t:11===s.mode&&(i=1,i=j(i,t,r,0),i!==s.check)?St:(n=Mt(e,t,r,r),n?(s.mode=31,Et):(s.havedict=1,vt))):_t},inflateInfo:"pako inflate (from Nodeca project)"};var Wt=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1};const jt=Object.prototype.toString,{Z_NO_FLUSH:qt,Z_FINISH:zt,Z_OK:Kt,Z_STREAM_END:Qt,Z_NEED_DICT:Jt,Z_STREAM_ERROR:Gt,Z_DATA_ERROR:Zt,Z_MEM_ERROR:Xt}=Q;function Yt(e){this.options=je({chunkSize:65536,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Ze,this.strm.avail_out=0;let r=Ft.inflateInit2(this.strm,t.windowBits);if(r!==Kt)throw new Error(K[r]);if(this.header=new Wt,Ft.inflateGetHeader(this.strm,this.header),t.dictionary&&("string"==typeof t.dictionary?t.dictionary=Qe(t.dictionary):"[object ArrayBuffer]"===jt.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(r=Ft.inflateSetDictionary(this.strm,t.dictionary),r!==Kt)))throw new Error(K[r])}function $t(e,t){const r=new Yt(t);if(r.push(e),r.err)throw r.msg||K[r.err];return r.result}Yt.prototype.push=function(e,t){const r=this.strm,s=this.options.chunkSize,i=this.options.dictionary;let n,a,o;if(this.ended)return!1;for(a=t===~~t?t:!0===t?zt:qt,"[object ArrayBuffer]"===jt.call(e)?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;;){for(0===r.avail_out&&(r.output=new Uint8Array(s),r.next_out=0,r.avail_out=s),n=Ft.inflate(r,a),n===Jt&&i&&(n=Ft.inflateSetDictionary(r,i),n===Kt?n=Ft.inflate(r,a):n===Zt&&(n=Jt));r.avail_in>0&&n===Qt&&r.state.wrap>0&&0!==e[r.next_in];)Ft.inflateReset(r),n=Ft.inflate(r,a);switch(n){case Gt:case Zt:case Jt:case Xt:return this.onEnd(n),this.ended=!0,!1}if(o=r.avail_out,r.next_out&&(0===r.avail_out||n===Qt))if("string"===this.options.to){let e=Ge(r.output,r.next_out),t=r.next_out-e,i=Je(r.output,e);r.next_out=t,r.avail_out=s-t,t&&r.output.set(r.output.subarray(e,e+t),0),this.onData(i)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(n!==Kt||0!==o){if(n===Qt)return n=Ft.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,!0;if(0===r.avail_in)break}}return!0},Yt.prototype.onData=function(e){this.chunks.push(e)},Yt.prototype.onEnd=function(e){e===Kt&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=qe(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var er={Inflate:Yt,inflate:$t,inflateRaw:function(e,t){return(t=t||{}).raw=!0,$t(e,t)},ungzip:$t,constants:Q};const{Deflate:tr,deflate:rr,deflateRaw:sr,gzip:ir}=ct,{Inflate:nr,inflate:ar,inflateRaw:or,ungzip:lr}=er;var cr=nr,ur=r(3942);async function hr(e,t,r,s){if(e.reader&&s&&("gzip"===t&&!r||!t&&"gzip"===r))return e.setReader(new ur.UU(e.reader)),e;const i=new Uint8Array(await e.getBuffer()),n=await fr(i,t,r);return i!==n&&e.setBuffer(n),e}async function fr(e,t,r){const s=e;try{"chunked"===r&&(e=function(e){let t=0,r=0;const s=new TextDecoder("utf-8");for(;t<e.length;){let n=t;for(;e[n]>=48&&e[n]<=57||e[n]>=65&&e[n]<=70||e[n]>=97&&e[n]<=102;)n++;if(0===n)return e;if(13!=e[n]||10!=e[n+1])return e;n+=2;var i=parseInt(s.decode(e.subarray(t,n)),16);if(0==i)break;e.set(e.subarray(n,n+i),r),n+=i,r+=i,13==e[n]&&10==e[n+1]&&(n+=2),t=n}return e.subarray(0,r)}(e))}catch(e){console.log("Chunk-Encoding Ignored: "+e)}try{if("br"===t)0===(e=i()(e)).length&&(e=s);else if("gzip"===t||"gzip"===r){const t=new cr;t.push(e,!0),t.result&&!t.err&&(e=t.result)}}catch(e){console.log("Content-Encoding Ignored: "+e)}return e}},6553:(e,t,r)=>{"use strict";r.r(t),r.d(t,{SWCollections:()=>be,SWReplay:()=>ve});var s=r(8490),i=r.n(s),n=r(8389),a=r.n(n),o=r(1106),l=r(2953),c=r(4472),u=r(6965);function h(e={}){let t,r;const s=e&&e.response&&e.response.extraOpts;if(s&&(t=s.adaptive_max_resolution||s.maxRes,r=s.adaptive_max_bandwidth||s.maxBand,t&&r))return{maxRes:t,maxBand:r};let i;return i=e&&e.response&&!e.response.isLive?{maxRes:921600,maxBand:2e6}:{maxRes:412800,maxBand:1e6},e&&e.save&&(e.save.maxRes=i.maxRes,e.save.maxBand=i.maxBand),i}function f(e,t){const r=/#EXT-X-STREAM-INF:(?:.*[,])?BANDWIDTH=([\d]+)/,s=/RESOLUTION=([\d]+)x([\d]+)/,{maxRes:i,maxBand:n}=h(t);let a=[],o=0,l=null,c=0,u=0,f=e.trimEnd().split("\n");for(const e of f){const h=e.match(r);if(!h){t&&t.rewriteUrl&&!e.startsWith("#")&&(f[o]=t.rewriteUrl(e)),o+=1;continue}a.push(o);const d=Number(h[1]),m=e.match(s),p=m?Number(m[1])*Number(m[2]):0;p&&i?p<=i&&p>u&&(u=p,c=d,l=o):d<=n&&d>c&&(u=p,c=d,l=o),o+=1}a.reverse();for(const e of a)e!==l&&f.splice(e,2);return f.join("\n")}const d={ignoreAttributes:!1,ignoreNameSpace:!1,format:!1,supressEmptyNode:!0};function m(e,t,r){try{return function(e,t,r){const s=d,i=u.parse(e,s),{maxRes:n,maxBand:a}=h(t);let o=null,l=0,c=0,f=null;f=Array.isArray(i.MPD.Period.AdaptationSet)?i.MPD.Period.AdaptationSet:[i.MPD.Period.AdaptationSet];for(const e of f){o=null,l=0,c=0;let t=null;t=Array.isArray(e.Representation)?e.Representation:[e.Representation];for(const e of t){const t=Number(e["@_width"]||"0")*Number(e["@_height"]||"0"),r=Number(e["@_bandwidth"]||"0");t&&n?t<=n&&t>l&&(l=t,c=r,o=e):r<=a&&r>c&&(l=t,c=r,o=e)}o&&Array.isArray(r)&&r.push(o["@_id"]),o&&(e.Representation=[o])}const m=new u.j2xParser(s);return"<?xml version='1.0' encoding='UTF-8'?>\n"+m.parse(i).trim()}(e,t,r)}catch(t){return console.log(t),e}}const p=[{contains:["youtube.com","youtube-nocookie.com"],rxRules:[[/ytplayer.load\(\);/,g('ytplayer.config.args.dash = "0"; ytplayer.config.args.dashmpd = ""; {0}')],[/yt\.setConfig.*PLAYER_CONFIG.*args":\s*{/,g('{0} "dash": "0", dashmpd: "", ')],[/(?:"player":|ytplayer\.config).*"args":\s*{/,g('{0}"dash":"0","dashmpd":"",')],[/yt\.setConfig.*PLAYER_VARS.*?{/,g('{0}"dash":"0","dashmpd":"",')],[/ytplayer.config={args:\s*{/,g('{0}"dash":"0","dashmpd":"",')],[/"0"\s*?==\s*?\w+\.dash&&/m,g("1&&")]]},{contains:["vimeo.com/video"],rxRules:[[/"dash"[:]/,g('"__dash":')],[/"hls"[:]/,g('"__hls":')]]},{contains:["facebook.com/"],rxRules:[[/"dash_/,g('"__nodash__')],[/_dash"/,g('__nodash__"')],[/_dash_/,g("__nodash__")]]},{contains:["instagram.com/"],rxRules:[[/"is_dash_eligible":true/,g('"is_dash_eligible":false')]]},{contains:["api.twitter.com/2/","twitter.com/i/api/2/","twitter.com/i/api/graphql/"],rxRules:[[/"video_info".*?}]}/,w('"video_info":')]]},{contains:["cdn.syndication.twimg.com/tweet-result"],rxRules:[[/"video".*?viewCount":\d+}/,w('"video":')]]},{contains:["/vqlweb.js"],rxRules:[[/\b\w+\.updatePortSize\(\);this\.updateApplicationSize\(\)(?![*])/gim,g("/*{0}*/")]]}];function g(e){return t=>e.replace("{0}",t)}function w(e){return(t,r)=>{if(!r)return t;const s=t;try{const s=5e6,i=r.response&&r.response.extraOpts;let n=s;r.save?r.save.maxBitrate=n:i&&i.maxBitrate&&(n=i.maxBitrate),t=t.slice(e.length);const a=JSON.parse(t);let o=null,l=0,c="";for(const e of a.variants)e.content_type&&"video/mp4"!==e.content_type||e.type&&"video/mp4"!==e.type||(e.bitrate&&e.bitrate>l&&e.bitrate<=n?(o=e,l=e.bitrate):e.src&&e.src>c&&(o=e,c=e.src));return o&&(a.variants=[o]),e+JSON.stringify(a)}catch(e){return console.warn("rewriter error: ",e),s}}}class y{constructor(e,t){this.rwRules=t||p,this.RewriterCls=e,this._initRules()}_initRules(){this.rewriters=new Map;for(const e of this.rwRules)e.rxRules&&this.rewriters.set(e,new this.RewriterCls(e.rxRules));this.defaultRewriter=new this.RewriterCls}getRewriter(e){for(const t of this.rwRules)if(t.contains)for(const r of t.contains)if(e.indexOf(r)>=0){const e=this.rewriters.get(t);if(e)return e}return this.defaultRewriter}}class b{constructor(e){this.rules=e||null,this.rules?this.compileRules():this.rx=null}compileRules(){let e="";for(let t of this.rules)e&&(e+="|"),e+=`(${t[0].source})`;const t=`(?:${e})`;this.rx=new RegExp(t,"gm")}doReplace(e,t){const r=e[e.length-2],s=e[e.length-1];for(let i=0;i<this.rules.length;i++){const n=e[i];if(!n)continue;const a=this.rules[i][1].call(this,n,t,r,s);if(a)return a}}rewrite(e,t){return this.rx?e.replace(this.rx,((e,...r)=>this.doReplace(r,t))):e}}const v=/^\s*?import\s*?[{"']/,A=/^\s*?export\s*?({([\s\w,$\n]+?)}[\s;]*|default|class)\s+/m,k=["window","globalThis","self","document","location","top","parent","frames","opener"],_=k.map((e=>`(?:^|[^$.])\\b${e}\\b(?:$|[^$])`)).join("|"),S=new RegExp(`(${_})`);var E=r(980),C=r.n(E);const N=new TextEncoder,B=new TextDecoder,I=/([\d.]+\s*;\s*url\s*=\s*)(.+)(\s*)/im,x=["http://","https://","//"],T="mp_",R={a:{href:T},applet:{codebase:"oe_",archive:"oe_"},area:{href:T},audio:{src:"oe_"},base:{href:T},blockquote:{cite:T},body:{background:"im_"},button:{formaction:T},command:{icon:"im_"},del:{cite:T},embed:{src:"oe_"},iframe:{src:"if_"},image:{src:"im_","xlink:href":"im_",href:"im_"},img:{src:"im_",srcset:"im_"},ins:{cite:T},input:{src:"im_",formaction:T},form:{action:T},frame:{src:"fr_"},link:{href:"oe_"},meta:{content:T},object:{codebase:"oe_",data:"oe_"},param:{value:"oe_"},q:{cite:T},ref:{href:"oe_"},script:{src:"js_","xlink:href":"js_"},source:{src:"oe_",srcset:"oe_"},video:{src:"oe_",poster:"im_"}},O=[{match:/youtube.com\/v\/([^&]+)[&]/,replace:"youtube.com/embed/$1?"}],P=[{urlMatch:/[?&]:loadOrderID=([\d]+)/,match:/(loadOrderID&(quot;&)?#x[^;]+?;)([\d]+)/gi,replace:"$1$U1"}];class D{constructor(e,t=!1){this.rewriter=e,this.rule=null;for(const e of P){const t=this.rewriter.url.match(e.urlMatch);if(t){this.ruleMatch=t,this.rule=e;break}}this.isCharsetUTF8=t}rewriteMetaContent(e,t,r){let s=this.getAttr(e,"http-equiv");if(s&&(s=s.toLowerCase()),"content-security-policy"===s)t.name="_"+t.name;else{if("refresh"===s)return t.value.replace(I,((e,t,s,i)=>t+this.rewriteUrl(r,s)+i));if("referrer"===this.getAttr(e,"name"))return"no-referrer-when-downgrade";if((0,o.bB)(t.value,x))return this.rewriteUrl(r,t.value)}return t.value}rewriteSrcSet(e,t){const r=/\s*(\S*\s+[\d.]+[wx]),|(?:\s*,(?:\s+|(?=https?:)))/;let s=[];for(let i of e.split(r))if(i){const e=i.trim().split(" ");e[0]=this.rewriteUrl(t,e[0]),s.push(e.join(" "))}return s.join(", ")}rewriteTagAndAttrs(e,t,r){const s=e=>(0,o.bB)(e,x),i=e.tagName;for(let n of e.attrs){const a=n.name,o=n.value;if(a.startsWith("on")&&o.startsWith("javascript:")&&"-"!=a.slice(2,3))n.value="javascript:"+r.rewriteJS(o.slice("javascript:".length),{inline:!0});else if("style"===a)n.value=r.rewriteCSS(n.value);else if("background"===a)n.value=this.rewriteUrl(r,o);else if("srcset"===a)n.value=this.rewriteSrcSet(o,r);else if("crossorigin"===a||"integrity"===a||"download"===a)n.name="_"+n.name;else if("meta"===i&&"content"===a)n.value=this.rewriteMetaContent(e.attrs,n,r);else if("param"===i&&s(o))n.value=this.rewriteUrl(r,n.value);else if(a.startsWith("data-")&&s(o))n.value=this.rewriteUrl(r,n.value);else if("base"===i&&"href"===a)try{n.value=this.rewriter.updateBaseUrl(n.value)}catch(e){console.warn("Invalid <base>: "+n.value)}else if("script"===i&&"src"===a){const t=this.rewriteUrl(r,n.value);t===n.value?(e.attrs.push({name:"__wb_orig_src",value:n.value}),n.value=this.rewriteUrl(r,n.value,!0)):n.value=t}else if("object"===i&&"data"===a){const t=this.getAttr(e.attrs,"type");if("application/pdf"===t)n.name="src",e.tagName="iframe";else if("application/x-shockwave-flash"===t)for(const t of O){const s=n.value.replace(t.match,t.replace);if(s!==n.value){n.name="src",n.value=this.rewriteUrl(r,s),e.tagName="iframe";break}}}else("href"===a||"src"===a||t[n.name])&&(n.value=this.rewriteUrl(r,n.value))}}getAttr(e,t){for(let r of e)if(r.name===t)return r.value;return null}async rewrite(e){if(!e.buffer&&!e.reader)return e;if(e.expectedLength()>5e6)return console.warn("Skipping rewriting, HTML file too big: "+e.expectedLength()),e;const t=this.rewriter,r=new(C());r.tokenizer.preprocessor.bufferWaterline=o.Zz;let s=!1,i="",n="",a=null;const l=()=>{if(!s&&t.headInsertFunc){const e=t.headInsertFunc(t.url);e&&r.emitRaw(e),s=!0}};r.on("startTag",(e=>{const o=R[e.tagName],c=e.tagName;switch(this.rewriteTagAndAttrs(e,o||{},t),s||["head","html"].includes(e.tagName)||l(),r.emitStartTag(e),e.tagName){case"script":{if(e.selfClosing)break;i=e.tagName;const t=this.getAttr(e.attrs,"type");"module"===t?n="module":(!t||t.indexOf("javascript")>=0||t.indexOf("ecmascript")>=0)&&(n="script");break}case"style":e.selfClosing||(i=e.tagName);break;case"head":l()}e.tagName!==c&&(i=c,a=e.tagName)})),r.on("endTag",(e=>{e.tagName===i&&(a&&(e.tagName=a,a=null),i=""),r.emitEndTag(e)})),r.on("text",((e,s)=>{const a=(()=>{if("script"===i){if(n){const r="module"===n,s=t.prefix;return t.rewriteJS(e.text,{isModule:r,prefix:s})}return e.text}return"style"===i?t.rewriteCSS(e.text):(s!==e.text&&e.sourceCodeLocation.startOffset-r.posTracker.droppedBufferSize<0&&(s=e.text),this.rewriteHTMLText(s))})();for(let e=0;e<a.length;e+=o.Zz)r.emitRaw(a.slice(e,e+o.Zz))}));const c=e.createIter();let u=!1;const h=this.isCharsetUTF8;return e.setReader(new ReadableStream({async start(e){r.on("data",(t=>{e.enqueue(h?N.encode(t):(0,o.qA)(t))})),r.on("end",(()=>{e.close()}));for await(const e of c)h?r.write(B.decode(e),"utf8"):r.write((0,o._Q)(e),"latin1"),u=!0;u&&l(),r.end()}})),e}rewriteUrl(e,t,r=!1){return this.isCharsetUTF8||(t=B.decode((0,o.qA)(t))),e.rewriteUrl(t,r)}rewriteHTMLText(e){if(this.rule){const t=this.rule.replace.replace("$U1",this.ruleMatch[1]),r=e.replace(this.rule.match,t);if(e!==r)return r}return e}}const L=/(url\s*\(\s*[\\"']*)([^)'"]+)([\\"']*\s*\))/gi,U=/(@import\s*[\\"']*)([^)'";]+)([\\"']*\s*;?)/gi,V=/WB_wombat_/g,H=/^(?:\s*(?:(?:\/\*[^*]*\*\/)|(?:\/\/[^\n]+[\n])))*\s*([\w.]+)\([{[]/,M=/[?].*(?:callback|jsonp)=([^&]+)/i,F=new y(class extends b{constructor(e){super();const t="_____WB$wombat$check$this$function_____(this)";function r(){return e=>e.replace("this",t)}var s,i,n;this.rules=[[/(?:^|\s)\beval\s*\(/,(i="WB_wombat_runEval2((_______eval_arg, isGlobal) => { var ge = eval; return isGlobal ? ge(_______eval_arg) : eval(_______eval_arg); }).eval(this, (function() { return arguments })(),",n="eval",e=>{const t=e.indexOf(n);return 0===t?i:e.slice(0,t)+i})],[/[=]\s*\beval\b(?![(:.$])/,function(e,t){return r=>r.replace(e,t)}("eval","self.eval")],[/\.postMessage\b\(/,function(e){return t=>e+t}(".__WB_pmw(self)")],[/[^$.]\s?\blocation\b\s*[=]\s*(?![\s=])/,(s="((self.__WB_check_loc && self.__WB_check_loc(location, arguments)) || {}).href = ",(e,t,r)=>{if(t>0){const s=r[t-1];if("."===s||"$"===s)return e}return e+s})],[/\breturn\s+this\b\s*(?![\s\w.$])/,r()],[new RegExp(`[^$.]\\s?\\bthis\\b(?=(?:\\.(?:${k.join("|")})\\b))`),(e,r,s)=>{const i=r>0?s[r-1]:"";return"\n"===i?e.replace("this",";"+t):"."!==i&&"$"!==i?e.replace("this",t):e}],[/[=,]\s*\bthis\b\s*(?![\s\w:.$])/,r()],[/\}(?:\s*\))?\s*\(this\)/,r()],[/[^|&][|&]{2}\s*this\b\s*(?![|\s&.$](?:[^|&]|$))/,r()]],e&&(this.rules=this.rules.concat(e)),this.compileRules(),this.firstBuff=this.initLocalDecl(k),this.lastBuff="\n\n}"}initLocalDecl(e){const t="_____WB$wombat$assign$function_____";let r=`var ${t} = function(name) {return (self._wb_wombat && self._wb_wombat.local_init && self._wb_wombat.local_init(name)) || self[name]; };\nif (!self.__WB_pmw) { self.__WB_pmw = function(obj) { this.__WB_source = obj; return this; } }\n{\n`;for(let s of e)r+=`let ${s} = ${t}("${s}");\n`;return r+="let arguments;\n",r+"\n"}getModuleDecl(e,t){return`import { ${e.join(", ")} } from "${t}__wb_module_decl.js";\n`}isModule(e,t){return!(!t||!t.isModule)||(!!(e.indexOf("import")>=0&&e.match(v))||!!(e.indexOf("export")>=0&&e.match(A)))}rewrite(e,t){let r;if(this.isModule(e,t))return this.getModuleDecl(k,t.prefix)+super.rewrite(e,t);const s=S.exec(e);return r=super.rewrite(e,t),s&&(r=this.firstBuff+r+this.lastBuff),t&&t.inline&&(r=r.replace(/\n/g," ")),r}}),W=new y(b);class j{constructor({baseUrl:e,prefix:t,responseUrl:r,workerInsertFunc:s,headInsertFunc:i=null,urlRewrite:n=!0,contentRewrite:a=!0,decode:o=!0,useBaseRules:l=!1}={}){if(this.urlRewrite=n,this.contentRewrite=a,this.dsRules=n&&!l?F:W,this.decode=o,this.prefix=t||"",this.prefix&&n){const e=new URL(this.prefix);this.relPrefix=e.pathname,this.schemeRelPrefix=this.prefix.slice(e.protocol.length)}const c=new URL(r||e);this.scheme=c.protocol,e.startsWith("//")&&(e=this.scheme+e),this.url=this.baseUrl=e,this.headInsertFunc=i,this.workerInsertFunc=s,this.responseUrl=r,this.isCharsetUTF8=!1,this._jsonpCallback=null}getRewriteMode(e,t,r="",s=null){if(!s&&t){const e=(s=t.headers.get("Content-Type")||"").split(";");s=e[0],e.length>1&&(this.isCharsetUTF8="utf8"===e[1].trim().toLowerCase().replace("charset=","").replace("-",""))}if(e)switch(e.destination){case"style":return"css";case"script":return this.getScriptRewriteMode(s,r,"js");case"worker":return"js-worker"}switch(s){case"text/html":return e.destination||"application/json"!==e.headers.get("Accept")?"html":"json";case"text/css":return"css";case"application/x-mpegURL":case"application/vnd.apple.mpegurl":return"hls";case"application/dash+xml":return"dash";default:return this.getScriptRewriteMode(s,r,null)}}getScriptRewriteMode(e,t,r){switch(e){case"text/javascript":case"application/javascript":case"application/x-javascript":return this.parseJSONPCallback(t)?"jsonp":t.endsWith(".json")?"json":"js";case"application/json":return"json";default:return r}}async rewrite(e,t){const r=this.contentRewrite?this.getRewriteMode(t,e,this.baseUrl):null,s=(0,o.dF)(t),i=this.urlRewrite&&!s,n=this.rewriteHeaders(e.headers,this.urlRewrite,!!r,s),a=e.headers.get("content-encoding"),c=e.headers.get("transfer-encoding");e.headers=n,this.decode&&(a||c)&&(e=await(0,l.i)(e,a,c,null===r));let u=null;switch(r){case"html":if(i)return await this.rewriteHtml(e);break;case"css":this.urlRewrite&&(u=this.rewriteCSS);break;case"js":u=this.rewriteJS;break;case"json":u=this.rewriteJSON;break;case"js-worker":u=this.workerInsertFunc;break;case"jsonp":u=this.rewriteJSONP;break;case"hls":u=f;break;case"dash":u=m}const h={response:e,prefix:this.prefix};if(i&&(h.rewriteUrl=e=>this.rewriteUrl(e)),u){let t=await e.getText(this.isCharsetUTF8);t=u.call(this,t,h),e.setText(t,this.isCharsetUTF8)}return e}updateBaseUrl(e){if(this.baseUrl=new URL(e,this.baseUrl).href,e&&this.baseUrl!=e)try{e=new URL(e).href}catch(t){e.startsWith("//")&&(e=(e=new URL("https:"+e).href).slice("https:".length))}return this.rewriteUrl(e)}isRewritableUrl(e){const t=["#","javascript:","data:","mailto:","about:","file:","blob:","{"];for(let r of t)if(e.startsWith(r))return!1;return!0}rewriteUrl(e,t=!1){if(!this.urlRewrite)return e;var r=e;return!(e=e.trim())||!this.isRewritableUrl(e)||e.startsWith(this.prefix)||e.startsWith(this.relPrefix)?r:e.startsWith("http:")||e.startsWith("https:")||e.startsWith("https\\3a/")?this.prefix+e:e.startsWith("//")||e.startsWith("\\/\\/")?this.schemeRelPrefix+e:e.startsWith("/")?(e=new URL(e,this.baseUrl).href,this.relPrefix+e):t||e.indexOf("../")>=0?(e=new URL(e,this.baseUrl).href,this.prefix+e):r}rewriteHtml(e){return new D(this,this.isCharsetUTF8).rewrite(e)}rewriteCSS(e){const t=this;function r(e,r,s,i){return s=s.trim(),r+t.rewriteUrl(s)+i}return e.replace(L,r).replace(U,r).replace(V,"")}rewriteJS(e,t){const r=t&&!t.rewriteUrl&&void 0===t.isModule,s=r?W:this.dsRules,i=s.getRewriter(this.baseUrl);return i===s.defaultRewriter&&r?e:i.rewrite(e,t)}rewriteJSON(e,t){e=this.rewriteJSONP(e);const r=W.getRewriter(this.baseUrl);return r!==W.defaultRewriter?r.rewrite(e,t):e}parseJSONPCallback(e){const t=e.match(M);return t&&"?"!==t[1]?(this._jsonpCallback=t[1],!0):(this._jsonpCallback=!1,!1)}rewriteJSONP(e){const t=e.match(H);return t?(null===this._jsonpCallback&&this.parseJSONPCallback(this.baseUrl),!1===this._jsonpCallback?e:this._jsonpCallback+e.slice(e.indexOf(t[1])+t[1].length)):e}rewriteHeaders(e,t,r,s){const i={"access-control-allow-origin":"prefix-if-url-rewrite","access-control-allow-credentials":"prefix-if-url-rewrite","access-control-expose-headers":"prefix-if-url-rewrite","access-control-max-age":"prefix-if-url-rewrite","access-control-allow-methods":"prefix-if-url-rewrite","access-control-allow-headers":"prefix-if-url-rewrite","accept-patch":"keep","accept-ranges":"keep",age:"prefix",allow:"keep","alt-svc":"prefix","cache-control":"prefix",connection:"prefix","content-base":"url-rewrite","content-disposition":"keep","content-encoding":"prefix-if-content-rewrite","content-language":"keep","content-length":"content-length","content-location":"url-rewrite","content-md5":"prefix","content-range":"keep","content-security-policy":"prefix","content-security-policy-report-only":"prefix","content-type":"keep",date:"keep",etag:"prefix",expires:"prefix","last-modified":"prefix",link:"link",location:"url-rewrite",p3p:"prefix",pragma:"prefix","proxy-authenticate":"keep","public-key-pins":"prefix","retry-after":"prefix",server:"prefix","set-cookie":"cookie",status:"prefix","strict-transport-security":"prefix",trailer:"prefix","transfer-encoding":"transfer-encoding",tk:"prefix",upgrade:"prefix","upgrade-insecure-requests":"prefix",vary:"prefix",via:"prefix",warning:"prefix","www-authenticate":"keep","x-frame-options":"prefix","x-xss-protection":"prefix"},n="X-Archive-Orig-";let a=new Headers;for(let o of e.entries()){switch(i[o[0]]){case"keep":a.append(o[0],o[1]);break;case"url-rewrite":if(t){if("location"===o[0]&&this.url!==this.responseUrl){const e="http:"===this.scheme?"https:":"http:",t=e+this.responseUrl.slice(this.scheme.length);o[1]===t&&(o[1]=e+this.url.slice(this.url.indexOf("//")))}a.append(o[0],this.rewriteUrl(o[1]))}else a.append(o[0],o[1]);break;case"prefix-if-content-rewrite":r?a.append(n+o[0],o[1]):a.append(o[0],o[1]);break;case"prefix-if-url-rewrite":t?a.append(n+o[0],o[1]):a.append(o[0],o[1]);break;case"content-length":if("0"==o[1]){a.append(o[0],o[1]);continue}if(r)try{if(parseInt(o[1])>=0){a.append(o[0],o[1]);continue}}catch(e){}a.append(o[0],o[1]);break;case"transfer-encoding":case"prefix":a.append(n+o[0],o[1]);break;case"cookie":a.append(o[0],o[1]);break;case"link":t&&!s?a.append(o[0],this.rewriteLinkHeader(o[1])):a.append(o[0],o[1]);break;default:a.append(o[0],o[1])}}return a}rewriteLinkHeader(e){try{const t=i()(e);for(const e of Object.values(t))e.url&&(e.url=this.rewriteUrl(e.url));return a()(t)}catch(t){return console.warn("Error parsing link header: "+e),e}}}class q{constructor(e,t,r={}){const{name:s,store:i,config:n}=e;this.name=s,this.store=i,this.config=n,this.metadata=this.config.metadata?this.config.metadata:{};const a={...r,...this.config.extraConfig};this.injectScripts=a.injectScripts||[],this.noRewritePrefixes=a.noRewritePrefixes||null,this.noPostToGet=!!a.noPostToGet,this.convertPostToGet=!!a.convertPostToGet,this.coHeaders=a.coHeaders||!1,this.csp=a.csp||"default-src 'unsafe-eval' 'unsafe-inline' 'self' data: blob: mediastream: ws: wss: ; form-action 'self'",this.injectRelCanon=a.injectRelCanon||!1,this.baseFramePrefix=a.baseUrlSourcePrefix,this.baseFrameUrl=a.baseUrl,this.baseFrameHashReplay=a.baseUrlHashReplay||!1,this.liveRedirectOnNotFound=a.liveRedirectOnNotFound||!1,this.rootPrefix=t.root||t.main,this.prefix=t.main,this.config.root?this.isRoot=!0:(this.prefix+=this.name+"/",this.isRoot=!1),this.staticPrefix=t.static}async handleRequest(e,t){let r=e.url,s=e.timestamp;if(!e.mod)return await this.makeTopFrame(r,s);this.noPostToGet||(r=await e.convertPostToGet());let i=null;try{r.startsWith("srcdoc:")?i=this.getSrcDocResponse(r,r.slice("srcdoc:".length)):r.startsWith("blob:")?i=await this.getBlobResponse(r):"about:blank"===r?i=await this.getSrcDocResponse(r):"__wb_module_decl.js"===r?i=await this.getWrappedModuleDecl(r):(i=await this.getReplayResponse(e,t),r=e.url,i&&i.updateTS&&(s=i.updateTS))}catch(t){if(await(0,o.AJ)(t,this.config))return(0,o.v6)(e,'<p style="margin: auto">Please wait, this page will reload after authentication...</p>',401)}if(!i){try{r=decodeURIComponent(r),r+=e.hash}catch(e){}const t=`\n      <p>This page <i>${r}</i> is not part of this archive.</p>\n      ${this.liveRedirectOnNotFound&&"navigate"===e.mode?`\n      <p>Redirecting to live page now... (If this URL is a file download, the download should have started).</p>\n      <script>\n      window.top.location.href = "${r}";\n      <\/script>\n      `:"\n      "}\n      <p><a target="_blank" href="${r}">Click Here</a> to load the live page in a new tab (or to download the URL as a file).</p>\n      `;return(0,o.v6)(e,t)}if(i instanceof Response)return i;if(!i.noRW){const t=this.prefix+(e.pageId?`:${e.pageId}/`:""),n=t+s,a=r=>{let a=i.headers.get("x-wabac-preset-cookie")||"";const o=i.headers.get("Set-Cookie"),l=n+(s?"/":"")+r;return this.makeHeadInsert(r,s,i.date,l,t,a,o,i.isLive,e.referrer,i.extraOpts)},o=e=>`\n        (function() { self.importScripts('${this.staticPrefix}wombatWorkers.js');            new WBWombat({'prefix': '${n}/', 'prefixMod': '${n}wkrf_/', 'originalURL': '${r}'});        })();`+e,l=e.mod,c="id_"===l||"wkrf_"===l,u=n+l+"/",h={baseUrl:r,responseUrl:i.url,prefix:u,headInsertFunc:a,workerInsertFunc:o,urlRewrite:!c,contentRewrite:!c,decode:this.config.decode},f=new j(h);i=await f.rewrite(i,e),"id_"!==l&&i.headers.append("Content-Security-Policy",this.csp)}const n=e.headers.get("range");return n&&200===i.status&&i.setRange(n),i.makeResponse(this.coHeaders)}getCanonRedirect(e){let{url:t,timestamp:r,mod:s,referrer:i}=e;const n=t.startsWith("//");if(n){t=(i&&i.indexOf("/http://")>0?"http:":"https:")+t}try{const i=new URL(t);if(i.href!==t){if("/"===i.pathname){let e=this.prefix+r+s;return(r||s)&&(e+="/"),e+=i.href,Response.redirect(e,301)}(!n&&t.indexOf(":443")||t.indexOf(":80"))&&(e.url=i.href)}}catch(e){}return null}getWrappedModuleDecl(){const e=(new TextEncoder).encode('\n    var wrapObj = function(name) {return (self._wb_wombat && self._wb_wombat.local_init && self._wb_wombat.local_init(name)) || self[name]; };\n    if (!self.__WB_pmw) { self.__WB_pmw = function(obj) { this.__WB_source = obj; return this; } }\n\n    const window = wrapObj("window");\n    const document = wrapObj("document");\n    const location = wrapObj("location");\n    const top = wrapObj("top");\n    const parent = wrapObj("parent");\n    const frames = wrapObj("frames");\n    const opener = wrapObj("opener");\n    const __self = wrapObj("self");\n    const __globalThis = wrapObj("globalThis");\n\n    export { window, document, location, top, parent, frames, opener, __self as self, __globalThis as globalThis };\n    '),t=new Headers({"Content-Type":"application/javascript"});return new Response(e,{headers:t,status:200,statusText:"OK"})}getSrcDocResponse(e,t){const r=t?decodeURIComponent(atob(t)):"<!DOCTYPE html><html><head></head><body></body></html>",s=(new TextEncoder).encode(r),i=new Headers({"Content-Type":"text/html"}),n=new Date;return new c.g({payload:s,status:200,statusText:"OK",headers:i,url:e,date:n})}async getBlobResponse(e){const t=await fetch(e),r=t.status,s=t.statusText,i=new Headers(t.headers);"application/xhtml+xml"===i.get("content-type")&&i.set("content-type","text/html");const n=new Date,a=new Uint8Array(await t.arrayBuffer());return new c.g({payload:a,status:r,statusText:s,headers:i,url:e,date:n})}async getReplayResponse(e,t){let r=this.getCanonRedirect(e);if(r)return r;const s={pageId:e.pageId};r=await this.store.getResource(e,this.prefix,t,s);const{request:i,url:n}=e;if(("video"===i.destination||"audio"===i.destination)&&"navigate"!==i.mode)for(;r&&r.status>=301&&r.status<400;){const i=new URL(r.headers.get("location"),n);e.url=i.href,console.log(`resolve redirect ${n} -> ${e.url}`),r=await this.store.getResource(e,this.prefix,t,s)}return r}async makeTopFrame(e,t){let r=null;if(this.baseFrameUrl&&!this.baseFramePrefix?r=this.baseFrameUrl:!this.isRoot&&this.config.sourceUrl&&(r=this.baseFramePrefix||"./",r+=`?source=${this.config.sourceUrl}`),r){if(this.baseFrameHashReplay)r+=`#${t}/${e}`;else{r+="#"+new URLSearchParams({url:e,ts:t,view:"replay"}).toString()}return Response.redirect(r)}let s=null;if(this.config.topTemplateUrl){const r=await fetch(this.config.topTemplateUrl);s=(await r.text()).replace("$URL",e).replace("$TS",t).replace("$PREFIX",this.prefix)}else s=`\n<!DOCTYPE html>\n<html>\n<head>\n<style>\nhtml, body\n{\n  height: 100%;\n  margin: 0px;\n  padding: 0px;\n  border: 0px;\n  overflow: hidden;\n}\n\n</style>\n<script src='${this.staticPrefix}wb_frame.js'> <\/script>\n\n<script>\nwindow.home = "${this.rootPrefix}";\n<\/script>\n\n<script src='${this.staticPrefix}default_banner.js'> <\/script>\n<link rel='stylesheet' href='${this.staticPrefix}default_banner.css'/>\n\n</head>\n<body style="margin: 0px; padding: 0px;">\n<div id="wb_iframe_div">\n<iframe id="replay_iframe" frameborder="0" seamless="seamless" scrolling="yes" class="wb_iframe" allow="autoplay; fullscreen"></iframe>\n</div>\n<script>\n  var cframe = new ContentFrame({"url": "${e}",\n                                 "app_prefix": "${this.prefix}",\n                                 "content_prefix": "${this.prefix}",\n                                 "request_ts": "${t}",\n                                 "iframe": "#replay_iframe"});\n\n<\/script>\n</body>\n</html>\n`;let i={status:200,statusText:"OK",headers:{"Content-Type":"text/html","Content-Security-Policy":this.csp}};return new Response(s,i)}makeHeadInsert(e,t,r,s,i,n,a,l,c,u){const h=this.name,f=(0,o.Ko)(r),d=(0,o.E4)(r.toISOString()),m=new URL(e);let p;p="https:"!==m.protocol&&"http:"!==m.protocol?c&&c.indexOf("/http://")>0?"http":"https":m.protocol.slice(0,-1),a&&(n=(0,o.Hc)(a,p,n));const g=u&&Number(u.pixelRatio)?u.pixelRatio:1,w=u&&u.storage?btoa(u.storage):"",y=n?JSON.stringify(n):'""';return`\n\x3c!-- WB Insert --\x3e\n<style>\nbody {\n  font-family: inherit;\n  font-size: inherit;\n}\n</style>\n${this.injectRelCanon?`<link rel="canonical" href="${e}"/>`:""}\n<script>\n  wbinfo = {};\n  wbinfo.top_url = "${s}";\n  // Fast Top-Frame Redirect\n  if (window == window.top && wbinfo.top_url) {\n    var loc = window.location.href.replace(window.location.hash, "");\n    loc = decodeURI(loc);\n\n    if (loc != decodeURI(wbinfo.top_url)) {\n        window.location.href = wbinfo.top_url + window.location.hash;\n    }\n  }\n  wbinfo.url = "${e}";\n  wbinfo.timestamp = "${d}";\n  wbinfo.request_ts = "${t}";\n  wbinfo.prefix = decodeURI("${i}");\n  wbinfo.mod = "mp_";\n  wbinfo.is_framed = true;\n  wbinfo.is_live = ${l?"true":"false"};\n  wbinfo.coll = "${h}";\n  wbinfo.proxy_magic = "";\n  wbinfo.static_prefix = "${this.staticPrefix}";\n  wbinfo.enable_auto_fetch = true;\n  wbinfo.presetCookie = ${y};\n  wbinfo.storage = "${w}";\n  wbinfo.isSW = true;\n  wbinfo.pixel_ratio = ${g};\n  wbinfo.convert_post_to_get = ${this.convertPostToGet};\n<\/script>\n<script src='${this.staticPrefix}wombat.js'> <\/script>\n<script>\n  wbinfo.wombat_ts = "${l?d:t}";\n  wbinfo.wombat_sec = "${f}";\n  wbinfo.wombat_scheme = "${p}";\n  wbinfo.wombat_host = "${m.host}";\n\n  ${this.noRewritePrefixes?`\n  wbinfo.wombat_opts = {"no_rewrite_prefixes": ${JSON.stringify(this.noRewritePrefixes)}}`:"\n  wbinfo.wombat_opts = {}\n  "}\n\n  if (window && window._WBWombatInit) {\n    window._WBWombatInit(wbinfo);\n  }\n<\/script>\n${this.injectScripts.map((e=>`<script src='${e}'> <\/script>`)).join("")}\n  `}}var z=r(9997);class K{constructor(){this.timeRanges={}}updateStats(e,t,r,s){const i=s.clientId||s.resultingClientId;if(!i||!e)return;if(!r.url||r.url.indexOf("mp_/")<0)return;if("document"===r.destination&&t>300&&t<400)return;let n=null;void 0===this.timeRanges[i]?(n={count:0,children:[]},this.timeRanges[i]=n,r.referrer.indexOf("mp_/")>0&&self.clients.matchAll({type:"window"}).then((e=>this.updateStatsParent(i,r.referrer,e)))):n=this.timeRanges[i];const a=e.getTime();(!n.min||a<n.min)&&(n.min=a),(!n.max||a>n.max)&&(n.max=a),n.count++}updateStatsParent(e,t,r){for(let s of r)if(s.url===t){this.timeRanges[s.id]?this.timeRanges[s.id].children[e]=1:this.timeRanges[s.id]={count:0,children:{id:1}};break}}async getStats(e){const t=new URL(e.request.url);let r=0;const s=new URLSearchParams(t.search).get("url"),i=await self.clients.matchAll({type:"window"}),n={};for(let e of i)e.url===s&&(r=e.id),n[e.id]=1;const a=this.timeRanges[r]||{},o={count:a.count||0,min:a.min,max:a.max},l=this.timeRanges[r]&&Object.keys(this.timeRanges[r].children)||[];for(let e of l){const t=this.timeRanges[e];t&&((!o.min||t.min<o.min)&&(o.min=t.min),(!o.max||t.max>o.max)&&(o.max=t.max),o.count+=t.count)}for(let e of Object.keys(this.timeRanges))n[e]||delete this.timeRanges[e];return new Response(JSON.stringify(o),{headers:{"Content-Type":"application/json"}})}}var Q=function(){return Q=Object.assign||function(e){for(var t,r=1,s=arguments.length;r<s;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Q.apply(this,arguments)};var J=function(e){return void 0===e&&(e={}),{arrayFormat:e.arrayFormat||"none",booleanFormat:e.booleanFormat||"none",nullFormat:e.nullFormat||"default"}},G=function(e){return encodeURIComponent(e)},Z=function(e){return decodeURIComponent(e)},X=function(e,t,r){return null===t?function(e,t){return"hidden"===t.nullFormat?"":"string"===t.nullFormat?e+"=null":e}(e,r):"boolean"==typeof t?function(e,t,r){return"empty-true"===r.booleanFormat&&t?e:e+"="+("unicode"===r.booleanFormat?t?"":"":t.toString())}(e,t,r):Array.isArray(t)?function(e,t,r){var s=function(e){return"index"===e.arrayFormat?function(e,t){return e+"["+t+"]"}:"brackets"===e.arrayFormat?function(e){return e+"[]"}:function(e){return e}}(r);return t.map((function(t,r){return s(e,r)+"="+G(t)})).join("&")}(e,t,r):e+"="+G(t)},Y=function(e){var t=e.indexOf("?");return-1===t?e:e.slice(t+1)},$=function(e){var t=e.indexOf("["),r=-1!==t;return{hasBrackets:r,name:r?e.slice(0,t):e}},ee=function(e,t){var r=J(t);return Y(e).split("&").reduce((function(e,t){var s=t.split("="),i=s[0],n=s[1],a=$(i),o=a.hasBrackets,l=a.name,c=e[l],u=function(e,t){if(void 0===e)return"empty-true"===t.booleanFormat||null;if("string"===t.booleanFormat){if("true"===e)return!0;if("false"===e)return!1}if("unicode"===t.booleanFormat){if(""===Z(e))return!0;if(""===Z(e))return!1}return"string"===t.nullFormat&&"null"===e?null:Z(e)}(n,r);return e[l]=void 0===c?o?[u]:u:(Array.isArray(c)?c:[c]).concat(u),e}),{})},te=/[^!$'()*+,;|:]/g,re=function(e){return e.replace(te,(function(e){return encodeURIComponent(e)}))},se={default:re,uri:encodeURI,uriComponent:encodeURIComponent,none:function(e){return e},legacy:encodeURI},ie={default:decodeURIComponent,uri:decodeURI,uriComponent:decodeURIComponent,none:function(e){return e},legacy:decodeURIComponent},ne=function(e,t,r){var s=se[t]||re;return r?String(e).split("/").map(s).join("/"):s(String(e))},ae=function(e){return"("+(e?e.replace(/(^<|>$)/g,""):"[a-zA-Z0-9-_.~%':|=+\\*@$]+")+")"},oe=[{name:"url-parameter",pattern:/^:([a-zA-Z0-9-_]*[a-zA-Z0-9]{1})(<(.+?)>)?/,regex:function(e){return new RegExp(ae(e[2]))}},{name:"url-parameter-splat",pattern:/^\*([a-zA-Z0-9-_]*[a-zA-Z0-9]{1})/,regex:/([^?]*)/},{name:"url-parameter-matrix",pattern:/^;([a-zA-Z0-9-_]*[a-zA-Z0-9]{1})(<(.+?)>)?/,regex:function(e){return new RegExp(";"+e[1]+"="+ae(e[2]))}},{name:"query-parameter",pattern:/^(?:\?|&)(?::)?([a-zA-Z0-9-_]*[a-zA-Z0-9]{1})/},{name:"delimiter",pattern:/^(\/|\?)/,regex:function(e){return new RegExp("\\"+e[0])}},{name:"sub-delimiter",pattern:/^(!|&|-|_|\.|;)/,regex:function(e){return new RegExp(e[0])}},{name:"fragment",pattern:/^([0-9a-zA-Z]+)/,regex:function(e){return new RegExp(e[0])}}],le=function e(t,r){if(void 0===r&&(r=[]),!oe.some((function(s){var i=t.match(s.pattern);return!!i&&(r.push({type:s.name,match:i[0],val:i.slice(1,2),otherVal:i.slice(2),regex:s.regex instanceof Function?s.regex(i):s.regex}),i[0].length<t.length&&(r=e(t.substr(i[0].length),r)),!0)})))throw new Error("Could not parse path '"+t+"'");return r},ce=function(e){return null!=e},ue={urlParamsEncoding:"default"},he=function(){function e(e,t){if(!e)throw new Error("Missing path in Path constructor");this.path=e,this.options=Q(Q({},ue),t),this.tokens=le(e),this.hasUrlParams=this.tokens.filter((function(e){return/^url-parameter/.test(e.type)})).length>0,this.hasSpatParam=this.tokens.filter((function(e){return/splat$/.test(e.type)})).length>0,this.hasMatrixParams=this.tokens.filter((function(e){return/matrix$/.test(e.type)})).length>0,this.hasQueryParams=this.tokens.filter((function(e){return/^query-parameter/.test(e.type)})).length>0,this.spatParams=this.getParams("url-parameter-splat"),this.urlParams=this.getParams(/^url-parameter/),this.queryParams=this.getParams("query-parameter"),this.params=this.urlParams.concat(this.queryParams),this.source=this.tokens.filter((function(e){return void 0!==e.regex})).map((function(e){return e.regex.source})).join("")}return e.createPath=function(t,r){return new e(t,r)},e.prototype.isQueryParam=function(e){return-1!==this.queryParams.indexOf(e)},e.prototype.isSpatParam=function(e){return-1!==this.spatParams.indexOf(e)},e.prototype.test=function(e,t){var r=this,s=Q(Q({caseSensitive:!1,strictTrailingSlash:!1},this.options),t),i=function(e,t){return t||"\\/"===e?e:e.replace(/\\\/$/,"")+"(?:\\/)?"}(this.source,s.strictTrailingSlash),n=this.urlTest(e,i+(this.hasQueryParams?"(\\?.*$|$)":"$"),s.caseSensitive,s.urlParamsEncoding);if(!n||!this.hasQueryParams)return n;var a=ee(e,s.queryParams);return 0===Object.keys(a).filter((function(e){return!r.isQueryParam(e)})).length?(Object.keys(a).forEach((function(e){return n[e]=a[e]})),n):null},e.prototype.partialTest=function(e,t){var r=this,s=Q(Q({caseSensitive:!1,delimited:!0},this.options),t),i=function(e,t){return t?/(\/)$/.test(e)?e:e+"(\\/|\\?|\\.|;|$)":e}(this.source,s.delimited),n=this.urlTest(e,i,s.caseSensitive,s.urlParamsEncoding);if(!n)return n;if(!this.hasQueryParams)return n;var a=ee(e,s.queryParams);return Object.keys(a).filter((function(e){return r.isQueryParam(e)})).forEach((function(e){return function(e,t,r){void 0===r&&(r="");var s=e[t];return e[t]=void 0===s?r:Array.isArray(s)?s.concat(r):[s,r],e}(n,e,a[e])})),n},e.prototype.build=function(e,t){var r=this;void 0===e&&(e={});var s=Q(Q({ignoreConstraints:!1,ignoreSearch:!1,queryParams:{}},this.options),t),i=Object.keys(e).filter((function(e){return!r.isQueryParam(e)})).reduce((function(t,i){if(!ce(e[i]))return t;var n=e[i],a=r.isSpatParam(i);return"boolean"==typeof n?t[i]=n:Array.isArray(n)?t[i]=n.map((function(e){return ne(e,s.urlParamsEncoding,a)})):t[i]=ne(n,s.urlParamsEncoding,a),t}),{});if(this.urlParams.some((function(t){return!ce(e[t])}))){var n=this.urlParams.filter((function(t){return!ce(e[t])}));throw new Error("Cannot build path: '"+this.path+"' requires missing parameters { "+n.join(", ")+" }")}if(!s.ignoreConstraints&&!this.tokens.filter((function(e){return/^url-parameter/.test(e.type)&&!/-splat$/.test(e.type)})).every((function(e){return new RegExp("^"+ae(e.otherVal[0])+"$").test(i[e.val])})))throw new Error("Some parameters of '"+this.path+"' are of invalid format");var a=this.tokens.filter((function(e){return!1===/^query-parameter/.test(e.type)})).map((function(e){return"url-parameter-matrix"===e.type?";"+e.val+"="+i[e.val[0]]:/^url-parameter/.test(e.type)?i[e.val[0]]:e.match})).join("");if(s.ignoreSearch)return a;var o=function(e,t){var r=J(t);return Object.keys(e).filter((function(t){return void 0!==e[t]})).map((function(t){return X(t,e[t],r)})).filter(Boolean).join("&")}(this.queryParams.filter((function(t){return-1!==Object.keys(e).indexOf(t)})).reduce((function(t,r){return t[r]=e[r],t}),{}),s.queryParams);return o?a+"?"+o:a},e.prototype.getParams=function(e){var t=e instanceof RegExp?function(t){return e.test(t.type)}:function(t){return t.type===e};return this.tokens.filter(t).map((function(e){return e.val[0]}))},e.prototype.urlTest=function(e,t,r,s){var i=this,n=new RegExp("^"+t,r?"":"i"),a=e.match(n);return a?this.urlParams.length?a.slice(1,this.urlParams.length+1).reduce((function(e,t,r){return e[i.urlParams[r]]=(ie[s]||decodeURIComponent)(t),e}),{}):{}:null},e}();class fe{constructor(e){this.routes={};for(const[t,r]of Object.entries(e)){let e,s;r instanceof Array?(e=r[0],s=r[1]||"GET"):(e=r,s="GET"),this.routes[s]=this.routes[s]||{},this.routes[s][t]=new he(e)}}match(e,t="GET"){for(const[r,s]of Object.entries(this.routes[t]||[])){const t=e.split("?",2),i=t[0],n=s.test(i);if(n)return n._route=r,n._query=new URLSearchParams(2===t.length?t[1]:""),n}return{_route:null}}}class de{constructor(e){this.router=new fe(this.routes),this.collections=e}get routes(){return{index:"coll-index",coll:"c/:coll",urls:"c/:coll/urls",createColl:["c/create","POST"],deleteColl:["c/:coll","DELETE"],updateAuth:["c/:coll/updateAuth","POST"],updateMetadata:["c/:coll/metadata","POST"],curated:"c/:coll/curated/:list",pages:"c/:coll/pages",textIndex:"c/:coll/textIndex",deletePage:["c/:coll/page/:page","DELETE"]}}async apiResponse(e,t,r){const s=this.router.match(e,t.method),i=await this.handleApi(t,s,r);if(i instanceof Response)return i;const n=i.error?404:200;return this.makeResponse(i,n)}async handleApi(e,t){switch(t._route){case"index":return await this.listAll(t._query.get("filter"));case"createColl":{const t=await e.json(),r=await this.collections.initNewColl(t.metadata||{},t.extraConfig||{});return(0,o.dz)(r)}case"coll":{const e=await this.collections.getColl(t.coll);if(!e)return{error:"collection_not_found"};const r=(0,o.dz)(e);return"1"===t._query.get("all")?(r.pages=await e.store.getAllPages(),e.store.db?(r.lists=await e.store.db.getAll("pageLists"),r.curatedPages=await e.store.db.getAll("curatedPages")):(r.lists=[],r.curatedPages=[]),r.verify=await e.store.getVerifyInfo()):(r.numLists=await e.store.db.count("pageLists"),r.numPages=await e.store.db.count("pages")),e.config.metadata.ipfsPins&&(r.ipfsPins=e.config.metadata.ipfsPins),r}case"deleteColl":{const e="1"===t._query.get("reload");return await this.collections.deleteColl(t.coll,e)?await this.listAll():{error:"collection_not_found"}}case"updateAuth":{const r=await e.json();return{success:await this.collections.updateAuth(t.coll,r.headers)}}case"updateMetadata":{const r=await e.json();return{metadata:await this.collections.updateMetadata(t.coll,r)}}case"urls":{const e=await this.collections.getColl(t.coll);if(!e)return{error:"collection_not_found"};const r=t._query.get("url"),s=Number(t._query.get("count")||100),i=t._query.get("mime"),n="1"===t._query.get("prefix"),a=t._query.get("fromUrl"),o=t._query.get("fromTs"),l=t._query.get("fromMime"),c=Number(t._query.get("fromStatus")||0);if(!e.store.resourcesByMime)return{urls:[]};let u;return u=r?await e.store.resourcesByUrlAndMime(r,i,s,n,a,o):await e.store.resourcesByMime(i,s,l,a,c),u=u||[],{urls:u}}case"pages":{const e=await this.collections.getColl(t.coll);if(!e)return{error:"collection_not_found"};return{pages:await e.store.getAllPages()}}case"textIndex":{const e=await this.collections.getColl(t.coll);return e?e.store.getTextIndex?await e.store.getTextIndex():{}:{error:"collection_not_found"}}case"curated":{const e=await this.collections.getColl(t.coll);if(!e)return{error:"collection_not_found"};const r=Number(t.list);return{curated:await e.store.db.getAllFromIndex("curatedPages","listPages",IDBKeyRange.bound([r],[r+1]))}}case"deletePage":{const e=await this.collections.getColl(t.coll);if(!e)return{error:"collection_not_found"};const{pageSize:r,deleteSize:s}=e.store.deletePage(t.page);return this.collections.updateSize(t.coll,r,s),{pageSize:r,deleteSize:s}}default:return{error:"not_found"}}}async listAll(e){const t=await this.collections.listAll(),r=[];return t.forEach((t=>{"live"!==t.type&&"remoteproxy"!==t.type&&(e&&0!==t.type.indexOf(e)||r.push((0,o.dz)(t)))})),{colls:r}}makeResponse(e,t=200){return new Response(JSON.stringify(e),{status:t,headers:{"Content-Type":"application/json"}})}}var me=r(24),pe=r(3942);const ge=/^(?::([\w-]+)\/)?(\d*)([a-z]+_|[$][a-z0-9:.-]+)?(?:\/|\||%7C|%7c)(.+)/;class we{constructor(e,t,{isRoot:r=!1,mod:s="",ts:i="",proxyOrigin:n=null,localOrigin:a=null}={}){const o=ge.exec(e);if(this.url="",this.timestamp=i,this.mod=s,this.pageId="",this.hash="",!o&&(e.startsWith("https:")||e.startsWith("http:")||e.startsWith("blob:")))this.url=e;else if(!o&&r)this.url="https://"+e;else{if(!o)return void(this.url=null);this.pageId=o[1]||"",this.timestamp=o[2],this.mod=o[3],this.url=o[4]}if(n&&a){const e=new URL(this.url);e.origin===a&&(this.url=n+e.pathname+(e.search?e.search:""))}const l=this.url.indexOf("#");l>0&&(this.hash=this.url.slice(l),this.url=this.url.substring(0,l)),this.request=t,this.method=t.method,this.mode=t.mode,this._postToGetConverted=!1}get headers(){return this.request.headers}get destination(){return this.request.destination}get referrer(){return this.request.referrer}async convertPostToGet(){if(this._postToGetConverted)return this.url;const e=this.request;if("POST"!==e.method&&"PUT"!==e.method)return this.url;const t={method:e.method,postData:await e.text(),headers:e.headers,url:this.url};return(0,pe.ev)(t)&&(this.url=t.url,this.method="GET",this.mode="navigate"===this.request.mode?"same-origin":this.request.mode,this._postToGetConverted=!0),this.url}prepareProxyRequest(e,t=!0){let r,s,i;if(t){r=new Headers(this.request.headers),s=this.request.referrer;const t=s.indexOf("/http",e.length-1);t>0&&(s=s.slice(t+1),r.set("X-Proxy-Referer",s)),i=this.request.credentials,this.cookie&&r.set("X-Proxy-Cookie",this.cookie)}else r=new Headers,i="omit";let n=this.url;if(n.startsWith("//"))try{n=new URL(s).protocol+n}catch(e){n="https:"+n}return{referrer:s,headers:r,credentials:i,url:n}}async getBody(){const e=this.request.clone();return new Uint8Array(await e.arrayBuffer())}}const ye="x-wabac-is-ajax-req";class be extends z.WorkerLoader{constructor(e,t=null,r=!1,s={}){super(self),this.prefixes=e,this.colls=null,this.inited=null,this.root=t,this.checkIpfs=r,this.defaultConfig=s,this._fileHandles={}}_createCollection(e){return new q(e,this.prefixes,this.defaultConfig)}loadAll(e){return this.colls={},this.inited=super.loadAll(e),this.inited}async getColl(e){return this.colls[e]||(this.colls[e]=await this.loadColl(e)),this.colls[e]}async reload(e){delete this.colls[e],await this.getColl(e)}async addCollection(e,t){const r=await super.addCollection(e,t);return r&&r.name&&(this.colls[r.name]=this._createCollection(r)),r}async deleteColl(e,t=!1){return this.colls[e]&&(this.colls[e].store&&this.colls[e].store.delete&&await this.colls[e].store.delete(),t&&this.colls[e].config&&this.colls[e].config.extra&&this.colls[e].config.extra.fileHandle&&(this._fileHandles[this.colls[e].config.sourceUrl]=this.colls[e].config.extra.fileHandle)),!!await super.deleteColl(e)&&(delete this.colls[e],!0)}async initNewColl(e,t={},r="archive"){const s=await super.initNewColl(e,t,r);return s&&(this.colls[s.name]=s),s}async updateAuth(e,t){this.colls[e]&&this.colls[e].store.updateHeaders&&this.colls[e].store.updateHeaders(t),await super.updateAuth(e,t)}async updateMetadata(e,t){const r=await super.updateMetadata(e,t);return this.colls[e]&&r&&(this.colls[e].config.metadata=r,this.colls[e].metadata=r),r}async updateSize(e,t,r,s){const i=await super.updateSize(e,t,r,s);return this.colls[e]&&i&&(this.colls[e].config.metadata=i,this.colls[e].metadata=i),void 0!==s&&this.colls[e]&&(this.colls[e].config.decode=s),i}}class ve{constructor({staticData:e=null,ApiClass:t=de,useIPFS:r=!0,defaultConfig:s={},CollectionsClass:i=be}={}){this.prefix=self.registration?self.registration.scope:"",this.replayPrefix=this.prefix;const n=new URLSearchParams(self.location.search);let a="w";n.has("replayPrefix")&&(a=n.get("replayPrefix")),a&&(this.replayPrefix+=a+"/"),this.staticPrefix=this.prefix+"static/",this.distPrefix=this.prefix+"dist/";const o={static:this.staticPrefix,root:this.prefix,main:this.replayPrefix};this.staticData=e||new Map,this.staticData.set(this.staticPrefix+"wombat.js",{type:"application/javascript",content:'/*! wombat.js is part of Webrecorder project. Copyright (C) 2020-2021, Webrecorder Software. Licensed under the Affero General Public License v3. */(()=>{"use strict";function t(){this._map=[]}function e(t,e){void 0!==self.Symbol&&void 0!==self.Symbol.toStringTag&&Object.defineProperty(t.prototype,self.Symbol.toStringTag,{value:e,enumerable:!1})}function r(t){for(var e,r,i=t.__proto__||t.constructor.prototype||t.prototype,o=Object.getOwnPropertyNames(i),n=o.length,s=0;s<n;s++)r=t[e=o[s]],"constructor"!==e&&"function"==typeof r&&(t[e]=r.bind(t))}t.prototype.set=function(t,e){this._map.push([t,e])},t.prototype.get=function(t){for(var e=0;e<this._map.length;e++)if(this._map[e][0]===t)return this._map[e][1];return null},t.prototype.find=function(t){for(var e=0;e<this._map.length;e++)if(this._map[e][0]===t)return e;return-1},t.prototype.add_or_get=function(t,e){var r=this.get(t);return r||(r=e(),this.set(t,r)),r},t.prototype.remove=function(t){var e=this.find(t);return e>=0?this._map.splice(e,1)[0][1]:null},t.prototype.map=function(t){for(var e=0;e<this._map.length;e++)this._map[e][1](t)};var i={yes:!1},o=Symbol("__wb__storage_WOMBAT"),n=Symbol("__wb__storage_TYPE");function s(t,e,r){if(i.yes)throw new TypeError("Illegal constructor");if(r&&r.length)for(var s=0;s<r.length;s++)this[r[s][0]]=r[s][1].toString();Object.defineProperty(this,o,{value:t,enumerable:!1}),Object.defineProperty(this,n,{value:e,enumerable:!1})}function a(t,e,r){var i=new s(t,e,r);return t.$wbwindow.Proxy&&(i=new t.$wbwindow.Proxy(i,{get:function(t,e){var r=t.__proto__;if("__proto__"===e)return r;if(r.hasOwnProperty(e)||r.__proto__&&r.__proto__.hasOwnProperty(e)){var i=t[e];return"function"==typeof i&&(i=i.bind(t)),i}return t.hasOwnProperty(e)?t.getItem(e):void 0},set:function(t,e,r){return t.__proto__.hasOwnProperty(e)?(t[e]=r,!0):(t.setItem(e,r),!0)}})),t.defGetterProp(t.$wbwindow,e,(function(){return i})),i}function h(t,e){for(var r in Object.defineProperties(this,{_orig_loc:{configurable:!0,enumerable:!1,value:t},wombat:{configurable:!0,enumerable:!1,value:e},orig_getter:{enumerable:!1,value:function(t){return this._orig_loc[t]}},orig_setter:{enumerable:!1,value:function(t,e){this._orig_loc[t]=e}}}),e.initLocOverride(this,this.orig_setter,this.orig_getter),e.setLoc(this,t.href),t)this.hasOwnProperty(r)||"function"==typeof t[r]||(this[r]=t[r])}function w(t,e){if(!(this instanceof w))return new w(t,e);this.elemSelector="img[srcset], img[data-srcset], img[data-src], video[srcset], video[data-srcset], video[data-src], audio[srcset], audio[data-srcset], audio[data-src], picture > source[srcset], picture > source[data-srcset], picture > source[data-src], video > source[srcset], video > source[data-srcset], video > source[data-src], audio > source[srcset], audio > source[data-srcset], audio > source[data-src]",this.wombat=t,this.$wbwindow=t.$wbwindow,this.worker=null,r(this),this._initWorker(e)}function p(t,e){return function(r){if(window==e)return t(r)}}function c(t,e,r){var i;return i="function"==typeof t?t:"object"==typeof t?t.handleEvent.bind(t):function(){},function(t){var o;if(t.data&&t.data.from&&t.data.message){if("*"!==t.data.to_origin&&e.WB_wombat_location&&!r.startsWith(t.data.to_origin,e.WB_wombat_location.origin))return void console.warn("Skipping message event to "+t.data.to_origin+" doesn\'t start with origin "+e.WB_wombat_location.origin);var n=t.source;t.data.from_top?n=e.__WB_top_frame:t.data.src_id&&e.__WB_win_id&&e.__WB_win_id[t.data.src_id]&&(n=e.__WB_win_id[t.data.src_id]),(o=new MessageEvent("message",{bubbles:t.bubbles,cancelable:t.cancelable,data:t.data.message,origin:t.data.from,lastEventId:t.lastEventId,source:r.proxyToObj(n),ports:t.ports}))._target=t.target,o._srcElement=t.srcElement,o._currentTarget=t.currentTarget,o._eventPhase=t.eventPhase,o._path=t.path}else o=t;return i(o)}}function _(t){let e;if("string"==typeof t)e=t;else if(t&&t.length){e="";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r])}else e=t?t.toString():"";return"__wb_post_data="+btoa(e)}function l(t){let{method:e,headers:r,postData:i}=t;if("GET"===e)return!1;function o(t){return t instanceof Uint8Array&&(t=(new TextDecoder).decode(t)),t}let n=null;switch((r.get("content-type")||"").split(";")[0]){case"application/x-www-form-urlencoded":n=o(i);break;case"application/json":n=d(o(i));break;case"text/plain":try{n=d(o(i),!1)}catch(t){n=_(i)}break;case"multipart/form-data":s=o(i),a=r.get("content-type"),n=function(t,e){const r=new URLSearchParams;t instanceof Uint8Array&&(t=(new TextDecoder).decode(t));try{const i=e.split("boundary=")[1],o=t.split(new RegExp("-*"+i+"-*","mi"));for(let t=0;t<o.length;t++){const e=o[t].trim().match(/name="([^"]+)"\\r\\n\\r\\n(.*)/im);e&&r.set(e[1],e[2])}}catch(t){}return r}(s,a).toString();break;default:n=_(i)}var s,a;return null!==n&&(t.url=function(t,e,r){if(!r)return t;const i=t.indexOf("?")>0?"&":"?";return`${t}${i}__wb_method=${r}&${e}`}(t.url,n,t.method),t.method="GET",t.requestBody=n,!0)}function u(t,e=!0){if("string"==typeof t)try{t=JSON.parse(t)}catch(e){t={}}const r=new URLSearchParams,i={};try{JSON.stringify(t,((t,e)=>{var o;return["object","function"].includes(typeof e)||r.set((o=t,r.has(o)?(i[o]||(i[o]=1),o+"."+ ++i[o]+"_"):o),e),e}))}catch(t){if(!e)throw t}return r}function d(t,e=!0){return u(t,e).toString()}function f(e,i){if(!(this instanceof f))return new f(e,i);this.debug_rw=!1,this.$wbwindow=e,this.HTTP_PREFIX="http://",this.HTTPS_PREFIX="https://",this.REL_PREFIX="//",this.VALID_PREFIXES=[this.HTTP_PREFIX,this.HTTPS_PREFIX,this.REL_PREFIX],this.IGNORE_PREFIXES=["#","about:","data:","blob:","mailto:","javascript:","{","*"],"ignore_prefixes"in i&&(this.IGNORE_PREFIXES=this.IGNORE_PREFIXES.concat(i.ignore_prefixes)),this.WB_CHECK_THIS_FUNC="_____WB$wombat$check$this$function_____",this.WB_ASSIGN_FUNC="_____WB$wombat$assign$function_____",this.wb_setAttribute=e.Element.prototype.setAttribute,this.wb_getAttribute=e.Element.prototype.getAttribute,this.wb_funToString=Function.prototype.toString,this.WBAutoFetchWorker=null,this.wbUseAFWorker=i.enable_auto_fetch&&null!=e.Worker&&i.is_live,this.wb_rel_prefix="",this.wb_wombat_updating=!1,this.message_listeners=new t,this.storage_listeners=new t,this.linkAsTypes={script:"js_",worker:"js_",style:"cs_",image:"im_",document:"if_",fetch:"mp_",font:"oe_",audio:"oe_",video:"oe_",embed:"oe_",object:"oe_",track:"oe_","":"mp_",null:"mp_",undefined:"mp_"},this.linkTagMods={linkRelToAs:{import:this.linkAsTypes,preload:this.linkAsTypes},stylesheet:"cs_",null:"mp_",undefined:"mp_","":"mp_"},this.tagToMod={A:{href:"mp_"},AREA:{href:"mp_"},AUDIO:{src:"oe_",poster:"im_"},BASE:{href:"mp_"},EMBED:{src:"oe_"},FORM:{action:"mp_"},FRAME:{src:"fr_"},IFRAME:{src:"if_"},IMAGE:{href:"im_","xlink:href":"im_"},IMG:{src:"im_",srcset:"im_"},INPUT:{src:"oe_"},INS:{cite:"mp_"},META:{content:"mp_"},OBJECT:{data:"oe_",codebase:"oe_"},Q:{cite:"mp_"},SCRIPT:{src:"js_","xlink:href":"js_"},SOURCE:{src:"oe_",srcset:"oe_"},TRACK:{src:"oe_"},VIDEO:{src:"oe_",poster:"im_"},image:{href:"im_","xlink:href":"im_"}},this.URL_PROPS=["href","hash","pathname","host","hostname","protocol","origin","search","port"],this.wb_info=i,this.wb_opts=i.wombat_opts,this.wb_replay_prefix=i.prefix,this.wb_is_proxy=this.wb_info.proxy_magic||!this.wb_replay_prefix,this.wb_info.top_host=this.wb_info.top_host||"*",this.wb_curr_host=e.location.protocol+"//"+e.location.host,this.wb_info.wombat_opts=this.wb_info.wombat_opts||{},this.wb_orig_scheme=this.wb_info.wombat_scheme+"://",this.wb_orig_origin=this.wb_orig_scheme+this.wb_info.wombat_host,this.wb_abs_prefix=this.wb_replay_prefix,this.wb_capture_date_part="",!this.wb_info.is_live&&this.wb_info.wombat_ts&&(this.wb_capture_date_part="/"+this.wb_info.wombat_ts+"/"),this.BAD_PREFIXES=["http:"+this.wb_replay_prefix,"https:"+this.wb_replay_prefix,"http:/"+this.wb_replay_prefix,"https:/"+this.wb_replay_prefix],this.hostnamePortRe=/^[\\w-]+(\\.[\\w-_]+)+(:\\d+)(\\/|$)/,this.ipPortRe=/^\\d+\\.\\d+\\.\\d+\\.\\d+(:\\d+)?(\\/|$)/,this.workerBlobRe=/__WB_pmw\\(.*?\\)\\.(?=postMessage\\()/g,this.rmCheckThisInjectRe=/_____WB\\$wombat\\$check\\$this\\$function_____\\(.*?\\)/g,this.STYLE_REGEX=/(url\\s*\\(\\s*[\\\\"\']*)([^)\'"]+)([\\\\"\']*\\s*\\))/gi,this.IMPORT_REGEX=/(@import\\s*[\\\\"\']*)([^)\'";]+)([\\\\"\']*\\s*;?)/gi,this.IMPORT_JS_REGEX=/^(import\\s*\\([\'"]+)([^\'"]+)(["\'])/i,this.no_wombatRe=/WB_wombat_/g,this.srcsetRe=/\\s*(\\S*\\s+[\\d.]+[wx]),|(?:\\s*,(?:\\s+|(?=https?:)))/,this.cookie_path_regex=/\\bPath=\'?"?([^;\'"\\s]+)/i,this.cookie_domain_regex=/\\bDomain=([^;\'"\\s]+)/i,this.cookie_expires_regex=/\\bExpires=([^;\'"]+)/gi,this.SetCookieRe=/,(?![|])/,this.IP_RX=/^(\\d)+\\.(\\d)+\\.(\\d)+\\.(\\d)+$/,this.FullHTMLRegex=/^\\s*<(?:html|head|body|!doctype html)/i,this.IsTagRegex=/^\\s*</,this.DotPostMessageRe=/(.postMessage\\s*\\()/,this.extractPageUnderModiferRE=/\\/(?:[0-9]{14})?([a-z]{2, 3}_)\\//,this.write_buff="";var o=(e.EventTarget||{}).prototype;this.utilFns={cspViolationListener:function(t){if(console.group("CSP Violation"),console.log("Replayed Page URL",window.WB_wombat_location.href),console.log("The documentURI",t.documentURI),console.log("The blocked URL",t.blockedURI),console.log("The directive violated",t.violatedDirective),console.log("Our policy",t.originalPolicy),t.sourceFile){var e="File: "+t.sourceFile;t.lineNumber&&t.columnNumber?e+=" @ "+t.lineNumber+":"+t.columnNumber:t.lineNumber&&(e+=" @ "+t.lineNumber),console.log(e)}console.groupEnd()},addEventListener:o.addEventListener,removeEventListener:o.removeEventListener,objToString:Object.prototype.toString,wbSheetMediaQChecker:null,XHRopen:null,XHRsend:null},this.showCSPViolations={yesNo:!1,added:!1},r(this)}s.prototype.getItem=function(t){return this.hasOwnProperty(t)?this[t]:null},s.prototype.setItem=function(t,e){var r=String(t),i=String(e),o=this.getItem(r);this[r]=e,this.fireEvent(r,o,i)},s.prototype._deleteItem=function(t){delete this[t]},s.prototype.removeItem=function(t){var e=this.getItem(t);this._deleteItem(t),this.fireEvent(t,e,null)},s.prototype.clear=function(){for(var t in this)delete this[t];this.fireEvent(null,null,null)},s.prototype.key=function(t){var e=function(t){try{switch(typeof t){case"number":case"bigint":return t}var e=Number(t);return isNaN(e)?null:e}catch(t){}return null}(t);if(null==e||e<0)return null;var r=Object.keys(this);return e<r.length?r[e]:null},s.prototype.fireEvent=function(t,e,r){var i=new StorageEvent("storage",{key:t,newValue:r,oldValue:e,url:this[o].$wbwindow.WB_wombat_location.href});Object.defineProperty(i,"storageArea",{value:this,writable:!1,configurable:!1}),i._storageArea=this,this[o].storage_listeners.map(i)},s.prototype.valueOf=function(){return this[o].$wbwindow[this[n]]},s.prototype.toString=function(){return"[object Storage]"},Object.defineProperty(s.prototype,"length",{enumerable:!1,get:function(){return Object.keys(this).length}}),e(s,"Storage"),h.prototype.replace=function(t){var e=this.wombat.rewriteUrl(t),r=this.wombat.extractOriginalURL(e);return r===this.href?r:this._orig_loc.replace(e)},h.prototype.assign=function(t){var e=this.wombat.rewriteUrl(t),r=this.wombat.extractOriginalURL(e);return r===this.href?r:this._orig_loc.assign(e)},h.prototype.reload=function(t){return this._orig_loc.reload(t||!1)},h.prototype.toString=function(){return this.href},h.prototype.valueOf=function(){return this},e(h,"Location"),w.prototype._initWorker=function(t){var e=this.wombat;if(t.isTop)try{this.worker=new Worker(t.workerURL,{type:"classic",credentials:"include"})}catch(t){console.error("Failed to create auto fetch worker\\n",t)}else this.worker={postMessage:function(t){t.wb_type||(t={wb_type:"aaworker",msg:t}),e.$wbwindow.__WB_replay_top.__orig_postMessage(t,"*")},terminate:function(){}}},w.prototype.extractMediaRulesFromSheet=function(t){var e,r=[];try{e=t.cssRules||t.rules}catch(t){return r}for(var i=0;i<e.length;++i){var o=e[i];o.type===CSSRule.MEDIA_RULE&&r.push(o.cssText)}return r},w.prototype.deferredSheetExtraction=function(t){var e=this;Promise.resolve().then((function(){var r=e.extractMediaRulesFromSheet(t);r.length>0&&e.preserveMedia(r)}))},w.prototype.terminate=function(){this.worker.terminate()},w.prototype.justFetch=function(t){this.worker.postMessage({type:"fetch-all",values:t})},w.prototype.fetchAsPage=function(t,e,r){if(t){var i={"X-Wombat-History-Page":e};if(r){var o=encodeURIComponent(r.trim());r&&(i["X-Wombat-History-Title"]=o)}var n={url:t,options:{headers:i,cache:"no-store"}};this.justFetch([n])}},w.prototype.postMessage=function(t,e){if(e){var r=this;Promise.resolve().then((function(){r.worker.postMessage(t)}))}else this.worker.postMessage(t)},w.prototype.preserveSrcset=function(t,e){this.postMessage({type:"values",srcset:{value:t,mod:e,presplit:!0}},!0)},w.prototype.preserveDataSrcset=function(t){this.postMessage({type:"values",srcset:{value:t.dataset.srcset,mod:this.rwMod(t),presplit:!1}},!0)},w.prototype.preserveMedia=function(t){this.postMessage({type:"values",media:t},!0)},w.prototype.getSrcset=function(t){return this.wombat.wb_getAttribute?this.wombat.wb_getAttribute.call(t,"srcset"):t.getAttribute("srcset")},w.prototype.rwMod=function(t){switch(t.tagName){case"SOURCE":return t.parentElement&&"PICTURE"===t.parentElement.tagName?"im_":"oe_";case"IMG":return"im_"}return"oe_"},w.prototype.extractFromLocalDoc=function(){var t=this;Promise.resolve().then((function(){for(var e={type:"values",context:{docBaseURI:document.baseURI}},r=[],i=0,o=document.styleSheets;i<o.length;++i)r=r.concat(t.extractMediaRulesFromSheet(o[i]));var n,s,a,h=document.querySelectorAll(t.elemSelector),w={values:[],presplit:!1},p={values:[]};for(i=0;i<h.length;++i)s=(n=h[i]).src?n.src:null,a=t.rwMod(n),n.srcset&&w.values.push({srcset:t.getSrcset(n),mod:a,tagSrc:s}),n.dataset.srcset&&w.values.push({srcset:n.dataset.srcset,mod:a,tagSrc:s}),n.dataset.src&&p.values.push({src:n.dataset.src,mod:a}),"SOURCE"===n.tagName&&s&&p.values.push({src:s,mod:a});r.length&&(e.media=r),w.values.length&&(e.srcset=w),p.values.length&&(e.src=p),(e.media||e.srcset||e.src)&&t.postMessage(e)}))},f.prototype._internalInit=function(){this.initTopFrame(this.$wbwindow),this.initWombatLoc(this.$wbwindow),this.initWombatTop(this.$wbwindow);var t=this.$wbwindow.__WB_replay_top.location.origin,e=this.$wbwindow.__WB_replay_top.location.host,r=this.$wbwindow.__WB_replay_top.location.protocol;this.wb_replay_prefix&&0===this.wb_replay_prefix.indexOf(t)?this.wb_rel_prefix=this.wb_replay_prefix.substring(t.length):this.wb_rel_prefix=this.wb_replay_prefix,this.wb_prefixes=[this.wb_abs_prefix,this.wb_rel_prefix];var i="(("+r+")?//"+e+")?"+this.wb_rel_prefix+"[^/]+/";this.wb_unrewrite_rx=new RegExp(i,"g"),this.wb_info.is_framed&&"bn_"!==this.wb_info.mod&&this.initTopFrameNotify(this.wb_info),this.initAutoFetchWorker()},f.prototype._addRemoveCSPViolationListener=function(t){this.showCSPViolations.yesNo=t,this.showCSPViolations.yesNo&&!this.showCSPViolations.added?(this.showCSPViolations.added=!0,this._addEventListener(document,"securitypolicyviolation",this.utilFns.cspViolationListener)):(this.showCSPViolations.added=!1,this._removeEventListener(document,"securitypolicyviolation",this.utilFns.cspViolationListener))},f.prototype._addEventListener=function(t,e,r){if(this.utilFns.addEventListener)return this.utilFns.addEventListener.call(t,e,r);t.addEventListener(e,r)},f.prototype._removeEventListener=function(t,e,r){if(this.utilFns.removeEventListener)return this.utilFns.removeEventListener.call(t,e,r);t.removeEventListener(e,r)},f.prototype.getPageUnderModifier=function(){try{var t=this.extractPageUnderModiferRE.exec(location.pathname);if(t&&t[1])return t[1].trim()||"mp_"}catch(t){}return"mp_"},f.prototype.isNativeFunction=function(t){return!(!t||"function"!=typeof t)&&(-1!=this.wb_funToString.call(t).indexOf("[native code]")&&(void 0===t.__WB_is_native_func__||!!t.__WB_is_native_func__))},f.prototype.isString=function(t){return null!=t&&Object.getPrototypeOf(t)===String.prototype},f.prototype.isSavedSrcSrcset=function(t){switch(t.tagName){case"IMG":case"VIDEO":case"AUDIO":return!0;case"SOURCE":if(!t.parentElement)return!1;switch(t.parentElement.tagName){case"PICTURE":case"VIDEO":case"AUDIO":return!0;default:return!1}default:return!1}},f.prototype.isSavedDataSrcSrcset=function(t){return!(!t.dataset||null==t.dataset.srcset)&&this.isSavedSrcSrcset(t)},f.prototype.isHostUrl=function(t){if(0===t.indexOf("www."))return!0;var e=t.match(this.hostnamePortRe);return!!(e&&e[0].length<64)||!!(e=t.match(this.ipPortRe))&&e[0].length<64},f.prototype.isArgumentsObj=function(t){if(!t||"function"!=typeof t.toString)return!1;try{return"[object Arguments]"===this.utilFns.objToString.call(t)}catch(t){return!1}},f.prototype.deproxyArrayHandlingArgumentsObj=function(t){if(!t||t instanceof NodeList||!t.length)return t;for(var e=this.isArgumentsObj(t)?new Array(t.length):t,r=0;r<t.length;++r){const i=this.proxyToObj(t[r]);i!==e[r]&&(e[r]=i)}return e},f.prototype.startsWith=function(t,e){if(t)return 0===t.indexOf(e)?e:void 0},f.prototype.startsWithOneOf=function(t,e){if(t)for(var r=0;r<e.length;r++)if(0===t.indexOf(e[r]))return e[r]},f.prototype.endsWith=function(t,e){if(t)return-1!==t.indexOf(e,t.length-e.length)?e:void 0},f.prototype.shouldRewriteAttr=function(t,e){switch(e){case"href":case"src":case"xlink:href":return!0}return!(!t||!this.tagToMod[t]||void 0===this.tagToMod[t][e])||("VIDEO"===t&&"poster"===e||"META"===t&&"content"===e)},f.prototype.skipWrapScriptBasedOnType=function(t){return!!t&&(t.indexOf("json")>=0||t.indexOf("text/template")>=0)},f.prototype.skipWrapScriptTextBasedOnText=function(t){if(!t||t.indexOf(this.WB_ASSIGN_FUNC)>=0||0===t.indexOf("<"))return!0;for(var e=["window","self","document","location","top","parent","frames","opener"],r=0;r<e.length;r++)if(t.indexOf(e[r])>=0)return!1;return!0},f.prototype.nodeHasChildren=function(t){if(!t)return!1;if("function"==typeof t.hasChildNodes)return t.hasChildNodes();var e=t.children||t.childNodes;return!!e&&e.length>0},f.prototype.rwModForElement=function(t,e){if(t){var r="mp_";if("LINK"===t.tagName&&"href"===e){if(t.rel){var i=t.rel.trim().toLowerCase(),o=this.wb_getAttribute.call(t,"as");if(o&&null!=this.linkTagMods.linkRelToAs[i])r=this.linkTagMods.linkRelToAs[i][o.toLowerCase()];else null!=this.linkTagMods[i]&&(r=this.linkTagMods[i])}}else{var n=this.tagToMod[t.tagName];null!=n&&(r=n[e])}return r}},f.prototype.removeWBOSRC=function(t){"SCRIPT"!==t.tagName||t.__$removedWBOSRC$__||(t.hasAttribute("__wb_orig_src")&&t.removeAttribute("__wb_orig_src"),t.__$removedWBOSRC$__=!0)},f.prototype.retrieveWBOSRC=function(t){var e;if("SCRIPT"===t.tagName&&!t.__$removedWBOSRC$__)return null==(e=this.wb_getAttribute?this.wb_getAttribute.call(t,"__wb_orig_src"):t.getAttribute("__wb_orig_src"))&&(t.__$removedWBOSRC$__=!0),e},f.prototype.wrapScriptTextJsProxy=function(t){return\'var _____WB$wombat$assign$function_____ = function(name) {return (self._wb_wombat && self._wb_wombat.local_init && self._wb_wombat.local_init(name)) || self[name]; };\\nif (!self.__WB_pmw) { self.__WB_pmw = function(obj) { this.__WB_source = obj; return this; } }\\n{\\nlet window = _____WB$wombat$assign$function_____("window");\\nlet globalThis = _____WB$wombat$assign$function_____("globalThis");\\nlet self = _____WB$wombat$assign$function_____("self");\\nlet document = _____WB$wombat$assign$function_____("document");\\nlet location = _____WB$wombat$assign$function_____("location");\\nlet top = _____WB$wombat$assign$function_____("top");\\nlet parent = _____WB$wombat$assign$function_____("parent");\\nlet frames = _____WB$wombat$assign$function_____("frames");\\nlet opener = _____WB$wombat$assign$function_____("opener");\\n{\\n\'+t.replace(this.DotPostMessageRe,".__WB_pmw(self.window)$1")+"\\n\\n}}"},f.prototype.watchElem=function(t,e){if(!this.$wbwindow.MutationObserver)return!1;new this.$wbwindow.MutationObserver((function(t,r){for(var i=0;i<t.length;i++){var o=t[i];if("childList"===o.type)for(var n=0;n<o.addedNodes.length;n++)e(o.addedNodes[n])}})).observe(t,{childList:!0,subtree:!0})},f.prototype.reconstructDocType=function(t){return null==t?"":"<!doctype "+t.name+(t.publicId?\' PUBLIC "\'+t.publicId+\'"\':"")+(!t.publicId&&t.systemId?" SYSTEM":"")+(t.systemId?\' "\'+t.systemId+\'"\':"")+">"},f.prototype.getFinalUrl=function(t,e,r){var i=t?this.wb_rel_prefix:this.wb_abs_prefix;return null==e&&(e=this.wb_info.mod),this.wb_info.is_live||(i+=this.wb_info.wombat_ts),"/"!==(i+=e)[i.length-1]&&(i+="/"),i+r},f.prototype.resolveRelUrl=function(t,e){var r=e||this.$wbwindow.document,i=this.makeParser(r.baseURI,r),o=i.href.lastIndexOf("#"),n=o>=0?i.href.substring(0,o):i.href,s=n.lastIndexOf("/");return s>=0&&s!==n.length-1?i.href=n.substring(0,s+1)+t:i.href=n+t,i.href},f.prototype.extractOriginalURL=function(t){if(!t)return"";if(this.wb_is_proxy)return t;var e,r=t.toString(),i=r;if(this.startsWithOneOf(i,this.IGNORE_PREFIXES))return i;if(i.startsWith(this.wb_info.static_prefix))return i;e=this.startsWith(i,this.wb_abs_prefix)?this.wb_abs_prefix.length:this.wb_rel_prefix&&this.startsWith(i,this.wb_rel_prefix)?this.wb_rel_prefix.length:this.wb_rel_prefix?1:0;var o=i.indexOf("/http",e);return o<0&&(o=i.indexOf("///",e)),o<0&&(o=i.indexOf("/blob:",e)),o<0&&(o=i.indexOf("/about:blank",e)),o>=0?i=i.substr(o+1):((o=i.indexOf(this.wb_replay_prefix))>=0&&(i=i.substr(o+this.wb_replay_prefix.length)),i.length>4&&"_"===i.charAt(2)&&"/"===i.charAt(3)&&(i=i.substr(4)),i===r||this.startsWithOneOf(i,this.VALID_PREFIXES)||this.startsWith(i,"blob:")||(i=this.wb_orig_scheme+i)),"/"===r.charAt(0)&&"/"!==r.charAt(1)&&this.startsWith(i,this.wb_orig_origin)&&(i=i.substr(this.wb_orig_origin.length)),this.startsWith(i,this.REL_PREFIX)?this.wb_info.wombat_scheme+":"+i:i},f.prototype.makeParser=function(t,e){var r=this.extractOriginalURL(t),i=e;return e||(i="about:blank"===this.$wbwindow.location.href&&this.$wbwindow.opener?this.$wbwindow.opener.document:this.$wbwindow.document),this._makeURLParser(r,i)},f.prototype._makeURLParser=function(t,e){try{return new this.$wbwindow.URL(t,e.baseURI)}catch(t){}var r=e.createElement("a");return r._no_rewrite=!0,r.href=t,r},f.prototype.defProp=function(t,e,r,i,o){var n=Object.getOwnPropertyDescriptor(t,e);if(n&&!n.configurable)return!1;if(!i)return!1;var s={configurable:!0,enumerable:o||!1,get:i};r&&(s.set=r);try{return Object.defineProperty(t,e,s),!0}catch(t){return console.warn("Failed to redefine property %s",e,t.message),!1}},f.prototype.defGetterProp=function(t,e,r,i){var o=Object.getOwnPropertyDescriptor(t,e);if(o&&!o.configurable)return!1;if(!r)return!1;try{return Object.defineProperty(t,e,{configurable:!0,enumerable:i||!1,get:r}),!0}catch(t){return console.warn("Failed to redefine property %s",e,t.message),!1}},f.prototype.getOrigGetter=function(t,e){var r;if(t.__lookupGetter__&&(r=t.__lookupGetter__(e)),!r&&Object.getOwnPropertyDescriptor){var i=Object.getOwnPropertyDescriptor(t,e);i&&(r=i.get)}return r},f.prototype.getOrigSetter=function(t,e){var r;if(t.__lookupSetter__&&(r=t.__lookupSetter__(e)),!r&&Object.getOwnPropertyDescriptor){var i=Object.getOwnPropertyDescriptor(t,e);i&&(r=i.set)}return r},f.prototype.getAllOwnProps=function(t){for(var e=[],r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var o=r[i];try{t[o]&&!t[o].prototype&&e.push(o)}catch(t){}}for(var n=Object.getPrototypeOf(t);n;){for(r=Object.getOwnPropertyNames(n),i=0;i<r.length;i++)e.push(r[i]);n=Object.getPrototypeOf(n)}return e},f.prototype.sendTopMessage=function(t,e,r){(r=r||this.$wbwindow).__WB_top_frame&&(e||r==r.__WB_replay_top)&&r.__WB_top_frame.postMessage(t,this.wb_info.top_host)},f.prototype.sendHistoryUpdate=function(t,e,r){this.sendTopMessage({url:t,ts:this.wb_info.timestamp,request_ts:this.wb_info.request_ts,is_live:this.wb_info.is_live,title:e,wb_type:"replace-url"},!1,r)},f.prototype.updateLocation=function(t,e,r){if(t&&t!==e){var i=this.extractOriginalURL(e),o=this.extractOriginalURL(t);if(i&&i!==o){var n=this.rewriteUrl(t);console.log(r.href+" -> "+n),r.href=n}}},f.prototype.checkLocationChange=function(t,e){var r=typeof t,i=e?this.$wbwindow.__WB_replay_top.location:this.$wbwindow.location;"string"===r?this.updateLocation(t,i.href,i):"object"===r&&this.updateLocation(t.href,t._orig_href,i)},f.prototype.checkAllLocations=function(){if(this.wb_wombat_updating)return!1;this.wb_wombat_updating=!0,this.checkLocationChange(this.$wbwindow.WB_wombat_location,!1),this.$wbwindow.WB_wombat_location!=this.$wbwindow.__WB_replay_top.WB_wombat_location&&this.checkLocationChange(this.$wbwindow.__WB_replay_top.WB_wombat_location,!0),this.wb_wombat_updating=!1},f.prototype.proxyToObj=function(t){if(t)try{var e=t.__WBProxyRealObj__;if(e)return e}catch(t){}return t},f.prototype.objToProxy=function(t){if(t)try{var e=t._WB_wombat_obj_proxy;if(e)return e}catch(t){}return t},f.prototype.defaultProxyGet=function(t,e,r,i){switch(e){case"__WBProxyRealObj__":return t;case"location":case"WB_wombat_location":return t.WB_wombat_location;case"_WB_wombat_obj_proxy":return t._WB_wombat_obj_proxy;case"__WB_pmw":case this.WB_ASSIGN_FUNC:case this.WB_CHECK_THIS_FUNC:return t[e];case"origin":return t.WB_wombat_location.origin;case"constructor":return t.constructor}var o=t[e],n=typeof o;if("function"===n&&-1!==r.indexOf(e)){switch(e){case"requestAnimationFrame":case"cancelAnimationFrame":if(!this.isNativeFunction(o))return o;break;case"eval":if(this.isNativeFunction(o))return this.wrappedEval(o)}var s=i[e];return s&&s.original===o||(s={original:o,boundFn:o.bind(t)},i[e]=s),s.boundFn}return"object"===n&&o&&o._WB_wombat_obj_proxy?(o instanceof Window&&this.initNewWindowWombat(o),o._WB_wombat_obj_proxy):o},f.prototype.setLoc=function(t,e){var r=this.makeParser(e,t.ownerDocument);t._orig_href=e,t._parser=r;var i=r.href;t._hash=r.hash,t._href=i,t._host=r.host,t._hostname=r.hostname,r.origin?t._origin=r.host?r.origin:"null":t._origin=r.protocol+"//"+r.hostname+(r.port?":"+r.port:""),t._pathname=r.pathname,t._port=r.port,t._protocol=r.protocol,t._search=r.search,Object.defineProperty||(t.href=i,t.hash=r.hash,t.host=t._host,t.hostname=t._hostname,t.origin=t._origin,t.pathname=t._pathname,t.port=t._port,t.protocol=t._protocol,t.search=t._search)},f.prototype.makeGetLocProp=function(t,e){var r=this;return function(){if(this._no_rewrite)return e.call(this,t);var i=e.call(this,"href");return"href"===t?r.extractOriginalURL(i):"ancestorOrigins"===t?[]:(this._orig_href!==i&&r.setLoc(this,i),this["_"+t])}},f.prototype.makeSetLocProp=function(t,e,r){var i=this;return function(o){if(this._no_rewrite)return e.call(this,t,o);if(this["_"+t]!==o){if(this["_"+t]=o,!this._parser){var n=r.call(this);this._parser=i.makeParser(n,this.ownerDocument)}var s=!1;"href"===t&&"string"==typeof o&&o&&("."===o[0]||"#"===o[0]?o=i.resolveRelUrl(o,this.ownerDocument):"/"===o[0]&&(o.length>1&&"/"===o[1]?o=this._parser.protocol+o:(s=!0,o=WB_wombat_location.origin+o)));try{this._parser[t]=o}catch(e){console.log("Error setting "+t+" = "+o)}"hash"===t?(o=this._parser[t],e.call(this,"hash",o)):(s=s||o===this._parser.pathname,o=i.rewriteUrl(this._parser.href,s),e.call(this,"href",o))}}},f.prototype.styleReplacer=function(t,e,r,i,o,n){return e+this.rewriteUrl(r)+i},f.prototype.domConstructorErrorChecker=function(t,e,r,i){var o,n="number"==typeof i?i:1;if(t instanceof Window?o="Failed to construct \'"+e+"\': Please use the \'new\' operator, this DOM object constructor cannot be called as a function.":r&&r.length<n&&(o="Failed to construct \'"+e+"\': "+n+" argument required, but only 0 present."),o)throw new TypeError(o)},f.prototype.rewriteNodeFuncArgs=function(t,e,r,i){if(r)switch(r.nodeType){case Node.ELEMENT_NODE:this.rewriteElemComplete(r);break;case Node.TEXT_NODE:("STYLE"===t.tagName||r.parentNode&&"STYLE"===r.parentNode.tagName)&&(r.textContent=this.rewriteStyle(r.textContent));break;case Node.DOCUMENT_FRAGMENT_NODE:this.recurseRewriteElem(r)}var o=e.call(t,r,i);return o&&"IFRAME"===o.tagName&&(o.allow="autoplay \'self\'; fullscreen \'self\'",this.initIframeWombat(o)),o},f.prototype.rewriteWSURL=function(t){if(!t)return t;var e=typeof t,r=t;if("object"===e)r=t.toString();else if("string"!==e)return t;if(!r)return r;var i="ws://",o="wss://";if(this.wb_is_proxy)return this.wb_orig_scheme===this.HTTP_PREFIX&&this.startsWith(r,o)?i+r.substr(o.length):this.wb_orig_scheme===this.HTTPS_PREFIX&&this.startsWith(r,i)?o+r.substr(i.length):r;var n=0===this.wb_abs_prefix.indexOf(this.HTTPS_PREFIX),s=this.wb_abs_prefix.replace(n?this.HTTPS_PREFIX:this.HTTP_PREFIX,n?o:i);return s+=this.wb_info.wombat_ts+"ws_","/"!==r[r.length-1]&&(s+="/"),s+r.replace("WB_wombat_","")},f.prototype.rewriteUrl_=function(t,e,r,i){if(!t)return t;var o,n,s=typeof t;if("object"===s)o=t.toString();else{if("string"!==s)return t;o=t}if(!o)return o;if(this.wb_is_proxy)return this.wb_orig_scheme===this.HTTP_PREFIX&&this.startsWith(o,this.HTTPS_PREFIX)?this.HTTP_PREFIX+o.substr(this.HTTPS_PREFIX.length):this.wb_orig_scheme===this.HTTPS_PREFIX&&this.startsWith(o,this.HTTP_PREFIX)?this.HTTPS_PREFIX+o.substr(this.HTTP_PREFIX.length):o;if(o=o.replace("WB_wombat_",""),"if_"===r&&this.wb_info.isSW&&this.startsWith(o,"blob:"))return this.wb_info.prefix+this.wb_info.request_ts+"if_/"+o;if(this.startsWithOneOf(o.toLowerCase(),this.IGNORE_PREFIXES))return o;if(this.wb_opts.no_rewrite_prefixes&&this.startsWithOneOf(o,this.wb_opts.no_rewrite_prefixes))return o;n=0===o.indexOf("//")?window.location.protocol+o:o;var a=this.$wbwindow.location;if(this.startsWith(n,this.wb_abs_prefix)||this.startsWith(n,this.wb_rel_prefix))return o;if(a.host!==a.hostname&&this.startsWith(o,a.protocol+"//"+a.hostname+"/"))return o.replace("/"+a.hostname+"/","/"+a.host+"/");if("/"===o.charAt(0)&&!this.startsWith(o,this.REL_PREFIX)){if(this.wb_capture_date_part&&o.indexOf(this.wb_capture_date_part)>=0)return o;if(0===o.indexOf(this.wb_rel_prefix)&&o.indexOf("http")>1){var h=o.indexOf(":/");return h>0&&"/"!==o[h+2]?o.substring(0,h+2)+"/"+o.substring(h+2):o}return this.getFinalUrl(!0,r,this.wb_orig_origin+o)}"."===o.charAt(0)&&(o=this.resolveRelUrl(o,i));var w=this.startsWithOneOf(o.toLowerCase(),this.VALID_PREFIXES);if(w){var p=this.$wbwindow.__WB_replay_top.location.host,c=this.$wbwindow.__WB_replay_top.location.protocol,_=w+p+"/";if(this.startsWith(o,_)){if(this.startsWith(o,this.wb_replay_prefix))return o;var l=c+"//",u=o.substring(_.length),d=!1;return u.indexOf(this.wb_rel_prefix)<0&&o.indexOf("/static/")<0&&(u=this.getFinalUrl(!0,r,WB_wombat_location.origin+"/"+u),d=!0),w!==l&&w!==this.REL_PREFIX&&(d=!0),d&&(o=e?"":l+p,u&&"/"!==u[0]&&(o+="/"),o+=u),o}return this.getFinalUrl(e,r,o)}return(w=this.startsWithOneOf(o,this.BAD_PREFIXES))?this.getFinalUrl(e,r,this.extractOriginalURL(o)):o},f.prototype.rewriteUrl=function(t,e,r,i){var o=this.rewriteUrl_(t,e,r,i);return this.debug_rw&&(t!==o?console.log("REWRITE: "+t+" -> "+o):console.log("NOT REWRITTEN "+t)),o},f.prototype.performAttributeRewrite=function(t,e,r,i){switch(e){case"innerHTML":case"outerHTML":return this.rewriteHtml(r);case"filter":return this.rewriteInlineStyle(r);case"style":return this.rewriteStyle(r);case"srcset":return this.rewriteSrcset(r,t)}if(i&&!this.startsWithOneOf(r,this.VALID_PREFIXES))return r;var o=this.rwModForElement(t,e);return this.wbUseAFWorker&&this.WBAutoFetchWorker&&this.isSavedDataSrcSrcset(t)&&this.WBAutoFetchWorker.preserveDataSrcset(t),this.rewriteUrl(r,!1,o,t.ownerDocument)},f.prototype.rewriteAttr=function(t,e,r){var i=!1;if(!t||!t.getAttribute||t._no_rewrite||t["_"+e])return i;var o=this.wb_getAttribute.call(t,e);if(!o||this.startsWith(o,"javascript:"))return i;var n=this.performAttributeRewrite(t,e,o,r);return n!==o&&(this.removeWBOSRC(t),this.wb_setAttribute.call(t,e,n),i=!0),i},f.prototype.noExceptRewriteStyle=function(t){try{return this.rewriteStyle(t)}catch(e){return t}},f.prototype.rewriteStyle=function(t){if(!t)return t;var e=t;return"object"==typeof t&&(e=t.toString()),"string"==typeof e?e.replace(this.STYLE_REGEX,this.styleReplacer).replace(this.IMPORT_REGEX,this.styleReplacer).replace(this.no_wombatRe,""):e},f.prototype.rewriteSrcset=function(t,e){if(!t)return"";for(var r=t.split(this.srcsetRe),i=[],o=this.rwModForElement(e,"srcset"),n=0;n<r.length;n++){var s=r[n];if(s){var a=s.trim().split(" ");a[0]=this.rewriteUrl(a[0],!0,o),i.push(a.join(" "))}}return this.wbUseAFWorker&&this.WBAutoFetchWorker&&this.isSavedSrcSrcset(e)&&this.WBAutoFetchWorker.preserveSrcset(i,this.WBAutoFetchWorker.rwMod(e)),i.join(", ")},f.prototype.rewriteFrameSrc=function(t,e){var r,i=this.wb_getAttribute.call(t,e);if(this.startsWith(i,"javascript:")&&i.indexOf("WB_wombat_")>=0){var o="javascript:";r=o+"window.parent._wb_wombat.initNewWindowWombat(window);"+i.substr(o.length)}return r||(r=this.rewriteUrl(i,!1,this.rwModForElement(t,e))),r!==i&&(this.wb_setAttribute.call(t,e,r),!0)},f.prototype.rewriteScript=function(t){if(t.hasAttribute("src")||!t.textContent||!this.$wbwindow.Proxy)return this.rewriteAttr(t,"src");if(this.skipWrapScriptBasedOnType(t.type))return!1;var e=t.textContent.trim();return!this.skipWrapScriptTextBasedOnText(e)&&(t.textContent=this.wrapScriptTextJsProxy(e),!0)},f.prototype.rewriteSVGElem=function(t){var e=this.rewriteAttr(t,"filter");return e=this.rewriteAttr(t,"style")||e,e=this.rewriteAttr(t,"xlink:href")||e,e=this.rewriteAttr(t,"href")||e,e=this.rewriteAttr(t,"src")||e},f.prototype.rewriteElem=function(t){var e=!1;if(!t)return e;if(t instanceof SVGElement)e=this.rewriteSVGElem(t);else switch(t.tagName){case"META":var r=this.wb_getAttribute.call(t,"http-equiv");r&&"content-security-policy"===r.toLowerCase()&&(this.wb_setAttribute.call(t,"http-equiv","_"+r),e=!0);break;case"STYLE":var i=this.rewriteStyle(t.textContent);t.textContent!==i&&(t.textContent=i,e=!0,this.wbUseAFWorker&&this.WBAutoFetchWorker&&null!=t.sheet&&this.WBAutoFetchWorker.deferredSheetExtraction(t.sheet));break;case"LINK":e=this.rewriteAttr(t,"href"),this.wbUseAFWorker&&"stylesheet"===t.rel&&this._addEventListener(t,"load",this.utilFns.wbSheetMediaQChecker);break;case"IMG":e=this.rewriteAttr(t,"src"),e=this.rewriteAttr(t,"srcset")||e,e=this.rewriteAttr(t,"style")||e,this.wbUseAFWorker&&this.WBAutoFetchWorker&&t.dataset.srcset&&this.WBAutoFetchWorker.preserveDataSrcset(t);break;case"OBJECT":if(this.wb_info.isSW&&t.parentElement&&"application/pdf"===t.getAttribute("type")){for(var o=this.$wbwindow.document.createElement("IFRAME"),n=0;n<t.attributes.length;n++){var s=t.attributes[n],a=s.name;"data"===a&&(a="src"),this.wb_setAttribute.call(o,a,s.value)}t.parentElement.replaceChild(o,t),e=!0;break}e=this.rewriteAttr(t,"data",!0),e=this.rewriteAttr(t,"style")||e;break;case"FORM":e=this.rewriteAttr(t,"poster"),e=this.rewriteAttr(t,"action")||e,e=this.rewriteAttr(t,"style")||e;break;case"IFRAME":if(e=this.rewriteFrameSrc(t,"src"),this.wb_info.isSW&&!e){var h=t.getAttribute("srcdoc");if(t.hasAttribute("srcdoc")&&t.removeAttribute("srcdoc"),h)t.src=this.wb_info.prefix+this.wb_info.request_ts+"id_/srcdoc:"+btoa(encodeURIComponent(h));else{var w=t.getAttribute("src");w&&"about:blank"!==w||(w||(t.__WB_blank=!0),t.src=this.wb_info.prefix+this.wb_info.request_ts+"mp_/about:blank")}}e=this.rewriteAttr(t,"style")||e;break;case"FRAME":e=this.rewriteFrameSrc(t,"src"),e=this.rewriteAttr(t,"style")||e;break;case"SCRIPT":e=this.rewriteScript(t);break;default:e=this.rewriteAttr(t,"src"),e=this.rewriteAttr(t,"srcset")||e,e=this.rewriteAttr(t,"href")||e,e=this.rewriteAttr(t,"style")||e,e=this.rewriteAttr(t,"poster")||e}return t.hasAttribute&&t.removeAttribute&&(t.hasAttribute("crossorigin")&&(t.removeAttribute("crossorigin"),e=!0),t.hasAttribute("integrity")&&(t.removeAttribute("integrity"),e=!0)),e},f.prototype.recurseRewriteElem=function(t){if(!this.nodeHasChildren(t))return!1;for(var e=!1,r=[t.children||t.childNodes];r.length>0;)for(var i=r.shift(),o=0;o<i.length;o++){var n=i[o];n.nodeType===Node.ELEMENT_NODE&&(e=this.rewriteElem(n)||e,this.nodeHasChildren(n)&&r.push(n.children||n.childNodes))}return e},f.prototype.rewriteElemComplete=function(t){if(!t)return!1;var e=this.rewriteElem(t),r=this.recurseRewriteElem(t);return e||r},f.prototype.rewriteElementsInArguments=function(t){for(var e=new Array(t.length),r=0;r<t.length;r++){var i=t[r];i instanceof Node?(this.rewriteElemComplete(i),e[r]=i):e[r]="string"==typeof i?this.rewriteHtml(i):i}return e},f.prototype.rewriteHtml=function(t,e){if(!t)return t;var r=t;if("string"!=typeof t&&(r=t.toString()),this.write_buff&&(r=this.write_buff+r,this.write_buff=""),r.indexOf("<script")<=0&&(r=r.replace(/((id|class)=".*)WB_wombat_([^"]+)/,"$1$3")),!this.$wbwindow.HTMLTemplateElement||this.FullHTMLRegex.test(r))return this.rewriteHtmlFull(r,e);var i=(new DOMParser).parseFromString("<template>"+r+"</template>","text/html");if(!i||!this.nodeHasChildren(i.head)||!i.head.children[0].content)return r;var o=i.head.children[0];if(o._no_rewrite=!0,this.recurseRewriteElem(o.content)){var n=o.innerHTML;if(e){var s=o.content.children&&o.content.children[0];if(s){var a="</"+s.tagName.toLowerCase()+">";this.endsWith(n,a)&&!this.endsWith(r.toLowerCase(),a)&&(n=n.substring(0,n.length-a.length))}else if("<"!==r[0]||">"!==r[r.length-1])return void(this.write_buff+=r)}return n}return r},f.prototype.rewriteHtmlFull=function(t,e){var r=(new DOMParser).parseFromString(t,"text/html");if(!r)return t;for(var i=!1,o=0;o<r.all.length;o++)i=this.rewriteElem(r.all[o])||i;if(i){var n;if(t&&t.indexOf("<html")>=0)r.documentElement._no_rewrite=!0,n=this.reconstructDocType(r.doctype)+r.documentElement.outerHTML;else{r.head._no_rewrite=!0,r.body._no_rewrite=!0;var s=this.nodeHasChildren(r.head),a=this.nodeHasChildren(r.body);if(n=(s?r.head.outerHTML:"")+(a?r.body.outerHTML:""),e)if(r.all.length>3){var h="</"+r.all[3].tagName.toLowerCase()+">";this.endsWith(n,h)&&!this.endsWith(t.toLowerCase(),h)&&(n=n.substring(0,n.length-h.length))}else if("<"!==t[0]||">"!==t[t.length-1])return void(this.write_buff+=t);n=this.reconstructDocType(r.doctype)+n}return n}return t},f.prototype.rewriteInlineStyle=function(t){var e;try{e=decodeURIComponent(t)}catch(r){e=t}if(e!==t){var r=this.rewriteStyle(e).split(",",2);return r[0]+","+encodeURIComponent(r[1])}return this.rewriteStyle(t)},f.prototype.rewriteCookie=function(t){var e=this,r=t.replace(this.wb_abs_prefix,"").replace(this.wb_rel_prefix,"");return r=r.replace(this.cookie_domain_regex,(function(t,i){var o={domain:i,cookie:r,wb_type:"cookie"};return e.sendTopMessage(o,!0),e.$wbwindow.location.hostname.indexOf(".")>=0&&!e.IP_RX.test(e.$wbwindow.location.hostname)?"Domain=."+e.$wbwindow.location.hostname:""})).replace(this.cookie_path_regex,(function(t,r){var i=e.rewriteUrl(r);return 0===i.indexOf(e.wb_curr_host)&&(i=i.substring(e.wb_curr_host.length)),"Path="+i})),"https:"!==e.$wbwindow.location.protocol&&(r=r.replace("secure","")),r.replace(",|",",")},f.prototype.rewriteWorker=function(t){if(!t)return t;var e=0===(t=t.toString()).indexOf("blob:"),r=0===t.indexOf("javascript:");if(!e&&!r){if(!this.startsWithOneOf(t,this.VALID_PREFIXES)&&!this.startsWith(t,"/")&&!this.startsWithOneOf(t,this.BAD_PREFIXES)){var i=this.resolveRelUrl(t,this.$wbwindow.document);return this.rewriteUrl(i,!1,"wkr_",this.$wbwindow.document)}return this.rewriteUrl(t,!1,"wkr_",this.$wbwindow.document)}var o=r?t.replace("javascript:",""):null;if(e){var n=new XMLHttpRequest;this.utilFns.XHRopen.call(n,"GET",t,!1),this.utilFns.XHRsend.call(n),o=n.responseText.replace(this.workerBlobRe,"").replace(this.rmCheckThisInjectRe,"this")}if(this.wb_info.static_prefix||this.wb_info.ww_rw_script){var s=this.$wbwindow.document.baseURI;o="(function() { self.importScripts(\'"+(this.wb_info.ww_rw_script||this.wb_info.static_prefix+"wombatWorkers.js")+"\'); new WBWombat({\'prefix\': \'"+this.wb_abs_prefix+"\', \'prefixMod\': \'"+this.wb_abs_prefix+"wkrf_/\', \'originalURL\': \'"+s+"\'}); })();"+o}var a=new Blob([o],{type:"application/javascript"});return URL.createObjectURL(a)},f.prototype.rewriteTextNodeFn=function(t,e,r){var i,o=this.proxyToObj(t);if(r.length>0&&o.parentElement&&"STYLE"===o.parentElement.tagName){i=new Array(r.length);var n=r.length-1;2===n?(i[0]=r[0],i[1]=r[1]):1===n&&(i[0]=r[0]),i[n]=this.rewriteStyle(r[n])}else i=r;return e.__WB_orig_apply?e.__WB_orig_apply(o,i):e.apply(o,i)},f.prototype.rewriteDocWriteWriteln=function(t,e,r){var i,o=this.proxyToObj(t),n=r.length;if(0===n)return e.call(o);i=1===n?r[0]:Array.prototype.join.call(r,"");var s=this.rewriteHtml(i,!0),a=e.call(o,s);return this.initNewWindowWombat(o.defaultView),a},f.prototype.rewriteChildNodeFn=function(t,e,r){var i=this.proxyToObj(t);if(0===r.length)return e.call(i);var o=this.rewriteElementsInArguments(r);return e.__WB_orig_apply?e.__WB_orig_apply(i,o):e.apply(i,o)},f.prototype.rewriteInsertAdjHTMLOrElemArgs=function(t,e,r,i,o){var n=this.proxyToObj(t);return n._no_rewrite?e.call(n,r,i):o?e.call(n,r,this.rewriteHtml(i)):(this.rewriteElemComplete(i),e.call(n,r,i))},f.prototype.rewriteSetTimeoutInterval=function(t,e,r){var i=this.isString(r[0]),o=i?new Array(r.length):r;if(i){this.$wbwindow.Proxy?o[0]=this.wrapScriptTextJsProxy(r[0]):o[0]=r[0].replace(/\\blocation\\b/g,"WB_wombat_$&");for(var n=1;n<r.length;++n)o[n]=this.proxyToObj(r[n])}var s=this.proxyToObj(t);return e.__WB_orig_apply?e.__WB_orig_apply(s,o):e.apply(s,o)},f.prototype.rewriteHTMLAssign=function(t,e,r){var i=r,o=t.tagName;t._no_rewrite||t instanceof this.$wbwindow.HTMLTemplateElement||("STYLE"===o?i=this.rewriteStyle(r):"SCRIPT"===o?(r&&this.IsTagRegex.test(r)&&(i=this.rewriteHtml(r)),i===r&&(this.skipWrapScriptBasedOnType(t.type)||this.skipWrapScriptTextBasedOnText(r)||(i=this.wrapScriptTextJsProxy(i)))):i=this.rewriteHtml(r)),e.call(t,i),this.wbUseAFWorker&&this.WBAutoFetchWorker&&"STYLE"===o&&null!=t.sheet&&this.WBAutoFetchWorker.deferredSheetExtraction(t.sheet)},f.prototype.rewriteEvalArg=function(t,e,r){return t(this.isString(e)&&!this.skipWrapScriptTextBasedOnText(e)?this.wrapScriptTextJsProxy(e):this.otherEvalRewrite(e),r)},f.prototype.otherEvalRewrite=function(t){return"string"!=typeof t?t:t.replace(this.IMPORT_JS_REGEX,this.styleReplacer)},f.prototype.addEventOverride=function(t,e){var r=e;e||(r=this.$wbwindow.MessageEvent.prototype);var i=this.getOrigGetter(r,t);i&&this.defGetterProp(r,t,(function(){return null!=this["_"+t]?this["_"+t]:i.call(this)}))},f.prototype.isAttrObjRewrite=function(t){if(!t)return!1;var e=t.ownerElement&&t.ownerElement.tagName;return this.shouldRewriteAttr(e,t.nodeName)},f.prototype.newAttrObjGetSet=function(t,e){var r=this,i=this.getOrigGetter(t,e),o=this.getOrigSetter(t,e);this.defProp(t,e,(function(t){var e=r.proxyToObj(this),i=t;return r.isAttrObjRewrite(e)&&(i=r.performAttributeRewrite(e.ownerElement,e.name,t,!1)),o.call(e,i)}),(function(){var t=r.proxyToObj(this),e=i.call(t);return r.isAttrObjRewrite(t)?r.extractOriginalURL(e):e}))},f.prototype.overrideAttrProps=function(){var t=this.$wbwindow.Attr.prototype;this.newAttrObjGetSet(t,"value"),this.newAttrObjGetSet(t,"nodeValue"),this.newAttrObjGetSet(t,"textContent")},f.prototype.overrideAttr=function(t,e,r){var i=this.getOrigGetter(t,e),o=this.getOrigSetter(t,e),n=this;this.defProp(t,e,(function(t){"js_"!==r||this.__$removedWBOSRC$__||n.removeWBOSRC(this);var i=n.rewriteUrl(t,!1,r);return o?o.call(this,i):n.wb_setAttribute?n.wb_setAttribute.call(this,e,i):void 0}),(function(){var t;return i?t=i.call(this):n.wb_getAttribute&&(t=n.wb_getAttribute.call(this,e)),t=n.extractOriginalURL(t),this.__WB_blank&&"about:blank"===t?"":t}))},f.prototype.overridePropExtract=function(t,e,r){var i=this.getOrigGetter(t,e),o=this;if(i){this.defGetterProp(t,e,(function(){var t=o.proxyToObj(this),e=i.call(t);return!r||r(t)?o.extractOriginalURL(e):e}))}},f.prototype.overrideReferrer=function(t){var e=this.getOrigGetter(t,"referrer"),r=this;if(e){this.defGetterProp(t,"referrer",(function(){var t=r.proxyToObj(this),i=this.defaultView;if(i===i.__WB_replay_top)return"";var o=e.call(t);return r.extractOriginalURL(o)}))}},f.prototype.overridePropToProxy=function(t,e){var r=this.getOrigGetter(t,e);if(r){var i=this;this.defGetterProp(t,e,(function(){return i.objToProxy(r.call(this))}))}},f.prototype.overrideHistoryFunc=function(t){if(this.$wbwindow.history){var e=this.$wbwindow.history[t];if(e){this.$wbwindow.history["_orig_"+t]=e,this.$wbwindow.history.___wb_ownWindow=this.$wbwindow;var r=this,i=function(t,i,o){var n,s,a=this.___wb_ownWindow||r.$wbwindow,h=a.WB_wombat_location;if(o){var w=r._makeURLParser(o,a.document);if(s=w.href,n=r.rewriteUrl(s),s!==h.origin&&"about:blank"!==h.href&&!r.startsWith(s,h.origin+"/"))throw new DOMException("Invalid history change: "+s)}else s=h.href;e.call(this,t,i,n);var p=a.document.title;r.WBAutoFetchWorker&&a.setTimeout((function(){i||a.document.title===p||(i=a.document.title),r.WBAutoFetchWorker.fetchAsPage(n,s,i)}),100),r.sendHistoryUpdate(s,i,a)};return this.$wbwindow.history[t]=i,this.$wbwindow.History&&this.$wbwindow.History.prototype&&(this.$wbwindow.History.prototype[t]=i),i}}},f.prototype.overrideStyleAttr=function(t,e,r){var i=this.getOrigGetter(t,e),o=this.getOrigSetter(t,e),n=this,s=i;i||(s=function(){return this.getPropertyValue(r)}),(o&&i||r)&&this.defProp(t,e,(function(t){var e=n.rewriteStyle(t);return o?o.call(this,e):this.setProperty(r,e),e}),s)},f.prototype.overrideStyleSetProp=function(t){var e=t.setProperty,r=this;t.setProperty=function(t,i,o){var n=r.rewriteStyle(i);return e.call(this,t,n,o)}},f.prototype.overrideAnchorAreaElem=function(t){if(t&&t.prototype){for(var e={},r=t.prototype,i=function(t,r){var i=e["set_"+t];return i?i.call(this,r):""},o=function(t){var r=e["get_"+t];return r?r.call(this):""},n=0;n<this.URL_PROPS.length;n++){var s=this.URL_PROPS[n];e["get_"+s]=this.getOrigGetter(r,s),e["set_"+s]=this.getOrigSetter(r,s),Object.defineProperty&&this.defProp(r,s,this.makeSetLocProp(s,i,o),this.makeGetLocProp(s,o),!0)}r.toString=function(){return this.href}}},f.prototype.overrideHtmlAssign=function(t,e,r){if(this.$wbwindow.DOMParser&&t&&t.prototype){var i=t.prototype,o=this.getOrigGetter(i,e),n=this.getOrigSetter(i,e);if(n){var s=this.rewriteHTMLAssign,a=this.wb_unrewrite_rx;this.defProp(i,e,(function(t){return s(this,n,t)}),r?function(){var t=o.call(this);return this._no_rewrite?t:t.replace(a,"")}:o)}}},f.prototype.overrideIframeContentAccess=function(t){if(this.$wbwindow.HTMLIFrameElement&&this.$wbwindow.HTMLIFrameElement.prototype){var e=this.$wbwindow.HTMLIFrameElement.prototype,r=this.getOrigGetter(e,t);if(r){var i=this.getOrigSetter(e,t),o=this;this.defProp(e,t,i,(function(){return o.initIframeWombat(this),o.objToProxy(r.call(this))})),e["_get_"+t]=r}}},f.prototype.overrideFramesAccess=function(t){if(!t.Proxy||t!==t.frames){t.__wb_frames=t.frames;var e=this,r=function(){for(var t=0;t<this.__wb_frames.length;t++)try{e.initNewWindowWombat(this.__wb_frames[t])}catch(t){}return this.__wb_frames};this.defGetterProp(t,"frames",r),this.defGetterProp(t.Window.prototype,"frames",r)}},f.prototype.overrideSWAccess=function(t){if(t.navigator.serviceWorker&&t.navigator.serviceWorker.controller){t._WB_wombat_sw=t.navigator.serviceWorker;var e={controller:null,ready:Promise.resolve({unregister:function(){}}),register:function(){return Promise.reject()},addEventListener:function(){},removeEventListener:function(){},onmessage:null,oncontrollerchange:null,getRegistrations:function(){return Promise.resolve([])},getRegistration:function(){return Promise.resolve(void 0)},startMessages:function(){}};this.defGetterProp(t.navigator,"serviceWorker",(function(){return e}))}},f.prototype.overrideFuncThisProxyToObj=function(t,e,r){if(t){var i=r;if(!r&&t.prototype&&t.prototype[e]?i=t.prototype:!r&&t[e]&&(i=t),i){var o=this,n=i[e];i[e]=function(){return n.apply(o.proxyToObj(this),arguments)}}}},f.prototype.overrideFuncArgProxyToObj=function(t,e,r){if(t&&t.prototype){var i=r||0,o=t.prototype[e];if(o){var n=this;t.prototype[e]=function(){for(var t=new Array(arguments.length),e=0;e<t.length;e++)t[e]=e===i?n.proxyToObj(arguments[e]):arguments[e];var r=n.proxyToObj(this);return o.__WB_orig_apply?o.__WB_orig_apply(r,t):o.apply(r,t)}}}},f.prototype.overrideFunctionApply=function(t){if(!t.Function.prototype.__WB_orig_apply){var e=t.Function.prototype.apply;t.Function.prototype.__WB_orig_apply=e;var r=this;t.Function.prototype.apply=function(t,e){return r.isNativeFunction(this)&&(t=r.proxyToObj(t),e=r.deproxyArrayHandlingArgumentsObj(e)),this.__WB_orig_apply(t,e)},this.wb_funToString.apply=e}},f.prototype.overrideFunctionBind=function(t){if(!t.Function.prototype.__WB_orig_bind){var e=t.Function.prototype.bind;t.Function.prototype.__WB_orig_bind=e;var r=this;t.Function.prototype.bind=function(t){var e=r.isNativeFunction(this),i=this.__WB_orig_bind.apply(this,arguments);return i.__WB_is_native_func__=e,i}}},f.prototype.overrideSrcsetAttr=function(t,e){var r="srcset",i=this.getOrigGetter(t,r),o=this.getOrigSetter(t,r),n=this;this.defProp(t,r,(function(t){var e=n.rewriteSrcset(t,this);return o?o.call(this,e):n.wb_setAttribute?n.wb_setAttribute.call(this,r,e):void 0}),(function(){var t;return i?t=i.call(this):n.wb_getAttribute&&(t=n.wb_getAttribute.call(this,r)),t=n.extractOriginalURL(t)}))},f.prototype.overrideHrefAttr=function(t,e){var r=this.getOrigGetter(t,"href"),i=this.getOrigSetter(t,"href"),o=this;this.defProp(t,"href",(function(t){var r;return r="cs_"===e&&0===t.indexOf("data:text/css")?o.rewriteInlineStyle(t):"LINK"===this.tagName?o.rewriteUrl(t,!1,o.rwModForElement(this,"href")):o.rewriteUrl(t,!1,e,this.ownerDocument),i?i.call(this,r):o.wb_setAttribute?o.wb_setAttribute.call(this,"href",r):void 0}),(function(){var t;return r?t=r.call(this):o.wb_getAttribute&&(t=o.wb_getAttribute.call(this,"href")),this._no_rewrite?t:o.extractOriginalURL(t)}))},f.prototype.overrideTextProtoGetSet=function(t,e){var r,i=this.getOrigGetter(t,e),o=this;if("data"===e){var n=this.getOrigSetter(t,e);r=function(t){var e=t;return!this._no_rewrite&&this.parentElement&&"STYLE"===this.parentElement.tagName&&(e=o.rewriteStyle(t)),n.call(this,e)}}this.defProp(t,e,r,(function(){var t=i.call(this);return!this._no_rewrite&&this.parentElement&&"STYLE"===this.parentElement.tagName?t.replace(o.wb_unrewrite_rx,""):t}))},f.prototype.overrideAnUIEvent=function(t){var e="__wb_"+t+"_overridden",r=this.$wbwindow[t];if(r&&r.prototype&&!r.prototype[e]){var i=this;this.overridePropToProxy(r.prototype,"view");var o,n="init"+t;if(r.prototype[n]){var s=r.prototype[n];r.prototype[n]=function(){var t=i.proxyToObj(this);if(0===arguments.length||arguments.length<3)return s.__WB_orig_apply?s.__WB_orig_apply(t,arguments):s.apply(t,arguments);for(var e=new Array(arguments.length),r=0;r<arguments.length;r++)e[r]=3===r?i.proxyToObj(arguments[r]):arguments[r];return s.__WB_orig_apply?s.__WB_orig_apply(t,e):s.apply(t,e)}}this.$wbwindow[t]=(o=r,function(e,r){return i.domConstructorErrorChecker(this,t,arguments),r&&(null!=r.view&&(r.view=i.proxyToObj(r.view)),null!=r.relatedTarget&&(r.relatedTarget=i.proxyToObj(r.relatedTarget)),null!=r.target&&(r.target=i.proxyToObj(r.target))),new o(e,r)}),this.$wbwindow[t].prototype=r.prototype,Object.defineProperty(this.$wbwindow[t].prototype,"constructor",{value:this.$wbwindow[t]}),this.$wbwindow[t].prototype[e]=!0}},f.prototype.rewriteParentNodeFn=function(t,e,r){var i=this._no_rewrite?r:this.rewriteElementsInArguments(r),o=this.proxyToObj(t);return e.__WB_orig_apply?e.__WB_orig_apply(o,i):e.apply(o,i)},f.prototype.overrideParentNodeAppendPrepend=function(t){var e=this.rewriteParentNodeFn;if(t.prototype.append){var r=t.prototype.append;t.prototype.append=function(){return e(this,r,arguments)}}if(t.prototype.prepend){var i=t.prototype.prepend;t.prototype.prepend=function(){return e(this,i,arguments)}}},f.prototype.overrideShadowDom=function(){this.$wbwindow.ShadowRoot&&this.$wbwindow.ShadowRoot.prototype&&(this.overrideHtmlAssign(this.$wbwindow.ShadowRoot,"innerHTML",!0),this.overrideParentNodeAppendPrepend(this.$wbwindow.ShadowRoot))},f.prototype.overrideChildNodeInterface=function(t,e){if(t&&t.prototype){var r=e?this.rewriteTextNodeFn:this.rewriteChildNodeFn;if(t.prototype.before){var i=t.prototype.before;t.prototype.before=function(){return r(this,i,arguments)}}if(t.prototype.after){var o=t.prototype.after;t.prototype.after=function(){return r(this,o,arguments)}}if(t.prototype.replaceWith){var n=t.prototype.replaceWith;t.prototype.replaceWith=function(){return r(this,n,arguments)}}}},f.prototype.initTextNodeOverrides=function(){var t=this.$wbwindow.Text;if(t&&t.prototype){var e=t.prototype,r=this.rewriteTextNodeFn;if(e.appendData){var i=e.appendData;e.appendData=function(){return r(this,i,arguments)}}if(e.insertData){var o=e.insertData;e.insertData=function(){return r(this,o,arguments)}}if(e.replaceData){var n=e.replaceData;e.replaceData=function(){return r(this,n,arguments)}}this.overrideChildNodeInterface(t,!0),this.overrideTextProtoGetSet(e,"data"),this.overrideTextProtoGetSet(e,"wholeText")}},f.prototype.initAttrOverrides=function(){this.overrideHrefAttr(this.$wbwindow.HTMLLinkElement.prototype,"cs_"),this.overrideHrefAttr(this.$wbwindow.CSSStyleSheet.prototype,"cs_"),this.overrideHrefAttr(this.$wbwindow.HTMLBaseElement.prototype,"mp_"),this.overrideSrcsetAttr(this.$wbwindow.HTMLImageElement.prototype,"im_"),this.overrideSrcsetAttr(this.$wbwindow.HTMLSourceElement.prototype,"oe_"),this.overrideAttr(this.$wbwindow.HTMLVideoElement.prototype,"poster","im_"),this.overrideAttr(this.$wbwindow.HTMLAudioElement.prototype,"poster","im_"),this.overrideAttr(this.$wbwindow.HTMLImageElement.prototype,"src","im_"),this.overrideAttr(this.$wbwindow.HTMLInputElement.prototype,"src","oe_"),this.overrideAttr(this.$wbwindow.HTMLEmbedElement.prototype,"src","oe_"),this.overrideAttr(this.$wbwindow.HTMLVideoElement.prototype,"src","oe_"),this.overrideAttr(this.$wbwindow.HTMLAudioElement.prototype,"src","oe_"),this.overrideAttr(this.$wbwindow.HTMLSourceElement.prototype,"src","oe_"),window.HTMLTrackElement&&window.HTMLTrackElement.prototype&&this.overrideAttr(this.$wbwindow.HTMLTrackElement.prototype,"src","oe_"),this.overrideAttr(this.$wbwindow.HTMLIFrameElement.prototype,"src","if_"),this.$wbwindow.HTMLFrameElement&&this.$wbwindow.HTMLFrameElement.prototype&&this.overrideAttr(this.$wbwindow.HTMLFrameElement.prototype,"src","fr_"),this.overrideAttr(this.$wbwindow.HTMLScriptElement.prototype,"src","js_"),this.overrideAttr(this.$wbwindow.HTMLObjectElement.prototype,"data","oe_"),this.overrideAttr(this.$wbwindow.HTMLObjectElement.prototype,"codebase","oe_"),this.overrideAttr(this.$wbwindow.HTMLMetaElement.prototype,"content","mp_"),this.overrideAttr(this.$wbwindow.HTMLFormElement.prototype,"action","mp_"),this.overrideAttr(this.$wbwindow.HTMLQuoteElement.prototype,"cite","mp_"),this.overrideAttr(this.$wbwindow.HTMLModElement.prototype,"cite","mp_"),this.overrideAnchorAreaElem(this.$wbwindow.HTMLAnchorElement),this.overrideAnchorAreaElem(this.$wbwindow.HTMLAreaElement);var t=this.$wbwindow.CSSStyleDeclaration.prototype;if(this.$wbwindow.CSS2Properties&&(t=this.$wbwindow.CSS2Properties.prototype),this.overrideStyleAttr(t,"cssText"),this.overrideStyleAttr(t,"background","background"),this.overrideStyleAttr(t,"backgroundImage","background-image"),this.overrideStyleAttr(t,"cursor","cursor"),this.overrideStyleAttr(t,"listStyle","list-style"),this.overrideStyleAttr(t,"listStyleImage","list-style-image"),this.overrideStyleAttr(t,"border","border"),this.overrideStyleAttr(t,"borderImage","border-image"),this.overrideStyleAttr(t,"borderImageSource","border-image-source"),this.overrideStyleAttr(t,"maskImage","mask-image"),this.overrideStyleSetProp(t),this.$wbwindow.CSSStyleSheet&&this.$wbwindow.CSSStyleSheet.prototype){var e=this,r=this.$wbwindow.CSSStyleSheet.prototype.insertRule;this.$wbwindow.CSSStyleSheet.prototype.insertRule=function(t,i){return r.call(this,e.rewriteStyle(t),i)}}this.$wbwindow.CSSRule&&this.$wbwindow.CSSRule.prototype&&this.overrideStyleAttr(this.$wbwindow.CSSRule.prototype,"cssText")},f.prototype.initCSSOMOverrides=function(){var t,r=this;if(this.$wbwindow.CSSStyleValue){var i=function(t,e){var i=t[e];t[e]=function(t,e){if(null==e)return i.call(this,t,e);var o=r.noExceptRewriteStyle(e);return i.call(this,t,o)}};this.$wbwindow.CSSStyleValue.parse&&this.$wbwindow.CSSStyleValue.parse.toString().indexOf("[native code]")>0&&i(this.$wbwindow.CSSStyleValue,"parse"),this.$wbwindow.CSSStyleValue.parseAll&&this.$wbwindow.CSSStyleValue.parseAll.toString().indexOf("[native code]")>0&&i(this.$wbwindow.CSSStyleValue,"parseAll")}if(this.$wbwindow.CSSKeywordValue&&this.$wbwindow.CSSKeywordValue.prototype){var o=this.$wbwindow.CSSKeywordValue;this.$wbwindow.CSSKeywordValue=(t=this.$wbwindow.CSSKeywordValue,function(e){return r.domConstructorErrorChecker(this,"CSSKeywordValue",arguments),new t(r.rewriteStyle(e))}),this.$wbwindow.CSSKeywordValue.prototype=o.prototype,Object.defineProperty(this.$wbwindow.CSSKeywordValue.prototype,"constructor",{value:this.$wbwindow.CSSKeywordValue}),e(this.$wbwindow.CSSKeywordValue,"CSSKeywordValue")}if(this.$wbwindow.StylePropertyMap&&this.$wbwindow.StylePropertyMap.prototype){var n=this.$wbwindow.StylePropertyMap.prototype.set;this.$wbwindow.StylePropertyMap.prototype.set=function(){if(arguments.length<=1)return n.__WB_orig_apply?n.__WB_orig_apply(this,arguments):n.apply(this,arguments);var t=new Array(arguments.length);t[0]=arguments[0];for(var e=1;e<arguments.length;e++)t[e]=r.noExceptRewriteStyle(arguments[e]);return n.__WB_orig_apply?n.__WB_orig_apply(this,t):n.apply(this,t)};var s=this.$wbwindow.StylePropertyMap.prototype.append;this.$wbwindow.StylePropertyMap.prototype.append=function(){if(arguments.length<=1)return n.__WB_orig_apply?s.__WB_orig_apply(this,arguments):s.apply(this,arguments);var t=new Array(arguments.length);t[0]=arguments[0];for(var e=1;e<arguments.length;e++)t[e]=r.noExceptRewriteStyle(arguments[e]);return s.__WB_orig_apply?s.__WB_orig_apply(this,t):s.apply(this,t)}}},f.prototype.initAudioOverride=function(){if(this.$wbwindow.Audio){var t,r=this.$wbwindow.Audio,i=this;this.$wbwindow.Audio=(t=this.$wbwindow.Audio,function(e){return i.domConstructorErrorChecker(this,"Audio"),new t(i.rewriteUrl(e,!0,"oe_"))}),this.$wbwindow.Audio.prototype=r.prototype,Object.defineProperty(this.$wbwindow.Audio.prototype,"constructor",{value:this.$wbwindow.Audio}),e(this.$wbwindow.Audio,"HTMLAudioElement")}},f.prototype.initBadPrefixes=function(t){this.BAD_PREFIXES=["http:"+t,"https:"+t,"http:/"+t,"https:/"+t]},f.prototype.initCryptoRandom=function(){if(this.$wbwindow.crypto&&this.$wbwindow.Crypto){var t=this,e=function(e){for(var r=0;r<e.length;r++)e[r]=parseInt(4294967296*t.$wbwindow.Math.random());return e};this.$wbwindow.Crypto.prototype.getRandomValues=e,this.$wbwindow.crypto.getRandomValues=e}},f.prototype.initDateOverride=function(t){if(!this.$wbwindow.__wb_Date_now){var e,r=1e3*parseInt(t),i=this.$wbwindow.Date.now()-(r-0),o=this.$wbwindow.Date,n=this.$wbwindow.Date.UTC,s=this.$wbwindow.Date.parse,a=this.$wbwindow.Date.now;this.$wbwindow.__wb_Date_now=a,this.$wbwindow.Date=(e=this.$wbwindow.Date,function(t,r,o,n,s,h,w){return void 0===t?new e(a()-i):void 0===r?new e(t):void 0===o?new e(t,r):void 0===n?new e(t,r,o):void 0===s?new e(t,r,o,n):void 0===h?new e(t,r,o,n,s):void 0===w?new e(t,r,o,n,s,h):new e(t,r,o,n,s,h,w)}),this.$wbwindow.Date.prototype=o.prototype,this.$wbwindow.Date.now=function(){return a()-i},this.$wbwindow.Date.UTC=n,this.$wbwindow.Date.parse=s,this.$wbwindow.Date.__WB_timediff=i,this.$wbwindow.Date.prototype.getTimezoneOffset=function(){return 0};var h=this.$wbwindow.Date.prototype.toString;this.$wbwindow.Date.prototype.toString=function(){return h.call(this).split(" GMT")[0]+" GMT+0000 (Coordinated Universal Time)"};var w=this.$wbwindow.Date.prototype.toTimeString;this.$wbwindow.Date.prototype.toTimeString=function(){return w.call(this).split(" GMT")[0]+" GMT+0000 (Coordinated Universal Time)"},Object.defineProperty(this.$wbwindow.Date.prototype,"constructor",{value:this.$wbwindow.Date})}},f.prototype.initBlobOverride=function(){if(this.$wbwindow.Blob&&!this.wb_info.isSW){var t,e=this.$wbwindow.Blob,r=this;this.$wbwindow.Blob=(t=this.$wbwindow.Blob,function(e,i){return(i&&"application/xhtml+xml"===i.type||"text/html"===i.type)&&1===e.length&&"string"==typeof e[0]&&r.startsWith(e[0],"<!DOCTYPE html>")&&(e[0]=r.rewriteHtml(e[0]),i.type="text/html"),new t(e,i)}),this.$wbwindow.Blob.prototype=e.prototype}},f.prototype.initWSOverride=function(){this.$wbwindow.WebSocket&&this.$wbwindow.WebSocket.prototype&&(this.$wbwindow.WebSocket=function(t){function e(t,e){this.addEventListener=function(){},this.removeEventListener=function(){},this.close=function(){},this.send=function(t){console.log("ws send",t)},this.protocol=e&&e.length?e[0]:"",this.url=t,this.readyState=0}return e.CONNECTING=0,e.OPEN=1,e.CLOSING=2,e.CLOSED=3,e}(this.$wbwindow.WebSocket),Object.defineProperty(this.$wbwindow.WebSocket.prototype,"constructor",{value:this.$wbwindow.WebSocket}),e(this.$wbwindow.WebSocket,"WebSocket"))},f.prototype.initDocTitleOverride=function(){var t=this.getOrigGetter(this.$wbwindow.document,"title"),e=this.getOrigSetter(this.$wbwindow.document,"title"),r=this;this.defProp(this.$wbwindow.document,"title",(function(t){var i=e.call(this,t),o={wb_type:"title",title:t};return r.sendTopMessage(o),i}),t)},f.prototype.initFontFaceOverride=function(){if(this.$wbwindow.FontFace){var t,r=this,i=this.$wbwindow.FontFace;this.$wbwindow.FontFace=(t=this.$wbwindow.FontFace,function(e,i,o){r.domConstructorErrorChecker(this,"FontFace",arguments,2);var n=i;return null!=i&&(n="string"!=typeof i?r.rewriteInlineStyle(i.toString()):r.rewriteInlineStyle(i)),new t(e,n,o)}),this.$wbwindow.FontFace.prototype=i.prototype,Object.defineProperty(this.$wbwindow.FontFace.prototype,"constructor",{value:this.$wbwindow.FontFace}),e(this.$wbwindow.FontFace,"FontFace")}},f.prototype.initFixedRatio=function(t){try{this.$wbwindow.devicePixelRatio=t}catch(t){}if(Object.defineProperty)try{Object.defineProperty(this.$wbwindow,"devicePixelRatio",{value:t,writable:!1})}catch(t){}},f.prototype.initPaths=function(t){t.wombat_opts=t.wombat_opts||{},Object.assign(this.wb_info,t),this.wb_opts=t.wombat_opts,this.wb_replay_prefix=t.prefix,this.wb_is_proxy=t.proxy_magic||!this.wb_replay_prefix,this.wb_info.top_host=this.wb_info.top_host||"*",this.wb_curr_host=this.$wbwindow.location.protocol+"//"+this.$wbwindow.location.host,this.wb_info.wombat_opts=this.wb_info.wombat_opts||{},this.wb_orig_scheme=t.wombat_scheme+"://",this.wb_orig_origin=this.wb_orig_scheme+t.wombat_host,this.wb_abs_prefix=this.wb_replay_prefix,!t.is_live&&t.wombat_ts?this.wb_capture_date_part="/"+t.wombat_ts+"/":this.wb_capture_date_part="",this.initBadPrefixes(this.wb_replay_prefix),this.initCookiePreset()},f.prototype.initSeededRandom=function(t){this.$wbwindow.Math.seed=parseInt(t);var e=this;this.$wbwindow.Math.random=function(){return e.$wbwindow.Math.seed=(9301*e.$wbwindow.Math.seed+49297)%233280,e.$wbwindow.Math.seed/233280}},f.prototype.initHistoryOverrides=function(){this.overrideHistoryFunc("pushState"),this.overrideHistoryFunc("replaceState");var t=this;this.$wbwindow.addEventListener("popstate",(function(e){t.sendHistoryUpdate(t.$wbwindow.WB_wombat_location.href,t.$wbwindow.document.title)}))},f.prototype.initCookiePreset=function(){if(this.wb_info.presetCookie)for(var t=this.wb_info.presetCookie.split(";"),e=0;e<t.length;e++)this.$wbwindow.document.cookie=t[e].trim()},f.prototype.initHTTPOverrides=function(){var t,r,i=this;if(this.overridePropExtract(this.$wbwindow.XMLHttpRequest.prototype,"responseURL"),this.wb_info.isSW){var o=this.$wbwindow.XMLHttpRequest.prototype.open,n=this.$wbwindow.XMLHttpRequest.prototype.setRequestHeader,s=this.$wbwindow.XMLHttpRequest.prototype.send;this.utilFns.XHRopen=o,this.utilFns.XHRsend=s,this.$wbwindow.XMLHttpRequest.prototype.open=function(){this.__WB_xhr_open_arguments=arguments,this.__WB_xhr_headers=new Headers},this.$wbwindow.XMLHttpRequest.prototype.setRequestHeader=function(t,e){this.__WB_xhr_headers.set(t,e)};i=this;var a=!!this.wb_info.convert_post_to_get;this.$wbwindow.XMLHttpRequest.prototype.send=async function(t){if(a&&("POST"===this.__WB_xhr_open_arguments[0]||"PUT"===this.__WB_xhr_open_arguments[0])){var e={url:this.__WB_xhr_open_arguments[1],method:this.__WB_xhr_open_arguments[0],headers:this.__WB_xhr_headers,postData:t};l(e)&&(this.__WB_xhr_open_arguments[1]=e.url,this.__WB_xhr_open_arguments[0]="GET",t=null)}if(this.__WB_xhr_open_arguments.length>2&&!this.__WB_xhr_open_arguments[2]&&-1===navigator.userAgent.indexOf("Firefox")&&(this.__WB_xhr_open_arguments[2]=!0,console.warn("wombat.js: Sync XHR not supported in SW-based replay in this browser, converted to async")),this._no_rewrite||(this.__WB_xhr_open_arguments[1]=i.rewriteUrl(this.__WB_xhr_open_arguments[1])),o.apply(this,this.__WB_xhr_open_arguments),!i.startsWith(this.__WB_xhr_open_arguments[1],"data:")){for(const[t,e]of this.__WB_xhr_headers.entries())n.call(this,t,e);n.call(this,"X-Pywb-Requested-With","XMLHttpRequest")}return s.call(this,t)}}else if(this.$wbwindow.XMLHttpRequest.prototype.open){var h=this.$wbwindow.XMLHttpRequest.prototype.open;this.utilFns.XHRopen=h,this.utilFns.XHRsend=this.$wbwindow.XMLHttpRequest.prototype.send,this.$wbwindow.XMLHttpRequest.prototype.open=function(t,e,r,o,n){var s=this._no_rewrite?e:i.rewriteUrl(e),a=!0;null==r||r||(a=!1),h.call(this,t,s,a,o,n),i.startsWith(s,"data:")||this.setRequestHeader("X-Pywb-Requested-With","XMLHttpRequest")}}if(this.$wbwindow.fetch){var w=this.$wbwindow.fetch;this.$wbwindow.fetch=function(t,e){var r=t,o=typeof t;if("string"===o)r=i.rewriteUrl(t);else if("object"===o&&t.url){var n=i.rewriteUrl(t.url);n!==t.url&&(r=new Request(n,e))}else"object"===o&&t.href&&(r=i.rewriteUrl(t.href));if(e||(e={}),void 0===e.credentials)try{e.credentials="include"}catch(t){}return w.call(i.proxyToObj(this),r,e)}}if(this.$wbwindow.Request&&this.$wbwindow.Request.prototype){var p=this.$wbwindow.Request;this.$wbwindow.Request=(t=this.$wbwindow.Request,function(e,r){i.domConstructorErrorChecker(this,"Request",arguments);var o=r||{},n=e,s=typeof e;switch(s){case"string":n=i.rewriteUrl(e);break;case"object":if(n=e,e.url){var a=i.rewriteUrl(e.url);a!==e.url&&(n=new t(a,e))}else e.href&&(n=i.rewriteUrl(e.toString(),!0))}return o.credentials="include",new t(n,o)}),this.$wbwindow.Request.prototype=p.prototype,Object.defineProperty(this.$wbwindow.Request.prototype,"constructor",{value:this.$wbwindow.Request})}if(this.$wbwindow.Response&&this.$wbwindow.Response.prototype){var c=this.$wbwindow.Response.prototype.redirect;this.$wbwindow.Response.prototype.redirect=function(t,e){var r=i.rewriteUrl(t,!0,null,i.$wbwindow.document);return c.call(this,r,e)}}if(this.$wbwindow.EventSource&&this.$wbwindow.EventSource.prototype){var _=this.$wbwindow.EventSource;this.$wbwindow.EventSource=(r=this.$wbwindow.EventSource,function(t,e){i.domConstructorErrorChecker(this,"EventSource",arguments);var o=t;return null!=t&&(o=i.rewriteUrl(t)),new r(o,e)}),this.$wbwindow.EventSource.prototype=_.prototype,Object.defineProperty(this.$wbwindow.EventSource.prototype,"constructor",{value:this.$wbwindow.EventSource}),e(this.$wbwindow.EventSource,"EventSource")}},f.prototype.initElementGetSetAttributeOverride=function(){if(!this.wb_opts.skip_setAttribute&&this.$wbwindow.Element&&this.$wbwindow.Element.prototype){var t=this,e=this.$wbwindow.Element.prototype;if(e.setAttribute){var r=e.setAttribute;e._orig_setAttribute=r,e.setAttribute=function(e,i){var o=i;if(e&&"string"==typeof o){var n=e.toLowerCase();if("LINK"===this.tagName&&"href"===n&&0===o.indexOf("data:text/css"))o=t.rewriteInlineStyle(i);else if("style"===n)o=t.rewriteStyle(i);else if("srcset"===n)o=t.rewriteSrcset(i,this);else{t.shouldRewriteAttr(this.tagName,n)&&(t.removeWBOSRC(this),this._no_rewrite||(o=t.rewriteUrl(i,!1,t.rwModForElement(this,n))))}}return r.call(this,e,o)}}if(e.getAttribute){var i=e.getAttribute;this.wb_getAttribute=i,e.getAttribute=function(e){var r=i.call(this,e);if(null===r)return r;var o=e;if(e&&(o=e.toLowerCase()),t.shouldRewriteAttr(this.tagName,o)){var n=t.retrieveWBOSRC(this);return n||t.extractOriginalURL(r)}return t.startsWith(o,"data-")&&t.startsWithOneOf(r,t.wb_prefixes)?t.extractOriginalURL(r):r}}}},f.prototype.initSvgImageOverrides=function(){if(this.$wbwindow.SVGImageElement){var t=this.$wbwindow.SVGImageElement.prototype,e=t.getAttribute,r=t.getAttributeNS,i=t.setAttribute,o=t.setAttributeNS,n=this;t.getAttribute=function(t){var r=e.call(this,t);return t.indexOf("xlink:href")>=0||"href"===t?n.extractOriginalURL(r):r},t.getAttributeNS=function(t,e){var i=r.call(this,t,e);return e.indexOf("xlink:href")>=0||"href"===e?n.extractOriginalURL(i):i},t.setAttribute=function(t,e){var r=e;return(t.indexOf("xlink:href")>=0||"href"===t)&&(r=n.rewriteUrl(e)),i.call(this,t,r)},t.setAttributeNS=function(t,e,r){var i=r;return(e.indexOf("xlink:href")>=0||"href"===e)&&(i=n.rewriteUrl(r)),o.call(this,t,e,i)}}},f.prototype.initCreateElementNSFix=function(){if(this.$wbwindow.document.createElementNS&&this.$wbwindow.Document.prototype.createElementNS){var t=this.$wbwindow.document.createElementNS,e=this,r=function(r,i){return t.call(e.proxyToObj(this),e.extractOriginalURL(r),i)};this.$wbwindow.Document.prototype.createElementNS=r,this.$wbwindow.document.createElementNS=r}},f.prototype.initInsertAdjacentElementHTMLOverrides=function(){var t=this.$wbwindow.Element;if(t&&t.prototype){var e=t.prototype,r=this.rewriteInsertAdjHTMLOrElemArgs;if(e.insertAdjacentHTML){var i=e.insertAdjacentHTML;e.insertAdjacentHTML=function(t,e){return r(this,i,t,e,!0)}}if(e.insertAdjacentElement){var o=e.insertAdjacentElement;e.insertAdjacentElement=function(t,e){return r(this,o,t,e,!1)}}}},f.prototype.initDomOverride=function(){var t=this.$wbwindow.Node;if(t&&t.prototype){var e=this.rewriteNodeFuncArgs;if(t.prototype.appendChild){var r=t.prototype.appendChild;t.prototype.appendChild=function(t,i){return e(this,r,t,i)}}if(t.prototype.insertBefore){var i=t.prototype.insertBefore;t.prototype.insertBefore=function(t,r){return e(this,i,t,r)}}if(t.prototype.replaceChild){var o=t.prototype.replaceChild;t.prototype.replaceChild=function(t,r){return e(this,o,t,r)}}this.overridePropToProxy(t.prototype,"ownerDocument"),this.overridePropToProxy(this.$wbwindow.HTMLHtmlElement.prototype,"parentNode"),this.overridePropToProxy(this.$wbwindow.Event.prototype,"target")}this.$wbwindow.Element&&this.$wbwindow.Element.prototype&&(this.overrideParentNodeAppendPrepend(this.$wbwindow.Element),this.overrideChildNodeInterface(this.$wbwindow.Element,!1)),this.$wbwindow.DocumentFragment&&this.$wbwindow.DocumentFragment.prototype&&this.overrideParentNodeAppendPrepend(this.$wbwindow.DocumentFragment)},f.prototype.initDocOverrides=function(t){if(Object.defineProperty){this.overrideReferrer(t),this.defGetterProp(t,"origin",(function(){return this.WB_wombat_location.origin})),this.defGetterProp(this.$wbwindow,"origin",(function(){return this.WB_wombat_location.origin}));var e=this;this.defProp(t,"domain",(function(t){var r=this.WB_wombat_location;r&&e.endsWith(r.hostname,t)&&(this.__wb_domain=t)}),(function(){return this.__wb_domain||this.WB_wombat_location.hostname}))}},f.prototype.initDocWriteOpenCloseOverride=function(){if(this.$wbwindow.DOMParser){var t=this.$wbwindow.Document.prototype,e=this.$wbwindow.document,r=this.rewriteDocWriteWriteln,i=e.write,o=function(){return r(this,i,arguments)};e.write=o,t.write=o;var n=e.writeln,s=function(){return r(this,n,arguments)};e.writeln=s,t.writeln=s;var a=this,h=e.open,w=function(){var t,e=a.proxyToObj(this);if(3===arguments.length){var r=a.rewriteUrl(arguments[0],!1,"mp_");t=h.call(e,r,arguments[1],arguments[2]),a.initNewWindowWombat(t,arguments[0])}else t=h.call(e),a.initNewWindowWombat(e.defaultView);return t};e.open=w,t.open=w;var p=e.close,c=function(){var t=a.proxyToObj(this);return a.initNewWindowWombat(t.defaultView),p.__WB_orig_apply?p.__WB_orig_apply(t,arguments):p.apply(t,arguments)};e.close=c,t.close=c;var _=this.getOrigGetter(t,"body"),l=this.getOrigSetter(t,"body");_&&l&&this.defProp(t,"body",(function(t){return t&&(t instanceof HTMLBodyElement||t instanceof HTMLFrameSetElement)&&a.rewriteElemComplete(t),l.call(a.proxyToObj(this),t)}),_)}},f.prototype.initIframeWombat=function(t){var e;e=t._get_contentWindow?t._get_contentWindow.call(t):t.contentWindow;try{if(!e||e===this.$wbwindow||e._skip_wombat||e._wb_wombat)return}catch(t){return}var r=t.src;this.initNewWindowWombat(e,r)},f.prototype.initNewWindowWombat=function(t,e){var r=!1;if(t&&!t._wb_wombat){if(e&&""!==e&&!this.startsWithOneOf(e,["about:blank","javascript:"])||(r=!0),!r&&this.wb_info.isSW){var i=this.extractOriginalURL(e);("about:blank"===i||i.startsWith("srcdoc:")||i.startsWith("blob:"))&&(r=!0)}if(r){var o={};Object.assign(o,this.wb_info);var n=new f(t,o);t._wb_wombat=n.wombatInit()}else this.initProtoPmOrigin(t),this.initPostMessageOverride(t),this.initMessageEventOverride(t),this.initCheckThisFunc(t)}},f.prototype.initTimeoutIntervalOverrides=function(){var t=this.rewriteSetTimeoutInterval;if(this.$wbwindow.setTimeout&&!this.$wbwindow.setTimeout.__$wbpatched$__){var e=this.$wbwindow.setTimeout;this.$wbwindow.setTimeout=function(){return t(this,e,arguments)},this.$wbwindow.setTimeout.__$wbpatched$__=!0}if(this.$wbwindow.setInterval&&!this.$wbwindow.setInterval.__$wbpatched$__){var r=this.$wbwindow.setInterval;this.$wbwindow.setInterval=function(){return t(this,r,arguments)},this.$wbwindow.setInterval.__$wbpatched$__=!0}},f.prototype.initWorkerOverrides=function(){var t,e,r=this;if(this.$wbwindow.Worker&&!this.$wbwindow.Worker._wb_worker_overriden){var i=this.$wbwindow.Worker;this.$wbwindow.Worker=(t=i,function(e,i){return r.domConstructorErrorChecker(this,"Worker",arguments),new t(r.rewriteWorker(e),i)}),this.$wbwindow.Worker.prototype=i.prototype,Object.defineProperty(this.$wbwindow.Worker.prototype,"constructor",{value:this.$wbwindow.Worker}),this.$wbwindow.Worker._wb_worker_overriden=!0}if(this.$wbwindow.SharedWorker&&!this.$wbwindow.SharedWorker.__wb_sharedWorker_overriden){var o=this.$wbwindow.SharedWorker;this.$wbwindow.SharedWorker=(e=o,function(t,i){return r.domConstructorErrorChecker(this,"SharedWorker",arguments),new e(r.rewriteWorker(t),i)}),this.$wbwindow.SharedWorker.prototype=o.prototype,Object.defineProperty(this.$wbwindow.SharedWorker.prototype,"constructor",{value:this.$wbwindow.SharedWorker}),this.$wbwindow.SharedWorker.__wb_sharedWorker_overriden=!0}if(this.$wbwindow.ServiceWorkerContainer&&this.$wbwindow.ServiceWorkerContainer.prototype&&this.$wbwindow.ServiceWorkerContainer.prototype.register){var n=this.$wbwindow.ServiceWorkerContainer.prototype.register;this.$wbwindow.ServiceWorkerContainer.prototype.register=function(t,e){var i=new URL(t,r.$wbwindow.document.baseURI).href,o=r.getPageUnderModifier();return e&&e.scope?e.scope=r.rewriteUrl(e.scope,!1,o):e={scope:r.rewriteUrl("/",!1,o)},n.call(this,r.rewriteUrl(i,!1,"sw_"),e)}}if(this.$wbwindow.Worklet&&this.$wbwindow.Worklet.prototype&&this.$wbwindow.Worklet.prototype.addModule&&!this.$wbwindow.Worklet.__wb_workerlet_overriden){var s=this.$wbwindow.Worklet.prototype.addModule;this.$wbwindow.Worklet.prototype.addModule=function(t,e){var i=r.rewriteUrl(t,!1,"js_");return s.call(this,i,e)},this.$wbwindow.Worklet.__wb_workerlet_overriden=!0}},f.prototype.initLocOverride=function(t,e,r){if(Object.defineProperty)for(var i=0;i<this.URL_PROPS.length;i++){var o=this.URL_PROPS[i];this.defProp(t,o,this.makeSetLocProp(o,e,r),this.makeGetLocProp(o,r),!0)}},f.prototype.initWombatLoc=function(t){if(!(!t||t.WB_wombat_location&&t.document.WB_wombat_location)){var e=new h(t.location,this),r=this;if(Object.defineProperty){this.defProp(t.Object.prototype,"WB_wombat_location",(function(e){var i=this._WB_wombat_location||this.defaultView&&this.defaultView._WB_wombat_location;i&&(i.href=e),t.location=r.rewriteUrl(e)}),(function(){return this._WB_wombat_location||this.defaultView&&this.defaultView._WB_wombat_location||this.location})),this.initProtoPmOrigin(t),t._WB_wombat_location=e}else t.WB_wombat_location=e,setTimeout(this.checkAllLocations,500),setInterval(this.checkAllLocations,500)}},f.prototype.initProtoPmOrigin=function(t){if(!t.Object.prototype.__WB_pmw){var e=function(t){return this.__WB_source=t,this};try{t.Object.defineProperty(t.Object.prototype,"__WB_pmw",{get:function(){return e},set:function(){},configurable:!0,enumerable:!1})}catch(t){}t.__WB_check_loc=function(t,e){if(t instanceof Location||t instanceof h){if(e)for(var r=0;r<e.length;r++)if(t===e[r])return{};return this.WB_wombat_location}return{}}}},f.prototype.initCheckThisFunc=function(t){try{t.Object.prototype[this.WB_CHECK_THIS_FUNC]||t.Object.defineProperty(t.Object.prototype,this.WB_CHECK_THIS_FUNC,{configutable:!1,enumerable:!1,value:function(t){return t&&t._WB_wombat_obj_proxy?t._WB_wombat_obj_proxy:t}})}catch(t){}},f.prototype.overrideGetOwnPropertyNames=function(t){var e=t.Object.getOwnPropertyNames,r=[this.WB_CHECK_THIS_FUNC,"WB_wombat_location","__WB_pmw","WB_wombat_top","WB_wombat_eval","WB_wombat_runEval"];try{t.Object.defineProperty(t.Object,"getOwnPropertyNames",{value:function(t){for(var i=e(t),o=0;o<r.length;o++){var n=i.indexOf(r[o]);n>=0&&i.splice(n,1)}return i}})}catch(t){console.log(t)}},f.prototype.initHashChange=function(){if(this.$wbwindow.__WB_top_frame){var t=this;this.$wbwindow.addEventListener("message",(function(e){if(e.data&&e.data.from_top){var r=e.data.message;r.wb_type&&"outer_hashchange"===r.wb_type&&t.$wbwindow.location.hash!=r.hash&&(t.$wbwindow.location.hash=r.hash)}})),this.$wbwindow.addEventListener("hashchange",(function(){var e={wb_type:"hashchange",hash:t.$wbwindow.location.hash};t.sendTopMessage(e)}))}},f.prototype.initPostMessageOverride=function(t){if(t.postMessage&&!t.__orig_postMessage){var e=t.postMessage,r=this;t.__orig_postMessage=e;var i=function(t,i,o,n){var s,a,h=r.proxyToObj(this);if(h.__WB_source&&h.__WB_source.WB_wombat_location){var w=h.__WB_source;if(s=w.WB_wombat_location.origin,h.__WB_win_id||(h.__WB_win_id={},h.__WB_counter=0),!w.__WB_id){var p=h.__WB_counter;w.__WB_id=p+w.WB_wombat_location.href,h.__WB_counter+=1}h.__WB_win_id[w.__WB_id]=w,a=w.__WB_id,h.__WB_source=void 0}else s=window.WB_wombat_location.origin;var c=i;c===h.location.origin&&(c=s);var _={from:s,to_origin:c,src_id:a,message:t,from_top:n};if("*"!==i){if("null"===h.location.origin||""===h.location.origin)return;i=h.location.origin}return e.call(h,_,i,o)};t.postMessage=i,t.Window.prototype.postMessage=i;var o=null,n=(o=t.EventTarget&&t.EventTarget.prototype?t.EventTarget.prototype:t).addEventListener;o.addEventListener=function(t,e,i){var o,s=r.proxyToObj(this);if("message"===t?o=r.message_listeners.add_or_get(e,(function(){return c(e,s,r)})):"storage"===t?r.storage_listeners.add_or_get(e,(function(){return p(e,s)})):o=e,o)return n.call(s,t,o,i)};var s=o.removeEventListener;o.removeEventListener=function(t,e,i){var o,n=r.proxyToObj(this);if("message"===t?o=r.message_listeners.remove(e):"storage"===t?r.storage_listeners.remove(e):o=e,o)return s.call(n,t,o,i)};var a=function(e,i){var o=r.getOrigSetter(t,e);r.defProp(t,e,(function(t){this["__orig_"+e]=t;var n=r.proxyToObj(this),s=t?i(t,n,r):t;return o.call(n,s)}),(function(){return this["__orig_"+e]}))};a("onmessage",c),a("onstorage",p)}},f.prototype.initMessageEventOverride=function(t){t.MessageEvent&&!t.MessageEvent.prototype.__extended&&(this.addEventOverride("target"),this.addEventOverride("srcElement"),this.addEventOverride("currentTarget"),this.addEventOverride("eventPhase"),this.addEventOverride("path"),this.overridePropToProxy(t.MessageEvent.prototype,"source"),t.MessageEvent.prototype.__extended=!0)},f.prototype.initUIEventsOverrides=function(){this.overrideAnUIEvent("UIEvent"),this.overrideAnUIEvent("MouseEvent"),this.overrideAnUIEvent("TouchEvent"),this.overrideAnUIEvent("FocusEvent"),this.overrideAnUIEvent("KeyboardEvent"),this.overrideAnUIEvent("WheelEvent"),this.overrideAnUIEvent("InputEvent"),this.overrideAnUIEvent("CompositionEvent")},f.prototype.initOpenOverride=function(){var t=this.$wbwindow.open;this.$wbwindow.Window.prototype.open&&(t=this.$wbwindow.Window.prototype.open);var e=this,r=function(r,i,o){var n=e.rewriteUrl(r,!1,""),s=t.call(e.proxyToObj(this),n,i,o);return e.initNewWindowWombat(s,r),s};this.$wbwindow.open=r,this.$wbwindow.Window.prototype.open&&(this.$wbwindow.Window.prototype.open=r);for(var i=0;i<this.$wbwindow.frames.length;i++)try{this.$wbwindow.frames[i].open=r}catch(t){console.log(t)}},f.prototype.initCookiesOverride=function(){var t=this.getOrigGetter(this.$wbwindow.document,"cookie"),e=this.getOrigSetter(this.$wbwindow.document,"cookie");t||(t=this.getOrigGetter(this.$wbwindow.Document.prototype,"cookie")),e||(e=this.getOrigSetter(this.$wbwindow.Document.prototype,"cookie"));var r=function(t,e){var r=new Date(e);return isNaN(r.getTime())?"Expires=Thu,| 01 Jan 1970 00:00:00 GMT":"Expires="+new Date(r.getTime()+Date.__WB_timediff).toUTCString().replace(",",",|")},i=this;this.defProp(this.$wbwindow.document,"cookie",(function(t){if(t){for(var o=t.replace(i.cookie_expires_regex,r).split(i.SetCookieRe),n=0;n<o.length;n++)o[n]=i.rewriteCookie(o[n]);return e.call(i.proxyToObj(this),o.join(","))}}),(function(){return t.call(i.proxyToObj(this))}))},f.prototype.initRegisterUnRegPHOverride=function(){var t=this,e=this.$wbwindow.navigator;if(e.registerProtocolHandler){var r=e.registerProtocolHandler;e.registerProtocolHandler=function(e,i,o){return r.call(this,e,t.rewriteUrl(i),o)}}if(e.unregisterProtocolHandler){var i=e.unregisterProtocolHandler;e.unregisterProtocolHandler=function(e,r){return i.call(this,e,t.rewriteUrl(r))}}},f.prototype.initBeaconOverride=function(){if(this.$wbwindow.navigator.sendBeacon){var t=this.$wbwindow.navigator.sendBeacon,e=this;this.$wbwindow.navigator.sendBeacon=function(r,i){try{return t.call(this,e.rewriteUrl(r),i)}catch(t){return!0}}}},f.prototype.initPresentationRequestOverride=function(){if(this.$wbwindow.PresentationRequest&&this.$wbwindow.PresentationRequest.prototype){var t=this,e=this.$wbwindow.PresentationRequest;this.$wbwindow.PresentationRequest=(r=this.$wbwindow.PresentationRequest,function(e){t.domConstructorErrorChecker(this,"PresentationRequest",arguments);var i=e;if(null!=e)if(Array.isArray(i))for(var o=0;o<i.length;o++)i[o]=t.rewriteUrl(i[o],!0,"mp_");else i=t.rewriteUrl(e,!0,"mp_");return new r(i)}),this.$wbwindow.PresentationRequest.prototype=e.prototype,Object.defineProperty(this.$wbwindow.PresentationRequest.prototype,"constructor",{value:this.$wbwindow.PresentationRequest})}var r},f.prototype.initDisableNotificationsGeoLocation=function(){window.Notification&&(window.Notification.requestPermission=function(t){return t&&t("denied"),Promise.resolve("denied")});var t=function(t){t&&(t.getCurrentPosition&&(t.getCurrentPosition=function(t,e,r){e&&e({code:2,message:"not available"})}),t.watchPosition&&(t.watchPosition=function(t,e,r){e&&e({code:2,message:"not available"})}))};window.geolocation&&t(window.geolocation),window.navigator.geolocation&&t(window.navigator.geolocation)},f.prototype.initStorageOverride=function(){this.addEventOverride("storageArea",this.$wbwindow.StorageEvent.prototype),i.yes=!1;var t={};if(this.wb_info.storage)try{t=JSON.parse(atob(this.wb_info.storage))}catch(t){console.warn("Error parsing storage, storages not loaded")}a(this,"localStorage",t.local),a(this,"sessionStorage",t.session),this.$wbwindow.Storage=s,i.yes=!0},f.prototype.initIndexedDBOverride=function(){if(this.$wbwindow.IDBFactory){var t=this.$wbwindow.IDBFactory.prototype,e="wb-"+this.wb_orig_origin+"-",r=t.open;t.open=function(t,i){return r.call(this,e+t,i)};var i=t.deleteDatabase;t.delete=function(t){return i.call(this,e+t,options)};var o=t.databases;t.databases=function(){var t=this;return new Promise((function(r,i){o.call(t).then((function(t){for(var i=[],o=0;o<t.length;o++)0===t[o].name.indexOf(e)&&i.push({name:t[o].name.substring(e.length),version:t[o].version});r(i)})).catch((function(t){i(t)}))}))}}},f.prototype.initCachesOverride=function(){if(this.$wbwindow.CacheStorage){this.$wbwindow.chrome&&(this.$wbwindow.chrome={});var t=this.$wbwindow.CacheStorage.prototype,e="wb-"+this.wb_orig_origin+"-",r=t.open;t.open=function(t){return r.call(this,e+t)};var i=t.has;t.has=function(t){return i.call(this,e+t)};var o=t.delete;t.delete=function(t){return o.call(this,e+t)};var n=t.keys;t.keys=function(){var t=this;return new Promise((function(r,i){n.call(t).then((function(t){for(var i=[],o=0;o<t.length;o++)0===t[o].indexOf(e)&&i.push(t[o].substring(e.length));r(i)})).catch((function(t){i(t)}))}))};t.match;t.match=function(t,e){var r=this;return this.keys().then((function(i){var o;return i.reduce((function(i,n){return i.then((function(){return o||r.open(n).then((function(r){return r.match(t,e)})).then((function(t){return o=t}))}))}),Promise.resolve())}))}}},f.prototype.initWindowObjProxy=function(t){if(t.Proxy){var e=this.getAllOwnProps(t),r={},i=this,o=new t.Proxy({},{get:function(o,n){switch(n){case"top":return i.$wbwindow.WB_wombat_top._WB_wombat_obj_proxy;case"parent":if(i.$wbwindow===i.$wbwindow.WB_wombat_top)return i.$wbwindow.WB_wombat_top._WB_wombat_obj_proxy;try{var s=i.$wbwindow.parent._WB_wombat_obj_proxy;if(s)return s}catch(t){}return i.$wbwindow.WB_wombat_top._WB_wombat_obj_proxy}return i.defaultProxyGet(t,n,e,r)},set:function(e,r,i){switch(r){case"location":return t.WB_wombat_location=i,!0;case"postMessage":case"document":return!0}try{if(!Reflect.set(e,r,i))return!1}catch(t){}return Reflect.set(t,r,i)},has:function(e,r){return r in t},ownKeys:function(e){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))},getOwnPropertyDescriptor:function(e,r){var i=Object.getOwnPropertyDescriptor(e,r);return i||(i=Object.getOwnPropertyDescriptor(t,r))&&(i.configurable=!0),i},getPrototypeOf:function(e){return Object.getPrototypeOf(t)},setPrototypeOf:function(t,e){return!1},isExtensible:function(e){return Object.isExtensible(t)},preventExtensions:function(e){return Object.preventExtensions(t),!0},deleteProperty:function(e,r){var i=Object.getOwnPropertyDescriptor(t,r);return void 0===i||!1!==i.configurable&&(delete e[r],delete t[r],!0)},defineProperty:function(e,r,i){var o=i||{};return o.value||o.get||(o.value=t[r]),Reflect.defineProperty(t,r,o),Reflect.defineProperty(e,r,o)}});return t._WB_wombat_obj_proxy=o,o}},f.prototype.initDocumentObjProxy=function(t){if(this.initDocOverrides(t),this.$wbwindow.Proxy){var e={},r=this.getAllOwnProps(t),i=this,o=new this.$wbwindow.Proxy(t,{get:function(o,n){return i.defaultProxyGet(t,n,r,e)},set:function(e,r,i){return"location"===r?t.WB_wombat_location=i:e[r]=i,!0}});return t._WB_wombat_obj_proxy=o,o}},f.prototype.initAutoFetchWorker=function(){if(this.wbUseAFWorker){var t=new w(this,{isTop:this.$wbwindow===this.$wbwindow.__WB_replay_top,workerURL:(this.wb_info.auto_fetch_worker_prefix||this.wb_info.static_prefix)+"autoFetchWorker.js?init="+encodeURIComponent(JSON.stringify({mod:this.wb_info.mod,prefix:this.wb_abs_prefix,rwRe:this.wb_unrewrite_rx.source}))});this.WBAutoFetchWorker=t,this.$wbwindow.$WBAutoFetchWorker$=t;var e=this;this.utilFns.wbSheetMediaQChecker=function(){e._removeEventListener(this,"load",e.utilFns.wbSheetMediaQChecker),null!=this.sheet&&e.WBAutoFetchWorker&&e.WBAutoFetchWorker.deferredSheetExtraction(this.sheet)}}},f.prototype.initTopFrameNotify=function(t){var e=this,r=function(r){if(e.$wbwindow.__WB_top_frame){if(e.$wbwindow.WB_wombat_location){var i=e.$wbwindow.WB_wombat_location.href;if("string"==typeof i&&"about:blank"!==i&&0!==i.indexOf("javascript:")&&("complete"===e.$wbwindow.document.readyState&&e.wbUseAFWorker&&e.WBAutoFetchWorker&&e.WBAutoFetchWorker.extractFromLocalDoc(),e.$wbwindow===e.$wbwindow.__WB_replay_top)){for(var o=[],n=e.$wbwindow.document.querySelectorAll("link[rel*=\'icon\']"),s=0;s<n.length;s++){var a=n[s];o.push({rel:a.rel,href:e.wb_getAttribute.call(a,"href")})}o.push({rel:"icon",href:e.rewriteUrl("/favicon.ico")});var h={icons:o,url:e.$wbwindow.WB_wombat_location.href,ts:e.wb_info.timestamp,request_ts:e.wb_info.request_ts,is_live:e.wb_info.is_live,title:e.$wbwindow.document?e.$wbwindow.document.title:"",readyState:e.$wbwindow.document.readyState,wb_type:"load"};e.sendTopMessage(h)}}}else{var w=e.$wbwindow.location.hash;e.$wbwindow.location.replace(t.top_url+w)}};"complete"===this.$wbwindow.document.readyState?r():this.$wbwindow.addEventListener?this.$wbwindow.document.addEventListener("readystatechange",r):this.$wbwindow.attachEvent&&this.$wbwindow.document.attachEvent("onreadystatechange",r)},f.prototype.initTopFrame=function(t){if(this.wb_is_proxy)return t.__WB_replay_top=t.top,void(t.__WB_top_frame=void 0);for(var e=function(t){try{return!!t&&(t.wbinfo?t.wbinfo.is_framed:null!=t._wb_wombat)}catch(t){return!1}},r=t;r.parent!=r&&e(r.parent);)r=r.parent;t.__WB_replay_top=r;var i=r.parent;if(i!=t&&this.wb_info.is_framed||(i=void 0),i?(t.__WB_top_frame=i,this.initFrameElementOverride(t)):t.__WB_top_frame=void 0,!this.wb_opts.embedded&&r==t&&this.wbUseAFWorker){var o=this;this.$wbwindow.addEventListener("message",(function(t){t.data&&"aaworker"===t.data.wb_type&&o.WBAutoFetchWorker&&o.WBAutoFetchWorker.postMessage(t.data.msg)}),!1)}},f.prototype.initFrameElementOverride=function(t){if(Object.defineProperty&&this.proxyToObj(t.__WB_replay_top)==this.proxyToObj(t))try{Object.defineProperty(t,"frameElement",{value:null,configurable:!1})}catch(t){}},f.prototype.initWombatTop=function(t){if(Object.defineProperty){this.defProp(t.Object.prototype,"WB_wombat_top",(function(t){this.top=t}),(function(){return this.__WB_replay_top?this.__WB_replay_top:(t=this,(void 0===window.constructor?t instanceof window.constructor:t.window==t)?this:this.top);var t}))}},f.prototype.initEvalOverride=function(){var t=this.rewriteEvalArg,e=function(){};this.wrappedEval=function(e){return function(r){return t(e,r)}};var r=this,i=function(e){var r=this;return r&&r.eval&&r.eval!==eval?{eval:function(){return r.eval.__WB_orig_apply(r,arguments)}}:{eval:function(r){return t(e,r)}}},o=function(e){var i=this;return i&&i.eval&&i.eval!==eval?{eval:function(){return i.eval.__WB_orig_apply(i,[].slice.call(arguments,2))}}:{eval:function(i,o,n){var s=i===r.proxyToObj(r.$wbwindow);try{s=s&&!o.callee.caller}catch(t){s=!1}return t(e,n,s)}}};this.defProp(this.$wbwindow.Object.prototype,"WB_wombat_runEval",e,(function(){return i})),this.defProp(this.$wbwindow.Object.prototype,"WB_wombat_runEval2",e,(function(){return o}))},f.prototype.wombatInit=function(){this._internalInit(),this.initCookiePreset(),this.initHistoryOverrides(),this.overrideFunctionApply(this.$wbwindow),this.overrideFunctionBind(this.$wbwindow),this.initDocTitleOverride(),this.initHashChange(),this.wb_opts.skip_postmessage||(this.initPostMessageOverride(this.$wbwindow),this.initMessageEventOverride(this.$wbwindow)),this.initCheckThisFunc(this.$wbwindow),this.overrideGetOwnPropertyNames(this.$wbwindow),this.initUIEventsOverrides(),this.initDocWriteOpenCloseOverride(),this.initEvalOverride(),this.initHTTPOverrides(),this.initAudioOverride(),this.initFontFaceOverride(this.$wbwindow),this.initWorkerOverrides(),this.initTextNodeOverrides(),this.initCSSOMOverrides(),this.overrideHtmlAssign(this.$wbwindow.Element,"innerHTML",!0),this.overrideHtmlAssign(this.$wbwindow.Element,"outerHTML",!0),this.overrideHtmlAssign(this.$wbwindow.HTMLIFrameElement,"srcdoc",!0),this.overrideHtmlAssign(this.$wbwindow.HTMLStyleElement,"textContent"),this.overrideShadowDom(),this.overridePropExtract(this.$wbwindow.Document.prototype,"URL"),this.overridePropExtract(this.$wbwindow.Document.prototype,"documentURI"),this.overridePropExtract(this.$wbwindow.Node.prototype,"baseURI"),this.overrideAttrProps(),this.initInsertAdjacentElementHTMLOverrides(),this.overrideIframeContentAccess("contentWindow"),this.overrideIframeContentAccess("contentDocument"),this.overrideFuncArgProxyToObj(this.$wbwindow.MutationObserver,"observe"),this.overrideFuncArgProxyToObj(this.$wbwindow.Node,"compareDocumentPosition"),this.overrideFuncArgProxyToObj(this.$wbwindow.Node,"contains"),this.overrideFuncArgProxyToObj(this.$wbwindow.Document,"createTreeWalker"),this.overrideFuncArgProxyToObj(this.$wbwindow.Document,"evaluate",1),this.overrideFuncArgProxyToObj(this.$wbwindow.XSLTProcessor,"transformToFragment",1),this.overrideFuncThisProxyToObj(this.$wbwindow,"getComputedStyle",this.$wbwindow),this.overrideFuncThisProxyToObj(this.$wbwindow,"clearTimeout"),this.overrideFuncThisProxyToObj(this.$wbwindow,"clearInterval"),this.overrideFuncThisProxyToObj(this.$wbwindow.EventTarget.prototype,"dispatchEvent"),this.initTimeoutIntervalOverrides(),this.overrideFramesAccess(this.$wbwindow),this.overrideSWAccess(this.$wbwindow),this.initElementGetSetAttributeOverride(),this.initSvgImageOverrides(),this.initAttrOverrides(),this.initCookiesOverride(),this.initCreateElementNSFix(),this.wb_opts.skip_dom||this.initDomOverride(),this.initRegisterUnRegPHOverride(),this.initPresentationRequestOverride(),this.initBeaconOverride(),this.initSeededRandom(this.wb_info.wombat_sec),this.initCryptoRandom(),this.initFixedRatio(this.wb_info.pixel_ratio||1),this.initDateOverride(this.wb_info.wombat_sec),this.initBlobOverride(),this.initWSOverride(),this.initOpenOverride(),this.initDisableNotificationsGeoLocation(),this.initStorageOverride(),this.initCachesOverride(),this.initIndexedDBOverride(),this.initWindowObjProxy(this.$wbwindow),this.initDocumentObjProxy(this.$wbwindow.document);var t=this;return{extract_orig:this.extractOriginalURL,rewrite_url:this.rewriteUrl,watch_elem:this.watchElem,init_new_window_wombat:this.initNewWindowWombat,init_paths:this.initPaths,local_init:function(e){var r=t.$wbwindow._WB_wombat_obj_proxy[e];return"document"===e&&r&&!r._WB_wombat_obj_proxy&&t.initDocumentObjProxy(r)||r},showCSPViolations:function(e){t._addRemoveCSPViolationListener(e)}}};const b=f;window._WBWombat=b,window._WBWombatInit=function(t){if(this._wb_wombat)this._wb_wombat.init_paths(t);else{var e=new b(this,t);this._wb_wombat=e.wombatInit()}}})();'}),this.staticData.set(this.staticPrefix+"wombatWorkers.js",{type:"application/javascript",content:me.Z}),s.injectScripts&&(s.injectScripts=s.injectScripts.map((e=>this.staticPrefix+"proxy/"+e))),this.collections=new i(o,n.get("root"),r,s),this.collections.loadAll(n.get("dbColl")),this.proxyOriginMode=!!n.get("proxyOriginMode"),this.api=new t(this.collections),this.apiPrefix=this.replayPrefix+"api/",this.allowRewrittenCache=!!n.get("allowCache"),this.stats=n.get("stats")?new K:null,self.addEventListener("install",(()=>{self.skipWaiting()})),self.addEventListener("activate",(e=>{e.waitUntil(self.clients.claim()),console.log("Activate!")})),self.addEventListener("fetch",(e=>{e.respondWith(this.handleFetch(e))})),self.addEventListener("message",(e=>{"reload_all"===e.data.msg_type&&e.waitUntil(this.collections.loadAll())}))}handleFetch(e){const t=e.request.url;if(this.proxyOriginMode)return this.getResponseFor(e.request,e);if(!t.startsWith(this.prefix))return"chrome-extension://invalid/"===t?(0,o.v6)(e.request,"Invalid URL"):this.defaultFetch(e.request);if(this.collections.root&&t.slice(this.prefix.length).indexOf("/")<0)return this.defaultFetch(e.request);if(t.startsWith(this.staticPrefix+"proxy/"))return this.staticPathProxy(t,e.request);if(t.startsWith(this.replayPrefix)&&!t.startsWith(this.staticPrefix))return this.getResponseFor(e.request,e);const r=new URL(t);r.search="",r.hash="";const s=r.href;for(const e of this.staticData.keys())if(e===s){const{content:t,type:r}=this.staticData.get(e);return new Response(t,{headers:{"Content-Type":r}})}return("http:"==r.protocol||"https:"==r.protocol)&&r.pathname.indexOf("/",1)<0?this.handleOffline(e.request):this.defaultFetch(e.request)}staticPathProxy(e,t){return e=e.slice((this.staticPrefix+"proxy/").length),e=new URL(e,self.location.href).href,t=new Request(e),this.defaultFetch(t)}defaultFetch(e){const t={};return"only-if-cached"===e.cache&&"same-origin"!==e.mode&&(t.cache="default"),self.fetch(e,t)}async ensureCached(e){const t=await caches.open("wabac-offline");for(let r of e){r=new URL(r,self.location.href).href;let e=await t.match(r,{ignoreSearch:!0});if(!e)try{e=await this.defaultFetch(r),await t.put(r,e)}catch(e){console.warn(`Failed to Auto Cache: ${r}`,e)}}}async handleOffline(e){let t=null;const r=await caches.open("wabac-offline");try{t=await this.defaultFetch(e)}catch(s){return t=await r.match(e,{ignoreSearch:!0}),t||(t=(0,o.v6)(e,"Sorry, this url was not cached for offline use")),t}if(e.url.startsWith(this.prefix+"?"))return t;if(200===t.status){const s=t.clone();await r.put(e,s)}else console.warn(`Not Cacheing ${e.url} - Status ${t.status}`);return t}async getResponseFor(e,t){if(!this.proxyOriginMode&&e.url.startsWith(this.apiPrefix))return this.stats&&e.url.startsWith(this.apiPrefix+"stats.json")?await this.stats.getStats(t):await this.api.apiResponse(e.url.slice(this.apiPrefix.length),e,t);await this.collections.inited;const r=(0,o.dF)(e),s=e.headers.get("range");try{if(this.allowRewrittenCache&&!s){const t=await self.caches.match(e);if(t&&!!t.headers.get(ye)===r)return t}}catch(e){}let i=this.collections.root;i||(i=e.url.slice(this.replayPrefix.length).split("/",1)[0]);const n=await this.collections.getColl(i);if(!n||!this.proxyOriginMode&&!e.url.startsWith(n.prefix))return(0,o.v6)(e);const a=this.proxyOriginMode?e.url:e.url.substring(n.prefix.length),l={isRoot:!!this.collections.root};this.proxyOriginMode&&(l.mod="id_",l.proxyOrigin=n.config.extraConfig.proxyOrigin,l.localOrigin=self.location.origin);const c=new we(a,e,l);if(!c.url)return(0,o.v6)(e,`Replay URL ${a} not found`);const u=await n.handleRequest(c,t);if(u){if(this.stats&&this.stats.updateStats(u.date,u.status,e,t),this.allowRewrittenCache&&200===u.status)try{const t=await self.caches.open("wabac-"+n.name);r&&u.headers.set(ye,"true");const s=u.clone();await t.put(e,s)}catch(e){console.warn(e)}return u}return s&&console.log("Not Found Range!: "+s),(0,o.v6)(e)}}},1106:(e,t,r)=>{"use strict";r.d(t,{$y:()=>B,yb:()=>N,dK:()=>I,vR:()=>n,Zz:()=>o,gF:()=>a,Dy:()=>C,YU:()=>f,_Q:()=>m,x5:()=>d,qA:()=>p,dz:()=>E,Ko:()=>h,li:()=>A,E4:()=>c,AJ:()=>_,dF:()=>k,jI:()=>v,kP:()=>w,v6:()=>S,Hc:()=>y,kb:()=>g,_v:()=>x,bB:()=>l,wC:()=>u});var s={202:"Accepted",502:"Bad Gateway",400:"Bad Request",409:"Conflict",100:"Continue",201:"Created",417:"Expectation Failed",424:"Failed Dependency",403:"Forbidden",504:"Gateway Timeout",410:"Gone",505:"HTTP Version Not Supported",418:"I'm a teapot",419:"Insufficient Space on Resource",507:"Insufficient Storage",500:"Internal Server Error",411:"Length Required",423:"Locked",420:"Method Failure",405:"Method Not Allowed",301:"Moved Permanently",302:"Moved Temporarily",207:"Multi-Status",300:"Multiple Choices",511:"Network Authentication Required",204:"No Content",203:"Non Authoritative Information",406:"Not Acceptable",404:"Not Found",501:"Not Implemented",304:"Not Modified",200:"OK",206:"Partial Content",402:"Payment Required",308:"Permanent Redirect",412:"Precondition Failed",428:"Precondition Required",102:"Processing",407:"Proxy Authentication Required",431:"Request Header Fields Too Large",408:"Request Timeout",413:"Request Entity Too Large",414:"Request-URI Too Long",416:"Requested Range Not Satisfiable",205:"Reset Content",303:"See Other",503:"Service Unavailable",101:"Switching Protocols",307:"Temporary Redirect",429:"Too Many Requests",401:"Unauthorized",451:"Unavailable For Legal Reasons",422:"Unprocessable Entity",415:"Unsupported Media Type",305:"Use Proxy"};function i(e){var t=s[e.toString()];if(!t)throw new Error("Status code does not exist: "+e);return t}const n=25e6,a=17,o=262144;function l(e,t){for(const r of t)if(e.startsWith(r))return!0;return!1}function c(e){return e.replace(/[-:T]/g,"").slice(0,14)}function u(e){if(!e)return new Date;e.length<17&&(e+="00000101000000000".substr(e.length));const t=e.substring(0,4)+"-"+e.substring(4,6)+"-"+e.substring(6,8)+"T"+e.substring(8,10)+":"+e.substring(10,12)+":"+e.substring(12,14)+"."+e.substring(14)+"Z";return new Date(t)}function h(e){if(!e)return"";try{return""+parseInt(e.getTime()/1e3)}catch(e){return""}}function f(e){return Array.from(new Uint8Array(e)).map((e=>e.toString(16).padStart(2,"0"))).join("")}async function d(e,t,r=null){const s="string"==typeof e?(new TextEncoder).encode(e):e,i=await crypto.subtle.digest(t,s);return""===r?f(i):(r||t)+":"+f(i)}function m(e){let t="";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t}function p(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=255&e.charCodeAt(r);return t}function g(){return Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)}function w(e){try{return new Headers(e)}catch(t){for(let t of Object.keys(e)){const r=e[t],s=r.replace(/[\r\n]+/g,", ");r!=s&&(e[t]=s)}return new Headers(e)}}function y(e,t,r=""){for(const s of e.split(",")){const e=s.split(";",1)[0];if(e!==s){const r=s.slice(e.length).toLowerCase();if(r.indexOf("httponly")>0)continue;if("http"===t&&r.indexOf("secure")>0)continue}r&&(r+="; "),r+=e}return r}const b=[101,204,205,304];function v(e){return b.includes(e)}function A(e){try{return i(e)}catch(e){return"Unknown Status"}}function k(e){return"XMLHttpRequest"===e.headers.get("X-Pywb-Requested-With")||"cors"===e.mode}async function _(e,t){if(e instanceof N){const r=await self.clients.matchAll({type:"window"});for(const s of r){new URL(s.url).searchParams.get("source")===t.sourceUrl&&s.postMessage({source:t.sourceUrl,coll:t.dbname.slice(3),type:"authneeded",fileHandle:e.info&&e.info.fileHandle})}return!0}return!1}function S(e,t,r=404){let s,i;t||(t="Sorry, this url was not found in the archive."),"script"===e.destination||e.headers.get("x-pywb-requested-with")?(s=JSON.stringify(t),i="application/json"):(s=t,i="text/html");const n={status:r,statusText:A(r),headers:{"Content-Type":i}};return new Response(s,n)}function E(e){const t=e.config.metadata?e.config.metadata:{},r={title:t.title||"",desc:t.desc||"",size:t.size||0,filename:e.config.sourceName,loadUrl:e.config.loadUrl,sourceUrl:e.config.sourceUrl,id:e.name,ctime:e.config.ctime,mtime:t.mtime||e.config.ctime,onDemand:e.config.onDemand};return t.ipfsPins&&(r.ipfsPins=t.ipfsPins),r}class C{constructor(e={}){this.info=e}toString(){return JSON.stringify(this.info)}}class N extends C{}class B extends C{}class I{}function x(e){return new Promise((t=>setTimeout(t,e)))}},6854:()=>{},4616:()=>{},9061:()=>{}},t={};function r(s){var i=t[s];if(void 0!==i)return i.exports;var n=t[s]={id:s,loaded:!1,exports:{}};return e[s].call(n.exports,n,n.exports,r),n.loaded=!0,n.exports}r.amdO={},r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var s in t)r.o(t,s)&&!r.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{if(self.registration){const{SWReplay:e}=r(6553);self.sw=new e,console.log("sw init")}else if(self.postMessage){const{WorkerLoader:e}=r(9997);new e(self),console.log("ww init")}})()})();